(()=>{"use strict";const e=Phaser,t=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}getIsConnected(){return this.isConnected}getConnectedUsers(){return this.connectedCount}};class s extends e.Scene{constructor(){super("MenuScene")}preload(){this.load.audio("MenuMusic","assets/sonido/inicio.mp3"),this.load.image("Pantalla_de_inicio","assets/fondo_pantalla_inicio.png"),this.load.image("LocalPlayButton","assets/jugar.png"),this.load.image("LocalPlayButtonHover","assets/jugarHover.png"),this.load.image("TutorialButton","assets/tutorial.png"),this.load.image("TutorialButtonHover","assets/tutorialHover.png"),this.load.image("CreditosButton","assets/creditos.png"),this.load.image("CreditosButtonHover","assets/creditosHover.png"),this.load.image("ExitButton","assets/salir.png"),this.load.image("ExitButtonHover","assets/salirHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RankingButton","assets/ranking.png"),this.load.image("RankingButtonHover","assets/rankingHover.png")}create(){this.sound.stopByKey("GameMusic"),this.sound.play("MenuMusic",{loop:!0,volume:this.sound.volume});const e=this.add.image(0,0,"Pantalla_de_inicio").setOrigin(0);e.setDisplaySize(this.scale.width,this.scale.height),e.setDepth(-1);let s=null;const i=this.add.image(305,340,"LocalPlayButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(305,340,"LocalPlayButtonHover").setOrigin(.5).setScale(.75).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.launch("GameModeScene")});const a=this.add.image(312,450,"TutorialButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(312,450,"TutorialButtonHover").setOrigin(.5).setScale(.75).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.launch("TutorialScene")});const n=this.add.image(305,560,"CreditosButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(312,555,"CreditosButtonHover").setOrigin(.5).setScale(.75).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{this.scene.launch("CreditsScene")});const o=this.add.image(1200,75,"RankingButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0}).on("pointerdown",()=>this.scene.launch("RankingScene"));o.on("pointerover",()=>{s||(s=this.add.image(1200,75,"RankingButtonHover").setOrigin(.5).setScale(.75).setDepth(o.depth+1))}),o.on("pointerout",()=>{s&&(s.destroy(),s=null)});const r=this.add.image(312,670,"ExitButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});r.on("pointerover",()=>{s||(s=this.add.image(312,670,"ExitButtonHover").setOrigin(.5).setScale(.75).setDepth(r.depth+1))}),r.on("pointerout",()=>{s&&(s.destroy(),s=null)}),r.on("pointerdown",()=>{window.close()});const l=this.add.image(1330,75,"SettingsButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});l.on("pointerover",()=>{s||(s=this.add.image(1335,75,"SettingsButtonHover").setOrigin(.5).setScale(.7).setDepth(l.depth+1))}),l.on("pointerout",()=>{s&&(s.destroy(),s=null)}),l.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.connectionDot=this.add.circle(70,50,10,16711680).setDepth(1e3),this.connectionCountText=this.add.text(85,40,"0",{fontSize:"18px",fontFamily:'"Caudex", serif',color:"#da8181ff"}).setDepth(1e3),this.connectionListener=e=>{this.updateConnectionDisplay(e)},t.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionDot&&this.connectionCountText&&this.scene&&this.scene.isActive("MenuScene"))try{if(e.connected){const t=10607521;this.connectionDot.setFillStyle(t),this.connectionCountText.setText(String(e.count)),this.connectionCountText.setColor("#a1dba1")}else{const e=14320001;this.connectionDot.setFillStyle(e),this.connectionCountText.setText("--"),this.connectionCountText.setColor(e)}}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener)}}const i=new class{constructor(){this.ws=null,this.connected=!1,this.roomId=null,this.playerRole=null,this.messageHandlers=new Map}connect(){return new Promise((e,t)=>{try{const s=`ws://${window.location.hostname}:3000`;console.log("ðŸ”Œ Conectando a WebSocket:",s),this.ws=new WebSocket(s),this.ws.onopen=()=>{console.log("âœ… WebSocket conectado"),this.connected=!0,e()},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleMessage(t)}catch(e){console.error("âŒ Error parseando mensaje:",e)}},this.ws.onerror=e=>{console.error("âŒ Error en WebSocket:",e),this.connected=!1,t(e)},this.ws.onclose=()=>{console.log("ðŸ”Œ WebSocket desconectado"),this.connected=!1,this.notifyHandler("connectionLost")}}catch(e){t(e)}})}handleMessage(e){console.log("ðŸ“¨ Mensaje recibido:",e.type),this.notifyHandler(e.type,e)}on(e,t){this.messageHandlers.has(e)||this.messageHandlers.set(e,[]),this.messageHandlers.get(e).push(t)}off(e,t){if(this.messageHandlers.has(e)){const s=this.messageHandlers.get(e),i=s.indexOf(t);i>-1&&s.splice(i,1)}}notifyHandler(e,t={}){this.messageHandlers.has(e)&&this.messageHandlers.get(e).forEach(e=>e(t))}send(e){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify(e)):console.error("âŒ WebSocket no estÃ¡ conectado")}joinQueue(){this.send({type:"joinQueue"}),console.log("ðŸ“¥ UniÃ©ndose a la cola...")}leaveQueue(){this.send({type:"leaveQueue"}),console.log("ðŸ“¤ Saliendo de la cola...")}sendPlayerMove(e,t,s,i){this.send({type:"playerMove",x:e,y:t,flipX:s,animKey:i})}sendCrystalCollect(e){this.send({type:"crystalCollect",crystalType:e}),console.log(`ðŸ’Ž Cristal ${e} recogido`)}sendPortalTouch(e){this.send({type:"portalTouch",onPortal:e})}sendGameOver(e="trap"){this.send({type:"gameOver",reason:e})}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.connected=!1,this.roomId=null,this.playerRole=null,this.messageHandlers.clear()}isConnected(){return this.connected&&this.ws&&this.ws.readyState===WebSocket.OPEN}getPlayerRole(){return this.playerRole}setPlayerRole(e){this.playerRole=e,console.log(`ðŸŽ® Rol asignado: ${e}`)}};class a extends e.Scene{constructor(){super("GameScene")}init(e){if(this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=!1,this.solenneHasSunCrystal=!1,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null,this.isHandlingDisconnection=!1,this.lastDisconnectionTime=0,this.disconnectionCooldown=1e3,this.isMultiplayer=e.isMultiplayer||!1,this.playerRole=e.playerRole||null,this.roomId=e.roomId||null,this.localPlayer=null,this.remotePlayer=null,this.lastSyncTime=0,this.syncInterval=50,this.startTime=this.time.now,console.log(" GameScene iniciado"),this.isMultiplayer){console.log(`Rol: ${this.playerRole} | Sala: ${this.roomId}`);const e="nivia"===this.playerRole?"ðŸŒ™ NIVIA":"â˜€ï¸ SOLENNE",t=this.add.text(this.cameras.main.width/2,this.cameras.main.height/2,`Â¡Eres ${e}!`,{fontSize:"48px",fontStyle:"bold",color:"nivia"===this.playerRole?"#87CEEB":"#FFD700",align:"center",backgroundColor:"#000000",padding:{x:20,y:10}}).setOrigin(.5).setScrollFactor(0).setDepth(1e3);this.tweens.add({targets:t,alpha:0,duration:3e3,delay:1500,onComplete:()=>{t.destroy()}})}}showLeaveConfirmation(){const e=this.cameras.main.width,t=this.cameras.main.height;this.physics.pause();const s=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0).setScrollFactor(0).setDepth(3e3).setInteractive(),a=this.add.image(e/2,t/2,"tutorialBox").setOrigin(.5).setScale(1).setScrollFactor(0).setDepth(3001),n=this.add.image(e/2,t/2-120,"texto_abandonarPartida").setOrigin(.5).setScale(1).setScrollFactor(0).setDepth(3002),o=this.add.text(e/2,t/2-10,"Â¿Seguro que quieres abandonar?\n\nEl otro jugador serÃ¡ notificado",{fontSize:"18px",color:"#ffffff",align:"center",fontFamily:"Caudex"}).setOrigin(.5).setScrollFactor(0).setDepth(3002);let r=null;const l=this.add.image(e/2-160,t/2+120,"siSalir").setOrigin(.5).setScale(.6).setScrollFactor(0).setInteractive({useHandCursor:!0}).setDepth(3002);l.on("pointerover",()=>{r||(r=this.add.image(e/2-160,t/2+120,"siSalirHover").setOrigin(.5).setScale(.6).setScrollFactor(0).setDepth(3004))}),l.on("pointerout",()=>{r&&(r.destroy(),r=null)}),l.on("pointerdown",()=>{i.sendGameOver("disconnect"),i.disconnect(),this.sound.stopAll(),this.scene.stop(),this.scene.start("MenuScene")});const h=this.add.image(e/2+160,t/2+120,"cancelar").setOrigin(.5).setScale(.6).setScrollFactor(0).setInteractive({useHandCursor:!0}).setDepth(3002);h.on("pointerover",()=>{r||(r=this.add.image(e/2+160,t/2+120,"cancelarHover").setOrigin(.5).setScale(.6).setScrollFactor(0).setDepth(3004))}),h.on("pointerout",()=>{r&&(r.destroy(),r=null)}),h.on("pointerdown",()=>{s.destroy(),a.destroy(),n.destroy(),o.destroy(),l.destroy(),h.destroy(),r&&r.destroy(),this.physics.resume()})}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo","assets/Escenario/Nivel1/fondo_abajo.png"),this.load.image("plataformas","assets/Escenario/Nivel1/plataformas_abajo.png"),this.load.image("puertaClaraNivel1","assets/Escenario/Nivel1/puerta_clara.png"),this.load.image("puertaOscuraNivel1","assets/Escenario/Nivel1/puerta_oscura.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonClaroNivel1","assets/Escenario/Nivel1/boton_claro.png"),this.load.image("botonOscuro1Nivel1","assets/Escenario/Nivel1/boton_oscuro.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal","assets/trampas/puertaFinal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("tutorialBox","assets/caja.png"),this.load.image("texto_abandonarPartida","assets/texto_abandonarPartida.png"),this.load.image("siSalir","assets/siSalir.png"),this.load.image("siSalirHover","assets/siSalirHover.png"),this.load.image("cancelar","assets/cancelar.png"),this.load.image("cancelarHover","assets/cancelarHover.png"),this.load.image("tutorialBox","assets/caja.png"),this.load.image("texto_abandonarPartida","assets/texto_abandonarPartida.png"),this.load.image("siSalir","assets/siSalir.png"),this.load.image("siSalirHover","assets/siSalirHover.png"),this.load.image("cancelar","assets/cancelar.png"),this.load.image("cancelarHover","assets/cancelarHover.png"),this.load.image("abandonar","assets/abandonar.png"),this.load.image("abandonarHover","assets/abandonarHover.png"),this.load.image("damage","assets/trampas/lianas_plataformas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){this.connectionListener=e=>{const t=Date.now();e.connected||!this.scene.isActive("GameScene")||this.isHandlingDisconnection?e.connected&&this.isHandlingDisconnection&&(this.isHandlingDisconnection=!1,console.log("ReconexiÃ³n detectada")):t-this.lastDisconnectionTime>this.disconnectionCooldown&&(console.log("ConexiÃ³n perdida durante el juego"),this.isHandlingDisconnection=!0,this.lastDisconnectionTime=t,this.onConnectionLost())},t.addListener(this.connectionListener),this.events.on("resume",()=>{console.log("GameScene reanudada"),this.isPaused=!1,this.physics.resume()}),this.events.on("pause",()=>{console.log("GameScene pausada"),this.physics.pause()});const s=1420,a=800;let n=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.1}),this.physics.add.staticSprite(0,0,"fondo").setOrigin(0,0).setDisplaySize(s,a),this.physics.add.staticSprite(0,0,"plataformas").setOrigin(0,0).setDisplaySize(s,a),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,a,s,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,480,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(575,480,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1e3,550,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(300,150,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,275,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(400,50,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.pared2=this.add.rectangle(900,700,200,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared2,!0),this.exitPortal=this.physics.add.staticSprite(1e3,10,"portal").setScale(1),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(700,400,"puertaOscuraNivel1").setScale(.7),this.lightDoor1=this.physics.add.staticSprite(750,400,"puertaClaraNivel1").setScale(.7),this.darkDoor1Hitbox=this.add.rectangle(250,375,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(920,400,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.trampa=this.physics.add.staticSprite(450,150,"damage").setScale(.5),this.damage=this.add.rectangle(480,100,100,60,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage,!0),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.pared2),this.physics.add.collider(this.solenne,this.pared2),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1100,400,"moondrop_sheet").setBodySize(32,32).setScale(.5),this.sunCrystal=this.crystals.create(100,100,"sundrop_sheet").setBodySize(32,32).setScale(.5),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,s,a),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{n||(n=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{n&&(n.destroy(),n=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{n||(n=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{n&&(n.destroy(),n=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.isMultiplayer||this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)}),this.physics.add.overlap(this.nivia,this.damage,()=>{this.isMultiplayer&&i.isConnected()?i.sendGameOver("trap"):(this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause())}),this.physics.add.overlap(this.solenne,this.damage,()=>{this.isMultiplayer&&i.isConnected()?i.sendGameOver("trap"):(this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause())}),this.isMultiplayer&&this.setupMultiplayer()}setupMultiplayer(){"nivia"===this.playerRole?(this.localPlayer=this.nivia,this.remotePlayer=this.solenne):"solenne"===this.playerRole&&(this.localPlayer=this.solenne,this.remotePlayer=this.nivia),this.playerMoveHandler=this.handleRemotePlayerMove.bind(this),this.crystalCollectedHandler=this.handleRemoteCrystalCollected.bind(this),this.portalSpawnedHandler=this.handleRemotePortalSpawned.bind(this),this.victoryHandler=this.handleRemoteVictory.bind(this),this.gameOverHandler=this.handleRemoteGameOver.bind(this),this.playerDisconnectedHandler=this.handlePlayerDisconnected.bind(this),i.on("playerMove",this.playerMoveHandler),i.on("crystalCollected",this.crystalCollectedHandler),i.on("portalSpawned",this.portalSpawnedHandler),i.on("victory",this.victoryHandler),i.on("gameOver",this.gameOverHandler),i.on("playerDisconnected",this.playerDisconnectedHandler)}syncLocalPlayerPosition(){const e=Date.now();e-this.lastSyncTime<this.syncInterval||(this.lastSyncTime=e,this.localPlayer&&i.isConnected()&&i.sendPlayerMove(this.localPlayer.x,this.localPlayer.y,this.localPlayer.flipX,this.localPlayer.anims.currentAnim?.key||"idle"))}handleRemotePlayerMove(e){this.remotePlayer&&(this.remotePlayer.setPosition(e.x,e.y),this.remotePlayer.setFlipX(e.flipX),e.animKey&&this.remotePlayer.anims.currentAnim?.key!==e.animKey&&this.remotePlayer.anims.play(e.animKey,!0))}handleRemoteCrystalCollected(e){console.log(`ðŸ’Ž Cristal ${e.crystalType} recogido por el otro jugador`),"moon"===e.crystalType?(this.moonCrystal.disableBody(!0,!0),this.niviaHasMoonCrystal=!0,this.moonHUD.setVisible(!0),e.darkDoorUnlocked&&this.unlockDarkDoor()):"sun"===e.crystalType&&(this.sunCrystal.disableBody(!0,!0),this.solenneHasSunCrystal=!0,this.sunHUD.setVisible(!0),e.lightDoorUnlocked&&this.unlockLightDoor())}handleRemotePortalSpawned(e){console.log("ðŸšª Portal activado por el servidor"),this.exitPortal.visible||(this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}handleRemoteVictory(e){console.log("Â¡VICTORIA MULTIJUGADOR recibida!");const t=e.time||Math.floor((this.time.now-this.startTime)/1e3),s=localStorage.getItem("userId");s&&"undefined"!==s&&fetch(`/api/users/${s}/score`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({time:t})}).then(()=>console.log("Tiempo remoto guardado")).catch(e=>console.error("Error al guardar tiempo remoto:",e)),this.scene.launch("VictoryScene",{originalScene:this.scene.key,isMultiplayer:!0,finalTime:t}),this.scene.pause()}handleRemoteGameOver(e){console.log("Game Over recibido del servidor:",e.reason),this.physics.pause(),"disconnect"===e.reason?(this.scene.launch("PlayerDisconnectedScene"),this.scene.pause()):(this.scene.launch("GameOverScene",{originalScene:this.scene.key,isMultiplayer:!0,reason:e.reason}),this.scene.pause())}handlePlayerDisconnected(){console.log("El otro jugador se desconectÃ³"),this.physics.pause(),this.scene.launch("PlayerDisconnectedScene"),this.scene.pause()}onConnectionLost(){this.isPaused=!0,this.connectionListener&&t.removeListener(this.connectionListener),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"}),this.scene.pause()}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(100,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1,this.isHandlingDisconnection=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.isMultiplayer?"nivia"===this.playerRole?(this.handlePlayerMovement(this.nivia,this.niviaControls),this.syncLocalPlayerPosition()):"solenne"===this.playerRole&&(this.handlePlayerMovement(this.solenne,this.solenneControls),this.syncLocalPlayerPosition()):(this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls)),this.handleCameraAndConstraints(),this.exitPortal&&this.exitPortal.visible&&this.exitPortal.body.enable&&this.checkLevelComplete()}handleCameraAndConstraints(){const t=this.nivia.y,s=this.solenne.y;let i=(t+s)/2;const a=this.cameras.main.height;this.cameras.main.scrollY=e.Math.Linear(this.cameras.main.scrollY,i-a/2,.05);const n=.7*a;if(Math.abs(t-s)>n){const e=t<s?this.nivia:this.solenne,i=t<s?this.solenne:this.nivia;(i.body.blocked.down||i.y>e.y+n)&&(e.body.velocity.y<0&&(e.body.velocity.y=0),console.log("Movimiento vertical restringido por el jugador rezagado."))}}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal=!0,this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDarkDoor(),this.isMultiplayer&&i.isConnected()&&i.sendCrystalCollect("moon")}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal=!0,this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockLightDoor(),this.isMultiplayer&&i.isConnected()&&i.sendCrystalCollect("sun")}unlockDarkDoor(){this.darkDoor1Hitbox.body.enable=!1,this.darkDoor1Hitbox.setVisible(!1),this.darkDoor1.setVisible(!1),console.log("Puerta Oscura desbloqueada"),this.checkPortalSpawn()}unlockLightDoor(){this.lightDoor1Hitbox.body.enable=!1,this.lightDoor1Hitbox.setVisible(!1),this.lightDoor1.setVisible(!1),console.log("Puerta Clara desbloqueada"),this.checkPortalSpawn()}checkPortalSpawn(){this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&(console.log("Ambos cristales recogidos. El portal aparece."),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}async checkLevelComplete(){try{if(!this.isMultiplayer){const e=this.physics.overlap(this.nivia,this.exitPortal),t=this.physics.overlap(this.solenne,this.exitPortal);return void(e&&t&&this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&(console.log("Â¡NIVEL COMPLETADO!"),this.scene.launch("VictoryScene",{originalScene:this.scene.key}),this.scene.pause()))}if(!this.exitPortal||!this.exitPortal.visible||!this.localPlayer)return;const e=this.physics.overlap(this.localPlayer,this.exitPortal);let t=!1;"nivia"===this.playerRole?t=this.niviaOnPortal:"solenne"===this.playerRole&&(t=this.solenneOnPortal),"nivia"===this.playerRole?this.niviaOnPortal=e:"solenne"===this.playerRole&&(this.solenneOnPortal=e),i.isConnected()&&i.sendPortalTouch(e),console.log(`${this.playerRole} en portal: ${e}`)}catch(e){console.error("Error en checkLevelComplete:",e)}}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener),this.isMultiplayer&&(i.off("playerMove",this.playerMoveHandler),i.off("crystalCollected",this.crystalCollectedHandler),i.off("portalSpawned",this.portalSpawnedHandler),i.off("victory",this.victoryHandler),i.off("gameOver",this.gameOverHandler),i.off("playerDisconnected",this.playerDisconnectedHandler))}}class n extends e.Scene{constructor(){super("PauseScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("PauseText","assets/texto_pausa.PNG"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("TutorialButton","assets/tutorial.png"),this.load.image("TutorialButtonHover","assets/tutorialHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("RetMenuButton","assets/menu.PNG"),this.load.image("RetMenuButtonHover","assets/menuHover.PNG"),this.load.image("AbandonarButton","assets/abandonar.png"),this.load.image("AbandonarButtonHover","assets/abandonarHover.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1),this.add.image(700,210,"PauseText").setOrigin(.5).setScale(1);const i=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()});const a=this.add.image(700,320,"TutorialButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(700,320,"TutorialButtonHover").setOrigin(.5).setScale(.7).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.launch("TutorialScene",{originalScene:"PauseScene"}),this.scene.pause()});const n=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start(e)});const o=this.add.image(700,610,"AbandonarButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});o.on("pointerover",()=>{s||(s=this.add.image(700,610,"AbandonarButtonHover").setOrigin(.5).setScale(.7).setDepth(o.depth+1))}),o.on("pointerout",()=>{s&&(s.destroy(),s=null)}),o.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene,t=this.scene.get(e);t&&t.showLeaveConfirmation&&t.showLeaveConfirmation(),e&&this.scene.resume(e),this.scene.stop()});const r=this.add.image(700,515,"RetMenuButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});r.on("pointerover",()=>{s||(s=this.add.image(698,515,"RetMenuButtonHover").setOrigin(.5).setScale(.7).setDepth(r.depth+1))}),r.on("pointerout",()=>{s&&(s.destroy(),s=null)}),r.on("pointerdown",()=>{const e=this.game.scene.keys;for(let t in e)"MenuScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("MenuScene")})}}class o extends e.Scene{constructor(){super("TutorialScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("keys","assets/teclas.png"),this.load.image("solenneIcon","assets/personajeSolenne.png"),this.load.image("niviaIcon","assets/personajeNivia.png"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.image("trampa","assets/trampas/lianas_plataformas.png"),this.load.image("puertaClara","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("portalFinal","assets/Escenario/Nivel1/portal1.png"),this.load.image("NextPageButton","assets/flechaDerecha.png"),this.load.image("nextPageBtnOff","assets/flechaDerechaOscura.png"),this.load.image("PrevPageButton","assets/flechaIzquierda.png"),this.load.image("prevPageBtnOff","assets/flechaIzquierdaOscura.png"),this.load.image("imageTutorial","assets/pantalla_tutorial.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("TutorialText","assets/texto_tutorial.PNG")}create(){const e=this.scale.width,t=this.scale.height;this.scene.bringToTop(),this.hoverImg=null,this.currentPage=1,this.newPage=!0,this.timer=0,this.initTime=0,this.lag=0,this.crystals=this.physics.add.staticGroup(),this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1),this.prevPageBtnOff=this.add.image(620,625,"prevPageBtnOff").setOrigin(.5).setScale(.7),this.nextPageBtnOff=this.add.image(780,625,"nextPageBtnOff").setOrigin(.5).setScale(.7),this.ExitBtn=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0}),this.ExitBtn.on("pointerover",()=>{this.hoverImg||(this.hoverImg=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(this.ExitBtn.depth+1))}),this.ExitBtn.on("pointerout",()=>{this.hoverImg&&(this.hoverImg.destroy(),this.hoverImg=null)}),this.ExitBtn.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()}),this.add.image(700,210,"TutorialText").setOrigin(.5).setScale(1)}update(e){0==this.initTime&&(this.initTime=e),this.timer=e-this.initTime+this.lag,this.lag=0,1==this.currentPage?1==this.newPage&&(this.keysImg=this.add.image(700,380,"keys").setOrigin(.5).setScale(1),this.niviaImg=this.add.image(515,580,"niviaIcon").setOrigin(.5).setScale(.75),this.solenneImg=this.add.image(885,580,"solenneIcon").setOrigin(.5).setScale(.75),this.nextPageBtn1=this.add.image(780,625,"NextPageButton").setOrigin(.5).setScale(.7).setDepth(this.nextPageBtnOff.depth+1).setInteractive({useHandCursor:!0}),this.nextPageBtn1.on("pointerdown",()=>{this.keysImg.destroy(),this.niviaImg.destroy(),this.solenneImg.destroy(),this.nextPageBtn1.destroy(),this.hoverImg.destroy(),this.currentPage+=1,this.newPage=!0}),this.nextPageBtn1.on("pointerover",()=>{this.hoverImg||(this.hoverImg=this.add.image(780,625,"NextPageButton").setOrigin(.5).setScale(.75).setDepth(this.nextPageBtn1.depth+1))}),this.nextPageBtn1.on("pointerout",()=>{this.hoverImg&&(this.hoverImg.destroy(),this.hoverImg=null)}),this.newPage=!1):2==this.currentPage?(1==this.newPage&&(this.puertaClara=this.add.image(700,200,"puertaClara").setOrigin(.5).setScale(.6),this.puertaOscura=this.add.image(800,200,"puertaOscura").setOrigin(.5).setScale(.6),this.moonCrystal=this.crystals.create(600,380,"moondrop_sheet").setBodySize(32,32).setScale(.5),this.sunCrystal=this.crystals.create(815,465,"sundrop_sheet").setBodySize(32,32).setScale(.5),this.niviaImg=this.add.image(350,380,"niviaIcon").setOrigin(.5).setScale(.6),this.solenneImg=this.add.image(350,465,"solenneIcon").setOrigin(.5).setScale(.6),this.nextPageBtn2=this.add.image(780,625,"NextPageButton").setOrigin(.5).setScale(.7).setDepth(this.nextPageBtnOff.depth+1).setInteractive({useHandCursor:!0}),this.nextPageBtn2.on("pointerdown",()=>{this.puertaClara&&this.puertaClara.destroy(),this.puertaOscura&&this.puertaOscura.destroy(),this.moonCrystal&&this.moonCrystal.destroy(),this.sunCrystal&&this.sunCrystal.destroy(),this.niviaImg&&this.niviaImg.destroy(),this.solenneImg&&this.solenneImg.destroy(),this.puertaFinal&&this.puertaFinal.destroy(),this.prevPageBtn2.destroy(),this.nextPageBtn2.destroy(),this.hoverImg.destroy(),this.currentPage+=1,this.newPage=!0}),this.nextPageBtn2.on("pointerover",()=>{this.hoverImg||(this.hoverImg=this.add.image(780,625,"NextPageButton").setOrigin(.5).setScale(.75).setDepth(this.nextPageBtn2.depth+1))}),this.nextPageBtn2.on("pointerout",()=>{this.hoverImg&&(this.hoverImg.destroy(),this.hoverImg=null)}),this.prevPageBtn2=this.add.image(620,625,"PrevPageButton").setOrigin(.5).setScale(.7).setDepth(this.prevPageBtnOff.depth+1).setInteractive({useHandCursor:!0}),this.prevPageBtn2.on("pointerdown",()=>{this.puertaClara&&this.puertaClara.destroy(),this.puertaOscura&&this.puertaOscura.destroy(),this.moonCrystal&&this.moonCrystal.destroy(),this.sunCrystal&&this.sunCrystal.destroy(),this.niviaImg&&this.niviaImg.destroy(),this.solenneImg&&this.solenneImg.destroy(),this.puertaFinal&&this.puertaFinal.destroy(),this.prevPageBtn2.destroy(),this.nextPageBtn2.destroy(),this.hoverImg.destroy(),this.currentPage-=1,this.newPage=!0}),this.prevPageBtn2.on("pointerover",()=>{this.hoverImg||(this.hoverImg=this.add.image(620,625,"PrevPageButton").setOrigin(.5).setScale(.75).setDepth(this.prevPageBtn2.depth+1))}),this.prevPageBtn2.on("pointerout",()=>{this.hoverImg&&(this.hoverImg.destroy(),this.hoverImg=null)}),this.newPage=!1,this.initTime=e),this.timer<50&&this.add.tween({targets:this.niviaImg,ease:"Linear",duration:600,x:600}),this.timer>600&&this.timer<650&&(this.puertaOscura.destroy(),this.moonCrystal.destroy()),this.timer>1e3&&this.timer<1050&&this.add.tween({targets:this.solenneImg,ease:"Linear",duration:1e3,x:815}),this.timer>2e3&&this.timer<2050&&!this.puertaFinal&&(this.puertaFinal=this.add.image(1e3,420,"portalFinal").setOrigin(.5).setScale(.6),this.puertaClara.destroy(),this.sunCrystal.destroy(),this.lag=50),this.timer>2300&&this.timer<2350&&this.add.tween({targets:this.niviaImg,ease:"Linear",duration:1200,x:1e3}),this.timer>2900&&this.timer<2950&&this.add.tween({targets:this.solenneImg,ease:"Linear",duration:600,x:1e3}),this.timer>3900&&this.timer<3950&&(this.add.tween({targets:[this.solenneImg,this.niviaImg],ease:"Linear",duration:0,x:350}),this.initTime=e,this.puertaFinal.destroy(),this.puertaFinal=null,this.puertaClara=this.add.image(700,200,"puertaClara").setOrigin(.5).setScale(.6),this.puertaOscura=this.add.image(800,200,"puertaOscura").setOrigin(.5).setScale(.6),this.moonCrystal=this.crystals.create(600,380,"moondrop_sheet").setBodySize(32,32).setScale(.5),this.sunCrystal=this.crystals.create(815,465,"sundrop_sheet").setBodySize(32,32).setScale(.5))):3==this.currentPage?(1==this.newPage&&(this.trampaImg1=this.add.image(285,595,"trampa").setOrigin(.5).setScale(.3).setFlipY(!0),this.trampaImg2=this.add.image(1030,290,"trampa").setOrigin(.5).setScale(.3).setAngle(90),this.niviaImg=this.add.image(340,330,"niviaIcon").setOrigin(.5).setScale(.6),this.solenneImg=this.add.image(1060,615,"solenneIcon").setOrigin(.5).setScale(.6),this.prevPageBtn3=this.add.image(620,625,"PrevPageButton").setOrigin(.5).setScale(.7).setDepth(this.prevPageBtnOff.depth+1).setInteractive({useHandCursor:!0}),this.prevPageBtn3.on("pointerdown",()=>{this.trampaImg1.destroy(),this.trampaImg2.destroy(),this.niviaImg.destroy(),this.solenneImg.destroy(),this.prevPageBtn3.destroy(),this.hoverImg.destroy(),this.currentPage-=1,this.newPage=!0}),this.prevPageBtn3.on("pointerover",()=>{this.hoverImg||(this.hoverImg=this.add.image(620,625,"PrevPageButton").setOrigin(.5).setScale(.75).setDepth(this.prevPageBtn3.depth+1))}),this.prevPageBtn3.on("pointerout",()=>{this.hoverImg&&(this.hoverImg.destroy(),this.hoverImg=null)}),this.nextPageBtn3=this.add.image(780,625,"NextPageButton").setOrigin(.5).setScale(.7).setDepth(this.nextPageBtnOff.depth+1).setInteractive({useHandCursor:!0}),this.nextPageBtn3.on("pointerdown",()=>{this.trampaImg1.destroy(),this.trampaImg2.destroy(),this.niviaImg.destroy(),this.solenneImg.destroy(),this.hoverImg.destroy(),this.prevPageBtn3.destroy(),this.nextPageBtn3.destroy(),this.currentPage+=1,this.newPage=!0}),this.nextPageBtn3.on("pointerover",()=>{this.hoverImg||(this.hoverImg=this.add.image(780,625,"NextPageButton").setOrigin(.5).setScale(.75).setDepth(this.nextPageBtn3.depth+1))}),this.nextPageBtn3.on("pointerout",()=>{this.hoverImg&&(this.hoverImg.destroy(),this.hoverImg=null)}),this.newPage=!1,this.initTime=e),this.timer<150&&(this.add.tween({targets:this.niviaImg,ease:"Linear",duration:800,y:615}),this.add.tween({targets:this.solenneImg,ease:"Linear",duration:800,y:460,x:700})),this.timer>950&&this.timer<1e3&&(null!=this.solenneImg&&null!=this.niviaImg&&(this.solenneImg.destroy(),this.niviaImg.destroy(),this.niviaImg=null,this.solenneImg=null),this.niviaImg=this.add.image(340,330,"niviaIcon").setOrigin(.5).setScale(.6),this.solenneImg=this.add.image(1060,615,"solenneIcon").setOrigin(.5).setScale(.6),this.lag=50),this.timer>1400&&this.timer<1450&&(this.add.tween({targets:this.niviaImg,ease:"Linear",duration:800,y:526,x:634}),this.add.tween({targets:this.solenneImg,ease:"Linear",duration:800,y:340})),this.timer>2250&&this.timer<2300&&(null!=this.solenneImg&&null!=this.niviaImg&&(this.solenneImg.destroy(),this.niviaImg.destroy(),this.niviaImg=null,this.solenneImg=null),this.niviaImg=this.add.image(340,330,"niviaIcon").setOrigin(.5).setScale(.6),this.solenneImg=this.add.image(1060,615,"solenneIcon").setOrigin(.5).setScale(.6)),this.timer>3e3&&this.timer<3200&&(this.initTime=e)):4==this.currentPage&&1==this.newPage&&(this.imageTutorial=this.add.image(690,400,"imageTutorial").setOrigin(.5).setScale(.7),this.ExitBtn.setDepth(this.imageTutorial.depth+1),this.prevPageBtnOff.setDepth(this.imageTutorial.depth+1),this.nextPageBtnOff.setDepth(this.imageTutorial.depth+1),this.prevPageBtn4=this.add.image(620,625,"PrevPageButton").setOrigin(.5).setScale(.7).setDepth(this.prevPageBtnOff.depth+1).setInteractive({useHandCursor:!0}),this.prevPageBtn4.on("pointerdown",()=>{this.imageTutorial.destroy(),this.prevPageBtn4.destroy(),this.hoverImg.destroy(),this.currentPage-=1,this.newPage=!0}),this.prevPageBtn4.on("pointerover",()=>{this.hoverImg||(this.hoverImg=this.add.image(620,625,"PrevPageButton").setOrigin(.5).setScale(.75).setDepth(this.prevPageBtn4.depth+1))}),this.prevPageBtn4.on("pointerout",()=>{this.hoverImg&&(this.hoverImg.destroy(),this.hoverImg=null)}),this.newPage=!1)}}class r extends e.Scene{constructor(){super("CreditsScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("CreditsText","assets/texto_creditos.PNG"),this.load.image("MembersText","assets/nombres.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1);const i=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.stop(),this.scene.resume(this.scene.settings.data.originalScene)}),this.add.image(700,210,"CreditsText").setOrigin(.5).setScale(1),this.add.image(710,460,"MembersText").setOrigin(.5).setScale(.65)}}class l extends e.Scene{constructor(){super("SettingsScene")}preload(){this.load.image("settingsBox","assets/caja.png"),this.load.image("PlusVolumeButton","assets/mas.png"),this.load.image("PlusVolumeButtonHover","assets/masHover.png"),this.load.image("MinusVolumeButton","assets/menos.png"),this.load.image("MinusVolumeButtonHover","assets/menosHover.png"),this.load.image("VolumeBarOff","assets/boton_oscuro.png"),this.load.image("VolumeBarOn","assets/boton_claro.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("SettingsText","assets/texto_ajustes.png")}create(){const e=this.scale.width,t=this.scale.height;let s,i,a,n,o,r=100*this.sound.volume,l=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"settingsBox").setOrigin(.5).setScale(1),this.add.image(700,210,"SettingsText").setOrigin(.5).setScale(1),this.add.image(433,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(566,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(700,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(833,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(966,500,"VolumeBarOff").setOrigin(.5).setScale(1),s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1),s.destroy(),i.destroy(),a.destroy(),n.destroy(),o.destroy(),0==r&&null!=s?s.destroy():r<=20?s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1):r<=40?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=60?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=80?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1)):100==r&&(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1));const h=this.add.image(1069,500,"PlusVolumeButton").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0});h.on("pointerover",()=>{l||(l=this.add.image(1069,500,"PlusVolumeButtonHover").setOrigin(.5).setScale(.4).setDepth(h.depth+1))}),h.on("pointerout",()=>{l&&(l.destroy(),l=null)}),h.on("pointerdown",()=>{r+=20,r>100?r=100:r<0&&(r=0),this.sound.setVolume(r/100),s.destroy(),i.destroy(),a.destroy(),n.destroy(),o.destroy(),0==r&&null!=s?s.destroy():r<=20?s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1):r<=40?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=60?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=80?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1)):100==r&&(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1))});const d=this.add.image(330,500,"MinusVolumeButton").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0});d.on("pointerover",()=>{l||(l=this.add.image(335,500,"MinusVolumeButtonHover").setOrigin(.5).setScale(.4))}),d.on("pointerout",()=>{l&&(l.destroy(),l=null)}),d.on("pointerdown",()=>{r-=20,r>100?r=100:r<0&&(r=0),this.sound.setVolume(r/100),s.destroy(),i.destroy(),a.destroy(),n.destroy(),o.destroy(),0==r&&null!=s?s.destroy():r<=20?s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1):r<=40?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=60?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=80?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1)):100==r&&(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1))});const c=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});c.on("pointerover",()=>{l||(l=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(c.depth+1))}),c.on("pointerout",()=>{l&&(l.destroy(),l=null)}),c.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()})}}class h extends e.Scene{constructor(){super("LevelSelectScene")}preload(){this.load.image("LevelBox","assets/caja.png"),this.load.image("LevelsText","assets/texto_niveles.png"),this.load.image("Level1Button","assets/nivel1.png"),this.load.image("Level1ButtonHover","assets/nivel1Hover.png"),this.load.image("Level2Button","assets/Nivel2.png"),this.load.image("Level2ButtonHover","assets/Nivel2Hover.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"LevelBox").setOrigin(.5).setScale(1),this.add.image(700,210,"LevelsText").setOrigin(.5).setScale(1);const i=this.add.image(510,500,"Level1Button").setOrigin(.5).setScale(1).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(520,505,"Level1ButtonHover").setOrigin(.5).setScale(1).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.stop("MenuScene"),this.scene.stop(),this.scene.start("GameLocalScene")});const a=this.add.image(880,500,"Level2Button").setOrigin(.5).setScale(1).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(880,500,"Level2ButtonHover").setOrigin(.5).setScale(1.05).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.stop("MenuScene"),this.scene.stop(),this.scene.start("Level2SceneLocal")});const n=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()})}}class d extends e.Scene{constructor(){super("PlaceHolderScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("ExitButton","assets/salir.png"),this.load.image("ExitButtonHover","assets/salirHover.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1);const i=this.add.image(700,670,"ExitButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(700,670,"ExitButtonHover").setOrigin(.5).setScale(.75).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.start("MenuScene")}),this.add.text(700,180,"Nada que ver aqui",{fontSize:"48px",fill:"#d4eaf1ff"}).setOrigin(.5)}}class c extends e.Scene{constructor(){super("VictoryScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("VictoryText","assets/texto_victoria.png"),this.load.image("NextLevelButton","assets/siguienteNivel.png"),this.load.image("NextLevelButtonHover","assets/siguienteNivelHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("RetMenuButton","assets/menu.PNG"),this.load.image("RetMenuButtonHover","assets/menuHover.PNG")}create(e){const t=this.scale.width,s=this.scale.height;let i=null;this.background=this.add.rectangle(0,0,t,s,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1),this.add.image(700,210,"VictoryText").setOrigin(.5).setScale(1),console.log(e.finalTime),e&&e.finalTime&&this.add.text(700,600,`Tiempo: ${e.finalTime} segundos`,{fontSize:"36px",fill:"#ffffff",fontFamily:"Caudex",fontWeight:"bold"}).setOrigin(.5);const a=this.add.image(700,320,"NextLevelButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{i||(i=this.add.image(700,325,"NextLevelButtonHover").setOrigin(.5).setScale(.7).setDepth(a.depth+1))}),a.on("pointerout",()=>{i&&(i.destroy(),i=null)}),a.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;console.log("Original scene being removed:",e),this.scene.stop(e),this.scene.stop(),this.scene.start("Level2Scene")});const n=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{i||(i=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(n.depth+1))}),n.on("pointerout",()=>{i&&(i.destroy(),i=null)}),n.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start(e)});const o=this.add.image(700,515,"RetMenuButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});o.on("pointerover",()=>{i||(i=this.add.image(698,515,"RetMenuButtonHover").setOrigin(.5).setScale(.7).setDepth(o.depth+1))}),o.on("pointerout",()=>{i&&(i.destroy(),i=null)}),o.on("pointerdown",()=>{const e=this.game.scene.keys;for(let t in e)"MenuScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("MenuScene")})}}class g extends e.Scene{constructor(){super("GameOverScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("GameOverText","assets/texto_derrota.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("RetMenuButton","assets/menu.PNG"),this.load.image("RetMenuButtonHover","assets/menuHover.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1),this.add.image(700,240,"GameOverText").setOrigin(.5).setScale(1);const i=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.stop(),this.scene.start(e)});const a=this.add.image(700,515,"RetMenuButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(698,515,"RetMenuButtonHover").setOrigin(.5).setScale(.7).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{const e=this.game.scene.keys;for(let t in e)"MenuScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("MenuScene")})}}class u extends e.Scene{constructor(){super("Level2Scene")}init(){this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=0,this.solenneHasSunCrystal=0,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo1","assets/Escenario/Nivel2/fondo_arriba.png"),this.load.image("plataformas1","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("plataformasNivel2","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal1","assets/Escenario/Nivel2/portal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage1","assets/trampas/trampas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){const t=1420,s=800;let i=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.2}),this.physics.add.staticSprite(0,0,"fondo1").setOrigin(0,0).setDisplaySize(t,s),this.physics.add.staticSprite(0,0,"plataformas1").setOrigin(0,0).setDisplaySize(t,s),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,s,t,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(750,550,160,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1250,425,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(525,325,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,225,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(715,425,80,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.portalSprite=this.physics.add.staticSprite(710,400,"portal1").setScale(.75),this.portalSprite.setVisible(!1),this.exitPortal=this.add.rectangle(200,200,200,200).setScale(.75),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(710,400,"puertaOscura1Nivel2").setScale(.75),this.darkDoor2=this.physics.add.staticSprite(710,400,"puertaOscura2Nivel2").setScale(.75),this.lightDoor1=this.physics.add.staticSprite(710,400,"puertaClara1Nivel2").setScale(.75),this.lightDoor2=this.physics.add.staticSprite(710,400,"puertaClara2Nivel2").setScale(.75),this.lightDoor3=this.physics.add.staticSprite(710,400,"puertaClara3Nivel2").setScale(.75),this.darkDoor1Hitbox=this.add.rectangle(325,700,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.darkDoor2Hitbox=this.add.rectangle(500,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor2Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(700,100,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.lightDoor2Hitbox=this.add.rectangle(750,700,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor2Hitbox,!0),this.lightDoor3Hitbox=this.add.rectangle(925,500,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor3Hitbox),this.lightDoor3Hitbox.body.setImmovable(!0).setAllowGravity(!1),this.lightDoor3Hitbox.setAngle(135),this.doors={darkDoor1:{sprite:this.darkDoor1,hitbox:this.darkDoor1Hitbox},darkDoor2:{sprite:this.darkDoor2,hitbox:this.darkDoor2Hitbox},lightDoor1:{sprite:this.lightDoor1,hitbox:this.lightDoor1Hitbox},lightDoor2:{sprite:this.lightDoor3,hitbox:this.lightDoor2Hitbox},lightDoor3:{sprite:this.lightDoor2,hitbox:this.lightDoor3Hitbox}},this.damageGroup=this.physics.add.staticGroup(),this.trampa=this.physics.add.staticSprite(710,400,"damage1").setScale(.75),this.damage1=this.add.rectangle(1350,100,200,100,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage1,!0),this.damage2=this.add.rectangle(100,530,100,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage2,!0),this.damage3=this.add.rectangle(125,800,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage3,!0),this.damage4=this.add.rectangle(600,300,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage4,!0),this.damageGroup.add(this.damage1),this.damageGroup.add(this.damage2),this.damageGroup.add(this.damage3),this.damageGroup.add(this.damage4),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.nivia,this.lightDoor2Hitbox),this.physics.add.collider(this.nivia,this.lightDoor3Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor2Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1300,300,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor1"),this.moonCrystal2=this.crystals.create(550,200,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor2"),this.sunCrystal=this.crystals.create(550,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor3"),this.sunCrystal2=this.crystals.create(200,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor1"),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.physics.add.overlap(this.nivia,this.moonCrystal2,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal2,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,t,s),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)});const a=()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()};this.physics.add.overlap(this.nivia,this.damageGroup,a),this.physics.add.overlap(this.solenne,this.damageGroup,a)}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(1200,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls),this.exitPortal.visible&&this.checkLevelComplete(this.exitPortal)}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal+=1,2==this.niviaHasMoonCrystal&&this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDoor(t.getData("doorKey"))}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal+=1,2==this.solenneHasSunCrystal&&this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockDoor(t.getData("doorKey"))}unlockDoor(e){const t=this.doors[e];t.hitbox.body.enable=!1,t.hitbox.setVisible(!1),t.sprite.setVisible(!1),this.checkPortalSpawn()}checkPortalSpawn(){2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.portalSprite.setVisible(!0),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(e,t){this.niviaOnPortal&&this.solenneOnPortal&&2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.scene.launch("VictoryScene",{originalScene:this.scene.key}),this.scene.pause())}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}}class p extends e.Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckTimer=null,this.connectionListener=null,this.isChecking=!1}init(e){this.previousScene=e?.previousScene}create(){this.add.rectangle(400,300,800,600,0,.8),this.add.text(400,200,"CONEXIÃ“N PERDIDA",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,loop:!0,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)}}),this.connectionListener=e=>{e.connected&&this.onReconnected()},t.addListener(this.connectionListener),this.reconnectCheckTimer=this.time.addEvent({delay:2e3,loop:!0,callback:this.attemptReconnect,callbackScope:this}),this.attemptReconnect()}async attemptReconnect(){if(!this.isChecking){this.isChecking=!0,this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`);try{await t.checkConnection()}finally{this.isChecking=!1}}}onReconnected(){this.reconnectCheckTimer&&(this.reconnectCheckTimer.remove(),this.reconnectCheckTimer=null),this.connectionListener&&(t.removeListener(this.connectionListener),this.connectionListener=null),this.statusText.setText("Â¡ConexiÃ³n restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{if(this.previousScene){const e=this.scene.get(this.previousScene);e&&e.connectionListener&&t.addListener(e.connectionListener),this.scene.resume(this.previousScene)}this.scene.stop()})}shutdown(){this.reconnectCheckTimer&&this.reconnectCheckTimer.remove(),this.connectionListener&&t.removeListener(this.connectionListener)}}class m extends e.Scene{constructor(){super("GameModeScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("ExitButton","assets/salir.png"),this.load.image("ExitButtonHover","assets/salirHover.png"),this.load.image("LocalButton","assets/jugarLocal.png"),this.load.image("LocalButtonHover","assets/jugarLocalHover.png"),this.load.image("OnlineButton","assets/jugarOnline.png"),this.load.image("OnlineButtonHover","assets/jugarOnlineHover.png"),this.load.image("GameModeText","assets/texto_modoDeJuego.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1);const i=this.add.image(700,570,"ExitButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(700,570,"ExitButtonHover").setOrigin(.5).setScale(.75).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.start("MenuScene")}),this.add.image(700,210,"GameModeText").setOrigin(.5).setScale(1);const a=this.add.image(500,340,"LocalButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(500,340,"LocalButtonHover").setOrigin(.5).setScale(.75).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.launch("LevelSelectScene"),this.scene.stop()});const n=this.add.image(900,340,"OnlineButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(900,340,"OnlineButtonHover").setOrigin(.5).setScale(.75).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{this.scene.start("AuthScene",{destination:"LobbyScene"})})}}class y extends e.Scene{constructor(){super("LobbyScene")}preload(){this.load.image("CancelButton","assets/cancelar.png"),this.load.image("CancelButtonHover","assets/cancelarHover.png"),this.load.image("MultiplayerText","assets/texto_multijugador.png")}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,110,"MultiplayerText").setOrigin(.5).setScale(1);const s=localStorage.getItem("username");s&&this.add.text(e/2,250,`Jugador: ${s}`,{fontSize:"20px",color:"#a1dba1",fontFamily:"Caudex",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(e/2,t/2-50,"Conectando al servidor...",{fontSize:"28px",color:"#ffff00",fontFamily:"Caudex"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontSize:"22px",color:"#00ff00",fontFamily:"Caudex"}).setOrigin(.5),this.loadingDots="",this.time.addEvent({delay:500,callback:()=>{this.scene.isActive("LobbyScene")&&(this.loadingDots=this.loadingDots.length>=3?"":this.loadingDots+".",this.statusText.text.includes("Esperando")&&this.statusText.setText(`Esperando oponente${this.loadingDots}`))},loop:!0});const i=this.add.image(e/2,t-100,"CancelButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{hoverImg||(hoverImg=this.add.image(1068,170,"CancelButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{hoverImg&&(hoverImg.destroy(),hoverImg=null)}),i.on("pointerdown",()=>{this.leaveQueue()}),this.connectToServer()}async connectToServer(){try{await i.connect(),this.statusText.setText("Esperando oponente"),this.statusText.setColor("#00ff00"),this.statusText.setFontFamily("Caudex"),this.queueStatusHandler=this.handleQueueStatus.bind(this),this.gameStartHandler=this.handleGameStart.bind(this),this.connectionLostHandler=this.handleConnectionLost.bind(this),i.on("queueStatus",this.queueStatusHandler),i.on("gameStart",this.gameStartHandler),i.on("connectionLost",this.connectionLostHandler),i.joinQueue()}catch(e){console.error("âŒ Error conectando al servidor:",e),this.statusText.setText("Error de conexiÃ³n"),this.statusText.setColor("#ff0000"),this.statusText.setFontFamily("Caudex");const t=this.add.text(this.cameras.main.width/2,this.cameras.main.height/2+100,"ðŸ”„ Reintentar",{fontSize:"24px",color:"#ffffff",backgroundColor:"#4444ff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0});t.on("pointerdown",()=>{t.destroy(),this.connectToServer()})}}handleQueueStatus(e){this.playerCountText.setText(`Jugadores en cola: ${e.position}/2`)}handleGameStart(e){console.log("ðŸŽ® Â¡Partida encontrada!",e),i.setPlayerRole(e.role),this.statusText.setText("Â¡Partida encontrada!"),this.statusText.setColor("#00ff00"),this.playerCountText.setText("Iniciando juego..."),this.statusText.setFontFamily("Caudex"),this.playerCountText.setFontFamily("Caudex"),this.time.delayedCall(1e3,()=>{this.scene.start("GameScene",{isMultiplayer:!0,playerRole:e.role,roomId:e.roomId})})}handleConnectionLost(){console.log("âŒ ConexiÃ³n perdida en Lobby"),this.statusText.setText("ConexiÃ³n perdida"),this.statusText.setColor("#ff0000"),this.playerCountText.setText(""),this.statusText.setFontFamily("Caudex"),this.playerCountText.setFontFamily("Caudex"),this.time.delayedCall(2e3,()=>{this.leaveQueue()})}leaveQueue(){this.queueStatusHandler&&i.off("queueStatus",this.queueStatusHandler),this.gameStartHandler&&i.off("gameStart",this.gameStartHandler),this.connectionLostHandler&&i.off("connectionLost",this.connectionLostHandler),i.leaveQueue(),i.disconnect(),this.scene.start("MenuScene")}shutdown(){this.leaveQueue()}}class v extends e.Scene{constructor(){super("RankingScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("RankingText","assets/texto_ranking.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1),this.add.image(700,210,"RankingText").setOrigin(.5).setScale(1),this.fetchRanking();const i=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.stop(),this.scene.resume(this.scene.settings.data.originalScene)})}async fetchRanking(){try{const e=await fetch("/api/users/ranking"),t=await e.json(),s=this.scale.width;t.forEach((e,t)=>{const i=270+50*t,a=t<3?"#ffc875ff":"#ffffff";this.add.text(.3*s,i,`${t+1}. ${e.username}`,{fontSize:"32px",fill:a,fontFamily:"Caudex"}),this.add.text(.7*s,i,`${e.bestTime}s`,{fontSize:"32px",fill:a,fontFamily:"Caudex"}).setOrigin(1,0)})}catch(e){console.error("Error al obtener ranking:",e),this.add.text(this.scale.width/2,300,"Error al conectar con el bosque...",{fontSize:"24px",fill:"#ff0000"}).setOrigin(.5)}}}class S extends e.Scene{constructor(){super("GameLocalScene")}init(){this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=!1,this.solenneHasSunCrystal=!1,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo","assets/Escenario/Nivel1/fondo_abajo.png"),this.load.image("plataformas","assets/Escenario/Nivel1/plataformas_abajo.png"),this.load.image("puertaClaraNivel1","assets/Escenario/Nivel1/puerta_clara.png"),this.load.image("puertaOscuraNivel1","assets/Escenario/Nivel1/puerta_oscura.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonClaroNivel1","assets/Escenario/Nivel1/boton_claro.png"),this.load.image("botonOscuro1Nivel1","assets/Escenario/Nivel1/boton_oscuro.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal","assets/trampas/puertaFinal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage","assets/trampas/lianas_plataformas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){const t=1420,s=800;let i=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.1}),this.physics.add.staticSprite(0,0,"fondo").setOrigin(0,0).setDisplaySize(t,s),this.physics.add.staticSprite(0,0,"plataformas").setOrigin(0,0).setDisplaySize(t,s),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,s,t,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,480,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(575,480,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1e3,550,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(300,150,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,275,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(400,50,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.pared2=this.add.rectangle(900,700,200,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared2,!0),this.exitPortal=this.physics.add.staticSprite(1e3,10,"portal").setScale(1),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(700,400,"puertaOscuraNivel1").setScale(.7),this.lightDoor1=this.physics.add.staticSprite(750,400,"puertaClaraNivel1").setScale(.7),this.darkDoor1Hitbox=this.add.rectangle(250,375,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(920,400,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.trampa=this.physics.add.staticSprite(450,150,"damage").setScale(.5),this.damage=this.add.rectangle(480,100,100,60,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage,!0),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.pared2),this.physics.add.collider(this.solenne,this.pared2),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1100,400,"moondrop_sheet").setBodySize(32,32).setScale(.5),this.sunCrystal=this.crystals.create(100,100,"sundrop_sheet").setBodySize(32,32).setScale(.5),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,t,s),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)}),this.physics.add.overlap(this.nivia,this.damage,()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()}),this.physics.add.overlap(this.solenne,this.damage,()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()})}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(100,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls),this.handleCameraAndConstraints(),this.exitPortal.visible&&this.checkLevelComplete(this.exitPortal)}handleCameraAndConstraints(){const t=this.nivia.y,s=this.solenne.y;let i=(t+s)/2;const a=this.cameras.main.height;this.cameras.main.scrollY=e.Math.Linear(this.cameras.main.scrollY,i-a/2,.05);const n=.7*a;if(Math.abs(t-s)>n){const e=t<s?this.nivia:this.solenne,i=t<s?this.solenne:this.nivia;(i.body.blocked.down||i.y>e.y+n)&&(e.body.velocity.y<0&&(e.body.velocity.y=0),console.log("Movimiento vertical restringido por el jugador rezagado."))}}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal=!0,this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDarkDoor()}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal=!0,this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockLightDoor()}unlockDarkDoor(){this.darkDoor1Hitbox.body.enable=!1,this.darkDoor1Hitbox.setVisible(!1),this.darkDoor1.setVisible(!1),console.log("Puerta Oscura desbloqueada"),this.checkPortalSpawn()}unlockLightDoor(){this.lightDoor1Hitbox.body.enable=!1,this.lightDoor1Hitbox.setVisible(!1),this.lightDoor1.setVisible(!1),console.log("Puerta Clara desbloqueada"),this.checkPortalSpawn()}checkPortalSpawn(){this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&(console.log("Ambos cristales recogidos. El portal aparece."),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(e,t){this.niviaOnPortal&&this.solenneOnPortal&&this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&this.scene.launch("VictoryScene",{originalScene:this.scene.key})}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}}class f extends e.Scene{constructor(){super("Level2SceneLocal")}init(){this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=0,this.solenneHasSunCrystal=0,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo1","assets/Escenario/Nivel2/fondo_arriba.png"),this.load.image("plataformas1","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("plataformasNivel2","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal1","assets/Escenario/Nivel2/portal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage1","assets/trampas/trampas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){const t=1420,s=800;let i=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.2}),this.physics.add.staticSprite(0,0,"fondo1").setOrigin(0,0).setDisplaySize(t,s),this.physics.add.staticSprite(0,0,"plataformas1").setOrigin(0,0).setDisplaySize(t,s),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,s,t,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(750,550,160,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1250,425,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(525,325,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,225,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(715,425,80,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.portalSprite=this.physics.add.staticSprite(710,400,"portal1").setScale(.75),this.portalSprite.setVisible(!1),this.exitPortal=this.add.rectangle(200,200,200,200).setScale(.75),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(710,400,"puertaOscura1Nivel2").setScale(.75),this.darkDoor2=this.physics.add.staticSprite(710,400,"puertaOscura2Nivel2").setScale(.75),this.lightDoor1=this.physics.add.staticSprite(710,400,"puertaClara1Nivel2").setScale(.75),this.lightDoor2=this.physics.add.staticSprite(710,400,"puertaClara2Nivel2").setScale(.75),this.lightDoor3=this.physics.add.staticSprite(710,400,"puertaClara3Nivel2").setScale(.75),this.darkDoor1Hitbox=this.add.rectangle(325,700,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.darkDoor2Hitbox=this.add.rectangle(500,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor2Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(700,100,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.lightDoor2Hitbox=this.add.rectangle(750,700,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor2Hitbox,!0),this.lightDoor3Hitbox=this.add.rectangle(925,500,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor3Hitbox),this.lightDoor3Hitbox.body.setImmovable(!0).setAllowGravity(!1),this.lightDoor3Hitbox.setAngle(135),this.doors={darkDoor1:{sprite:this.darkDoor1,hitbox:this.darkDoor1Hitbox},darkDoor2:{sprite:this.darkDoor2,hitbox:this.darkDoor2Hitbox},lightDoor1:{sprite:this.lightDoor1,hitbox:this.lightDoor1Hitbox},lightDoor2:{sprite:this.lightDoor3,hitbox:this.lightDoor2Hitbox},lightDoor3:{sprite:this.lightDoor2,hitbox:this.lightDoor3Hitbox}},this.damageGroup=this.physics.add.staticGroup(),this.trampa=this.physics.add.staticSprite(710,400,"damage1").setScale(.75),this.damage1=this.add.rectangle(1350,100,200,100,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage1,!0),this.damage2=this.add.rectangle(100,530,100,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage2,!0),this.damage3=this.add.rectangle(125,800,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage3,!0),this.damage4=this.add.rectangle(600,300,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage4,!0),this.damageGroup.add(this.damage1),this.damageGroup.add(this.damage2),this.damageGroup.add(this.damage3),this.damageGroup.add(this.damage4),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.nivia,this.lightDoor2Hitbox),this.physics.add.collider(this.nivia,this.lightDoor3Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor2Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1300,300,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor1"),this.moonCrystal2=this.crystals.create(550,200,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor2"),this.sunCrystal=this.crystals.create(550,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor3"),this.sunCrystal2=this.crystals.create(200,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor1"),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.physics.add.overlap(this.nivia,this.moonCrystal2,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal2,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,t,s),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)});const a=()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()};this.physics.add.overlap(this.nivia,this.damageGroup,a),this.physics.add.overlap(this.solenne,this.damageGroup,a)}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(1200,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls),this.exitPortal.visible&&this.checkLevelComplete(this.exitPortal)}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal+=1,2==this.niviaHasMoonCrystal&&this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDoor(t.getData("doorKey"))}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal+=1,2==this.solenneHasSunCrystal&&this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockDoor(t.getData("doorKey"))}unlockDoor(e){const t=this.doors[e];t.hitbox.body.enable=!1,t.hitbox.setVisible(!1),t.sprite.setVisible(!1),this.checkPortalSpawn()}checkPortalSpawn(){2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.portalSprite.setVisible(!0),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(e,t){this.niviaOnPortal&&this.solenneOnPortal&&2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.scene.launch("VictoryScene",{originalScene:this.scene.key}),this.scene.pause())}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}}class x extends e.Scene{constructor(){super("AuthScene")}init(e){this.destination=e.destination||"LobbyScene"}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("LogInText","assets/textp_iniciarSesion.png"),this.load.image("ExitButton","assets/cancelar.png"),this.load.image("ExitButtonHover","assets/cancelarHover.png"),this.load.image("LoginButton","assets/entrar.png"),this.load.image("LoginButtonHover","assets/entrarHover.png"),this.load.image("RegisterButton","assets/registro.png"),this.load.image("RegisterButtonHover","assets/registroHover.png")}create(){const e=this.scale.width,t=this.scale.height;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1),this.add.image(700,180,"LogInText").setOrigin(.5).setScale(1),this.add.text(400,290,"Usuario:",{fontSize:"22px",color:"#ffffff",fontFamily:"Caudex"}),this.usernameInput=this.createHTMLInput(550,280,300,"text"),this.add.text(400,355,"ContraseÃ±a:",{fontSize:"22px",color:"#ffffff",fontFamily:"Caudex"}),this.passwordInput=this.createHTMLInput(550,345,300,"password"),this.messageText=this.add.text(700,420,"",{fontSize:"18px",color:"#ff0000",fontFamily:"Caudex",align:"center",wordWrap:{width:400}}).setOrigin(.5);let s=null;const i=this.add.image(550,480,"LoginButton").setOrigin(.5).setScale(.6).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(550,480,"LoginButtonHover").setOrigin(.5).setScale(.6).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.handleLogin()});const a=this.add.image(850,480,"RegisterButton").setOrigin(.5).setScale(.6).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(850,480,"RegisterButtonHover").setOrigin(.5).setScale(.6).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.handleRegister()});const n=this.add.image(700,570,"ExitButton").setOrigin(.5).setScale(.6).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(700,570,"ExitButtonHover").setOrigin(.5).setScale(.6).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{this.cleanupInputs(),this.scene.start("MenuScene")}),this.input.keyboard.on("keydown-ENTER",()=>{this.handleLogin()})}createHTMLInput(e,t,s,i="text"){const a=document.createElement("input");a.type=i,a.style.position="absolute",a.style.width=`${s}px`,a.style.height="35px",a.style.fontSize="18px",a.style.fontFamily="Caudex",a.style.padding="5px 10px",a.style.border="2px solid #ffffff",a.style.borderRadius="5px",a.style.backgroundColor="#1a1a2e",a.style.color="#ffffff",a.style.outline="none",a.style.zIndex="1000";const n=this.game.canvas.getBoundingClientRect();return a.style.left=`${n.left+e}px`,a.style.top=`${n.top+t}px`,document.body.appendChild(a),a}async handleLogin(){const e=this.usernameInput.value.trim(),t=this.passwordInput.value;if(e&&t){this.showMessage("Iniciando sesiÃ³n...","info");try{const s=await fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),i=await s.json();s.ok?(console.log("âœ… Login exitoso:",i),i.id&&(localStorage.setItem("userId",i.id),localStorage.setItem("username",i.username),this.showMessage("Â¡Bienvenido "+i.username+"!","success"),this.time.delayedCall(1e3,()=>{this.cleanupInputs(),this.scene.start(this.destination)}))):this.showMessage(i.error||"Usuario o contraseÃ±a incorrectos","error")}catch(e){console.error("Error en login:",e),this.showMessage("Error de conexiÃ³n. IntÃ©ntalo de nuevo.","error")}}else this.showMessage("Por favor completa todos los campos","error")}async handleRegister(){const e=this.usernameInput.value.trim(),t=this.passwordInput.value;if(e&&t)if(e.length<3)this.showMessage("El usuario debe tener al menos 3 caracteres","error");else if(t.length<4)this.showMessage("La contraseÃ±a debe tener al menos 4 caracteres","error");else{this.showMessage("Creando cuenta...","info");try{const s=await fetch("/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),i=await s.json();s.ok?(console.log("âœ… Registro exitoso:",i),localStorage.setItem("userId",i.id),localStorage.setItem("username",i.username),this.showMessage("Â¡Cuenta creada! Bienvenido "+i.username,"success"),this.time.delayedCall(1500,()=>{this.cleanupInputs(),this.scene.start(this.destination)})):this.showMessage(i.error||"No se pudo crear la cuenta","error")}catch(e){console.error("Error en registro:",e),this.showMessage("Error de conexiÃ³n. IntÃ©ntalo de nuevo.","error")}}else this.showMessage("Por favor completa todos los campos","error")}showMessage(e,t="info"){const s={error:"#ff4444",success:"#44ff44",info:"#ffff44"};this.messageText.setText(e),this.messageText.setColor(s[t]||s.info)}cleanupInputs(){this.usernameInput&&this.usernameInput.parentNode&&this.usernameInput.parentNode.removeChild(this.usernameInput),this.passwordInput&&this.passwordInput.parentNode&&this.passwordInput.parentNode.removeChild(this.passwordInput)}shutdown(){this.cleanupInputs(),this.input.keyboard.off("keydown-ENTER")}}class O extends e.Scene{constructor(){super("PlayerDisconnectedScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("RetMenuButton","assets/menu.PNG"),this.load.image("RetMenuButtonHover","assets/menuHover.PNG"),this.load.image("texto_jugadorDesconectado","assets/texto_jugadorDesconectado.png"),this.load.image("LobbyButton","assets/lobby.png"),this.load.image("LobbyButtonHover","assets/lobbyHover.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1),this.add.image(700,260,"texto_jugadorDesconectado").setOrigin(.5).setScale(.8),this.add.text(700,330,"El otro jugador abandonÃ³ la partida",{fontSize:"20px",color:"#ffffff",fontFamily:"Caudex"}).setOrigin(.5);const a=this.add.image(700,420,"LobbyButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(700,420,"LobbyButtonHover").setOrigin(.5).setScale(.7).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{i.disconnect(),this.sound.stopAll();const e=this.game.scene.keys;for(let t in e)"LobbyScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("LobbyScene")});const n=this.add.image(700,520,"RetMenuButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(698,520,"RetMenuButtonHover").setOrigin(.5).setScale(.7).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{i.disconnect(),this.sound.stopAll();const e=this.game.scene.keys;for(let t in e)"MenuScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("MenuScene")})}}class C extends e.Scene{constructor(){super("GameOverDisconnectScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("GameOverText","assets/texto_derrota.png"),this.load.image("LobbyButton","assets/lobby.png"),this.load.image("LobbyButtonHover","assets/lobbyHover.png"),this.load.image("RetMenuButton","assets/menu.PNG"),this.load.image("RetMenuButtonHover","assets/menuHover.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1),this.add.image(700,240,"GameOverText").setOrigin(.5).setScale(1),this.add.text(700,320,"Derrota por desconexiÃ³n",{fontSize:"24px",color:"#ff6666",fontFamily:"Caudex",fontStyle:"bold",align:"center"}).setOrigin(.5);const a=this.add.image(705,415,"LobbyButton").setOrigin(.5).setScale(.6).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(705,415,"LobbyButtonHover").setOrigin(.5).setScale(.6).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{i.disconnect(),this.sound.stopAll();const e=this.game.scene.keys;for(let t in e)"LobbyScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("LobbyScene")});const n=this.add.image(700,515,"RetMenuButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(698,515,"RetMenuButtonHover").setOrigin(.5).setScale(.7).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{i.disconnect(),this.sound.stopAll();const e=this.game.scene.keys;for(let t in e)"MenuScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("MenuScene")})}}const B={type:e.AUTO,width:1420,height:800,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[s,x,a,S,u,f,o,r,n,l,h,O,d,c,g,C,y,p,m,v],backgroundColor:"#021410ff"};document.fonts.ready.then(()=>{new e.Game(B)})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QmpFLEVBQWFrRSxFQUFrQmpILEVBQWU2QixFQUFleEMsRUFBWXlDLEVBQWVTLEVBQWtCNkcsRUFBeUIxRyxFQUFrQkMsRUFBY0csRUFBZXlHLEVBQXlCN0QsRUFBWWpCLEVBQXFCYyxFQUFlb0IsR0FDclQxUyxnQkFBaUIsYUFHckI2VCxTQUFTZ0MsTUFBTUMsTUFBTW5PLEtBQUssS0FDWCxJQUFJLE9BQVk2TixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWNsaXBzYS9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvTWVudVNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NlcnZpY2VzL1dlYlNvY2tldFNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvUGF1c2VTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvVHV0b3JpYWxTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvQ3JlZGl0c1NjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9TZXR0aW5nc1NjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9MZXZlbFNlbGVjdFNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9QbGFjZUhvbGRlclNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9WaWN0b3J5U2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVPdmVyU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL0xldmVsMlNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9Db25uZWN0aW9uTG9zdFNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lTW9kZVNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9Mb2JieVNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9SYW5raW5nU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVMb2NhbFNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9MZXZlbDJTY2VuZUxvY2FsLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9BdXRoU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL1BsYXllckRpc2Nvbm5lY3RlZFNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lT3ZlckRpc2Nvbm5lY3RTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBQaGFzZXI7IiwiLyoqXG4gKiBTZXJ2aWNpbyBwYXJhIGdlc3Rpb25hciBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXG4gKiBNYW5lamEgZWwgcG9sbGluZyBhbCBlbmRwb2ludCAvYXBpL2Nvbm5lY3RlZCB5IGRldGVjdGEgcMOpcmRpZGFzIGRlIGNvbmV4acOzblxuICovXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbk1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gMDtcbiAgICB0aGlzLmNoZWNrSW50ZXJ2YWwgPSAyMDAwOyAvLyBDb21wcm9iYXIgY2FkYSAyIHNlZ3VuZG9zXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICB0aGlzLnNlc3Npb25JZCA9IHRoaXMuZ2VuZXJhdGVTZXNzaW9uSWQoKTtcbiAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xuXG4gICAgLy8gSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXG4gICAgdGhpcy5zdGFydFBvbGxpbmcoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmFyIHVuIElEIMO6bmljbyBkZSBzZXNpw7NuIHBhcmEgZXN0ZSBjbGllbnRlXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBnZW5lcmF0ZVNlc3Npb25JZCgpIHtcbiAgICByZXR1cm4gYHNlc3Npb25fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXByb2JhciBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtjb25uZWN0ZWQ6IG51bWJlciwgc3VjY2VzczogYm9vbGVhbn0+fVxuICAgKi9cbiAgYXN5bmMgY2hlY2tDb25uZWN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2Nvbm5lY3RlZCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkXG4gICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSBkYXRhLmNvbm5lY3RlZDtcbiAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubGFzdENoZWNrVGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgLy8gTm90aWZpY2FyIGEgbG9zIGxpc3RlbmVyc1xuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogdHJ1ZSwgY291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQgfSk7XG5cbiAgICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiB0aGlzLmNvbm5lY3RlZENvdW50LCBzdWNjZXNzOiB0cnVlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcbiAgICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBjb25uZWN0aW9uOicsIGVycm9yKTtcbiAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xuICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNYW5lamFyIGRlc2NvbmV4acOzblxuICAgKi9cbiAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XG4gICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IGZhbHNlLCBjb3VudDogMCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RyYXIgdW4gbGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIHF1ZSBzZSBsbGFtYXLDoSBjdWFuZG8gY2FtYmllIGVsIGVzdGFkb1xuICAgKi9cbiAgYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbGltaW5hciB1biBsaXN0ZW5lclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIGEgZWxpbWluYXJcbiAgICovXG4gIHJlbW92ZUxpc3RlbmVyKGNhbGxiYWNrKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTm90aWZpY2FyIGEgdG9kb3MgbG9zIGxpc3RlbmVyc1xuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIERhdG9zIGRlbCBlc3RhZG8gZGUgY29uZXhpw7NuXG4gICAqL1xuICBub3RpZnlMaXN0ZW5lcnMoZGF0YSkge1xuICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoZGF0YSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbCBkZSBjb25leGnDs25cbiAgICogQHJldHVybnMge09iamVjdH1cbiAgICovXG4gIGdldFN0YXR1cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNDb25uZWN0ZWQ6IHRoaXMuaXNDb25uZWN0ZWQsXG4gICAgICBjb25uZWN0ZWRDb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCxcbiAgICAgIGxhc3RDaGVja1RpbWU6IHRoaXMubGFzdENoZWNrVGltZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvIGRlIGNvbmV4acOzblxuICAgKi9cbiAgc3RhcnRQb2xsaW5nKCkge1xuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcbiAgICAgIHJldHVybjsgLy8gWWEgZXN0w6EgY29ycmllbmRvXG4gICAgfVxuXG4gICAgLy8gQ29tcHJvYmFyIGlubWVkaWF0YW1lbnRlXG4gICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcblxuICAgIC8vIEx1ZWdvIGNvbXByb2JhciBjYWRhIFggc2VndW5kb3NcbiAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xuICAgIH0sIHRoaXMuY2hlY2tJbnRlcnZhbCk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZW5lciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXG4gICAqL1xuICBzdG9wUG9sbGluZygpIHtcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZmljYXIgc2kgaGF5IGNvbmV4acOzbiAow7p0aWwgcGFyYSBvdHJhcyBlc2NlbmFzKVxuICAgKi9cbiAgZ2V0SXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNDb25uZWN0ZWQ7XG4gIH1cblxuICAvKipcbiAgICogT2J0ZW5lciBuw7ptZXJvIGRlIHVzdWFyaW9zIGNvbmVjdGFkb3NcbiAgICovXG4gIGdldENvbm5lY3RlZFVzZXJzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3RlZENvdW50O1xuICB9XG59XG5cbi8vIENyZWFyIGluc3RhbmNpYSBzaW5nbGV0b25cbmV4cG9ydCBjb25zdCBjb25uZWN0aW9uTWFuYWdlciA9IG5ldyBDb25uZWN0aW9uTWFuYWdlcigpO1xuIiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInOyAgLy9pbXBvcnRhbW9zIGluc3RhbmNpYSBkZWwgb2JqZXRvXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWVudVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBNw7pzaWNhIGRlIGZvbmRvIGRlbCBtZW7DulxyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnTWVudU11c2ljJywgJ2Fzc2V0cy9zb25pZG8vaW5pY2lvLm1wMycpO1xyXG5cclxuICAgICAgICAvLyBmb25kbyBkZWwgbWVuw7pcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhbnRhbGxhX2RlX2luaWNpbycsICdhc3NldHMvZm9uZG9fcGFudGFsbGFfaW5pY2lvLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gZGUganVlZ28gbG9jYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xvY2FsUGxheUJ1dHRvbicsICdhc3NldHMvanVnYXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMb2NhbFBsYXlCdXR0b25Ib3ZlcicsICdhc3NldHMvanVnYXJIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIGRlIHR1dG9yaWFsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUdXRvcmlhbEJ1dHRvbicsICdhc3NldHMvdHV0b3JpYWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUdXRvcmlhbEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy90dXRvcmlhbEhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gZGUgY3LDqWRpdG9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdDcmVkaXRvc0J1dHRvbicsICdhc3NldHMvY3JlZGl0b3MucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdDcmVkaXRvc0J1dHRvbkhvdmVyJywgJ2Fzc2V0cy9jcmVkaXRvc0hvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gZGUgc2FsaXIgZGUganVlZ29cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRCdXR0b24nLCAnYXNzZXRzL3NhbGlyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9zYWxpckhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gZGUgYWp1c3Rlc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU2V0dGluZ3NCdXR0b24nLCAnYXNzZXRzL2FqdXN0ZXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc0J1dHRvbkhvdmVyJywgJ2Fzc2V0cy9hanVzdGVzSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBkZSByYW5raW5nXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSYW5raW5nQnV0dG9uJywgJ2Fzc2V0cy9yYW5raW5nLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmFua2luZ0J1dHRvbkhvdmVyJywgJ2Fzc2V0cy9yYW5raW5nSG92ZXIucG5nJyk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gRGV0ZW5lciBsYSBtw7pzaWNhIGRlbCBqdWVnbyBzaSBlc3TDoSBzb25hbmRvXHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ0dhbWVNdXNpYycpO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIG3DunNpY2EgZGVsIG1lbsO6XHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdNZW51TXVzaWMnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogdGhpcy5zb3VuZC52b2x1bWUgfSk7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvIGRlbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ1BhbnRhbGxhX2RlX2luaWNpbycpLnNldE9yaWdpbigwKTtcclxuICAgICAgICBiZy5zZXREaXNwbGF5U2l6ZSh0aGlzLnNjYWxlLndpZHRoLCB0aGlzLnNjYWxlLmhlaWdodCk7XHJcbiAgICAgICAgYmcuc2V0RGVwdGgoLTEpO1xyXG5cclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZnJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgIC8vIEJvdMOzbiBkZSBqdWVnbyBsb2NhbFxyXG4gICAgICAgIGNvbnN0IGxvY2FsQnRuID0gdGhpcy5hZGQuaW1hZ2UoMzA1LCAzNDAsICdMb2NhbFBsYXlCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGxvY2FsQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgzMDUsIDM0MCwgJ0xvY2FsUGxheUJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgobG9jYWxCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsb2NhbEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbG9jYWxCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnR2FtZU1vZGVTY2VuZScpO1xyXG4gICAgICAgICAgICAvL3RoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgdHV0b3JpYWxcclxuICAgICAgICBjb25zdCB0dXRvcmlhbEJ0biA9IHRoaXMuYWRkLmltYWdlKDMxMiwgNDUwLCAnVHV0b3JpYWxCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHR1dG9yaWFsQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgzMTIsIDQ1MCwgJ1R1dG9yaWFsQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCh0dXRvcmlhbEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHR1dG9yaWFsQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0dXRvcmlhbEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdUdXRvcmlhbFNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBjcsOpZGl0b3NcclxuICAgICAgICBjb25zdCBjcmVkaXRvc0J0biA9IHRoaXMuYWRkLmltYWdlKDMwNSwgNTYwLCAnQ3JlZGl0b3NCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGNyZWRpdG9zQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgzMTIsIDU1NSwgJ0NyZWRpdG9zQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChjcmVkaXRvc0J0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNyZWRpdG9zQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjcmVkaXRvc0J0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdDcmVkaXRzU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHBhbnRhbGxhIGRlIHJhbmtpbmdcclxuICAgICAgICBjb25zdCByYW5raW5nQnRuID0gdGhpcy5hZGQuaW1hZ2UoMTIwMCwgNzUsICdSYW5raW5nQnV0dG9uJykgXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KSAgICBcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHRoaXMuc2NlbmUubGF1bmNoKCdSYW5raW5nU2NlbmUnKSk7XHJcblxyXG4gICAgICAgIHJhbmtpbmdCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEyMDAsIDc1LCAnUmFua2luZ0J1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgocmFua2luZ0J0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJhbmtpbmdCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciBkZSBqdWVnb1xyXG4gICAgICAgIGNvbnN0IGV4aXRCdG4gPSB0aGlzLmFkZC5pbWFnZSgzMTIsIDY3MCwgJ0V4aXRCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGV4aXRCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDMxMiwgNjcwLCAnRXhpdEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoZXhpdEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGV4aXRCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGV4aXRCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBDaWVycmEgbGEgdmVudGFuYSBkZWwgbmF2ZWdhZG9yIG8gcGVzdGHDsWFcclxuICAgICAgICAgICAgd2luZG93LmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBhanVzdGVzXHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3NCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMzMwLCA3NSwgJ1NldHRpbmdzQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHNldHRpbmdzQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMzM1LCA3NSwgJ1NldHRpbmdzQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHNldHRpbmdzQnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2V0dGluZ3NCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNldHRpbmdzQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1NldHRpbmdzU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvLyA9PT0gSW5kaWNhZG9yIGRlIGNvbmV4acOzbiA9PT1cclxuICAgIC8vIFB1bnRpdG8gZGUgZXN0YWRvXHJcbiAgICB0aGlzLmNvbm5lY3Rpb25Eb3QgPSB0aGlzLmFkZC5jaXJjbGUoNzAsIDUwLCAxMCwgMHhmZjAwMDApXHJcbiAgICAgICAgLnNldERlcHRoKDEwMDApO1xyXG5cclxuICAgIC8vIFRleHRvIGNvbiBuw7ptZXJvIGRlIHVzdWFyaW9zXHJcbiAgICB0aGlzLmNvbm5lY3Rpb25Db3VudFRleHQgPSB0aGlzLmFkZC50ZXh0KDg1LCA0MCwgJzAnLCB7XHJcbiAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICBmb250RmFtaWx5OiAnXCJDYXVkZXhcIiwgc2VyaWYnLFxyXG4gICAgICAgIGNvbG9yOiAnI2RhODE4MWZmJ1xyXG4gICAgfSkuc2V0RGVwdGgoMTAwMCk7XHJcblxyXG4gICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzbiAgLS0gIHVzdWFyaW9zIGNvbmVjdGFkb3NcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSkge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgIXRoaXMuY29ubmVjdGlvbkRvdCB8fFxyXG4gICAgICAgICAgICAhdGhpcy5jb25uZWN0aW9uQ291bnRUZXh0IHx8XHJcbiAgICAgICAgICAgICF0aGlzLnNjZW5lIHx8XHJcbiAgICAgICAgICAgICF0aGlzLnNjZW5lLmlzQWN0aXZlKCdNZW51U2NlbmUnKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIFZlcmRlXHJcbiAgICAgICAgICAgICAgICBjb25zdCBncmVlbkNvbG9yID0gMHhhMWRiYTE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25Eb3Quc2V0RmlsbFN0eWxlKGdyZWVuQ29sb3IpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uQ291bnRUZXh0LnNldFRleHQoU3RyaW5nKGRhdGEuY291bnQpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkNvdW50VGV4dC5zZXRDb2xvcignI2ExZGJhMScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gUm9qb1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVkQ29sb3IgPSAweGRhODE4MTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkRvdC5zZXRGaWxsU3R5bGUocmVkQ29sb3IpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uQ291bnRUZXh0LnNldFRleHQoJy0tJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25Db3VudFRleHQuc2V0Q29sb3IocmVkQ29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW01lbnVTY2VuZV0gRXJyb3IgdXBkYXRpbmcgY29ubmVjdGlvbiBkaXNwbGF5OicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFdlYlNvY2tldFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLndzID0gbnVsbDtcbiAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMucm9vbUlkID0gbnVsbDtcbiAgICB0aGlzLnBsYXllclJvbGUgPSBudWxsOyAvLyAnbml2aWEnIG8gJ3NvbGVubmUnXG4gICAgdGhpcy5tZXNzYWdlSGFuZGxlcnMgPSBuZXcgTWFwKCk7XG4gIH1cblxuICAvKipcbiAgICogQ29uZWN0YXIgYWwgc2Vydmlkb3IgV2ViU29ja2V0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgY29ubmVjdCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgd3NVcmwgPSBgd3M6Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZX06MzAwMGA7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SMIENvbmVjdGFuZG8gYSBXZWJTb2NrZXQ6Jywgd3NVcmwpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpO1xuXG4gICAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgV2ViU29ja2V0IGNvbmVjdGFkbycpO1xuICAgICAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZU1lc3NhZ2UoZGF0YSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBwYXJzZWFuZG8gbWVuc2FqZTonLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBlbiBXZWJTb2NrZXQ6JywgZXJyb3IpO1xuICAgICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflIwgV2ViU29ja2V0IGRlc2NvbmVjdGFkbycpO1xuICAgICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5ub3RpZnlIYW5kbGVyKCdjb25uZWN0aW9uTG9zdCcpO1xuICAgICAgICB9O1xuXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hbmVqYXIgbWVuc2FqZXMgZGVsIHNlcnZpZG9yXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gRGF0b3MgcmVjaWJpZG9zXG4gICAqL1xuICBoYW5kbGVNZXNzYWdlKGRhdGEpIHtcbiAgICBjb25zb2xlLmxvZygn8J+TqCBNZW5zYWplIHJlY2liaWRvOicsIGRhdGEudHlwZSk7XG4gICAgdGhpcy5ub3RpZnlIYW5kbGVyKGRhdGEudHlwZSwgZGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0cmFyIHVuIGhhbmRsZXIgcGFyYSB1biB0aXBvIGRlIG1lbnNhamVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaXBvIGRlIG1lbnNhamVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBhIGxsYW1hclxuICAgKi9cbiAgb24odHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXRoaXMubWVzc2FnZUhhbmRsZXJzLmhhcyh0eXBlKSkge1xuICAgICAgdGhpcy5tZXNzYWdlSGFuZGxlcnMuc2V0KHR5cGUsIFtdKTtcbiAgICB9XG4gICAgdGhpcy5tZXNzYWdlSGFuZGxlcnMuZ2V0KHR5cGUpLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXIgdW4gaGFuZGxlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRpcG8gZGUgbWVuc2FqZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIGEgcmVtb3ZlclxuICAgKi9cbiAgb2ZmKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZUhhbmRsZXJzLmhhcyh0eXBlKSkge1xuICAgICAgY29uc3QgaGFuZGxlcnMgPSB0aGlzLm1lc3NhZ2VIYW5kbGVycy5nZXQodHlwZSk7XG4gICAgICBjb25zdCBpbmRleCA9IGhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTm90aWZpY2FyIGEgbG9zIGhhbmRsZXJzIHJlZ2lzdHJhZG9zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGlwbyBkZSBtZW5zYWplXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gRGF0b3MgZGVsIG1lbnNhamVcbiAgICovXG4gIG5vdGlmeUhhbmRsZXIodHlwZSwgZGF0YSA9IHt9KSB7XG4gICAgaWYgKHRoaXMubWVzc2FnZUhhbmRsZXJzLmhhcyh0eXBlKSkge1xuICAgICAgdGhpcy5tZXNzYWdlSGFuZGxlcnMuZ2V0KHR5cGUpLmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKGRhdGEpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRW52aWFyIG1lbnNhamUgYWwgc2Vydmlkb3JcbiAgICogQHBhcmFtIHtPYmplY3R9IG1lc3NhZ2UgLSBNZW5zYWplIGEgZW52aWFyXG4gICAqL1xuICBzZW5kKG1lc3NhZ2UpIHtcbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgV2ViU29ja2V0IG5vIGVzdMOhIGNvbmVjdGFkbycpO1xuICAgIH1cbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09IE3DiVRPRE9TIEVTUEVDw41GSUNPUyBERUwgSlVFR08gPT09PT09PT09PT09PT09PT09PT1cblxuICAvKipcbiAgICogVW5pcnNlIGEgbGEgY29sYSBkZSBtYXRjaG1ha2luZ1xuICAgKi9cbiAgam9pblF1ZXVlKCkge1xuICAgIHRoaXMuc2VuZCh7IHR5cGU6ICdqb2luUXVldWUnIH0pO1xuICAgIGNvbnNvbGUubG9nKCfwn5OlIFVuacOpbmRvc2UgYSBsYSBjb2xhLi4uJyk7XG4gIH1cblxuICAvKipcbiAgICogU2FsaXIgZGUgbGEgY29sYVxuICAgKi9cbiAgbGVhdmVRdWV1ZSgpIHtcbiAgICB0aGlzLnNlbmQoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSk7XG4gICAgY29uc29sZS5sb2coJ/Cfk6QgU2FsaWVuZG8gZGUgbGEgY29sYS4uLicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVudmlhciBtb3ZpbWllbnRvIGRlbCBqdWdhZG9yXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gUG9zaWNpw7NuIFhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBQb3NpY2nDs24gWVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZsaXBYIC0gT3JpZW50YWNpw7NuIGRlbCBzcHJpdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFuaW1LZXkgLSBDbGF2ZSBkZSBsYSBhbmltYWNpw7NuIGFjdHVhbFxuICAgKi9cbiAgc2VuZFBsYXllck1vdmUoeCwgeSwgZmxpcFgsIGFuaW1LZXkpIHtcbiAgICB0aGlzLnNlbmQoe1xuICAgICAgdHlwZTogJ3BsYXllck1vdmUnLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBmbGlwWCxcbiAgICAgIGFuaW1LZXlcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3RpZmljYXIgcmVjb2xlY2Npw7NuIGRlIGNyaXN0YWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNyeXN0YWxUeXBlIC0gJ21vb24nIG8gJ3N1bidcbiAgICovXG4gIHNlbmRDcnlzdGFsQ29sbGVjdChjcnlzdGFsVHlwZSkge1xuICAgIHRoaXMuc2VuZCh7XG4gICAgICB0eXBlOiAnY3J5c3RhbENvbGxlY3QnLFxuICAgICAgY3J5c3RhbFR5cGVcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhg8J+SjiBDcmlzdGFsICR7Y3J5c3RhbFR5cGV9IHJlY29naWRvYCk7XG4gIH1cblxuICAvKipcbiAgICogTm90aWZpY2FyIGNvbnRhY3RvIGNvbiBwb3J0YWxcbiAgICogQHBhcmFtIHtib29sZWFufSBvblBvcnRhbCAtIFNpIGVzdMOhIHRvY2FuZG8gZWwgcG9ydGFsXG4gICAqL1xuICBzZW5kUG9ydGFsVG91Y2gob25Qb3J0YWwpIHtcbiAgICB0aGlzLnNlbmQoe1xuICAgICAgdHlwZTogJ3BvcnRhbFRvdWNoJyxcbiAgICAgIG9uUG9ydGFsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTm90aWZpY2FyIGdhbWUgb3ZlciAodHJhbXBhIHRvY2FkYSwgZXRjKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uIC0gUmF6w7NuIGRlbCBnYW1lIG92ZXJcbiAgICovXG4gIHNlbmRHYW1lT3ZlcihyZWFzb24gPSAndHJhcCcpIHtcbiAgICB0aGlzLnNlbmQoe1xuICAgICAgdHlwZTogJ2dhbWVPdmVyJyxcbiAgICAgIHJlYXNvblxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc2NvbmVjdGFyXG4gICAqL1xuICBkaXNjb25uZWN0KCkge1xuICAgIGlmICh0aGlzLndzKSB7XG4gICAgICB0aGlzLndzLmNsb3NlKCk7XG4gICAgICB0aGlzLndzID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJvb21JZCA9IG51bGw7XG4gICAgdGhpcy5wbGF5ZXJSb2xlID0gbnVsbDtcbiAgICB0aGlzLm1lc3NhZ2VIYW5kbGVycy5jbGVhcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhciBzaSBlc3TDoSBjb25lY3RhZG9cbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBpc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25uZWN0ZWQgJiYgdGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idGVuZXIgcm9sIGRlbCBqdWdhZG9yXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cbiAgICovXG4gIGdldFBsYXllclJvbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucGxheWVyUm9sZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFc3RhYmxlY2VyIHJvbCBkZWwganVnYWRvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gcm9sZSAtICduaXZpYScgbyAnc29sZW5uZSdcbiAgICovXG4gIHNldFBsYXllclJvbGUocm9sZSkge1xuICAgIHRoaXMucGxheWVyUm9sZSA9IHJvbGU7XG4gICAgY29uc29sZS5sb2coYPCfjq4gUm9sIGFzaWduYWRvOiAke3JvbGV9YCk7XG4gIH1cbn1cblxuLy8gRXhwb3J0YXIgaW5zdGFuY2lhIHNpbmdsZXRvblxuZXhwb3J0IGNvbnN0IHdzU2VydmljZSA9IG5ldyBXZWJTb2NrZXRTZXJ2aWNlKCk7IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHdzU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9XZWJTb2NrZXRTZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBDb250cm9sIGRlIGRlc2NvbmV4acOzbiBwYXJhIGV2aXRhciBsb29wc1xyXG4gICAgICAgIHRoaXMuaXNIYW5kbGluZ0Rpc2Nvbm5lY3Rpb24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxhc3REaXNjb25uZWN0aW9uVGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0aW9uQ29vbGRvd24gPSAxMDAwO1xyXG5cclxuICAgICAgICAvLyBEYXRvcyBtdWx0aWp1Z2Fkb3JcclxuICAgICAgICB0aGlzLmlzTXVsdGlwbGF5ZXIgPSBkYXRhLmlzTXVsdGlwbGF5ZXIgfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJSb2xlID0gZGF0YS5wbGF5ZXJSb2xlIHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZCB8fCBudWxsO1xyXG5cclxuICAgICAgICAvLyBDb250cm9sIGRlIHBlcnNvbmFqZXMgZW4gbXVsdGlqdWdhZG9yXHJcbiAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBTaW5jcm9uaXphY2nDs24gZGUgcmVkXHJcbiAgICAgICAgdGhpcy5sYXN0U3luY1RpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuc3luY0ludGVydmFsID0gNTA7XHJcblxyXG4gICAgICAgIC8vIFRpZW1wb1xyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gdGhpcy50aW1lLm5vdztcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYCBHYW1lU2NlbmUgaW5pY2lhZG9gKTtcclxuICAgICAgICBpZiAodGhpcy5pc011bHRpcGxheWVyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBSb2w6ICR7dGhpcy5wbGF5ZXJSb2xlfSB8IFNhbGE6ICR7dGhpcy5yb29tSWR9YCk7XHJcblxyXG4gICAgICAgICAgICAvLyBNb3N0cmFyIGFudW5jaW8gZGUgcXXDqSBwZXJzb25hamUgZXNcclxuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyTmFtZSA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ25pdmlhJyA/ICfwn4yZIE5JVklBJyA6ICfimIDvuI8gU09MRU5ORSc7XHJcbiAgICAgICAgICAgIGNvbnN0IGFubm91bmNlbWVudFRleHQgPSB0aGlzLmFkZC50ZXh0KFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLyAyLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0IC8gMixcclxuICAgICAgICAgICAgICAgIGDCoUVyZXMgJHtjaGFyYWN0ZXJOYW1lfSFgLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRoaXMucGxheWVyUm9sZSA9PT0gJ25pdmlhJyA/ICcjODdDRUVCJyA6ICcjRkZENzAwJyxcclxuICAgICAgICAgICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogeyB4OiAyMCwgeTogMTAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgICAgIC5zZXREZXB0aCgxMDAwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFuaW1hciBlbCB0ZXh0byB5IGx1ZWdvIGRlc2FwYXJlY2VybG9cclxuICAgICAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldHM6IGFubm91bmNlbWVudFRleHQsXHJcbiAgICAgICAgICAgICAgICBhbHBoYTogMCxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAwLFxyXG4gICAgICAgICAgICAgICAgZGVsYXk6IDE1MDAsXHJcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ub3VuY2VtZW50VGV4dC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaG93TGVhdmVDb25maXJtYXRpb24oKSB7XHJcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuY2FtZXJhcy5tYWluLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICAvLyBGb25kbyBvc2N1cm9cclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoLCAweDA3MDcyMiwgMC45KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldERlcHRoKDMwMDApXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSgpO1xyXG5cclxuICAgICAgICAvLyBDYWphIGRlIHBpZWRyYVxyXG4gICAgICAgIGNvbnN0IGJveCA9IHRoaXMuYWRkLmltYWdlKHcvMiwgaC8yLCAndHV0b3JpYWxCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldERlcHRoKDMwMDEpO1xyXG5cclxuICAgICAgICAvLyBJbWFnZW4gZGVsIHTDrXR1bG8gXHJcbiAgICAgICAgY29uc3QgdGl0bGVJbWFnZSA9IHRoaXMuYWRkLmltYWdlKHcvMiwgaC8yIC0gMTIwLCAndGV4dG9fYWJhbmRvbmFyUGFydGlkYScpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSlcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMzAwMik7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamUgXHJcbiAgICAgICAgY29uc3QgbXNnID0gdGhpcy5hZGQudGV4dCh3LzIsIGgvMiAtIDEwLCBcclxuICAgICAgICAgICAgJ8K/U2VndXJvIHF1ZSBxdWllcmVzIGFiYW5kb25hcj9cXG5cXG5FbCBvdHJvIGp1Z2Fkb3Igc2Vyw6Egbm90aWZpY2FkbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2F1ZGV4J1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgzMDAyKTtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIFPDjSwgU0FMSVIgKGl6cXVpZXJkYSlcclxuICAgICAgICBjb25zdCBjb25maXJtQnRuID0gdGhpcy5hZGQuaW1hZ2Uody8yIC0gMTYwLCBoLzIgKyAxMjAsICdzaVNhbGlyJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjYpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMzAwMik7XHJcblxyXG4gICAgICAgIGNvbmZpcm1CdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHcvMiAtIDE2MCwgaC8yICsgMTIwLCAnc2lTYWxpckhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC42KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoMzAwNCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uZmlybUJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uZmlybUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHdzU2VydmljZS5zZW5kR2FtZU92ZXIoJ2Rpc2Nvbm5lY3QnKTtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIENBTkNFTEFSIChkZXJlY2hhKVxyXG4gICAgICAgIGNvbnN0IGNhbmNlbEJ0biA9IHRoaXMuYWRkLmltYWdlKHcvMiArIDE2MCwgaC8yICsgMTIwLCAnY2FuY2VsYXInKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNilcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgzMDAyKTtcclxuXHJcbiAgICAgICAgY2FuY2VsQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSh3LzIgKyAxNjAsIGgvMiArIDEyMCwgJ2NhbmNlbGFySG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCgzMDA0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjYW5jZWxCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNhbmNlbEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGJnLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgYm94LmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdGl0bGVJbWFnZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIG1zZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIGNvbmZpcm1CdG4uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBjYW5jZWxCdG4uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLnJlc3VtZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLmxvYWQuYXRsYXMoJ25pdmlhJywgJ2Fzc2V0cy9uaXZpYS9uaXZpYV9zaGVldC5wbmcnLCAnYXNzZXRzL25pdmlhL25pdmlhX3NoZWV0Lmpzb24nKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXRsYXMoJ3NvbGVubmUnLCAnYXNzZXRzL3NvbGVubmUvc29sZW5uZV9zaGVldC5wbmcnLCAnYXNzZXRzL3NvbGVubmUvc29sZW5uZV9zaGVldC5qc29uJyk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBjcmlzdGFsZXNcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3N1bmRyb3Bfc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL3N1bmRyb3AucG5nJywgeyBmcmFtZVdpZHRoOiAyMTQsIGZyYW1lSGVpZ2h0OiAyMDYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uZHJvcF9zaGVldCcsICdhc3NldHMvaXRlbXMvbW9vbmRyb3AucG5nJywgeyBmcmFtZVdpZHRoOiAyMTQsIGZyYW1lSGVpZ2h0OiAyMDYgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnc3VuX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9zdW4ucG5nJywgeyBmcmFtZVdpZHRoOiAzNDcsIGZyYW1lSGVpZ2h0OiAzMjkgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9tb29uLnBuZycsIHsgZnJhbWVXaWR0aDogMzQ3LCBmcmFtZUhlaWdodDogMzI5IH0pO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZWwgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwxL2ZvbmRvX2FiYWpvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhdGFmb3JtYXMnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvcGxhdGFmb3JtYXNfYWJham8ucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBlbGVtZW50b3MgZGVsIGVzY2VuYXJpb1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhTml2ZWwxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwxL3B1ZXJ0YV9jbGFyYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYU5pdmVsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9wdWVydGFfb3NjdXJhLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmExLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmEyTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTNOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYTFOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX29zY3VyYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFPc2N1cmEyTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9vc2N1cmEyLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uQ2xhcm9OaXZlbDEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvYm90b25fY2xhcm8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk9zY3VybzFOaXZlbDEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvYm90b25fb3NjdXJvLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25DbGFyb05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9jbGFyby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uT3NjdXJvMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9vc2N1cm8xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Pc2N1cm8yTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX29zY3VybzIucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9ydGFsJywgJ2Fzc2V0cy90cmFtcGFzL3B1ZXJ0YUZpbmFsLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgYm90b25lc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGF1c2VCdXR0b24nLCAnYXNzZXRzL3BhdXNhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGF1c2VCdXR0b25Ib3ZlcicsICdhc3NldHMvcGF1c2FIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc0J1dHRvbicsICdhc3NldHMvYWp1c3Rlcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzQnV0dG9uSG92ZXInLCAnYXNzZXRzL2FqdXN0ZXNIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbicsICdhc3NldHMvcmVpbmljaWFyLlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9yZWluaWNpYXJIb3Zlci5QTkcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90b25lcyBhYmFuZG9ubyBwYXJ0aWRhOlxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0b3JpYWxCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0ZXh0b19hYmFuZG9uYXJQYXJ0aWRhJywgJ2Fzc2V0cy90ZXh0b19hYmFuZG9uYXJQYXJ0aWRhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc2lTYWxpcicsICdhc3NldHMvc2lTYWxpci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NpU2FsaXJIb3ZlcicsICdhc3NldHMvc2lTYWxpckhvdmVyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FuY2VsYXInLCAnYXNzZXRzL2NhbmNlbGFyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FuY2VsYXJIb3ZlcicsICdhc3NldHMvY2FuY2VsYXJIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90b25lcyBhYmFuZG9ubyBwYXJ0aWRhOlxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0b3JpYWxCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0ZXh0b19hYmFuZG9uYXJQYXJ0aWRhJywgJ2Fzc2V0cy90ZXh0b19hYmFuZG9uYXJQYXJ0aWRhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc2lTYWxpcicsICdhc3NldHMvc2lTYWxpci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NpU2FsaXJIb3ZlcicsICdhc3NldHMvc2lTYWxpckhvdmVyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FuY2VsYXInLCAnYXNzZXRzL2NhbmNlbGFyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2FuY2VsYXJIb3ZlcicsICdhc3NldHMvY2FuY2VsYXJIb3Zlci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2FiYW5kb25hcicsICdhc3NldHMvYWJhbmRvbmFyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYWJhbmRvbmFySG92ZXInLCAnYXNzZXRzL2FiYW5kb25hckhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvL0Rhw7FvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkYW1hZ2UnLCAnYXNzZXRzL3RyYW1wYXMvbGlhbmFzX3BsYXRhZm9ybWFzLnBuZycpXHJcblxyXG4gICAgICAgIC8vIEVmZWN0b3MgZGUgc29uaWRvIHkgbcO6c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2Fsa1NvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY2FtaW5hci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2NvbGxlY3RTdW5DcnlzdGFsU291bmQnLCAnYXNzZXRzL3Nvbmlkby9jcmlzdGFsQ2xhcm8ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0TW9vbkNyeXN0YWxTb3VuZCcsICdhc3NldHMvc29uaWRvL2NyaXN0YWxPc2N1cm8ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIE3DmlNJQ0EgRVNQRUPDjUZJQ0EgREVMIEpVRUdPXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdHYW1lTXVzaWMnLCAnYXNzZXRzL3Nvbmlkby9qdWVnby5tcDMnKTsgXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG5cclxuICAgICAgICAvLyBEZXRlY3RhIHDDqXJkaWRhIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgLy8gRXZpdGFyIG3Dumx0aXBsZXMgZGlzcGFyb3MgZGVsIG1pc21vIGV2ZW50b1xyXG4gICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICBpZiAoIWRhdGEuY29ubmVjdGVkICYmIHRoaXMuc2NlbmUuaXNBY3RpdmUoJ0dhbWVTY2VuZScpICYmICF0aGlzLmlzSGFuZGxpbmdEaXNjb25uZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobm93IC0gdGhpcy5sYXN0RGlzY29ubmVjdGlvblRpbWUgPiB0aGlzLmRpc2Nvbm5lY3Rpb25Db29sZG93bikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDb25leGnDs24gcGVyZGlkYSBkdXJhbnRlIGVsIGp1ZWdvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0hhbmRsaW5nRGlzY29ubmVjdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RGlzY29ubmVjdGlvblRpbWUgPSBub3c7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3Rpb25Mb3N0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5jb25uZWN0ZWQgJiYgdGhpcy5pc0hhbmRsaW5nRGlzY29ubmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVjb25leGnDs24gZGV0ZWN0YWRhXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSGFuZGxpbmdEaXNjb25uZWN0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVjb25leGnDs24gZGV0ZWN0YWRhJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gRXZlbnQgbGlzdGVuZXIgcGFyYSBjdWFuZG8gbGEgZXNjZW5hIHNlIHJlYW51ZGFcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncmVzdW1lJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnR2FtZVNjZW5lIHJlYW51ZGFkYScpO1xyXG4gICAgICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5yZXN1bWUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRXZlbnQgbGlzdGVuZXIgcGFyYSBjdWFuZG8gbGEgZXNjZW5hIHNlIHBhdXNhXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3BhdXNlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnR2FtZVNjZW5lIHBhdXNhZGEnKTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1hcFdpZHRoSW5QaXhlbHMgPSAxNDIwO1xyXG4gICAgICAgIGNvbnN0IG1hcEhlaWdodEluUGl4ZWxzID0gODAwO1xyXG5cclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBEZXRlbmVyIHNvbG8gbGEgbcO6c2ljYSBkZWwgbWVuw7ogc2kgZXN0w6Egc29uYW5kb1xyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdNZW51TXVzaWMnKTtcclxuXHJcbiAgICAgICAgLy8gUmVwcm9kdWNpciBsYSBtw7pzaWNhIGRlbCBqdWVnb1xyXG4gICAgICAgIGlmICh0aGlzLmNhY2hlLmF1ZGlvLmV4aXN0cygnR2FtZU11c2ljJykpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdHYW1lTXVzaWMnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4xIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWdyZWdhciBmb25kb1xyXG4gICAgICAgIC8vY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8xJykuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIC8vYmcuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xyXG5cclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDAsIDAsICdmb25kbycpLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICBiZy5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBsYXRhZm9ybWEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgwLCAwLCAncGxhdGFmb3JtYXMnKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgcGxhdGFmb3JtYS5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGxhIGbDrXNpY2EgZGVsIG11bmRvXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLmdyYXZpdHkueSA9IDE1MDA7XHJcblxyXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcblxyXG5cclxuICAgICAgICAvLyBURU1QT1JBTDogQ3JlYXIgdW4gc3VlbG8gc2ltcGxlIHBhcmEgcXVlIHB1ZWRhbiBzYWx0YXIgeSBjYWVyXHJcbiAgICAgICAgdGhpcy5ncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgbWFwSGVpZ2h0SW5QaXhlbHMsIG1hcFdpZHRoSW5QaXhlbHMsIDEwLCAweDAwRkYwMCwgMCkuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5ncm91bmQsIHRydWUpOyAvLyB0cnVlID0gZXN0w6F0aWNvXHJcblxyXG4gICAgICAgIC8vQ3JlYWNpw7NuIGRlIGxhcyBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMjAwLCA0ODAsIDMwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNTc1LCA0ODAsIDE1MCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTMgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTAwMCwgNTUwLCA0MDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTMsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDMwMCwgMTUwLCAyMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTQsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE1ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDg3NSwgMjc1LCAxNTAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTUsIHRydWUpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5wYXJlZDEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNDAwLCA1MCwgMjAsIDIwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBhcmVkMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGFyZWQyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDkwMCwgNzAwLCAyMDAsIDMwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBhcmVkMiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbCA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDEwMDAsIDEwLCAncG9ydGFsJykuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5leGl0UG9ydGFsLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gcHVlcnRhc1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoNzAwLCA0MDAsICdwdWVydGFPc2N1cmFOaXZlbDEnKS5zZXRTY2FsZSgwLjcpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yMSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDc1MCwgNDAwLCAncHVlcnRhQ2xhcmFOaXZlbDEnKS5zZXRTY2FsZSgwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLmRhcmtEb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyNTAsIDM3NSwgMjAsIDMwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhcmtEb29yMUhpdGJveCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMubGlnaHREb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg5MjAsIDQwMCwgMjAsIDI4MCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjFIaXRib3gsIHRydWUpO1xyXG5cclxuICAgICAgICAvLyBkYcOxbyBwbGFjZWhvbGRlclxyXG4gICAgICAgIHRoaXMudHJhbXBhID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoNDUwLCAxNTAsICdkYW1hZ2UnKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMuZGFtYWdlID0gdGhpcy5hZGQucmVjdGFuZ2xlKDQ4MCwgMTAwLCAxMDAsIDYwLCAweDMzZmYwMCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFtYWdlLCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgc3VlbG8geSBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5ncm91bmQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmdyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWExKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE0KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE1KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBhcmVkMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGFyZWQxKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGFyZWQyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wYXJlZDIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5saWdodERvb3IxSGl0Ym94KTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmxpZ2h0RG9vcjFIaXRib3gpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmRhcmtEb29yMUhpdGJveCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMuZGFya0Rvb3IxSGl0Ym94KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCduaXZpYScpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygnc29sZW5uZScpO1xyXG5cclxuICAgICAgICAvLyBJbmljaWFyIGxhIGFuaW1hY2nDs24gJ3J1bicgcGFyYSBwcm9iYXIgKHNlIGNvcnJlZ2lyw6EgZW4gdXBkYXRlKVxyXG4gICAgICAgIHRoaXMubml2aWEucGxheSgnbml2aWFfaWRsZScpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZS5wbGF5KCdzb2xlbm5lX2lkbGUnKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYWNpw7NuIGRlIGxvcyBvYmpldG9zXHJcbiAgICAgICAgdGhpcy5jcnlzdGFscyA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoeyBhbGxvd0dyYXZpdHk6IGZhbHNlLCBpbW1vdmFibGU6IHRydWUgfSk7XHJcbiAgICAgICAgdGhpcy5tb29uQ3J5c3RhbCA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKDExMDAsIDQwMCwgJ21vb25kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMuc3VuQ3J5c3RhbCA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKDEwMCwgMTAwLCAnc3VuZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICAvL3RoaXMuc3VuQ3J5c3RhbCA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKG1hcC53aWR0aEluUGl4ZWxzIC0gMjAwLCAzMDAsICdzdW5DcnlzdGFsJykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5tZXRhUG9ydGFsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUobWFwV2lkdGhJblBpeGVscyAvIDIsIDUwLCAnbWV0YVBvcnRhbCcpLnNldEltbW92YWJsZSh0cnVlKS5zZXRCb2R5U2l6ZSg2NCwgNjQpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2lvbmVzIGRlIGxvcyBvYmpldG9zXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdzdW5kcm9wX2lkbGUnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3N1bmRyb3Bfc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDcgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdtb29uZHJvcF9pZGxlJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdtb29uZHJvcF9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogNyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1vb25DcnlzdGFsLnBsYXkoJ21vb25kcm9wX2lkbGUnKTtcclxuICAgICAgICB0aGlzLnN1bkNyeXN0YWwucGxheSgnc3VuZHJvcF9pZGxlJyk7XHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGVsIEljb25vIGRlbCBTb2wgKEhVRClcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3N1bl9odWRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnc3VuX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGVsIEljb25vIGRlIGxhIEx1bmEgKEhVRClcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ21vb25faHVkX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ21vb25fc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIEx1bmEgKE5pdmlhKSAtIEl6cXVpZXJkYVxyXG4gICAgICAgIHRoaXMubW9vbkhVRCA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYIC0gMjAsIDQwLCAnbW9vbl9zaGVldCcpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMTUpIC8vIEVzY2FsYSBNVVkgcmVkdWNpZGEsIHlhIHF1ZSBsb3Mgc3ByaXRlc2hlZXRzIHNvbiBncmFuZGVzICgzNDd4MzI5KVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMClcclxuICAgICAgICAgICAgLnBsYXkoJ21vb25faHVkX2FuaW0nKTsgLy8gSW5pY2lhIGxhIGFuaW1hY2nDs25cclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIFNvbCAoU29sZW5uZSkgLSBEZXJlY2hhXHJcbiAgICAgICAgdGhpcy5zdW5IVUQgPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCArIDIwLCA0MCwgJ3N1bl9zaGVldCcpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMTUpIC8vIEVzY2FsYSBNVVkgcmVkdWNpZGFcclxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgICAgIC5wbGF5KCdzdW5faHVkX2FuaW0nKTsgLy8gSW5pY2lhIGxhIGFuaW1hY2nDs25cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBsYSByZWNvbGVjY2nDs24gZGUgY3Jpc3RhbGVzXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubW9vbkNyeXN0YWwsIHRoaXMuY29sbGVjdE1vb25DcnlzdGFsLCBudWxsLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLnN1bkNyeXN0YWwsIHRoaXMuY29sbGVjdFN1bkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGZpbiBkZSBuaXZlbCAoT3ZlcmxhcCBkZWwgcG9ydGFsKVxyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubWV0YVBvcnRhbCwgdGhpcy5jaGVja0xldmVsQ29tcGxldGUsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5tZXRhUG9ydGFsLCB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSwgbnVsbCwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIENvbGlzaW9uZXMgZW50cmUgcGVyc29uYWplcyB5IGVsIG5pdmVsXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIGdlb21ldHJ5TGF5ZXIpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIGdlb21ldHJ5TGF5ZXIpO1xyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFjacOzbiBkZSBsYSBjw6FtYXJhXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0Qm91bmRzKDAsIDAsIG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbCBkZSBwYXVzYVxyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmV4aXRQb3J0YWwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5leGl0UG9ydGFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHBhdXNhXHJcbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMCk7XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5wYXVzZUJ1dHRvbi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBhanVzdGVzXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbiA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gMTIwLCA0MCwgJ1NldHRpbmdzQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDEyMCwgNDAsICdTZXR0aW5nc0J1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCh0aGlzLnNldHRpbmdzQnV0dG9uLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdTZXR0aW5nc1NjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pc011bHRpcGxheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKCd1cGRhdGUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZXhpdFBvcnRhbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5waHlzaWNzLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLmV4aXRQb3J0YWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5kYW1hZ2UsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNNdWx0aXBsYXllciAmJiB3c1NlcnZpY2UuaXNDb25uZWN0ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgd3NTZXJ2aWNlLnNlbmRHYW1lT3ZlcigndHJhcCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gTW9kbyBsb2NhbFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0dhbWVPdmVyU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZGFtYWdlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGF5ZXIgJiYgd3NTZXJ2aWNlLmlzQ29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIHdzU2VydmljZS5zZW5kR2FtZU92ZXIoJ3RyYXAnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIE1vZG8gbG9jYWxcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdHYW1lT3ZlclNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc011bHRpcGxheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dXBNdWx0aXBsYXllcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cE11bHRpcGxheWVyKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICduaXZpYScpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IHRoaXMubml2aWE7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gdGhpcy5zb2xlbm5lO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAnc29sZW5uZScpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IHRoaXMuc29sZW5uZTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSB0aGlzLm5pdmlhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ29uZmlndXJhciBsb3MgaGFuZGxlcnMgcGFyYSBldmVudG9zIGRlIHJlZFxyXG4gICAgICAgIHRoaXMucGxheWVyTW92ZUhhbmRsZXIgPSB0aGlzLmhhbmRsZVJlbW90ZVBsYXllck1vdmUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNyeXN0YWxDb2xsZWN0ZWRIYW5kbGVyID0gdGhpcy5oYW5kbGVSZW1vdGVDcnlzdGFsQ29sbGVjdGVkLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5wb3J0YWxTcGF3bmVkSGFuZGxlciA9IHRoaXMuaGFuZGxlUmVtb3RlUG9ydGFsU3Bhd25lZC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudmljdG9yeUhhbmRsZXIgPSB0aGlzLmhhbmRsZVJlbW90ZVZpY3RvcnkuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmdhbWVPdmVySGFuZGxlciA9IHRoaXMuaGFuZGxlUmVtb3RlR2FtZU92ZXIuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnBsYXllckRpc2Nvbm5lY3RlZEhhbmRsZXIgPSB0aGlzLmhhbmRsZVBsYXllckRpc2Nvbm5lY3RlZC5iaW5kKHRoaXMpO1xyXG5cclxuICAgICAgICB3c1NlcnZpY2Uub24oJ3BsYXllck1vdmUnLCB0aGlzLnBsYXllck1vdmVIYW5kbGVyKTtcclxuICAgICAgICB3c1NlcnZpY2Uub24oJ2NyeXN0YWxDb2xsZWN0ZWQnLCB0aGlzLmNyeXN0YWxDb2xsZWN0ZWRIYW5kbGVyKTtcclxuICAgICAgICB3c1NlcnZpY2Uub24oJ3BvcnRhbFNwYXduZWQnLCB0aGlzLnBvcnRhbFNwYXduZWRIYW5kbGVyKTtcclxuICAgICAgICB3c1NlcnZpY2Uub24oJ3ZpY3RvcnknLCB0aGlzLnZpY3RvcnlIYW5kbGVyKTtcclxuICAgICAgICB3c1NlcnZpY2Uub24oJ2dhbWVPdmVyJywgdGhpcy5nYW1lT3ZlckhhbmRsZXIpO1xyXG4gICAgICAgIHdzU2VydmljZS5vbigncGxheWVyRGlzY29ubmVjdGVkJywgdGhpcy5wbGF5ZXJEaXNjb25uZWN0ZWRIYW5kbGVyKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3luY0xvY2FsUGxheWVyUG9zaXRpb24oKSB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgLy8gU29sbyBlbnZpYXIgY2FkYSBYIG1pbGlzZWd1bmRvcyBwYXJhIG5vIHNhdHVyYXIgbGEgcmVkXHJcbiAgICAgICAgaWYgKG5vdyAtIHRoaXMubGFzdFN5bmNUaW1lIDwgdGhpcy5zeW5jSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxhc3RTeW5jVGltZSA9IG5vdztcclxuXHJcbiAgICAgICAgLy8gRW52aWFyIHBvc2ljacOzbiBkZWwganVnYWRvciBsb2NhbFxyXG4gICAgICAgIGlmICh0aGlzLmxvY2FsUGxheWVyICYmIHdzU2VydmljZS5pc0Nvbm5lY3RlZCgpKSB7XHJcbiAgICAgICAgICAgIHdzU2VydmljZS5zZW5kUGxheWVyTW92ZShcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIueCxcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIueSxcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuZmxpcFgsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLmFuaW1zLmN1cnJlbnRBbmltPy5rZXkgfHwgJ2lkbGUnXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vID09PT09PT09PT09PT09PT09PT09IEhBTkRMRVJTIERFIFJFRCA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFuZWphciBtb3ZpbWllbnRvIGRlbCBqdWdhZG9yIHJlbW90b1xyXG4gICAgICovXHJcbiAgICBoYW5kbGVSZW1vdGVQbGF5ZXJNb3ZlKGRhdGEpIHtcclxuICAgICAgICBpZiAoIXRoaXMucmVtb3RlUGxheWVyKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIEFjdHVhbGl6YXIgcG9zaWNpw7NuIGRlbCBvdHJvIGp1Z2Fkb3JcclxuICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5zZXRQb3NpdGlvbihkYXRhLngsIGRhdGEueSk7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuc2V0RmxpcFgoZGF0YS5mbGlwWCk7XHJcblxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgYW5pbWFjacOzblxyXG4gICAgICAgIGlmIChkYXRhLmFuaW1LZXkgJiYgdGhpcy5yZW1vdGVQbGF5ZXIuYW5pbXMuY3VycmVudEFuaW0/LmtleSAhPT0gZGF0YS5hbmltS2V5KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyLmFuaW1zLnBsYXkoZGF0YS5hbmltS2V5LCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYW5lamFyIHJlY29sZWNjacOzbiBkZSBjcmlzdGFsIHBvciBlbCBvdHJvIGp1Z2Fkb3JcclxuICAgICAqL1xyXG4gICAgaGFuZGxlUmVtb3RlQ3J5c3RhbENvbGxlY3RlZChkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYPCfko4gQ3Jpc3RhbCAke2RhdGEuY3J5c3RhbFR5cGV9IHJlY29naWRvIHBvciBlbCBvdHJvIGp1Z2Fkb3JgKTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGEuY3J5c3RhbFR5cGUgPT09ICdtb29uJykge1xyXG4gICAgICAgICAgICAvLyBEZXNhY3RpdmFyIGNyaXN0YWwgZGUgbHVuYVxyXG4gICAgICAgICAgICB0aGlzLm1vb25DcnlzdGFsLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLm1vb25IVUQuc2V0VmlzaWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIERlc2Jsb3F1ZWFyIHB1ZXJ0YSBvc2N1cmFcclxuICAgICAgICAgICAgaWYgKGRhdGEuZGFya0Rvb3JVbmxvY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51bmxvY2tEYXJrRG9vcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLmNyeXN0YWxUeXBlID09PSAnc3VuJykge1xyXG4gICAgICAgICAgICAvLyBEZXNhY3RpdmFyIGNyaXN0YWwgZGUgc29sXHJcbiAgICAgICAgICAgIHRoaXMuc3VuQ3J5c3RhbC5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3VuSFVELnNldFZpc2libGUodHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBEZXNibG9xdWVhciBwdWVydGEgY2xhcmFcclxuICAgICAgICAgICAgaWYgKGRhdGEubGlnaHREb29yVW5sb2NrZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5sb2NrTGlnaHREb29yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYW5lamFyIGFwYXJpY2nDs24gZGVsIHBvcnRhbFxyXG4gICAgICovXHJcbiAgICBoYW5kbGVSZW1vdGVQb3J0YWxTcGF3bmVkKGRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+aqiBQb3J0YWwgYWN0aXZhZG8gcG9yIGVsIHNlcnZpZG9yJyk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5leGl0UG9ydGFsLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5leGl0UG9ydGFsLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5ib2R5LmVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFuZWphciB2aWN0b3JpYVxyXG4gICAgICovXHJcbiAgICBoYW5kbGVSZW1vdGVWaWN0b3J5KGRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnwqFWSUNUT1JJQSBNVUxUSUpVR0FET1IgcmVjaWJpZGEhJyk7XHJcblxyXG4gICAgICAgIC8vIDEuIEVsIHNlcnZpZG9yIHN1ZWxlIGVudmlhciBlbCB0aWVtcG8gZW4gZWwgbWVuc2FqZSAoZGF0YS50aW1lKVxyXG4gICAgICAgIC8vIFNpIG5vIHZpZW5lLCBsbyBjYWxjdWxhbW9zIGxvY2FsbWVudGUgY29tbyBiYWNrdXBcclxuICAgICAgICBjb25zdCBmaW5hbFRpbWUgPSBkYXRhLnRpbWUgfHwgTWF0aC5mbG9vcigodGhpcy50aW1lLm5vdyAtIHRoaXMuc3RhcnRUaW1lKSAvIDEwMDApO1xyXG5cclxuICAgICAgICAvLyAyLiBJTVBPUlRBTlRFOiBBdW5xdWUgc2VhIHJlbW90bywgZXN0ZSBqdWdhZG9yIFRBTUJJw4lOIGRlYmUgXHJcbiAgICAgICAgLy8gaW50ZW50YXIgZ3VhcmRhciBzdSBtZWpvciB0aWVtcG8gZW4gZWwgc2Vydmlkb3IuXHJcbiAgICAgICAgY29uc3QgdXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpO1xyXG4gICAgICAgIGlmICh1c2VySWQgJiYgdXNlcklkICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIGZldGNoKGAvYXBpL3VzZXJzLyR7dXNlcklkfS9zY29yZWAsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdGltZTogZmluYWxUaW1lIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcIlRpZW1wbyByZW1vdG8gZ3VhcmRhZG9cIikpXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBndWFyZGFyIHRpZW1wbyByZW1vdG86XCIsIGVycikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gMy4gTGFuemFyIGxhIGVzY2VuYSBkZSB2aWN0b3JpYSBjb24gZWwgdGllbXBvIHJlY2liaWRvXHJcbiAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1ZpY3RvcnlTY2VuZScsIHtcclxuICAgICAgICAgICAgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXksXHJcbiAgICAgICAgICAgIGlzTXVsdGlwbGF5ZXI6IHRydWUsXHJcbiAgICAgICAgICAgIGZpbmFsVGltZTogZmluYWxUaW1lIC8vIEVzdGUgZXMgZWwgXCJkYXRhXCIgcXVlIGxlZXLDoSBWaWN0b3J5U2NlbmVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFuZWphciBnYW1lIG92ZXIgc2luY3Jvbml6YWRvXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZVJlbW90ZUdhbWVPdmVyKGRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnR2FtZSBPdmVyIHJlY2liaWRvIGRlbCBzZXJ2aWRvcjonLCBkYXRhLnJlYXNvbik7XHJcblxyXG4gICAgICAgIC8vIFBhdXNhciBmw61zaWNhXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIC8vIExhbnphciBlc2NlbmEgZGUgR2FtZSBPdmVyXHJcbiAgICAgICAgaWYgKGRhdGEucmVhc29uID09PSAnZGlzY29ubmVjdCcpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BsYXllckRpc2Nvbm5lY3RlZFNjZW5lJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBQYXJhIHRyYW1wYXMgdSBvdHJhcyByYXpvbmVzLCB1c2FyIEdhbWVPdmVyU2NlbmUgbm9ybWFsXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdHYW1lT3ZlclNjZW5lJywge1xyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXksXHJcbiAgICAgICAgICAgICAgICBpc011bHRpcGxheWVyOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcmVhc29uOiBkYXRhLnJlYXNvblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1hbmVqYXIgZGVzY29uZXhpw7NuIGRlbCBvdHJvIGp1Z2Fkb3JcclxuICAgICAqL1xyXG4gICAgaGFuZGxlUGxheWVyRGlzY29ubmVjdGVkKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdFbCBvdHJvIGp1Z2Fkb3Igc2UgZGVzY29uZWN0w7MnKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGxheWVyRGlzY29ubmVjdGVkU2NlbmUnKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Db25uZWN0aW9uTG9zdCgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAvLyBSZW1vdmVyIGxpc3RlbmVyIHBhcmEgZXZpdGFyIHF1ZSBzZSBkaXNwYXJlIG1pZW50cmFzIENvbm5lY3Rpb25Mb3N0U2NlbmUgZXN0w6EgYWN0aXZhXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnLCB7IHByZXZpb3VzU2NlbmU6ICdHYW1lU2NlbmUnIH0pO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbFkgPSAxNTAwO1xyXG5cclxuICAgICAgICAvLyBDcmVhY2nDs24gcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubml2aWEgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxMzAwLCBpbml0aWFsWSwgJ25pdmlhJykuc2V0Qm91bmNlKDAuMikuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZSA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDEwMCwgaW5pdGlhbFksICdzb2xlbm5lJykuc2V0Qm91bmNlKDAuMikuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLm5pdmlhLnNldFNpemUoMTIwLCAyNDApO1xyXG4gICAgICAgIHRoaXMubml2aWEuc2V0T2Zmc2V0KDExMCwgNTApO1xyXG5cclxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0U2l6ZSgxMjAsIDI0MCk7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldE9mZnNldCgxMTAsIDUwKTtcclxuXHJcbiAgICAgICAgLy8gRXNjYWxhZG8gZGUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLm5pdmlhLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldFNjYWxlKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENvbnRyb2xlcyBkZSBOaXZpYSAoVGVjbGFzIFdBU0QpXHJcbiAgICAgICAgdGhpcy5uaXZpYUNvbnRyb2xzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHtcclxuICAgICAgICAgICAgbGVmdDogJ0EnLFxyXG4gICAgICAgICAgICByaWdodDogJ0QnLFxyXG4gICAgICAgICAgICB1cDogJ1cnLCAgICAvLyBzYWx0b1xyXG4gICAgICAgICAgICBpbnRlcmFjdDogJ0UnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENvbnRyb2xlcyBkZSBTb2xlbm5lIChGbGVjaGFzKVxyXG4gICAgICAgIHRoaXMuc29sZW5uZUNvbnRyb2xzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHtcclxuICAgICAgICAgICAgbGVmdDogJ0xFRlQnLFxyXG4gICAgICAgICAgICByaWdodDogJ1JJR0hUJyxcclxuICAgICAgICAgICAgdXA6ICdVUCcsICAgLy8gc2FsdG9cclxuICAgICAgICAgICAgaW50ZXJhY3Q6ICdTUEFDRSdcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVBbmltYXRpb25zKGtleSkge1xyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgY29ycmVyXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1fcnVuYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgcHJlZml4OiAncnVuXycsIHN0YXJ0OiAxLCBlbmQ6IDQgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgc2FsdG9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9qdW1wYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgcHJlZml4OiAnanVtcF8nLCBzdGFydDogMSwgZW5kOiA2IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBpZGxlXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1faWRsZWAsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IGZyYW1lczogWydpZGxlXzEnXSB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxLFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQYXVzZWRTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAodGhpcy5pc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lKCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzSGFuZGxpbmdEaXNjb25uZWN0aW9uID0gZmFsc2U7IC8vIFJlc2V0IGRlbCBmbGFnIGRlIGRlc2NvbmV4acOzblxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVBhdXNlKCkge1xyXG4gICAgICAgIGNvbnN0IG5ld1BhdXNlZFN0YXRlID0gIXRoaXMuaXNQYXVzZWQ7XHJcbiAgICAgICAgdGhpcy5zZXRQYXVzZWRTdGF0ZShuZXdQYXVzZWRTdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1NldHRpbmdzU2NlbmUnKTtcclxuICAgICAgICAvL3RoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgcGF1c2EgY29uIHRlY2xhIEVTQ1xyXG4gICAgICAgIGlmICh0aGlzLmVzY0tleS5pc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNNdWx0aXBsYXllcikge1xyXG4gICAgICAgICAgICAvLyBTb2xvIGNvbnRyb2xhcyBUVSBwZXJzb25hamVcclxuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ25pdmlhJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQbGF5ZXJNb3ZlbWVudCh0aGlzLm5pdmlhLCB0aGlzLm5pdmlhQ29udHJvbHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zeW5jTG9jYWxQbGF5ZXJQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3NvbGVubmUnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVBsYXllck1vdmVtZW50KHRoaXMuc29sZW5uZSwgdGhpcy5zb2xlbm5lQ29udHJvbHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zeW5jTG9jYWxQbGF5ZXJQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gTU9ETyBMT0NBTFxyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVBsYXllck1vdmVtZW50KHRoaXMubml2aWEsIHRoaXMubml2aWFDb250cm9scyk7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUGxheWVyTW92ZW1lbnQodGhpcy5zb2xlbm5lLCB0aGlzLnNvbGVubmVDb250cm9scyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmhhbmRsZUNhbWVyYUFuZENvbnN0cmFpbnRzKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmV4aXRQb3J0YWwgJiYgdGhpcy5leGl0UG9ydGFsLnZpc2libGUgJiYgdGhpcy5leGl0UG9ydGFsLmJvZHkuZW5hYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNhbWVyYUFuZENvbnN0cmFpbnRzKCkge1xyXG4gICAgICAgIGNvbnN0IG5pdmlhWSA9IHRoaXMubml2aWEueTtcclxuICAgICAgICBjb25zdCBzb2xlbm5lWSA9IHRoaXMuc29sZW5uZS55O1xyXG5cclxuICAgICAgICAvLyBDZW50cmFyIGxhIGPDoW1hcmEgZW50cmUgYW1ib3MgcGVyc29uYWplc1xyXG4gICAgICAgIGNvbnN0IG1pZFkgPSAobml2aWFZICsgc29sZW5uZVkpIC8gMjtcclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYXIgbGEgcG9zaWNpw7NuIG1lZGlhIGVuIFlcclxuICAgICAgICBsZXQgZGVzaXJlZENhbWVyYVkgPSBtaWRZO1xyXG5cclxuICAgICAgICAvLyBEZXNwbGF6YXIgbGEgY8OhbWFyYSBzdWF2ZW1lbnRlXHJcbiAgICAgICAgY29uc3QgbGVycEZhY3RvciA9IDAuMDU7XHJcbiAgICAgICAgY29uc3QgY2FtZXJhSGVpZ2h0ID0gdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0O1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zY3JvbGxZID0gUGhhc2VyLk1hdGguTGluZWFyKFxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zY3JvbGxZLFxyXG4gICAgICAgICAgICBkZXNpcmVkQ2FtZXJhWSAtIGNhbWVyYUhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgIGxlcnBGYWN0b3JcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBWaWV3cG9ydCBjb25zdHJhaW50XHJcbiAgICAgICAgY29uc3QgbWF4VmVydGljYWxHYXAgPSBjYW1lcmFIZWlnaHQgKiAwLjc7IC8vIGRpc3RhbmNpYSBtw6F4aW1hIHBlcm1pdGlkYSBlbnRyZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlWSA9IE1hdGguYWJzKG5pdmlhWSAtIHNvbGVubmVZKTtcclxuXHJcbiAgICAgICAgaWYgKGRpc3RhbmNlWSA+IG1heFZlcnRpY2FsR2FwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZhc3RlclBsYXllciA9IChuaXZpYVkgPCBzb2xlbm5lWSkgPyB0aGlzLm5pdmlhIDogdGhpcy5zb2xlbm5lO1xyXG4gICAgICAgICAgICBjb25zdCBzbG93ZXJQbGF5ZXIgPSAobml2aWFZIDwgc29sZW5uZVkpID8gdGhpcy5zb2xlbm5lIDogdGhpcy5uaXZpYTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzbG93ZXJQbGF5ZXIuYm9keS5ibG9ja2VkLmRvd24gfHwgc2xvd2VyUGxheWVyLnkgPiBmYXN0ZXJQbGF5ZXIueSArIG1heFZlcnRpY2FsR2FwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZXRlbmVyIGVsIGF2YW5jZSB2ZXJ0aWNhbCAoaGFjaWEgYXJyaWJhKSBkZWwganVnYWRvciBtw6FzIHLDoXBpZG9cclxuICAgICAgICAgICAgICAgIGlmIChmYXN0ZXJQbGF5ZXIuYm9keS52ZWxvY2l0eS55IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZhc3RlclBsYXllci5ib2R5LnZlbG9jaXR5LnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJNb3ZpbWllbnRvIHZlcnRpY2FsIHJlc3RyaW5naWRvIHBvciBlbCBqdWdhZG9yIHJlemFnYWRvLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVQbGF5ZXJNb3ZlbWVudChwbGF5ZXJTcHJpdGUsIGNvbnRyb2xzKSB7XHJcbiAgICAgICAgLy8gVmVsb2NpZGFkIGRlbCBtb3ZpbWllbnRvXHJcbiAgICAgICAgY29uc3Qgc3BlZWQgPSA0MDA7XHJcbiAgICAgICAgY29uc3QganVtcFZlbG9jaXR5ID0gOTAwO1xyXG4gICAgICAgIGNvbnN0IGtleSA9IHBsYXllclNwcml0ZS50ZXh0dXJlLmtleTtcclxuICAgICAgICBjb25zdCBpc01vdmluZyA9IGNvbnRyb2xzLmxlZnQuaXNEb3duIHx8IGNvbnRyb2xzLnJpZ2h0LmlzRG93bjtcclxuICAgICAgICBjb25zdCBpc0dyb3VuZGVkID0gcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xyXG4gICAgICAgIGxldCBhbmlta2V5ID0gJyc7XHJcblxyXG4gICAgICAgIC8vIEzDs2dpY2EgcGFyYSByZXByb2R1Y2lyIGVsIHNvbmlkbyBkZSBjYW1pbmFyXHJcbiAgICAgICAgaWYgKGlzTW92aW5nICYmIGlzR3JvdW5kZWQpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25pdmlhJyAmJiB0aGlzLmlzTml2aWFXYWxraW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gdGhpcy5zb3VuZC5hZGQoJ3dhbGtTb3VuZCcsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAxIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZy5wbGF5KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSB0aGlzLnNvdW5kLmFkZCgnd2Fsa1NvdW5kJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDEgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcucGxheSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRGV0ZW5lciBlbCBzb25pZG8gc2kgbm8gc2UgZXN0w6EgbW92aWVuZG8gbyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbml2aWEnICYmIHRoaXMuaXNOaXZpYVdhbGtpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTW92aW1pZW50byBob3Jpem9udGFsXHJcbiAgICAgICAgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVgoLXNwZWVkKTtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKGZhbHNlKTsgLy8gTWlyYXIgYSBsYSBpenF1aWVyZGFcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKHNwZWVkKTtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKHRydWUpOyAvLyBNaXJhciBhIGxhIGRlcmVjaGFcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2FsdG8gKHNvbG8gc2kgZXN0w6EgdG9jYW5kbyBlbCBzdWVsbylcclxuICAgICAgICBjb25zdCBpc0p1bXBpbmcgPSBjb250cm9scy51cC5pc0Rvd24gJiYgcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xyXG5cclxuICAgICAgICBpZiAoaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVkoLWp1bXBWZWxvY2l0eSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGFuaW1hY2lvbmVzXHJcbiAgICAgICAgaWYgKCFwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd24pIHtcclxuICAgICAgICAgICAgLy8gRW4gZWwgYWlyZVxyXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9qdW1wYDtcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duIHx8IGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xyXG4gICAgICAgICAgICAvLyBDb3JyaWVuZG9cclxuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1fcnVuYDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZGxlXHJcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X2lkbGVgO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVwcm9kdWNpciBsYSBhbmltYWNpw7NuIHNvbG8gc2kgZXMgZGlmZXJlbnRlIGEgbGEgYWN0dWFsXHJcbiAgICAgICAgaWYgKHBsYXllclNwcml0ZS5hbmltcy5jdXJyZW50QW5pbT8ua2V5ICE9PSBhbmlta2V5KSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5hbmltcy5wbGF5KGFuaW1rZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBpbnRlcmFjY2nDs25cclxuICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKGNvbnRyb2xzLmludGVyYWN0KSkge1xyXG4gICAgICAgICAgICAvLyBBcXXDrSB2YSBsYSBsw7NnaWNhIGRlIGludGVyYWNjacOzbiAocG9yIGVqZW1wbG8sIGFicmlyIHB1ZXJ0YXMsIHJlY29nZXIgb2JqZXRvcywgZXRjLilcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ludGVyYWNjacOzbiByZWFsaXphZGEnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29sbGVjdE1vb25DcnlzdGFsKHBsYXllciwgY3J5c3RhbCkge1xyXG4gICAgICAgIGNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1vb25IVUQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2NvbGxlY3RNb29uQ3J5c3RhbFNvdW5kJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygnTml2aWEgaGEgcmVjb2dpZG8gZWwgQ3Jpc3RhbCBkZSBsYSBMdW5hJyk7XHJcbiAgICAgICAgdGhpcy51bmxvY2tEYXJrRG9vcigpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc011bHRpcGxheWVyICYmIHdzU2VydmljZS5pc0Nvbm5lY3RlZCgpKSB7XHJcbiAgICAgICAgICAgIHdzU2VydmljZS5zZW5kQ3J5c3RhbENvbGxlY3QoJ21vb24nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29sbGVjdFN1bkNyeXN0YWwocGxheWVyLCBjcnlzdGFsKSB7XHJcbiAgICAgICAgY3J5c3RhbC5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnN1bkhVRC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnY29sbGVjdFN1bkNyeXN0YWxTb3VuZCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NvbGVubmUgaGEgcmVjb2dpZG8gZWwgQ3Jpc3RhbCBkZWwgU29sJyk7XHJcbiAgICAgICAgdGhpcy51bmxvY2tMaWdodERvb3IoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNNdWx0aXBsYXllciAmJiB3c1NlcnZpY2UuaXNDb25uZWN0ZWQoKSkge1xyXG4gICAgICAgICAgICB3c1NlcnZpY2Uuc2VuZENyeXN0YWxDb2xsZWN0KCdzdW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdW5sb2NrRGFya0Rvb3IoKSB7XHJcbiAgICAgICAgLy8gTMOzZ2ljYSBwYXJhIGRlc2Jsb3F1ZWFyIGxhIHB1ZXJ0YSBvc2N1cmFcclxuICAgICAgICB0aGlzLmRhcmtEb29yMUhpdGJveC5ib2R5LmVuYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxSGl0Ym94LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdQdWVydGEgT3NjdXJhIGRlc2Jsb3F1ZWFkYScpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tQb3J0YWxTcGF3bigpO1xyXG4gICAgfVxyXG5cclxuICAgIHVubG9ja0xpZ2h0RG9vcigpIHtcclxuICAgICAgICAvLyBMw7NnaWNhIHBhcmEgZGVzYmxvcXVlYXIgbGEgcHVlcnRhIGNsYXJhXHJcbiAgICAgICAgdGhpcy5saWdodERvb3IxSGl0Ym94LmJvZHkuZW5hYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IxSGl0Ym94LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yMS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnUHVlcnRhIENsYXJhIGRlc2Jsb3F1ZWFkYScpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tQb3J0YWxTcGF3bigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrUG9ydGFsU3Bhd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCAmJiB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBbWJvcyBjcmlzdGFsZXMgcmVjb2dpZG9zLiBFbCBwb3J0YWwgYXBhcmVjZS4nKTtcclxuICAgICAgICAgICAgdGhpcy5leGl0UG9ydGFsLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5ib2R5LmVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNoZWNrTGV2ZWxDb21wbGV0ZSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBNT0RPIExPQ0FMXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc011bHRpcGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBWZXJpZmljYXIgb3ZlcmxhcCBtYW51YWxtZW50ZVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgbml2aWFPblBvcnRhbCA9IHRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZXhpdFBvcnRhbCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzb2xlbm5lT25Qb3J0YWwgPSB0aGlzLnBoeXNpY3Mub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZXhpdFBvcnRhbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5pdmlhT25Qb3J0YWwgJiYgc29sZW5uZU9uUG9ydGFsICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsICYmIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnwqFOSVZFTCBDT01QTEVUQURPIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdWaWN0b3J5U2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTU9ETyBNVUxUSUpVR0FET1JcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmV4aXRQb3J0YWwgfHwgIXRoaXMuZXhpdFBvcnRhbC52aXNpYmxlIHx8ICF0aGlzLmxvY2FsUGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFZlcmlmaWNhciBvdmVybGFwIGRlbCBqdWdhZG9yIGxvY2FsIGNvbiBlbCBwb3J0YWxcclxuICAgICAgICAgICAgY29uc3QgaXNPdmVybGFwcGluZyA9IHRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMubG9jYWxQbGF5ZXIsIHRoaXMuZXhpdFBvcnRhbCk7XHJcblxyXG4gICAgICAgICAgICAvLyBEZXRlcm1pbmFyIGVsIGVzdGFkbyBhbnRlcmlvciBzZWfDum4gZWwgcm9sXHJcbiAgICAgICAgICAgIGxldCBwcmV2aW91c1N0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICduaXZpYScpIHtcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzU3RhdGUgPSB0aGlzLm5pdmlhT25Qb3J0YWw7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAnc29sZW5uZScpIHtcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzU3RhdGUgPSB0aGlzLnNvbGVubmVPblBvcnRhbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQWN0dWFsaXphciBlc3RhZG8gbG9jYWwgc2llbXByZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAnbml2aWEnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBpc092ZXJsYXBwaW5nO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3NvbGVubmUnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IGlzT3ZlcmxhcHBpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEVudmlhciBlc3RhZG8gYWwgc2Vydmlkb3IgY2FkYSBmcmFtZSAocGFyYSBhc2VndXJhciBzaW5jcm9uaXphY2nDs24pXHJcbiAgICAgICAgICAgIGlmICh3c1NlcnZpY2UuaXNDb25uZWN0ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgd3NTZXJ2aWNlLnNlbmRQb3J0YWxUb3VjaChpc092ZXJsYXBwaW5nKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5wbGF5ZXJSb2xlfSBlbiBwb3J0YWw6ICR7aXNPdmVybGFwcGluZ31gKTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gY2hlY2tMZXZlbENvbXBsZXRlOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZW5kZ2FtZSgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkp1ZWdvIFRlcm1pbmFkb1wiKTtcclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZmVyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYLCB0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJZIC0gMTAwLCBcIsKhTml2ZWwgQ29tcGxldGFkbyFcIiwge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLCBmaWxsOiAnI0ZGRkZGRidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAvLyBSZWluaWNpYXIgbml2ZWxcclxuICAgICAgICBjb25zdCByZXN0YXJ0YnRuID0gdGhpcy5hZGQuaW1hZ2UoNzA1LCA0MTUsICdSZXN0YXJ0QnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDY5MywgNDI1LCAnUmVzdGFydEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyZXN0YXJ0YnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2NlbmVLZXkgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGF5ZXIpIHtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLm9mZigncGxheWVyTW92ZScsIHRoaXMucGxheWVyTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICB3c1NlcnZpY2Uub2ZmKCdjcnlzdGFsQ29sbGVjdGVkJywgdGhpcy5jcnlzdGFsQ29sbGVjdGVkSGFuZGxlcik7XHJcbiAgICAgICAgICAgIHdzU2VydmljZS5vZmYoJ3BvcnRhbFNwYXduZWQnLCB0aGlzLnBvcnRhbFNwYXduZWRIYW5kbGVyKTtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLm9mZigndmljdG9yeScsIHRoaXMudmljdG9yeUhhbmRsZXIpO1xyXG4gICAgICAgICAgICB3c1NlcnZpY2Uub2ZmKCdnYW1lT3ZlcicsIHRoaXMuZ2FtZU92ZXJIYW5kbGVyKTtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLm9mZigncGxheWVyRGlzY29ubmVjdGVkJywgdGhpcy5wbGF5ZXJEaXNjb25uZWN0ZWRIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQ3JlZGl0c0JveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gUGF1c2FcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhdXNlVGV4dCcsICdhc3NldHMvdGV4dG9fcGF1c2EuUE5HJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b24nLCAnYXNzZXRzL2NlcnJhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b25Ib3ZlcicsICdhc3NldHMvY2VycmFySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSB0dXRvcmlhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVHV0b3JpYWxCdXR0b24nLCAnYXNzZXRzL3R1dG9yaWFsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVHV0b3JpYWxCdXR0b25Ib3ZlcicsICdhc3NldHMvdHV0b3JpYWxIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbicsICdhc3NldHMvcmVpbmljaWFyLlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9yZWluaWNpYXJIb3Zlci5QTkcnKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBCb3TDs24gZGUgdm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmV0TWVudUJ1dHRvbicsICdhc3NldHMvbWVudS5QTkcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JldE1lbnVCdXR0b25Ib3ZlcicsICdhc3NldHMvbWVudUhvdmVyLlBORycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgYWJhbmRvbmFyIHBhcnRpZGFcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0FiYW5kb25hckJ1dHRvbicsICdhc3NldHMvYWJhbmRvbmFyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQWJhbmRvbmFyQnV0dG9uSG92ZXInLCAnYXNzZXRzL2FiYW5kb25hckhvdmVyLnBuZycpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvLyBkaW1lbnNpb25lcyBkZSBsYSBwYW50YWxsYVxyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZlcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAnQ3JlZGl0c0JveCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIFBhdXNhXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAyMTAsICdQYXVzZVRleHQnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgY29uc3QgRXhpdEJ0biA9IHRoaXMuYWRkLmltYWdlKDEwNjksIDE3MCwgJ0V4aXRNaW5CdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMTA2OCwgMTcwLCAnRXhpdE1pbkJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChFeGl0QnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmVncmVzYXIgYSBsYSBlc2NlbmEgb3JpZ2luYWxcclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsKSB0aGlzLnNjZW5lLnJlc3VtZShvcmlnaW5hbCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBUdXRvcmlhbCBcclxuICAgICAgICBjb25zdCB0dXRvcmlhbGJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgMzIwLCAnVHV0b3JpYWxCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgdHV0b3JpYWxidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgMzIwLCAnVHV0b3JpYWxCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodHV0b3JpYWxidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0dXRvcmlhbGJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdHV0b3JpYWxidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnVHV0b3JpYWxTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ1BhdXNlU2NlbmUnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIGNvbnN0IHJlc3RhcnRidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDUsIDQxNSwgJ1Jlc3RhcnRCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjkzLCA0MjUsICdSZXN0YXJ0QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHJlc3RhcnRidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTY2VuZUtleSA9IHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aob3JpZ2luYWxTY2VuZUtleSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQob3JpZ2luYWxTY2VuZUtleSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBBQkFORE9OQVIgUEFSVElEQVxyXG4gICAgICAgIGNvbnN0IGFiYW5kb25hcmJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNjEwLCAnQWJhbmRvbmFyQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGFiYW5kb25hcmJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA2MTAsICdBYmFuZG9uYXJCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoYWJhbmRvbmFyYnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYWJhbmRvbmFyYnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhYmFuZG9uYXJidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBPYnRlbmVyIGxhIGVzY2VuYSBvcmlnaW5hbCAoR2FtZVNjZW5lKVxyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFNjZW5lID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBMbGFtYXIgYWwgbcOpdG9kbyBzaG93TGVhdmVDb25maXJtYXRpb24gZGUgR2FtZVNjZW5lXHJcbiAgICAgICAgICAgIGNvbnN0IGdhbWVTY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KG9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICBpZiAoZ2FtZVNjZW5lICYmIGdhbWVTY2VuZS5zaG93TGVhdmVDb25maXJtYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGdhbWVTY2VuZS5zaG93TGVhdmVDb25maXJtYXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gUmVhbnVkYXIgbGEgZXNjZW5hIG9yaWdpbmFsIHkgcGF1c2FyIFBhdXNlU2NlbmVcclxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsU2NlbmUpIHRoaXMuc2NlbmUucmVzdW1lKG9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIGNvbnN0IG1lbnVidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUxNSwgJ1JldE1lbnVCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgbWVudWJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjk4LCA1MTUsICdSZXRNZW51QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKG1lbnVidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZW51YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzY2VuZXMgPSB0aGlzLmdhbWUuc2NlbmUua2V5cztcclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHNjZW5lcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ01lbnVTY2VuZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aoa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUdXRvcmlhbFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdUdXRvcmlhbFNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gI3JlZ2lvbiBQcmVsb2FkXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dG9yaWFsQm94JywgJ2Fzc2V0cy9jYWphLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBJbWFnZW5lcyBkZSB0ZWNsYXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2tleXMnLCAnYXNzZXRzL3RlY2xhcy5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc29sZW5uZUljb24nLCAnYXNzZXRzL3BlcnNvbmFqZVNvbGVubmUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCduaXZpYUljb24nLCAnYXNzZXRzL3BlcnNvbmFqZU5pdmlhLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBMbGF2ZXNcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3N1bmRyb3Bfc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL3N1bmRyb3AucG5nJywgeyBmcmFtZVdpZHRoOiAyMTQsIGZyYW1lSGVpZ2h0OiAyMDYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uZHJvcF9zaGVldCcsICdhc3NldHMvaXRlbXMvbW9vbmRyb3AucG5nJywgeyBmcmFtZVdpZHRoOiAyMTQsIGZyYW1lSGVpZ2h0OiAyMDYgfSk7XHJcblxyXG4gICAgICAgIC8vIFRyYW1wYVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHJhbXBhJywgJ2Fzc2V0cy90cmFtcGFzL2xpYW5hc19wbGF0YWZvcm1hcy5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUHVlcnRhc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfb3NjdXJhMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvcnRhbEZpbmFsJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwxL3BvcnRhbDEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIHNpZ3VpZW50ZSBwYWdpbmFcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ05leHRQYWdlQnV0dG9uJywgJ2Fzc2V0cy9mbGVjaGFEZXJlY2hhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbmV4dFBhZ2VCdG5PZmYnLCAnYXNzZXRzL2ZsZWNoYURlcmVjaGFPc2N1cmEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIHBhZ2luYSBhbnRlcmlvclxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUHJldlBhZ2VCdXR0b24nLCAnYXNzZXRzL2ZsZWNoYUl6cXVpZXJkYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ByZXZQYWdlQnRuT2ZmJywgJ2Fzc2V0cy9mbGVjaGFJenF1aWVyZGFPc2N1cmEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEltYWdlbiB0dXRvcmlhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaW1hZ2VUdXRvcmlhbCcsICdhc3NldHMvcGFudGFsbGFfdHV0b3JpYWwucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b24nLCAnYXNzZXRzL2NlcnJhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b25Ib3ZlcicsICdhc3NldHMvY2VycmFySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIGRlbCB0dXRvcmlhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVHV0b3JpYWxUZXh0JywgJ2Fzc2V0cy90ZXh0b190dXRvcmlhbC5QTkcnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAjcmVnaW9uIENyZWF0ZVxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gZGltZW5zaW9uZXMgZGUgbGEgcGFudGFsbGFcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcbiAgICAgICAgLy8gYXNlZ3VyYXIgcXVlIGVzdGEgZXNjZW5hIHNlIG11ZXN0cmUgcG9yIGVuY2ltYSBhbCBjcmVhcmxhXHJcbiAgICAgICAgdGhpcy5zY2VuZS5icmluZ1RvVG9wKCk7XHJcbiAgICAgICAgdGhpcy5ob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIC8vIHZhcmlhYmxlcyBkZSBjb250cm9sIGRlIHBhZ2luYXNcclxuICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICB0aGlzLm5ld1BhZ2UgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyB0aWVtcG9cclxuICAgICAgICB0aGlzLnRpbWVyID0gMDtcclxuICAgICAgICB0aGlzLmluaXRUaW1lID0gMDtcclxuICAgICAgICB0aGlzLmxhZyA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuY3J5c3RhbHMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0dyb3VwKCk7XHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuIFxyXG5cclxuICAgICAgICBcclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICd0dXRvcmlhbEJveCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uZXMgZGUgcGFnaW5hcyBkZXNhY3RpdmFkb3NcclxuICAgICAgICB0aGlzLnByZXZQYWdlQnRuT2ZmID0gdGhpcy5hZGQuaW1hZ2UoNjIwLCA2MjUsICdwcmV2UGFnZUJ0bk9mZicpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDAuNyk7XHJcbiAgICAgICAgdGhpcy5uZXh0UGFnZUJ0bk9mZiA9IHRoaXMuYWRkLmltYWdlKDc4MCwgNjI1LCAnbmV4dFBhZ2VCdG5PZmYnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICB0aGlzLkV4aXRCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMDY5LCAxNzAsICdFeGl0TWluQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuRXhpdEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5ob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEwNjgsIDE3MCwgJ0V4aXRNaW5CdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5FeGl0QnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5FeGl0QnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSZWdyZXNhciBhIGxhIGVzY2VuYSBvcmlnaW5hbFxyXG4gICAgICAgIHRoaXMuRXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUob3JpZ2luYWwpOyAvLyByZWFudWRhIFBhdXNlU2NlbmUgc2kgZnVlIGxhIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7IC8vIGNpZXJyYSBUdXRvcmlhbFNjZW5lXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgMjEwLCAnVHV0b3JpYWxUZXh0Jykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vICNyZWdpb24gVXBkYXRlXHJcbiAgICB1cGRhdGUodGltZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmluaXRUaW1lID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5pbml0VGltZSA9IHRpbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGltZXIgPSB0aW1lIC0gdGhpcy5pbml0VGltZSArIHRoaXMubGFnO1xyXG4gICAgICAgIHRoaXMubGFnID0gMDtcclxuXHJcbiAgICAgICAgLy8gI3JlZ2lvbiBQYWdpbmEgVHV0b3JpYWwgMVxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlID09IDEgKSB7XHJcbiAgICAgICAgICAgIC8vIGNhcmdhciBwYWdpbmEgMVxyXG4gICAgICAgICAgICBpZih0aGlzLm5ld1BhZ2UgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5rZXlzSW1nID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCAzODAsICdrZXlzJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5uaXZpYUltZyA9IHRoaXMuYWRkLmltYWdlKDUxNSwgNTgwLCAnbml2aWFJY29uJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43NSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lSW1nID0gdGhpcy5hZGQuaW1hZ2UoODg1LCA1ODAsICdzb2xlbm5lSWNvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEJvdMOzbiBwYWdpbmEgc2lndWllbnRlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4xID0gdGhpcy5hZGQuaW1hZ2UoNzgwLCA2MjUsICdOZXh0UGFnZUJ1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5uZXh0UGFnZUJ0bk9mZi5kZXB0aCArIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRQYWdlQnRuMS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZWxpbWluYXIgYXNzZXRzIHBhZ2luYSAxXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlzSW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5pdmlhSW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvbGVubmVJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4xLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWN0dWFsaXphciBwYWdpbmFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdQYWdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4xLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5ob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg3ODAsIDYyNSwgJ05leHRQYWdlQnV0dG9uJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5uZXh0UGFnZUJ0bjEuZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4xLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5ld1BhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAjcmVnaW9uIFBhZ2luYSBUdXRvcmlhbCAyXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRQYWdlID09IDIpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5uZXdQYWdlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHVlcnRhQ2xhcmEgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDIwMCwgJ3B1ZXJ0YUNsYXJhJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnB1ZXJ0YU9zY3VyYSA9IHRoaXMuYWRkLmltYWdlKDgwMCwgMjAwLCAncHVlcnRhT3NjdXJhJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC42KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vb25DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoNjAwLCAzODAsICdtb29uZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3VuQ3J5c3RhbCA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKDgxNSwgNDY1LCAnc3VuZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubml2aWFJbWcgPSB0aGlzLmFkZC5pbWFnZSgzNTAsIDM4MCwgJ25pdmlhSWNvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lSW1nID0gdGhpcy5hZGQuaW1hZ2UoMzUwLCA0NjUsICdzb2xlbm5lSWNvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQm90w7NuIHBhZ2luYSBzaWd1aWVudGVcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4yID0gdGhpcy5hZGQuaW1hZ2UoNzgwLCA2MjUsICdOZXh0UGFnZUJ1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5uZXh0UGFnZUJ0bk9mZi5kZXB0aCArIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRQYWdlQnRuMi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZWxpbWluYXIgYXNzZXRzIHBhZ2luYSAyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHVlcnRhQ2xhcmEpe3RoaXMucHVlcnRhQ2xhcmEuZGVzdHJveSgpO31cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wdWVydGFPc2N1cmEpe3RoaXMucHVlcnRhT3NjdXJhLmRlc3Ryb3koKTt9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9vbkNyeXN0YWwpe3RoaXMubW9vbkNyeXN0YWwuZGVzdHJveSgpO31cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdW5DcnlzdGFsKXt0aGlzLnN1bkNyeXN0YWwuZGVzdHJveSgpO31cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5uaXZpYUltZyl7dGhpcy5uaXZpYUltZy5kZXN0cm95KCk7fVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvbGVubmVJbWcpe3RoaXMuc29sZW5uZUltZy5kZXN0cm95KCk7fVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnB1ZXJ0YUZpbmFsKXt0aGlzLnB1ZXJ0YUZpbmFsLmRlc3Ryb3koKTt9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2UGFnZUJ0bjIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4yLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWN0dWFsaXphciBwYWdpbmFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdQYWdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4yLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDc4MCwgNjI1LCAnTmV4dFBhZ2VCdXR0b24nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCh0aGlzLm5leHRQYWdlQnRuMi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4yLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEJvdMOzbiBwYWdpbmEgYW50ZXJpb3JcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJldlBhZ2VCdG4yID0gdGhpcy5hZGQuaW1hZ2UoNjIwLCA2MjUsICdQcmV2UGFnZUJ1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5wcmV2UGFnZUJ0bk9mZi5kZXB0aCArIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZQYWdlQnRuMi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZWxpbWluYXIgYXNzZXRzIHBhZ2luYSAyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHVlcnRhQ2xhcmEpe3RoaXMucHVlcnRhQ2xhcmEuZGVzdHJveSgpO31cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wdWVydGFPc2N1cmEpe3RoaXMucHVlcnRhT3NjdXJhLmRlc3Ryb3koKTt9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9vbkNyeXN0YWwpe3RoaXMubW9vbkNyeXN0YWwuZGVzdHJveSgpO31cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdW5DcnlzdGFsKXt0aGlzLnN1bkNyeXN0YWwuZGVzdHJveSgpO31cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5uaXZpYUltZyl7dGhpcy5uaXZpYUltZy5kZXN0cm95KCk7fVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNvbGVubmVJbWcpe3RoaXMuc29sZW5uZUltZy5kZXN0cm95KCk7fVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnB1ZXJ0YUZpbmFsKXt0aGlzLnB1ZXJ0YUZpbmFsLmRlc3Ryb3koKTt9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2UGFnZUJ0bjIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4yLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBhY3R1YWxpemFyIHBhZ2luYVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgLT0gMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld1BhZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2UGFnZUJ0bjIub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5ob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjIwLCA2MjUsICdQcmV2UGFnZUJ1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMucHJldlBhZ2VCdG4yLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2UGFnZUJ0bjIub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV3UGFnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0VGltZSA9IHRpbWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vICNyZWdpb24gUGFnaW5hIDIgYW5pbWFjaW9uZXNcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lciA8IDUwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC50d2Vlbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5uaXZpYUltZyxcclxuICAgICAgICAgICAgICAgICAgICBlYXNlOiAnTGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNjAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHg6IDYwMCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyID4gNjAwICYmIHRoaXMudGltZXIgPCA2NTApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHVlcnRhT3NjdXJhLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9vbkNyeXN0YWwuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyID4gMTAwMCAmJiB0aGlzLnRpbWVyIDwgMTA1MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudHdlZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuc29sZW5uZUltZyxcclxuICAgICAgICAgICAgICAgICAgICBlYXNlOiAnTGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICB4OiA4MTUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lciA+IDIwMDAgJiYgdGhpcy50aW1lciA8IDIwNTAgJiYgIXRoaXMucHVlcnRhRmluYWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHVlcnRhRmluYWwgPSB0aGlzLmFkZC5pbWFnZSgxMDAwLCA0MjAsICdwb3J0YWxGaW5hbCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnB1ZXJ0YUNsYXJhLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3VuQ3J5c3RhbC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhZyA9IDUwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyID4gMjMwMCAmJiB0aGlzLnRpbWVyIDwgMjM1MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudHdlZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMubml2aWFJbWcsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogJ0xpbmVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEyMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgeDogMTAwMCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyID4gMjkwMCAmJiB0aGlzLnRpbWVyIDwgMjk1MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudHdlZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuc29sZW5uZUltZyxcclxuICAgICAgICAgICAgICAgICAgICBlYXNlOiAnTGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNjAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHg6IDEwMDAsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcmVpbmljaWFyIHBhZ2luYSAyXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyID4gMzkwMCAmJiB0aGlzLnRpbWVyIDwgMzk1MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudHdlZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IFt0aGlzLnNvbGVubmVJbWcsIHRoaXMubml2aWFJbWddLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2U6ICdMaW5lYXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHg6IDM1MCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdFRpbWUgPSB0aW1lO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHVlcnRhRmluYWwgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHVlcnRhQ2xhcmEgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDIwMCwgJ3B1ZXJ0YUNsYXJhJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMucHVlcnRhT3NjdXJhID0gdGhpcy5hZGQuaW1hZ2UoODAwLCAyMDAsICdwdWVydGFPc2N1cmEnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjYpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubW9vbkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSg2MDAsIDM4MCwgJ21vb25kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdW5DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoODE1LCA0NjUsICdzdW5kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAjcmVnaW9uIFBhZ2luYSBUdXRvcmlhbCAzXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRQYWdlID09IDMpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5uZXdQYWdlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbXBhSW1nMSA9IHRoaXMuYWRkLmltYWdlKDI4NSwgNTk1LCAndHJhbXBhJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRGbGlwWSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFtcGFJbWcyID0gdGhpcy5hZGQuaW1hZ2UoMTAzMCwgMjkwLCAndHJhbXBhJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRBbmdsZSg5MCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5uaXZpYUltZyA9IHRoaXMuYWRkLmltYWdlKDM0MCwgMzMwLCAnbml2aWFJY29uJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC42KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvbGVubmVJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDYwLCA2MTUsICdzb2xlbm5lSWNvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQm90w7NuIHBhZ2luYSBhbnRlcmlvclxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2UGFnZUJ0bjMgPSB0aGlzLmFkZC5pbWFnZSg2MjAsIDYyNSwgJ1ByZXZQYWdlQnV0dG9uJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCh0aGlzLnByZXZQYWdlQnRuT2ZmLmRlcHRoICsgMSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJldlBhZ2VCdG4zLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlbGltaW5hciBhc3NldHMgcGFnaW5hIDNcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW1wYUltZzEuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbXBhSW1nMi5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uaXZpYUltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lSW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZQYWdlQnRuMy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWN0dWFsaXphciBwYWdpbmFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlIC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdQYWdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJldlBhZ2VCdG4zLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDYyMCwgNjI1LCAnUHJldlBhZ2VCdXR0b24nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCh0aGlzLnByZXZQYWdlQnRuMy5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJldlBhZ2VCdG4zLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBCb3TDs24gcGFnaW5hIHNpZ3VpZW50ZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0UGFnZUJ0bjMgPSB0aGlzLmFkZC5pbWFnZSg3ODAsIDYyNSwgJ05leHRQYWdlQnV0dG9uJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCh0aGlzLm5leHRQYWdlQnRuT2ZmLmRlcHRoICsgMSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4zLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlbGltaW5hciBhc3NldHMgcGFnaW5hIDNcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW1wYUltZzEuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbXBhSW1nMi5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uaXZpYUltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lSW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZQYWdlQnRuMy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0UGFnZUJ0bjMuZGVzdHJveSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWN0dWFsaXphciBwYWdpbmFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdQYWdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4zLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDc4MCwgNjI1LCAnTmV4dFBhZ2VCdXR0b24nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCh0aGlzLm5leHRQYWdlQnRuMy5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4zLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm5ld1BhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdFRpbWUgPSB0aW1lO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyAjcmVnaW9uIFBhZ2luYSAzIGFuaW1hY2lvbmVzXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGltZXIgPCAxNTApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLnR3ZWVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLm5pdmlhSW1nLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2U6ICdMaW5lYXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA4MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogNjE1LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC50d2Vlbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5zb2xlbm5lSW1nLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2U6ICdMaW5lYXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA4MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogNDYwLFxyXG4gICAgICAgICAgICAgICAgICAgIHg6IDcwMCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyID4gOTUwICYmIHRoaXMudGltZXIgPCAxMDAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnNvbGVubmVJbWcgIT0gbnVsbCAmJiB0aGlzLm5pdmlhSW1nICE9IG51bGwpeyBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvbGVubmVJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubml2aWFJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubml2aWFJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc29sZW5uZUltZyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5pdmlhSW1nID0gdGhpcy5hZGQuaW1hZ2UoMzQwLCAzMzAsICduaXZpYUljb24nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjYpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc29sZW5uZUltZyA9IHRoaXMuYWRkLmltYWdlKDEwNjAsIDYxNSwgJ3NvbGVubmVJY29uJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFnID0gNTA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMudGltZXIgPiAxNDAwICYmIHRoaXMudGltZXIgPCAxNDUwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC50d2Vlbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5uaXZpYUltZyxcclxuICAgICAgICAgICAgICAgICAgICBlYXNlOiAnTGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogODAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IDUyNixcclxuICAgICAgICAgICAgICAgICAgICB4OiA2MzQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLnR3ZWVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnNvbGVubmVJbWcsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogJ0xpbmVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDgwMCxcclxuICAgICAgICAgICAgICAgICAgICB5OiAzNDAsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lciA+IDIyNTAgJiYgdGhpcy50aW1lciA8IDIzMDApIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuc29sZW5uZUltZyAhPSBudWxsICYmIHRoaXMubml2aWFJbWcgIT0gbnVsbCl7IFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc29sZW5uZUltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uaXZpYUltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uaXZpYUltZyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lSW1nID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubml2aWFJbWcgPSB0aGlzLmFkZC5pbWFnZSgzNDAsIDMzMCwgJ25pdmlhSWNvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lSW1nID0gdGhpcy5hZGQuaW1hZ2UoMTA2MCwgNjE1LCAnc29sZW5uZUljb24nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyID4gMzAwMCAmJiB0aGlzLnRpbWVyIDwgMzIwMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0VGltZSA9IHRpbWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAjcmVnaW9uIFBhZ2luYSBUdXRvcmlhbCA0ICBcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudFBhZ2UgPT0gNCkge1xyXG4gICAgICAgICAgICBpZih0aGlzLm5ld1BhZ2UgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gYXNzZXRzIHBhZ2luYSA0XHJcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlVHV0b3JpYWwgPSB0aGlzLmFkZC5pbWFnZSg2OTAsIDQwMCwgJ2ltYWdlVHV0b3JpYWwnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICB0aGlzLkV4aXRCdG4uc2V0RGVwdGgodGhpcy5pbWFnZVR1dG9yaWFsLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZQYWdlQnRuT2ZmLnNldERlcHRoKHRoaXMuaW1hZ2VUdXRvcmlhbC5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0UGFnZUJ0bk9mZi5zZXREZXB0aCh0aGlzLmltYWdlVHV0b3JpYWwuZGVwdGggKyAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBCb3TDs24gcGFnaW5hIGFudGVyaW9yXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJldlBhZ2VCdG40ID0gdGhpcy5hZGQuaW1hZ2UoNjIwLCA2MjUsICdQcmV2UGFnZUJ1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5wcmV2UGFnZUJ0bk9mZi5kZXB0aCArIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZQYWdlQnRuNC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZWxpbWluYXIgYXNzZXRzIHBhZ2luYSA0XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZVR1dG9yaWFsLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZQYWdlQnRuNC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWN0dWFsaXphciBwYWdpbmFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlIC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdQYWdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJldlBhZ2VCdG40Lm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDYyMCwgNjI1LCAnUHJldlBhZ2VCdXR0b24nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCh0aGlzLnByZXZQYWdlQnRuNC5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJldlBhZ2VCdG40Lm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubmV3UGFnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlZGl0c1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRzU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NyZWRpdHNCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b24nLCAnYXNzZXRzL2NlcnJhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b25Ib3ZlcicsICdhc3NldHMvY2VycmFySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIGRlIGNyw6lkaXRvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQ3JlZGl0c1RleHQnLCAnYXNzZXRzL3RleHRvX2NyZWRpdG9zLlBORycpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBkZSBtaWVtYnJvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTWVtYmVyc1RleHQnLCAnYXNzZXRzL25vbWJyZXMuUE5HJyk7XHJcblxyXG4gICAgfVxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gZGltZW5zaW9uZXMgZGUgbGEgcGFudGFsbGFcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAnQ3JlZGl0c0JveCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICBjb25zdCBFeGl0QnRuID0gdGhpcy5hZGQuaW1hZ2UoMTA2OSwgMTcwLCAnRXhpdE1pbkJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDY4LCAxNzAsICdFeGl0TWluQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKEV4aXRCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSZWdyZXNhciBhIGxhIGVzY2VuYSBvcmlnaW5hbFxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgMjEwLCAnQ3JlZGl0c1RleHQnKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KS5cclxuICAgICAgICBzZXRTY2FsZSgxKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MTAsIDQ2MCwgJ01lbWJlcnNUZXh0JylcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0U2NhbGUoMC42NSk7XHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignU2V0dGluZ3NTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc2V0dGluZ3NCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIFZvbHVtZW4gKCsvLSlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BsdXNWb2x1bWVCdXR0b24nLCAnYXNzZXRzL21hcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BsdXNWb2x1bWVCdXR0b25Ib3ZlcicsICdhc3NldHMvbWFzSG92ZXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdNaW51c1ZvbHVtZUJ1dHRvbicsICdhc3NldHMvbWVub3MucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdNaW51c1ZvbHVtZUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9tZW5vc0hvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCYXJyYXMgVm9sdW1lbiAocmVjdGFuZ3Vsb3MgdW5vIG9zY3Vyby9hcGFnYWRvcyB5IG90cm8gY2xhcm8vZW5jZW5kaWRvcylcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1ZvbHVtZUJhck9mZicsICdhc3NldHMvYm90b25fb3NjdXJvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVm9sdW1lQmFyT24nLCAnYXNzZXRzL2JvdG9uX2NsYXJvLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uJywgJ2Fzc2V0cy9jZXJyYXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uSG92ZXInLCAnYXNzZXRzL2NlcnJhckhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBBanVzdGVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc1RleHQnLCAnYXNzZXRzL3RleHRvX2FqdXN0ZXMucG5nJyk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvLyBkaW1lbnNpb25lcyBkZSBsYSBwYW50YWxsYVxyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuXHJcbiAgICAgICAgLy8gVm9sdW1lblxyXG4gICAgICAgIGxldCB2b2x1bWUgPSB0aGlzLnNvdW5kLnZvbHVtZSAqIDEwMDsgLy8gQ29udmVydGlyIGRlIDAtMSBhIDAtMTAwXHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcbiAgICAgICAgbGV0IHZvbHVtZUJhcjEsIHZvbHVtZUJhcjIsIHZvbHVtZUJhcjMsIHZvbHVtZUJhcjQsIHZvbHVtZUJhcjU7XHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAnc2V0dGluZ3NCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBBanVzdGVzXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAyMTAsICdTZXR0aW5nc1RleHQnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBCYXJyYXMgZGUgdm9sdW1lbiBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT2ZmJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9mZicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPZmYnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDgzMywgNTAwLCAnVm9sdW1lQmFyT2ZmJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg5NjYsIDUwMCwgJ1ZvbHVtZUJhck9mZicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIEJhcnJhcyBkZSB2b2x1bWVuIGFjdGl2YXMgXHJcbiAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgdm9sdW1lQmFyNCA9IHRoaXMuYWRkLmltYWdlKDgzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIHZvbHVtZUJhcjUgPSB0aGlzLmFkZC5pbWFnZSg5NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgIFxyXG4gICAgICAgIC8vIEFjdHVhbGl6YXIgYmFycmFzIGRlIHZvbHVtZW4gXHJcbiAgICAgICAgdm9sdW1lQmFyMS5kZXN0cm95KCk7XHJcbiAgICAgICAgdm9sdW1lQmFyMi5kZXN0cm95KCk7XHJcbiAgICAgICAgdm9sdW1lQmFyMy5kZXN0cm95KCk7XHJcbiAgICAgICAgdm9sdW1lQmFyNC5kZXN0cm95KCk7XHJcbiAgICAgICAgdm9sdW1lQmFyNS5kZXN0cm95KCk7XHJcbiAgICAgICAgaWYodm9sdW1lID09IDAgJiYgdm9sdW1lQmFyMSAhPSBudWxsKXtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMS5kZXN0cm95KCk7XHJcbiAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDIwKXtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSA0MCl7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSA2MCl7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDgwKXtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjMgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyNCA9IHRoaXMuYWRkLmltYWdlKDgzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIH1lbHNlIGlmKHZvbHVtZSA9PSAxMDApe1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXI0ID0gdGhpcy5hZGQuaW1hZ2UoODMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjUgPSB0aGlzLmFkZC5pbWFnZSg5NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQm90b24gdm9sdW1lbiBhdW1lbnRhZG9cclxuICAgICAgICBjb25zdCBwbHVzVm9sdW1lQnRuID0gdGhpcy5hZGQuaW1hZ2UoMTA2OSwgNTAwLCAnUGx1c1ZvbHVtZUJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC40KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBwbHVzVm9sdW1lQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDY5LCA1MDAsICdQbHVzVm9sdW1lQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHBsdXNWb2x1bWVCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHBsdXNWb2x1bWVCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGx1c1ZvbHVtZUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZvbHVtZSArPSAyMDtcclxuICAgICAgICAgICAgaWYodm9sdW1lID4gMTAwKSB2b2x1bWUgPSAxMDA7XHJcbiAgICAgICAgICAgIGVsc2UgaWYodm9sdW1lIDwgMCkgdm9sdW1lID0gMDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuc2V0Vm9sdW1lKHZvbHVtZSAvIDEwMCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2b2x1bWVCYXIxLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMi5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXI0LmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyNS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIGlmKHZvbHVtZSA9PSAwICYmIHZvbHVtZUJhcjEgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDIwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPD0gNDApe1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDYwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDgwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjQgPSB0aGlzLmFkZC5pbWFnZSg4MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPT0gMTAwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjQgPSB0aGlzLmFkZC5pbWFnZSg4MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyNSA9IHRoaXMuYWRkLmltYWdlKDk2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90b24gdm9sdW1lbiBkaXNtaW51aWRvXHJcbiAgICAgICAgY29uc3QgbWludXNWb2x1bWVCdG4gPSB0aGlzLmFkZC5pbWFnZSgzMzAsIDUwMCwgJ01pbnVzVm9sdW1lQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjQpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbWludXNWb2x1bWVCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDMzNSwgNTAwLCAnTWludXNWb2x1bWVCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtaW51c1ZvbHVtZUJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbWludXNWb2x1bWVCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB2b2x1bWUgLT0gMjA7XHJcbiAgICAgICAgICAgIGlmKHZvbHVtZSA+IDEwMCkgdm9sdW1lID0gMTAwO1xyXG4gICAgICAgICAgICBlbHNlIGlmKHZvbHVtZSA8IDApIHZvbHVtZSA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnNldFZvbHVtZSh2b2x1bWUgLyAxMDApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdm9sdW1lQmFyMS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIzLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyNC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBpZih2b2x1bWUgPT0gMCAmJiB2b2x1bWVCYXIxICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSAyMCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDQwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSA2MCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSA4MCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXI0ID0gdGhpcy5hZGQuaW1hZ2UoODMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lID09IDEwMCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXI0ID0gdGhpcy5hZGQuaW1hZ2UoODMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjUgPSB0aGlzLmFkZC5pbWFnZSg5NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICBjb25zdCBFeGl0QnRuID0gdGhpcy5hZGQuaW1hZ2UoMTA2OSwgMTcwLCAnRXhpdE1pbkJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDY4LCAxNzAsICdFeGl0TWluQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKEV4aXRCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShvcmlnaW5hbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMZXZlbFNlbGVjdFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMZXZlbFNlbGVjdFNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMZXZlbEJveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gTml2ZWxlc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTGV2ZWxzVGV4dCcsICdhc3NldHMvdGV4dG9fbml2ZWxlcy5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90b24gZGUgbml2ZWxlc1xyXG4gICAgICAgIC8vIG5pdmVsIDFcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xldmVsMUJ1dHRvbicsICdhc3NldHMvbml2ZWwxLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTGV2ZWwxQnV0dG9uSG92ZXInLCAnYXNzZXRzL25pdmVsMUhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBuaXZlbCAyXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMZXZlbDJCdXR0b24nLCAnYXNzZXRzL05pdmVsMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xldmVsMkJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9OaXZlbDJIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdE1pbkJ1dHRvbicsICdhc3NldHMvY2VycmFyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdE1pbkJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9jZXJyYXJIb3Zlci5wbmcnKTtcclxuXHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvLyBkaW1lbnNpb25lcyBkZSBsYSBwYW50YWxsYVxyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcclxuXHJcbiAgICAgICAgLy8gUmVjdMOhbmd1bG8gcXVlIGN1YnJlIHRvZGEgbGEgcGFudGFsbGFcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgdywgaCwgMHgwNzA3MjIsIDAuOSkuc2V0T3JpZ2luKDApO1xyXG5cclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICdMZXZlbEJveCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIE5pdmVsZXNcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDIxMCwgJ0xldmVsc1RleHQnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBTZWxlY2Npw7NuIGRlIE5pdmVsZXNcclxuICAgICAgICAgICAgLy9OaXZlbCAxXHJcbiAgICAgICAgY29uc3QgTHZsVW5vQnRuID0gdGhpcy5hZGQuaW1hZ2UoNTEwLCA1MDAsICdMZXZlbDFCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIEx2bFVub0J0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNTIwLCA1MDUsICdMZXZlbDFCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKEx2bFVub0J0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEx2bFVub0J0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSW5pY2lvIE5pdmVsIDFcclxuICAgICAgICBMdmxVbm9CdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZUxvY2FsU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9QbGFjZWhvbGRlclxyXG4gICAgICAgIGNvbnN0IEx2bERvc0J0biA9IHRoaXMuYWRkLmltYWdlKDg4MCwgNTAwLCAnTGV2ZWwyQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBMdmxEb3NCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDg4MCwgNTAwLCAnTGV2ZWwyQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxLjA1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChMdmxEb3NCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBMdmxEb3NCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEx2bDJcclxuICAgICAgICBMdmxEb3NCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTGV2ZWwyU2NlbmVMb2NhbCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgY29uc3QgRXhpdEJ0biA9IHRoaXMuYWRkLmltYWdlKDEwNjksIDE3MCwgJ0V4aXRNaW5CdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMTA2OCwgMTcwLCAnRXhpdE1pbkJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChFeGl0QnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmVncmVzYXIgYSBsYSBlc2NlbmEgb3JpZ2luYWxcclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShvcmlnaW5hbCk7IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpOyBcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYWNlSG9sZGVyU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1BsYWNlSG9sZGVyU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dG9yaWFsQm94JywgJ2Fzc2V0cy9jYWphLnBuZycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRCdXR0b24nLCAnYXNzZXRzL3NhbGlyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9zYWxpckhvdmVyLnBuZycpO1xyXG4gIFxyXG4gICAgfVxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gZGltZW5zaW9uZXMgZGUgbGEgcGFudGFsbGFcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAndHV0b3JpYWxCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgY29uc3QgZXhpdEJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNjcwLCAnRXhpdEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA2NzAsICdFeGl0QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChleGl0QnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIENpZXJyYSBsYSB2ZW50YW5hIGRlbCBuYXZlZ2Fkb3IgbyBwZXN0YcOxYVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDcwMCwgMTgwLCAnTmFkYSBxdWUgdmVyIGFxdWknLHsgXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsIGZpbGw6ICcjZDRlYWYxZmYnfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVmljdG9yeVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdWaWN0b3J5U2NlbmUnKTtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQ3JlZGl0c0JveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gVmljdG9yaWFcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1ZpY3RvcnlUZXh0JywgJ2Fzc2V0cy90ZXh0b192aWN0b3JpYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHR1dG9yaWFsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdOZXh0TGV2ZWxCdXR0b24nLCAnYXNzZXRzL3NpZ3VpZW50ZU5pdmVsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTmV4dExldmVsQnV0dG9uSG92ZXInLCAnYXNzZXRzL3NpZ3VpZW50ZU5pdmVsSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSByZWluaWNpYXIgbml2ZWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1Jlc3RhcnRCdXR0b24nLCAnYXNzZXRzL3JlaW5pY2lhci5QTkcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1Jlc3RhcnRCdXR0b25Ib3ZlcicsICdhc3NldHMvcmVpbmljaWFySG92ZXIuUE5HJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSB2b2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXRNZW51QnV0dG9uJywgJ2Fzc2V0cy9tZW51LlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmV0TWVudUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9tZW51SG92ZXIuUE5HJyk7XHJcblxyXG4gICAgfVxyXG4gICAgY3JlYXRlKGRhdGEpIHtcclxuICAgICAgICAvLyBkaW1lbnNpb25lcyBkZSBsYSBwYW50YWxsYVxyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZlcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAnQ3JlZGl0c0JveCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIFZpY3RvcmlhXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAyMTAsICdWaWN0b3J5VGV4dCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIHRpZW1wbyBmaW5hbFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZmluYWxUaW1lKTtcclxuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmZpbmFsVGltZSkge1xyXG4gICAgICAgICAgICB0aGlzLmFkZC50ZXh0KDcwMCwgNjAwLCBgVGllbXBvOiAke2RhdGEuZmluYWxUaW1lfSBzZWd1bmRvc2AsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMzZweCcsXHJcbiAgICAgICAgICAgICAgICBmaWxsOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnQ2F1ZGV4JyxcclxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJ1xyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNpZ3VpZW50ZSBuaXZlbFxyXG4gICAgICAgIGNvbnN0IG5leHRMZXZlbGJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgMzIwLCAnTmV4dExldmVsQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIG5leHRMZXZlbGJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCAzMjUsICdOZXh0TGV2ZWxCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgobmV4dExldmVsYnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV4dExldmVsYnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBJciBhbCBzZWd1bmRvIG5pdmVsXHJcbiAgICAgICAgbmV4dExldmVsYnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTY2VuZUtleSA9IHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk9yaWdpbmFsIHNjZW5lIGJlaW5nIHJlbW92ZWQ6XCIsIG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aob3JpZ2luYWxTY2VuZUtleSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdMZXZlbDJTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSZWluaWNpYXIgbml2ZWxcclxuICAgICAgICBjb25zdCByZXN0YXJ0YnRuID0gdGhpcy5hZGQuaW1hZ2UoNzA1LCA0MTUsICdSZXN0YXJ0QnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDY5MywgNDI1LCAnUmVzdGFydEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyZXN0YXJ0YnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2NlbmVLZXkgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBWb2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgY29uc3QgbWVudWJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTE1LCAnUmV0TWVudUJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBtZW51YnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg2OTgsIDUxNSwgJ1JldE1lbnVCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgobWVudWJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBHZXQgYWxsIHNjZW5lc1xyXG4gICAgICAgICAgICBjb25zdCBzY2VuZXMgPSB0aGlzLmdhbWUuc2NlbmUua2V5cztcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBzY2VuZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICdNZW51U2NlbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZU92ZXJTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZU92ZXJTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQ3JlZGl0c0JveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gR2FtZSBPdmVyXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdHYW1lT3ZlclRleHQnLCAnYXNzZXRzL3RleHRvX2RlcnJvdGEucG5nJyk7XHJcblxyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgcmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uJywgJ2Fzc2V0cy9yZWluaWNpYXIuUE5HJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uSG92ZXInLCAnYXNzZXRzL3JlaW5pY2lhckhvdmVyLlBORycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSB2b2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXRNZW51QnV0dG9uJywgJ2Fzc2V0cy9tZW51LlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmV0TWVudUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9tZW51SG92ZXIuUE5HJyk7XHJcblxyXG4gICAgfVxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gZGltZW5zaW9uZXMgZGUgbGEgcGFudGFsbGFcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmZXJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgICAvLyBSZWN0w6FuZ3VsbyBxdWUgY3VicmUgdG9kYSBsYSBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoLCAweDA3MDcyMiwgMC45KS5zZXRPcmlnaW4oMCk7XHJcblxyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDQwMCwgJ0NyZWRpdHNCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBnYW1lIG92ZXJcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDI0MCwgJ0dhbWVPdmVyVGV4dCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG5cclxuICAgICAgICAvLyBSZWluaWNpYXIgbml2ZWxcclxuICAgICAgICBjb25zdCByZXN0YXJ0YnRuID0gdGhpcy5hZGQuaW1hZ2UoNzA1LCA0MTUsICdSZXN0YXJ0QnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDY5MywgNDI1LCAnUmVzdGFydEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyZXN0YXJ0YnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2NlbmVLZXkgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydChvcmlnaW5hbFNjZW5lS2V5KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIGNvbnN0IG1lbnVidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUxNSwgJ1JldE1lbnVCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgbWVudWJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjk4LCA1MTUsICdSZXRNZW51QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKG1lbnVidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZW51YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBHZXQgYWxsIHNjZW5lc1xyXG4gICAgICAgICAgICBjb25zdCBzY2VuZXMgPSB0aGlzLmdhbWUuc2NlbmUua2V5cztcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBzY2VuZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICdNZW51U2NlbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGV2ZWwyU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xldmVsMlNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9IDA7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9IDA7XHJcbiAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBwZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmF0bGFzKCduaXZpYScsICdhc3NldHMvbml2aWEvbml2aWFfc2hlZXQucG5nJywgJ2Fzc2V0cy9uaXZpYS9uaXZpYV9zaGVldC5qc29uJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF0bGFzKCdzb2xlbm5lJywgJ2Fzc2V0cy9zb2xlbm5lL3NvbGVubmVfc2hlZXQucG5nJywgJ2Fzc2V0cy9zb2xlbm5lL3NvbGVubmVfc2hlZXQuanNvbicpO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgY3Jpc3RhbGVzXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdzdW5kcm9wX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9zdW5kcm9wLnBuZycsIHsgZnJhbWVXaWR0aDogMjE0LCBmcmFtZUhlaWdodDogMjA2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnbW9vbmRyb3Bfc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL21vb25kcm9wLnBuZycsIHsgZnJhbWVXaWR0aDogMjE0LCBmcmFtZUhlaWdodDogMjA2IH0pO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3N1bl9zaGVldCcsICdhc3NldHMvaXRlbXMvc3VuLnBuZycsIHsgZnJhbWVXaWR0aDogMzQ3LCBmcmFtZUhlaWdodDogMzI5IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnbW9vbl9zaGVldCcsICdhc3NldHMvaXRlbXMvbW9vbi5wbmcnLCB7IGZyYW1lV2lkdGg6IDM0NywgZnJhbWVIZWlnaHQ6IDMyOSB9KTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGVsIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbzEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvZm9uZG9fYXJyaWJhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhdGFmb3JtYXMxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3BsYXRhZm9ybWFzX2FycmliYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGVsZW1lbnRvcyBkZWwgZXNjZW5hcmlvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGF0YWZvcm1hc05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wbGF0YWZvcm1hc19hcnJpYmEucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmExTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhM05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmEzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhT3NjdXJhMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfb3NjdXJhMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX29zY3VyYTIucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25OaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNsYXJvTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX2NsYXJvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Pc2N1cm8xTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX29zY3VybzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk9zY3VybzJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b25fb3NjdXJvMi5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb3J0YWwxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3BvcnRhbC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGJvdG9uZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhdXNlQnV0dG9uJywgJ2Fzc2V0cy9wYXVzYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhdXNlQnV0dG9uSG92ZXInLCAnYXNzZXRzL3BhdXNhSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU2V0dGluZ3NCdXR0b24nLCAnYXNzZXRzL2FqdXN0ZXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc0J1dHRvbkhvdmVyJywgJ2Fzc2V0cy9hanVzdGVzSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSByZWluaWNpYXIgbml2ZWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1Jlc3RhcnRCdXR0b24nLCAnYXNzZXRzL3JlaW5pY2lhci5QTkcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1Jlc3RhcnRCdXR0b25Ib3ZlcicsICdhc3NldHMvcmVpbmljaWFySG92ZXIuUE5HJyk7XHJcblxyXG4gICAgICAgIC8vRGHDsW9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2RhbWFnZTEnLCAnYXNzZXRzL3RyYW1wYXMvdHJhbXBhcy5wbmcnKVxyXG5cclxuICAgICAgICAvLyBFZmVjdG9zIGRlIHNvbmlkbyB5IG3DunNpY2EgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3dhbGtTb3VuZCcsICdhc3NldHMvc29uaWRvL2NhbWluYXIubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0U3VuQ3J5c3RhbFNvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY3Jpc3RhbENsYXJvLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnY29sbGVjdE1vb25DcnlzdGFsU291bmQnLCAnYXNzZXRzL3Nvbmlkby9jcmlzdGFsT3NjdXJvLm1wMycpO1xyXG5cclxuICAgICAgICAvLyBNw5pTSUNBIEVTUEVDw41GSUNBIERFTCBKVUVHT1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnR2FtZU11c2ljJywgJ2Fzc2V0cy9zb25pZG8vanVlZ28ubXAzJyk7IC8vIGFqdXN0YSBydXRhIHNpIGhhY2UgZmFsdGFcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgbWFwV2lkdGhJblBpeGVscyA9IDE0MjA7XHJcbiAgICAgICAgY29uc3QgbWFwSGVpZ2h0SW5QaXhlbHMgPSA4MDA7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIERldGVuZXIgc29sbyBsYSBtw7pzaWNhIGRlbCBtZW7DuiBzaSBlc3TDoSBzb25hbmRvXHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ01lbnVNdXNpYycpO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIGxhIG3DunNpY2EgZGVsIGp1ZWdvXHJcbiAgICAgICAgaWYgKHRoaXMuY2FjaGUuYXVkaW8uZXhpc3RzKCdHYW1lTXVzaWMnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ0dhbWVNdXNpYycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjJ9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFncmVnYXIgZm9uZG9cclxuICAgICAgICAvL2NvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvMScpLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICAvL2JnLnNldERpc3BsYXlTaXplKG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgwLCAwLCAnZm9uZG8xJykuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIGJnLnNldERpc3BsYXlTaXplKG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGxhdGFmb3JtYSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDAsIDAsICdwbGF0YWZvcm1hczEnKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgcGxhdGFmb3JtYS5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGxhIGbDrXNpY2EgZGVsIG11bmRvXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLmdyYXZpdHkueSA9IDE1MDA7XHJcblxyXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcblxyXG5cclxuICAgICAgICAvLyBURU1QT1JBTDogQ3JlYXIgdW4gc3VlbG8gc2ltcGxlIHBhcmEgcXVlIHB1ZWRhbiBzYWx0YXIgeSBjYWVyXHJcbiAgICAgICAgdGhpcy5ncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgbWFwSGVpZ2h0SW5QaXhlbHMsIG1hcFdpZHRoSW5QaXhlbHMsIDEwLCAweDAwRkYwMCwgMCkuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5ncm91bmQsIHRydWUpOyAvLyB0cnVlID0gZXN0w6F0aWNvXHJcblxyXG4gICAgICAgIC8vQ3JlYWNpw7NuIGRlIGxhcyBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMjAwLCA1NzUsIDMwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNzUwLCA1NTAsIDE2MCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTMgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTI1MCwgNDI1LCA0MDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTMsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDUyNSwgMzI1LCA0MDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTQsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE1ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDg3NSwgMjI1LCAzMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTUsIHRydWUpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5wYXJlZDEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNzE1LCA0MjUsIDgwLCAyMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wYXJlZDEsIHRydWUpO1xyXG5cclxuICAgICAgICAvL3RoaXMucGFyZWQyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDkwMCwgNzAwLCAyMDAsIDMwMCwgMHgzMjJiMWQpLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGFyZWQyLCB0cnVlKTtcclxuICAgICAgICB0aGlzLnBvcnRhbFNwcml0ZSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwb3J0YWwxJykuc2V0U2NhbGUoMC43NSk7XHJcbiAgICAgICAgdGhpcy5wb3J0YWxTcHJpdGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyMDAsIDIwMCwgMjAwLCAyMDApLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZXhpdFBvcnRhbCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsLmJvZHkuZW5hYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHB1ZXJ0YXMgKHNwcml0ZXMpXHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncHVlcnRhT3NjdXJhMU5pdmVsMicpLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IyID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3B1ZXJ0YU9zY3VyYTJOaXZlbDInKS5zZXRTY2FsZSgwLjc1KTtcclxuXHJcbiAgICAgICAgdGhpcy5saWdodERvb3IxID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3B1ZXJ0YUNsYXJhMU5pdmVsMicpLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yMiA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwdWVydGFDbGFyYTJOaXZlbDInKS5zZXRTY2FsZSgwLjc1KTtcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncHVlcnRhQ2xhcmEzTml2ZWwyJykuc2V0U2NhbGUoMC43NSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcHVlcnRhcyBoaXRib3hlc1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxSGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDMyNSwgNzAwLCAyMCwgMzAwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFya0Rvb3IxSGl0Ym94LCB0cnVlKTtcclxuICAgICAgICB0aGlzLmRhcmtEb29yMkhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDU3NSwgMzAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhcmtEb29yMkhpdGJveCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMubGlnaHREb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg3MDAsIDEwMCwgMjAsIDI4MCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjFIaXRib3gsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yMkhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg3NTAsIDcwMCwgMjAsIDIwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjJIaXRib3gsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yM0hpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg5MjUsIDUwMCwgMjAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjNIaXRib3gpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yM0hpdGJveC5ib2R5LnNldEltbW92YWJsZSh0cnVlKS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yM0hpdGJveC5zZXRBbmdsZSgxMzUpO1xyXG5cclxuICAgICAgICAvL3B1ZXJ0YXMgKGxpc3RhKVxyXG4gICAgICAgIHRoaXMuZG9vcnMgPSB7XHJcbiAgICAgICAgICAgIGRhcmtEb29yMToge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmRhcmtEb29yMSxcclxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5kYXJrRG9vcjFIaXRib3hcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGFya0Rvb3IyOiB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHRoaXMuZGFya0Rvb3IyLFxyXG4gICAgICAgICAgICAgICAgaGl0Ym94OiB0aGlzLmRhcmtEb29yMkhpdGJveFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaWdodERvb3IxOiB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHRoaXMubGlnaHREb29yMSxcclxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5saWdodERvb3IxSGl0Ym94XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpZ2h0RG9vcjI6IHtcclxuICAgICAgICAgICAgICAgIHNwcml0ZTogdGhpcy5saWdodERvb3IzLFxyXG4gICAgICAgICAgICAgICAgaGl0Ym94OiB0aGlzLmxpZ2h0RG9vcjJIaXRib3hcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGlnaHREb29yMzoge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmxpZ2h0RG9vcjIsXHJcbiAgICAgICAgICAgICAgICBoaXRib3g6IHRoaXMubGlnaHREb29yM0hpdGJveFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gZGHDsW8gaGl0Ym94ZXNcclxuICAgICAgICB0aGlzLmRhbWFnZUdyb3VwID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cCgpO1xyXG4gICAgICAgIHRoaXMudHJhbXBhID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ2RhbWFnZTEnKS5zZXRTY2FsZSgwLjc1KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmRhbWFnZTEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTM1MCwgMTAwLCAyMDAsIDEwMCwgMHgzM2ZmMDAsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZTEsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmRhbWFnZTIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTAwLCA1MzAsIDEwMCwgMzAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYW1hZ2UyLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYW1hZ2UzID0gdGhpcy5hZGQucmVjdGFuZ2xlKDEyNSwgODAwLCA2MCwgMzAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYW1hZ2UzLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYW1hZ2U0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDYwMCwgMzAwLCA2MCwgMzAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYW1hZ2U0LCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cC5hZGQodGhpcy5kYW1hZ2UxKTtcclxuICAgICAgICB0aGlzLmRhbWFnZUdyb3VwLmFkZCh0aGlzLmRhbWFnZTIpO1xyXG4gICAgICAgIHRoaXMuZGFtYWdlR3JvdXAuYWRkKHRoaXMuZGFtYWdlMyk7XHJcbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cC5hZGQodGhpcy5kYW1hZ2U0KTtcclxuXHJcbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgc3VlbG8geSBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5ncm91bmQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmdyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWExKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE0KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE1KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBhcmVkMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGFyZWQxKTtcclxuXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGFyZWQyKTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBhcmVkMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmxpZ2h0RG9vcjFIaXRib3gpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5saWdodERvb3IySGl0Ym94KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMubGlnaHREb29yM0hpdGJveCk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMubGlnaHREb29yMUhpdGJveCk7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMuZGFya0Rvb3IxSGl0Ym94KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5kYXJrRG9vcjFIaXRib3gpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmRhcmtEb29yMkhpdGJveCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygnbml2aWEnKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUFuaW1hdGlvbnMoJ3NvbGVubmUnKTtcclxuXHJcbiAgICAgICAgLy8gSW5pY2lhciBsYSBhbmltYWNpw7NuICdydW4nIHBhcmEgcHJvYmFyIChzZSBjb3JyZWdpcsOhIGVuIHVwZGF0ZSlcclxuICAgICAgICB0aGlzLm5pdmlhLnBsYXkoJ25pdmlhX2lkbGUnKTtcclxuICAgICAgICB0aGlzLnNvbGVubmUucGxheSgnc29sZW5uZV9pZGxlJyk7XHJcblxyXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3Mgb2JqZXRvc1xyXG4gICAgICAgIHRoaXMuY3J5c3RhbHMgPSB0aGlzLnBoeXNpY3MuYWRkLmdyb3VwKHthbGxvd0dyYXZpdHk6IGZhbHNlLCBpbW1vdmFibGU6IHRydWV9KTtcclxuICAgICAgICB0aGlzLm1vb25DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoMTMwMCwgMzAwLCAnbW9vbmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAuc2V0RGF0YSgnZG9vcktleScsICdkYXJrRG9vcjEnKTtcclxuICAgICAgICB0aGlzLm1vb25DcnlzdGFsMiA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKDU1MCwgMjAwLCAnbW9vbmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAuc2V0RGF0YSgnZG9vcktleScsICdkYXJrRG9vcjInKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoNTUwLCA3MDAsICdzdW5kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgLnNldERhdGEoJ2Rvb3JLZXknLCAnbGlnaHREb29yMycpO1xyXG4gICAgICAgIHRoaXMuc3VuQ3J5c3RhbDIgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSgyMDAsIDcwMCwgJ3N1bmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAuc2V0RGF0YSgnZG9vcktleScsICdsaWdodERvb3IxJyk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5zdW5DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUobWFwLndpZHRoSW5QaXhlbHMgLSAyMDAsIDMwMCwgJ3N1bkNyeXN0YWwnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgLy90aGlzLm1ldGFQb3J0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZShtYXBXaWR0aEluUGl4ZWxzIC8gMiwgNTAsICdtZXRhUG9ydGFsJykuc2V0SW1tb3ZhYmxlKHRydWUpLnNldEJvZHlTaXplKDY0LCA2NCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gQW5pbWFjaW9uZXMgZGUgbG9zIG9iamV0b3NcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3N1bmRyb3BfaWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnc3VuZHJvcF9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogNyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ21vb25kcm9wX2lkbGUnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ21vb25kcm9wX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiA3IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwucGxheSgnbW9vbmRyb3BfaWRsZScpO1xyXG4gICAgICAgIHRoaXMuc3VuQ3J5c3RhbC5wbGF5KCdzdW5kcm9wX2lkbGUnKTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZWwgSWNvbm8gZGVsIFNvbCAoSFVEKVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnc3VuX2h1ZF9hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdzdW5fc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGVsIEljb25vIGRlIGxhIEx1bmEgKEhVRClcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ21vb25faHVkX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ21vb25fc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBkZSBMdW5hIChOaXZpYSkgLSBJenF1aWVyZGFcclxuICAgICAgICB0aGlzLm1vb25IVUQgPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCAtIDIwLCA0MCwgJ21vb25fc2hlZXQnKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjE1KSAvLyBFc2NhbGEgTVVZIHJlZHVjaWRhLCB5YSBxdWUgbG9zIHNwcml0ZXNoZWV0cyBzb24gZ3JhbmRlcyAoMzQ3eDMyOSlcclxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKVxyXG4gICAgICAgICAgICAucGxheSgnbW9vbl9odWRfYW5pbScpOyAvLyBJbmljaWEgbGEgYW5pbWFjacOzblxyXG5cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgZGUgU29sIChTb2xlbm5lKSAtIERlcmVjaGFcclxuICAgICAgICB0aGlzLnN1bkhVRCA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYICsgMjAsIDQwLCAnc3VuX3NoZWV0JylcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4xNSkgLy8gRXNjYWxhIE1VWSByZWR1Y2lkYVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgICAgIC5wbGF5KCdzdW5faHVkX2FuaW0nKTsgLy8gSW5pY2lhIGxhIGFuaW1hY2nDs25cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBsYSByZWNvbGVjY2nDs24gZGUgY3Jpc3RhbGVzXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubW9vbkNyeXN0YWwsIHRoaXMuY29sbGVjdE1vb25DcnlzdGFsLCBudWxsLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLnN1bkNyeXN0YWwsIHRoaXMuY29sbGVjdFN1bkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLm1vb25DcnlzdGFsMiwgdGhpcy5jb2xsZWN0TW9vbkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuc3VuQ3J5c3RhbDIsIHRoaXMuY29sbGVjdFN1bkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGZpbiBkZSBuaXZlbCAoT3ZlcmxhcCBkZWwgcG9ydGFsKVxyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubWV0YVBvcnRhbCwgdGhpcy5jaGVja0xldmVsQ29tcGxldGUsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5tZXRhUG9ydGFsLCB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSwgbnVsbCwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIENvbGlzaW9uZXMgZW50cmUgcGVyc29uYWplcyB5IGVsIG5pdmVsXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIGdlb21ldHJ5TGF5ZXIpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIGdlb21ldHJ5TGF5ZXIpO1xyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFjacOzbiBkZSBsYSBjw6FtYXJhXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0Qm91bmRzKDAsIDAsIG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTsgIFxyXG5cclxuICAgICAgICAvLyBDb250cm9sIGRlIHBhdXNhXHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5leGl0UG9ydGFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZXhpdFBvcnRhbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBwYXVzYVxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDQwLCA0MCwgJ1BhdXNlQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKSBcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC41KSBcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMCk7IFxyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDQwLCA0MCwgJ1BhdXNlQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMucGF1c2VCdXR0b24uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpOyBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIGFqdXN0ZXNcclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAxMjAsIDQwLCAnU2V0dGluZ3NCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApIFxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTsgXHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gMTIwLCA0MCwgJ1NldHRpbmdzQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMuc2V0dGluZ3NCdXR0b24uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnU2V0dGluZ3NTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3VwZGF0ZScsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBoeXNpY3Mub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmV4aXRQb3J0YWwpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5leGl0UG9ydGFsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IG9uRGFtYWdlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnR2FtZU92ZXJTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5kYW1hZ2VHcm91cCwgb25EYW1hZ2UpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZGFtYWdlR3JvdXAsIG9uRGFtYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbFkgPSAxNTAwO1xyXG5cclxuICAgICAgICAgLy8gQ3JlYWNpw7NuIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLm5pdmlhID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTMwMCwgaW5pdGlhbFksICduaXZpYScpLnNldEJvdW5jZSgwLjIpLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNvbGVubmUgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxMjAwLCBpbml0aWFsWSwgJ3NvbGVubmUnKS5zZXRCb3VuY2UoMC4yKS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMubml2aWEuc2V0U2l6ZSgxMjAsIDI0MCk7XHJcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRPZmZzZXQoMTEwLCA1MCk7XHJcblxyXG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRTaXplKDEyMCwgMjQwKTtcclxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0T2Zmc2V0KDExMCwgNTApO1xyXG5cclxuICAgICAgICAvLyBFc2NhbGFkbyBkZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubml2aWEuc2V0U2NhbGUoMC41KTsgXHJcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldFNjYWxlKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENvbnRyb2xlcyBkZSBOaXZpYSAoVGVjbGFzIFdBU0QpXHJcbiAgICAgICAgdGhpcy5uaXZpYUNvbnRyb2xzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHtcclxuICAgICAgICAgICAgbGVmdDogJ0EnLFxyXG4gICAgICAgICAgICByaWdodDogJ0QnLFxyXG4gICAgICAgICAgICB1cDogJ1cnLCAgICAvLyBzYWx0b1xyXG4gICAgICAgICAgICBpbnRlcmFjdDogJ0UnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENvbnRyb2xlcyBkZSBTb2xlbm5lIChGbGVjaGFzKVxyXG4gICAgICAgIHRoaXMuc29sZW5uZUNvbnRyb2xzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHtcclxuICAgICAgICAgICAgbGVmdDogJ0xFRlQnLFxyXG4gICAgICAgICAgICByaWdodDogJ1JJR0hUJyxcclxuICAgICAgICAgICAgdXA6ICdVUCcsICAgLy8gc2FsdG9cclxuICAgICAgICAgICAgaW50ZXJhY3Q6ICdTUEFDRSdcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY3JlYXRlQW5pbWF0aW9ucyhrZXkpIHtcclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlIGNvcnJlclxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBgJHtrZXl9X3J1bmAsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IHByZWZpeDogJ3J1bl8nLCBzdGFydDogMSwgZW5kOiA0IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlIHNhbHRvXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1fanVtcGAsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IHByZWZpeDogJ2p1bXBfJywgc3RhcnQ6IDEsIGVuZDogNiB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgaWRsZVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBgJHtrZXl9X2lkbGVgLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBmcmFtZXM6IFsnaWRsZV8xJ10gfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMSxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGF1c2VkU3RhdGUoaXNQYXVzZWQpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7b3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXl9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVBhdXNlKCkge1xyXG4gICAgICAgIGNvbnN0IG5ld1BhdXNlZFN0YXRlID0gIXRoaXMuaXNQYXVzZWQ7XHJcbiAgICAgICAgdGhpcy5zZXRQYXVzZWRTdGF0ZShuZXdQYXVzZWRTdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1NldHRpbmdzU2NlbmUnKTsgXHJcbiAgICAgICAgLy90aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZSgpe1xyXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgcGF1c2EgY29uIHRlY2xhIEVTQ1xyXG4gICAgICAgIGlmKHRoaXMuZXNjS2V5LmlzRG93bil7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1vdmltaWVudG8gZGUgTml2aWFcclxuICAgICAgICB0aGlzLmhhbmRsZVBsYXllck1vdmVtZW50KHRoaXMubml2aWEsIHRoaXMubml2aWFDb250cm9scyk7XHJcblxyXG4gICAgICAgIC8vIE1vdmltaWVudG8gZGUgU29sZW5uZVxyXG4gICAgICAgIHRoaXMuaGFuZGxlUGxheWVyTW92ZW1lbnQodGhpcy5zb2xlbm5lLCB0aGlzLnNvbGVubmVDb250cm9scyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5leGl0UG9ydGFsLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUodGhpcy5leGl0UG9ydGFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhhbmRsZVBsYXllck1vdmVtZW50KHBsYXllclNwcml0ZSwgY29udHJvbHMpIHtcclxuICAgICAgICAvLyBWZWxvY2lkYWQgZGVsIG1vdmltaWVudG9cclxuICAgICAgICBjb25zdCBzcGVlZCA9IDQwMDtcclxuICAgICAgICBjb25zdCBqdW1wVmVsb2NpdHkgPSA5MDA7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gcGxheWVyU3ByaXRlLnRleHR1cmUua2V5O1xyXG4gICAgICAgIGNvbnN0IGlzTW92aW5nID0gY29udHJvbHMubGVmdC5pc0Rvd24gfHwgY29udHJvbHMucmlnaHQuaXNEb3duO1xyXG4gICAgICAgIGNvbnN0IGlzR3JvdW5kZWQgPSBwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd247XHJcbiAgICAgICAgbGV0IGFuaW1rZXkgPSAnJztcclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBwYXJhIHJlcHJvZHVjaXIgZWwgc29uaWRvIGRlIGNhbWluYXJcclxuICAgICAgIGlmIChpc01vdmluZyAmJiBpc0dyb3VuZGVkKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICduaXZpYScgJiYgdGhpcy5pc05pdmlhV2Fsa2luZyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IHRoaXMuc291bmQuYWRkKCd3YWxrU291bmQnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcucGxheSgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NvbGVubmUnICYmIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gdGhpcy5zb3VuZC5hZGQoJ3dhbGtTb3VuZCcsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAxIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIERldGVuZXIgZWwgc29uaWRvIHNpIG5vIHNlIGVzdMOhIG1vdmllbmRvIG8gZXN0w6Egc2FsdGFuZG9cclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25pdmlhJyAmJiB0aGlzLmlzTml2aWFXYWxraW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NvbGVubmUnICYmIHRoaXMuaXNTb2xlbm5lV2Fsa2luZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1vdmltaWVudG8gaG9yaXpvbnRhbFxyXG4gICAgICAgIGlmIChjb250cm9scy5sZWZ0LmlzRG93bikge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKC1zcGVlZCk7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRGbGlwWChmYWxzZSk7IC8vIE1pcmFyIGEgbGEgaXpxdWllcmRhXHJcbiAgICAgICAgfSBlbHNlIGlmIChjb250cm9scy5yaWdodC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WChzcGVlZCk7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRGbGlwWCh0cnVlKTsgLy8gTWlyYXIgYSBsYSBkZXJlY2hhXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNhbHRvIChzb2xvIHNpIGVzdMOhIHRvY2FuZG8gZWwgc3VlbG8pXHJcbiAgICAgICAgY29uc3QgaXNKdW1waW5nID0gY29udHJvbHMudXAuaXNEb3duICYmIHBsYXllclNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bjtcclxuXHJcbiAgICAgICAgaWYgKGlzSnVtcGluZykge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlZKC1qdW1wVmVsb2NpdHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBhbmltYWNpb25lc1xyXG4gICAgICAgIGlmICghcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duKSB7XHJcbiAgICAgICAgICAgIC8vIEVuIGVsIGFpcmVcclxuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1fanVtcGA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb250cm9scy5sZWZ0LmlzRG93biB8fCBjb250cm9scy5yaWdodC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgLy8gQ29ycmllbmRvXHJcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X3J1bmA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSWRsZVxyXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9pZGxlYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVwcm9kdWNpciBsYSBhbmltYWNpw7NuIHNvbG8gc2kgZXMgZGlmZXJlbnRlIGEgbGEgYWN0dWFsXHJcbiAgICAgICAgaWYgKHBsYXllclNwcml0ZS5hbmltcy5jdXJyZW50QW5pbT8ua2V5ICE9PSBhbmlta2V5KSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5hbmltcy5wbGF5KGFuaW1rZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBpbnRlcmFjY2nDs25cclxuICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKGNvbnRyb2xzLmludGVyYWN0KSkge1xyXG4gICAgICAgICAgICAvLyBBcXXDrSB2YSBsYSBsw7NnaWNhIGRlIGludGVyYWNjacOzbiAocG9yIGVqZW1wbG8sIGFicmlyIHB1ZXJ0YXMsIHJlY29nZXIgb2JqZXRvcywgZXRjLilcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ludGVyYWNjacOzbiByZWFsaXphZGEnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29sbGVjdE1vb25DcnlzdGFsKHBsYXllciwgY3J5c3RhbCkge1xyXG4gICAgICAgIGNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsICs9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9PSAyKSB0aGlzLm1vb25IVUQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2NvbGxlY3RNb29uQ3J5c3RhbFNvdW5kJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygnTml2aWEgaGEgcmVjb2dpZG8gZWwgQ3Jpc3RhbCBkZSBsYSBMdW5hJyk7XHJcbiAgICAgICAgdGhpcy51bmxvY2tEb29yKGNyeXN0YWwuZ2V0RGF0YSgnZG9vcktleScpKTtcclxuICAgIH1cclxuXHJcbiAgICBjb2xsZWN0U3VuQ3J5c3RhbChwbGF5ZXIsIGNyeXN0YWwpIHtcclxuICAgICAgICBjcnlzdGFsLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgKz0gMTtcclxuICAgICAgICBpZiAodGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9PSAyKSB0aGlzLnN1bkhVRC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnY29sbGVjdFN1bkNyeXN0YWxTb3VuZCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NvbGVubmUgaGEgcmVjb2dpZG8gZWwgQ3Jpc3RhbCBkZWwgU29sJyk7XHJcbiAgICAgICAgdGhpcy51bmxvY2tEb29yKGNyeXN0YWwuZ2V0RGF0YSgnZG9vcktleScpKTtcclxuICAgIH1cclxuXHJcbiAgICB1bmxvY2tEb29yKGRvb3JLZXkpIHtcclxuICAgICAgICBjb25zdCBkb29yID0gdGhpcy5kb29yc1tkb29yS2V5XTtcclxuXHJcbiAgICAgICAgZG9vci5oaXRib3guYm9keS5lbmFibGUgPSBmYWxzZTtcclxuICAgICAgICBkb29yLmhpdGJveC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBkb29yLnNwcml0ZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGVja1BvcnRhbFNwYXduKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tQb3J0YWxTcGF3bigpIHtcclxuICAgICAgICBpZiAodGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID09IDIgJiYgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9ydGFsU3ByaXRlLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGVja0xldmVsQ29tcGxldGUocGxheWVyLCBwb3J0YWwpIHtcclxuICAgICAgICAvLyBMb3MgZG9zIGRlYmVuIHRvY2FyIGVsIHBvcnRhbCB5IHRlbmVyIHN1cyByZXNwZWN0aXZvcyBjcmlzdGFsZXNcclxuICAgICAgICBpZiAodGhpcy5uaXZpYU9uUG9ydGFsICYmIHRoaXMuc29sZW5uZU9uUG9ydGFsICYmIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9PSAyICYmIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPT0gMikge1xyXG4gICAgICAgICAgICAvLyBMYW56YXIgZXNjZW5hIGRlIHZpY3RvcmlhIHkgcGF1c2FyIGVzdGEgZXNjZW5hXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdWaWN0b3J5U2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVuZGdhbWUoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJKdWVnbyBUZXJtaW5hZG9cIik7XHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZlcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCwgdGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWSAtIDEwMCwgXCLCoU5pdmVsIENvbXBsZXRhZG8hXCIsIHsgXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsIGZpbGw6ICcjRkZGRkZGJyB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgICAgIC8vIFJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIGNvbnN0IHJlc3RhcnRidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDUsIDQxNSwgJ1Jlc3RhcnRCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjkzLCA0MjUsICdSZXN0YXJ0QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHJlc3RhcnRidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTY2VuZUtleSA9IHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aob3JpZ2luYWxTY2VuZUtleSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XG5cbi8qKlxuICogRXNjZW5hIHF1ZSBzZSBtdWVzdHJhIGN1YW5kbyBzZSBwaWVyZGUgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxuICogUGF1c2EgZWwgcmVzdG8gZGUgZXNjZW5hcyB5IGNvbXBydWViYSBjb250aW51YW1lbnRlIGhhc3RhIHF1ZSBzZSByZXN0YWJsZXpjYVxuICovXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbkxvc3RTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdDb25uZWN0aW9uTG9zdFNjZW5lJyk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tUaW1lciA9IG51bGw7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc0NoZWNraW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaW5pdChkYXRhKSB7XG4gICAgICAgIC8vIEd1YXJkYXIgbGEgZXNjZW5hIHF1ZSBlc3RhYmEgYWN0aXZhIGN1YW5kbyBzZSBwZXJkacOzIGxhIGNvbmV4acOzblxuICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmUgPSBkYXRhPy5wcmV2aW91c1NjZW5lO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gTm8gcGF1c2FyIGxhIGVzY2VuYSBhbnRlcmlvciBudWV2YW1lbnRlLCB5YSBlc3TDoSBwYXVzYWRhXG4gICAgICAgIC8vIFNvbG8gbW9zdHJhciBsYSBlc2NlbmEgZGUgY29uZXhpw7NuIHBlcmRpZGFcblxuICAgICAgICAvLyBGb25kbyBzZW1pLXRyYW5zcGFyZW50ZVxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNDAwLCAzMDAsIDgwMCwgNjAwLCAweDAwMDAwMCwgMC44KTtcblxuICAgICAgICAvLyBUw610dWxvXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyMDAsICdDT05FWEnDk04gUEVSRElEQScsIHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDAnLFxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8gTWVuc2FqZSBkZSBlc3RhZG9cbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCg0MDAsIDMwMCwgJ0ludGVudGFuZG8gcmVjb25lY3Rhci4uLicsIHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vIENvbnRhZG9yIGRlIGludGVudG9zXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dCA9IHRoaXMuYWRkLnRleHQoNDAwLCAzNTAsICdJbnRlbnRvczogMCcsIHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vIEluZGljYWRvciBwYXJwYWRlYW50ZSAoLi4uKVxuICAgICAgICB0aGlzLmRvdENvdW50ID0gMDtcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcbiAgICAgICAgICAgIGRlbGF5OiAyMDAwLFxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvdHMgPSAnLicucmVwZWF0KHRoaXMuZG90Q291bnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBJbnRlbnRhbmRvIHJlY29uZWN0YXIke2RvdHN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIExpc3RlbmVyIGRlIHJlY29uZXhpw7NuXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25SZWNvbm5lY3RlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XG5cbiAgICAgICAgLy8gSW50ZW50b3MgZGUgcmVjb25leGnDs24gXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tUaW1lciA9IHRoaXMudGltZS5hZGRFdmVudCh7XG4gICAgICAgICAgICBkZWxheTogMjAwMCxcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICBjYWxsYmFjazogdGhpcy5hdHRlbXB0UmVjb25uZWN0LFxuICAgICAgICAgICAgY2FsbGJhY2tTY29wZTogdGhpc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQcmltZXIgaW50ZW50byBpbm1lZGlhdG9cbiAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XG4gICAgfVxuXG4gICAgYXN5bmMgYXR0ZW1wdFJlY29ubmVjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDaGVja2luZykgcmV0dXJuO1xuICAgICAgICB0aGlzLmlzQ2hlY2tpbmcgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50Kys7XG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQuc2V0VGV4dChgSW50ZW50b3M6ICR7dGhpcy5hdHRlbXB0Q291bnR9YCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGNvbm5lY3Rpb25NYW5hZ2VyLmNoZWNrQ29ubmVjdGlvbigpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5pc0NoZWNraW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblJlY29ubmVjdGVkKCkge1xuICAgICAgICAvLyBMaW1waWFyIHRpbWVyc1xuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja1RpbWVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrVGltZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrVGltZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtb3ZlciBsaXN0ZW5lclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1lbnNhamUgZGUgw6l4aXRvXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCfCoUNvbmV4acOzbiByZXN0YWJsZWNpZGEhJyk7XG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xuXG4gICAgICAgIC8vIFJlYW51ZGFyIGVzY2VuYSBhbnRlcmlvciB5IGRldGVuZXIgbGEgYWN0dWFsXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2aW91c1NjZW5lKSB7XG4gICAgICAgICAgICAgICAgLy8gT2J0ZW5lciBsYSBlc2NlbmEgYW50ZXJpb3IgeSByZS1hZ3JlZ2FyIHN1IGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZVNjZW5lID0gdGhpcy5zY2VuZS5nZXQodGhpcy5wcmV2aW91c1NjZW5lKTtcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZVNjZW5lICYmIGdhbWVTY2VuZS5jb25uZWN0aW9uTGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIoZ2FtZVNjZW5lLmNvbm5lY3Rpb25MaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKHRoaXMucHJldmlvdXNTY2VuZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2h1dGRvd24oKSB7XG4gICAgICAgIC8vIExpbXBpZXphIGV4dHJhIHBvciBzZWd1cmlkYWRcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0Q2hlY2tUaW1lcikge1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja1RpbWVyLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy8gZGVzcHVlcyBkZSBoYWNlciBjbGljayBlbiBcIkp1Z2FyXCIgLSBzZWxlY2Npb24gZGUgbW9kbyBsb2NhbCB1IG9ubGluZVxuaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTW9kZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ0dhbWVNb2RlU2NlbmUnKTtcbiAgICB9XG5cbiAgICBwcmVsb2FkKCkge1xuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0b3JpYWxCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdEJ1dHRvbicsICdhc3NldHMvc2FsaXIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9zYWxpckhvdmVyLnBuZycpO1xuXG4gICAgICAgIC8vIEJvdMOzbiBkZSBqdWdhciBlbiBsb2NhbFxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xvY2FsQnV0dG9uJywgJ2Fzc2V0cy9qdWdhckxvY2FsLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xvY2FsQnV0dG9uSG92ZXInLCAnYXNzZXRzL2p1Z2FyTG9jYWxIb3Zlci5wbmcnKTtcblxuICAgICAgICAvLyBCb3TDs24gZGUganVnYXIgZW4gb25saW5lXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnT25saW5lQnV0dG9uJywgJ2Fzc2V0cy9qdWdhck9ubGluZS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdPbmxpbmVCdXR0b25Ib3ZlcicsICdhc3NldHMvanVnYXJPbmxpbmVIb3Zlci5wbmcnKTtcblxuICAgICAgICAgLy8gVGV4dG8gZGUgbW9kbyBkZSBqdWVnb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0dhbWVNb2RlVGV4dCcsICdhc3NldHMvdGV4dG9fbW9kb0RlSnVlZ28ucG5nJyk7XG4gICAgfVxuICAgIGNyZWF0ZSgpe1xuICAgICAgICAvLyBkaW1lbnNpb25lcyBkZSBsYSBwYW50YWxsYVxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuc2NhbGUuaGVpZ2h0O1xuXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXG5cbiAgICAgICAgLy8gUmVjdMOhbmd1bG8gcXVlIGN1YnJlIHRvZGEgbGEgcGFudGFsbGFcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcblxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAndHV0b3JpYWxCb3gnKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XG5cbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxuICAgICAgICBjb25zdCBleGl0QnRuID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1NzAsICdFeGl0QnV0dG9uJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xuXG4gICAgICAgIGV4aXRCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1NzAsICdFeGl0QnV0dG9uSG92ZXInKVxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChleGl0QnRuLmRlcHRoICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4aXRCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBleGl0QnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgICAgIC8vIENpZXJyYSBsYSB2ZW50YW5hIGRlbCBuYXZlZ2Fkb3IgbyBwZXN0YcOxYVxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gVMOtdHVsbyBcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAyMTAsICdHYW1lTW9kZVRleHQnKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XG5cbiAgICAgICAgICAgIFxuICAgICAgIC8vIEJvdMOzbiBkZSBqdWVnbyBsb2NhbFxuICAgICAgICBjb25zdCBsb2NhbEJ0biA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMzQwLCAnTG9jYWxCdXR0b24nKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XG5cbiAgICAgICAgbG9jYWxCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNTAwLCAzNDAsICdMb2NhbEJ1dHRvbkhvdmVyJylcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgobG9jYWxCdG4uZGVwdGggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbG9jYWxCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBsb2NhbEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnTGV2ZWxTZWxlY3RTY2VuZScpO1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7IC8vIGNpZXJyYSBsYSBlc2NlbmEgZGUgc2VsZWNjaW9uIGRlIG1vZG8gZGUganVlZ29cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBCb3TDs24gZGUgSnVlZ28gT25saW5lXG4gICAgICAgIGNvbnN0IG9ubGluZUJ0biA9IHRoaXMuYWRkLmltYWdlKDkwMCwgMzQwLCAnT25saW5lQnV0dG9uJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xuXG4gICAgICAgIG9ubGluZUJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg5MDAsIDM0MCwgJ09ubGluZUJ1dHRvbkhvdmVyJylcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgob25saW5lQnRuLmRlcHRoICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG9ubGluZUJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG9ubGluZUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBJciBhIEF1dGhTY2VuZSBjb24gZGVzdGlubyBhIExvYmJ5U2NlbmUgZGVzcHXDqXMgZGUgbG9naW5cbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0F1dGhTY2VuZScsIHsgZGVzdGluYXRpb246ICdMb2JieVNjZW5lJyB9KTsgXG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCIvLyBzcmMvY2xpZW50L3NjZW5lcy9Mb2JieVNjZW5lLmpzXG5pbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcbmltcG9ydCB7IHdzU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL1dlYlNvY2tldFNlcnZpY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2JieVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ0xvYmJ5U2NlbmUnKTtcbiAgfVxuXG4gIHByZWxvYWQoKSB7XG4gICAgLy8gQm90w7NuIGRlIGNhbmNlbGFyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdDYW5jZWxCdXR0b24nLCAnYXNzZXRzL2NhbmNlbGFyLnBuZycpO1xuICAgIHRoaXMubG9hZC5pbWFnZSgnQ2FuY2VsQnV0dG9uSG92ZXInLCAnYXNzZXRzL2NhbmNlbGFySG92ZXIucG5nJyk7XG5cbiAgICAvLyBUZXh0byBkZSBtdWx0aWp1Z2Fkb3JcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ011bHRpcGxheWVyVGV4dCcsICdhc3NldHMvdGV4dG9fbXVsdGlqdWdhZG9yLnBuZycpO1xuICB9XG5cbiAgY3JlYXRlKCkge1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0O1xuXG4gICAgLy8gRm9uZG9cbiAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgwNzA3MjIsIDAuOSkuc2V0T3JpZ2luKDApO1xuXG4gICAgLy8gVMOtdHVsb1xuICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgMTEwLCAnTXVsdGlwbGF5ZXJUZXh0JylcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgLnNldFNjYWxlKDEpO1xuXG4gICAgLy8gTW9zdHJhciB1c3VhcmlvIGxvZ3VlYWRvXG4gICAgY29uc3QgdXNlcm5hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKTtcbiAgICBpZiAodXNlcm5hbWUpIHtcbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDI1MCwgYEp1Z2Fkb3I6ICR7dXNlcm5hbWV9YCwge1xuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2ExZGJhMScsXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2F1ZGV4JyxcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuICAgIH1cblxuICAgIC8vIEVzdGFkbyBkZSBjb25leGnDs25cbiAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiAtIDUwLCAnQ29uZWN0YW5kbyBhbCBzZXJ2aWRvci4uLicsIHtcbiAgICAgIGZvbnRTaXplOiAnMjhweCcsXG4gICAgICBjb2xvcjogJyNmZmZmMDAnLFxuICAgICAgZm9udEZhbWlseTogJ0NhdWRleCdcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgIC8vIENvbnRhZG9yIGRlIGp1Z2Fkb3Jlc1xuICAgIHRoaXMucGxheWVyQ291bnRUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgKyAyMCwgJycsIHtcbiAgICAgIGZvbnRTaXplOiAnMjJweCcsXG4gICAgICBjb2xvcjogJyMwMGZmMDAnLFxuICAgICAgZm9udEZhbWlseTogJ0NhdWRleCdcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgIC8vIEluZGljYWRvciBkZSBjYXJnYSAocHVudG9zIGFuaW1hZG9zKVxuICAgIHRoaXMubG9hZGluZ0RvdHMgPSAnJztcbiAgICB0aGlzLnRpbWUuYWRkRXZlbnQoe1xuICAgICAgZGVsYXk6IDUwMCxcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmlzQWN0aXZlKCdMb2JieVNjZW5lJykpIHtcbiAgICAgICAgICB0aGlzLmxvYWRpbmdEb3RzID0gKHRoaXMubG9hZGluZ0RvdHMubGVuZ3RoID49IDMpID8gJycgOiB0aGlzLmxvYWRpbmdEb3RzICsgJy4nO1xuICAgICAgICAgIGlmICh0aGlzLnN0YXR1c1RleHQudGV4dC5pbmNsdWRlcygnRXNwZXJhbmRvJykpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBFc3BlcmFuZG8gb3BvbmVudGUke3RoaXMubG9hZGluZ0RvdHN9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbG9vcDogdHJ1ZVxuICAgIH0pO1xuXG4gICAgLy8gQm90w7NuIGRlIGNhbmNlbGFyXG4gICAgY29uc3QgQ2FuY2VsQnRuID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCBoZWlnaHQgLSAxMDAsICdDYW5jZWxCdXR0b24nKVxuICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAuc2V0U2NhbGUoMC43KVxuICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcblxuICAgIENhbmNlbEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICBpZiAoIWhvdmVySW1nKSB7XG4gICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMTA2OCwgMTcwLCAnQ2FuY2VsQnV0dG9uSG92ZXInKVxuICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXG4gICAgICAgICAgLnNldERlcHRoKENhbmNlbEJ0bi5kZXB0aCArIDEpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgQ2FuY2VsQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgaWYgKGhvdmVySW1nKSB7XG4gICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcbiAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgQ2FuY2VsQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ29uZWN0YXIgYWwgc2Vydmlkb3IgV2ViU29ja2V0XG4gICAgdGhpcy5jb25uZWN0VG9TZXJ2ZXIoKTtcbiAgfVxuXG4gIGFzeW5jIGNvbm5lY3RUb1NlcnZlcigpIHtcbiAgICB0cnkge1xuICAgICAgLy8gQ29uZWN0YXIgYWwgV2ViU29ja2V0XG4gICAgICBhd2FpdCB3c1NlcnZpY2UuY29ubmVjdCgpO1xuXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRXNwZXJhbmRvIG9wb25lbnRlJyk7XG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRGb250RmFtaWx5KCdDYXVkZXgnKTtcblxuICAgICAgLy8gUmVnaXN0cmFyIGhhbmRsZXJzIGRlIG1lbnNhamVzXG4gICAgICB0aGlzLnF1ZXVlU3RhdHVzSGFuZGxlciA9IHRoaXMuaGFuZGxlUXVldWVTdGF0dXMuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuZ2FtZVN0YXJ0SGFuZGxlciA9IHRoaXMuaGFuZGxlR2FtZVN0YXJ0LmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmNvbm5lY3Rpb25Mb3N0SGFuZGxlciA9IHRoaXMuaGFuZGxlQ29ubmVjdGlvbkxvc3QuYmluZCh0aGlzKTtcblxuICAgICAgd3NTZXJ2aWNlLm9uKCdxdWV1ZVN0YXR1cycsIHRoaXMucXVldWVTdGF0dXNIYW5kbGVyKTtcbiAgICAgIHdzU2VydmljZS5vbignZ2FtZVN0YXJ0JywgdGhpcy5nYW1lU3RhcnRIYW5kbGVyKTtcbiAgICAgIHdzU2VydmljZS5vbignY29ubmVjdGlvbkxvc3QnLCB0aGlzLmNvbm5lY3Rpb25Mb3N0SGFuZGxlcik7XG5cbiAgICAgIC8vIFVuaXJzZSBhIGxhIGNvbGFcbiAgICAgIHdzU2VydmljZS5qb2luUXVldWUoKTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgY29uZWN0YW5kbyBhbCBzZXJ2aWRvcjonLCBlcnJvcik7XG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRXJyb3IgZGUgY29uZXhpw7NuJyk7XG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRGb250RmFtaWx5KCdDYXVkZXgnKTtcblxuICAgICAgLy8gQm90w7NuIGRlIHJlaW50ZW50YXJcbiAgICAgIGNvbnN0IHJldHJ5QnV0dG9uID0gdGhpcy5hZGQudGV4dCh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAvIDIsIHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodCAvIDIgKyAxMDAsXG4gICAgICAgICfwn5SEIFJlaW50ZW50YXInLCB7XG4gICAgICAgIGZvbnRTaXplOiAnMjRweCcsXG4gICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM0NDQ0ZmYnLFxuICAgICAgICBwYWRkaW5nOiB7IHg6IDIwLCB5OiAxMCB9XG4gICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XG5cbiAgICAgIHJldHJ5QnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgcmV0cnlCdXR0b24uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmNvbm5lY3RUb1NlcnZlcigpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUXVldWVTdGF0dXMoZGF0YSkge1xuICAgIHRoaXMucGxheWVyQ291bnRUZXh0LnNldFRleHQoYEp1Z2Fkb3JlcyBlbiBjb2xhOiAke2RhdGEucG9zaXRpb259LzJgKTtcbiAgfVxuXG4gIGhhbmRsZUdhbWVTdGFydChkYXRhKSB7XG4gICAgY29uc29sZS5sb2coJ/Cfjq4gwqFQYXJ0aWRhIGVuY29udHJhZGEhJywgZGF0YSk7XG5cbiAgICAvLyBHdWFyZGFyIGVsIHJvbCBkZWwganVnYWRvclxuICAgIHdzU2VydmljZS5zZXRQbGF5ZXJSb2xlKGRhdGEucm9sZSk7XG5cbiAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnwqFQYXJ0aWRhIGVuY29udHJhZGEhJyk7XG4gICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XG4gICAgdGhpcy5wbGF5ZXJDb3VudFRleHQuc2V0VGV4dCgnSW5pY2lhbmRvIGp1ZWdvLi4uJyk7XG4gICAgdGhpcy5zdGF0dXNUZXh0LnNldEZvbnRGYW1pbHkoJ0NhdWRleCcpO1xuICAgIHRoaXMucGxheWVyQ291bnRUZXh0LnNldEZvbnRGYW1pbHkoJ0NhdWRleCcpO1xuXG4gICAgLy8gVHJhbnNpY2nDs24gYSBsYSBlc2NlbmEgZGUganVlZ28gZGVzcHXDqXMgZGUgMSBzZWd1bmRvXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcbiAgICAgIC8vIFBhc2FyIGVsIHJvbCBhbCBHYW1lU2NlbmVcbiAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScsIHtcbiAgICAgICAgaXNNdWx0aXBsYXllcjogdHJ1ZSxcbiAgICAgICAgcGxheWVyUm9sZTogZGF0YS5yb2xlLFxuICAgICAgICByb29tSWQ6IGRhdGEucm9vbUlkXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUNvbm5lY3Rpb25Mb3N0KCkge1xuICAgIGNvbnNvbGUubG9nKCfinYwgQ29uZXhpw7NuIHBlcmRpZGEgZW4gTG9iYnknKTtcbiAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29uZXhpw7NuIHBlcmRpZGEnKTtcbiAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dC5zZXRUZXh0KCcnKTtcbiAgICB0aGlzLnN0YXR1c1RleHQuc2V0Rm9udEZhbWlseSgnQ2F1ZGV4Jyk7XG4gICAgdGhpcy5wbGF5ZXJDb3VudFRleHQuc2V0Rm9udEZhbWlseSgnQ2F1ZGV4Jyk7XG5cbiAgICAvLyBWb2x2ZXIgYWwgbWVuw7ogZGVzcHXDqXMgZGUgMiBzZWd1bmRvc1xuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XG4gICAgICB0aGlzLmxlYXZlUXVldWUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGxlYXZlUXVldWUoKSB7XG4gICAgLy8gTGltcGlhciBoYW5kbGVyc1xuICAgIGlmICh0aGlzLnF1ZXVlU3RhdHVzSGFuZGxlcikge1xuICAgICAgd3NTZXJ2aWNlLm9mZigncXVldWVTdGF0dXMnLCB0aGlzLnF1ZXVlU3RhdHVzSGFuZGxlcik7XG4gICAgfVxuICAgIGlmICh0aGlzLmdhbWVTdGFydEhhbmRsZXIpIHtcbiAgICAgIHdzU2VydmljZS5vZmYoJ2dhbWVTdGFydCcsIHRoaXMuZ2FtZVN0YXJ0SGFuZGxlcik7XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbm5lY3Rpb25Mb3N0SGFuZGxlcikge1xuICAgICAgd3NTZXJ2aWNlLm9mZignY29ubmVjdGlvbkxvc3QnLCB0aGlzLmNvbm5lY3Rpb25Mb3N0SGFuZGxlcik7XG4gICAgfVxuXG4gICAgLy8gU2FsaXIgZGUgbGEgY29sYSB5IGRlc2NvbmVjdGFyXG4gICAgd3NTZXJ2aWNlLmxlYXZlUXVldWUoKTtcbiAgICB3c1NlcnZpY2UuZGlzY29ubmVjdCgpO1xuXG4gICAgLy8gVm9sdmVyIGFsIG1lbsO6XG4gICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XG4gIH1cblxuICBzaHV0ZG93bigpIHtcbiAgICB0aGlzLmxlYXZlUXVldWUoKTtcbiAgfVxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xuXG5leHBvcnQgY2xhc3MgUmFua2luZ1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ1JhbmtpbmdTY2VuZScpO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXRvcmlhbEJveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcblxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdE1pbkJ1dHRvbicsICdhc3NldHMvY2VycmFyLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b25Ib3ZlcicsICdhc3NldHMvY2VycmFySG92ZXIucG5nJyk7XG5cbiAgICAgICAgLy8gVGV4dG8gZGUgcmFua2luZ1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JhbmtpbmdUZXh0JywgJ2Fzc2V0cy90ZXh0b19yYW5raW5nLnBuZycpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcblxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZnJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxuXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoLCAweDA3MDcyMiwgMC45KS5zZXRPcmlnaW4oMCk7XG5cbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDQwMCwgJ3R1dG9yaWFsQm94JylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xuXG4gICAgICAgIC8vIFTDrXR1bG8gXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgMjEwLCAnUmFua2luZ1RleHQnKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XG5cblxuICAgICAgICAvLyBDb250ZW5lZG9yIHBhcmEgbGEgbGlzdGFcbiAgICAgICAgdGhpcy5mZXRjaFJhbmtpbmcoKTtcblxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXG4gICAgICAgIGNvbnN0IEV4aXRCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMDY5LCAxNzAsICdFeGl0TWluQnV0dG9uJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XG5cbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDY4LCAxNzAsICdFeGl0TWluQnV0dG9uSG92ZXInKVxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKEV4aXRCdG4uZGVwdGggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlZ3Jlc2FyIGEgbGEgZXNjZW5hIG9yaWdpbmFsXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZSh0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIGZldGNoUmFua2luZygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIExsYW1hZGEgYWwgZW5kcG9pbnQgZGUgdXNlclJvdXRlcy5qc1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS91c2Vycy9yYW5raW5nJyk7XG4gICAgICAgICAgICBjb25zdCBwbGF5ZXJzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XG5cbiAgICAgICAgICAgIHBsYXllcnMuZm9yRWFjaCgocGxheWVyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHlQb3MgPSAyNzAgKyAoaW5kZXggKiA1MCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBpbmRleCA8IDMgPyAnI2ZmYzg3NWZmJyA6ICcjZmZmZmZmJzsgLy8gVG9wIDMgZW4gZG9yYWRvXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudGV4dCh3ICogMC4zLCB5UG9zLCBgJHtpbmRleCArIDF9LiAke3BsYXllci51c2VybmFtZX1gLCB7IFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLCBmaWxsOiBjb2xvciwgXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYXVkZXgnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRm9ybWF0ZWFyIGVsIHRpZW1wb1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkLnRleHQodyAqIDAuNywgeVBvcywgYCR7cGxheWVyLmJlc3RUaW1lfXNgLCB7IFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLCBmaWxsOiBjb2xvciwgXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYXVkZXgnXG4gICAgICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDEsIDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgb2J0ZW5lciByYW5raW5nOlwiLCBlcnJvcik7XG4gICAgICAgICAgICB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyLCAzMDAsICdFcnJvciBhbCBjb25lY3RhciBjb24gZWwgYm9zcXVlLi4uJywgeyBcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLCBmaWxsOiAnI2ZmMDAwMCcgXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcblxuZXhwb3J0IGNsYXNzIEdhbWVMb2NhbFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ0dhbWVMb2NhbFNjZW5lJyk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcblxuICAgICAgICB0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gbnVsbDtcbiAgICB9XG5cbiAgICBwcmVsb2FkKCkge1xuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgcGVyc29uYWplc1xuICAgICAgICB0aGlzLmxvYWQuYXRsYXMoJ25pdmlhJywgJ2Fzc2V0cy9uaXZpYS9uaXZpYV9zaGVldC5wbmcnLCAnYXNzZXRzL25pdmlhL25pdmlhX3NoZWV0Lmpzb24nKTtcbiAgICAgICAgdGhpcy5sb2FkLmF0bGFzKCdzb2xlbm5lJywgJ2Fzc2V0cy9zb2xlbm5lL3NvbGVubmVfc2hlZXQucG5nJywgJ2Fzc2V0cy9zb2xlbm5lL3NvbGVubmVfc2hlZXQuanNvbicpO1xuXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBjcmlzdGFsZXNcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdzdW5kcm9wX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9zdW5kcm9wLnBuZycsIHsgZnJhbWVXaWR0aDogMjE0LCBmcmFtZUhlaWdodDogMjA2IH0pO1xuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ21vb25kcm9wX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9tb29uZHJvcC5wbmcnLCB7IGZyYW1lV2lkdGg6IDIxNCwgZnJhbWVIZWlnaHQ6IDIwNiB9KTtcblxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3N1bl9zaGVldCcsICdhc3NldHMvaXRlbXMvc3VuLnBuZycsIHsgZnJhbWVXaWR0aDogMzQ3LCBmcmFtZUhlaWdodDogMzI5IH0pO1xuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ21vb25fc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL21vb24ucG5nJywgeyBmcmFtZVdpZHRoOiAzNDcsIGZyYW1lSGVpZ2h0OiAzMjkgfSk7XG5cbiAgICAgICAgLy8gQ2FyZ2EgZGVsIGZvbmRvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvZm9uZG9fYWJham8ucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhdGFmb3JtYXMnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvcGxhdGFmb3JtYXNfYWJham8ucG5nJyk7XG5cbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGVsZW1lbnRvcyBkZWwgZXNjZW5hcmlvXG5cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYU5pdmVsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9wdWVydGFfY2xhcmEucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhT3NjdXJhTml2ZWwxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwxL3B1ZXJ0YV9vc2N1cmEucG5nJyk7XG5cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTFOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTNOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMy5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFPc2N1cmExTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9vc2N1cmExLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX29zY3VyYTIucG5nJyk7XG5cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNsYXJvTml2ZWwxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwxL2JvdG9uX2NsYXJvLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uT3NjdXJvMU5pdmVsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9ib3Rvbl9vc2N1cm8ucG5nJyk7XG5cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNsYXJvTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX2NsYXJvLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uT3NjdXJvMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9vc2N1cm8xLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uT3NjdXJvMk5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9vc2N1cm8yLnBuZycpO1xuXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9ydGFsJywgJ2Fzc2V0cy90cmFtcGFzL3B1ZXJ0YUZpbmFsLnBuZycpO1xuXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBib3RvbmVzXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGF1c2VCdXR0b24nLCAnYXNzZXRzL3BhdXNhLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhdXNlQnV0dG9uSG92ZXInLCAnYXNzZXRzL3BhdXNhSG92ZXIucG5nJyk7XG5cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc0J1dHRvbicsICdhc3NldHMvYWp1c3Rlcy5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc0J1dHRvbkhvdmVyJywgJ2Fzc2V0cy9hanVzdGVzSG92ZXIucG5nJyk7XG5cbiAgICAgICAgLy8gQm90w7NuIGRlIHJlaW5pY2lhciBuaXZlbFxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1Jlc3RhcnRCdXR0b24nLCAnYXNzZXRzL3JlaW5pY2lhci5QTkcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uSG92ZXInLCAnYXNzZXRzL3JlaW5pY2lhckhvdmVyLlBORycpO1xuXG4gICAgICAgIC8vRGHDsW9cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkYW1hZ2UnLCAnYXNzZXRzL3RyYW1wYXMvbGlhbmFzX3BsYXRhZm9ybWFzLnBuZycpXG5cbiAgICAgICAgLy8gRWZlY3RvcyBkZSBzb25pZG8geSBtw7pzaWNhIGRlIGZvbmRvXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2Fsa1NvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY2FtaW5hci5tcDMnKTtcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0U3VuQ3J5c3RhbFNvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY3Jpc3RhbENsYXJvLm1wMycpO1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2NvbGxlY3RNb29uQ3J5c3RhbFNvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY3Jpc3RhbE9zY3Vyby5tcDMnKTtcblxuICAgICAgICAvLyBNw5pTSUNBIEVTUEVDw41GSUNBIERFTCBKVUVHT1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ0dhbWVNdXNpYycsICdhc3NldHMvc29uaWRvL2p1ZWdvLm1wMycpOyAvLyBhanVzdGEgcnV0YSBzaSBoYWNlIGZhbHRhXG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICBjb25zdCBtYXBXaWR0aEluUGl4ZWxzID0gMTQyMDtcbiAgICAgICAgY29uc3QgbWFwSGVpZ2h0SW5QaXhlbHMgPSA4MDA7XG5cbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDtcblxuICAgICAgICAvLyBEZXRlbmVyIHNvbG8gbGEgbcO6c2ljYSBkZWwgbWVuw7ogc2kgZXN0w6Egc29uYW5kb1xuICAgICAgICB0aGlzLnNvdW5kLnN0b3BCeUtleSgnTWVudU11c2ljJyk7XG5cbiAgICAgICAgLy8gUmVwcm9kdWNpciBsYSBtw7pzaWNhIGRlbCBqdWVnb1xuICAgICAgICBpZiAodGhpcy5jYWNoZS5hdWRpby5leGlzdHMoJ0dhbWVNdXNpYycpKSB7XG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ0dhbWVNdXNpYycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjF9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFncmVnYXIgZm9uZG9cbiAgICAgICAgLy9jb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbzEnKS5zZXRPcmlnaW4oMCwgMCk7XG4gICAgICAgIC8vYmcuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xuXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoMCwgMCwgJ2ZvbmRvJykuc2V0T3JpZ2luKDAsIDApO1xuICAgICAgICBiZy5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XG5cbiAgICAgICAgY29uc3QgcGxhdGFmb3JtYSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDAsIDAsICdwbGF0YWZvcm1hcycpLnNldE9yaWdpbigwLCAwKTtcbiAgICAgICAgcGxhdGFmb3JtYS5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XG5cbiAgICAgICAgLy8gQ29uZmlndXJhY2nDs24gZGUgbGEgZsOtc2ljYSBkZWwgbXVuZG9cbiAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLmdyYXZpdHkueSA9IDE1MDA7XG5cbiAgICAgICAgLy8gQ3JlYWNpw7NuIGRlIGxvcyBwZXJzb25hamVzXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XG5cblxuICAgICAgICAvLyBURU1QT1JBTDogQ3JlYXIgdW4gc3VlbG8gc2ltcGxlIHBhcmEgcXVlIHB1ZWRhbiBzYWx0YXIgeSBjYWVyXG4gICAgICAgIHRoaXMuZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIG1hcEhlaWdodEluUGl4ZWxzLCBtYXBXaWR0aEluUGl4ZWxzLCAxMCwgMHgwMEZGMDAsIDApLnNldE9yaWdpbigwLCAwKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmdyb3VuZCwgdHJ1ZSk7IC8vIHRydWUgPSBlc3TDoXRpY29cblxuICAgICAgICAvL0NyZWFjacOzbiBkZSBsYXMgcGxhdGFmb3JtYXNcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hMSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyMDAsIDQ4MCwgMzAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMSwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hMiA9IHRoaXMuYWRkLnJlY3RhbmdsZSg1NzUsIDQ4MCwgMTUwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMiwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hMyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgxMDAwLCA1NTAsIDQwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTMsIHRydWUpO1xuXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMzAwLCAxNTAsIDIwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTQsIHRydWUpO1xuXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTUgPSB0aGlzLmFkZC5yZWN0YW5nbGUoODc1LCAyNzUsIDE1MCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTUsIHRydWUpO1xuXG5cbiAgICAgICAgdGhpcy5wYXJlZDEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNDAwLCA1MCwgMjAsIDIwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wYXJlZDEsIHRydWUpO1xuXG4gICAgICAgIHRoaXMucGFyZWQyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDkwMCwgNzAwLCAyMDAsIDMwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wYXJlZDIsIHRydWUpO1xuXG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbCA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDEwMDAsIDEwLCAncG9ydGFsJykuc2V0U2NhbGUoMSk7XG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmV4aXRQb3J0YWwsIHRydWUpO1xuICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSBmYWxzZTtcblxuICAgICAgICAvLyBwdWVydGFzXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoNzAwLCA0MDAsICdwdWVydGFPc2N1cmFOaXZlbDEnKS5zZXRTY2FsZSgwLjcpO1xuICAgICAgICB0aGlzLmxpZ2h0RG9vcjEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSg3NTAsIDQwMCwgJ3B1ZXJ0YUNsYXJhTml2ZWwxJykuc2V0U2NhbGUoMC43KTtcblxuICAgICAgICB0aGlzLmRhcmtEb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyNTAsIDM3NSwgMjAsIDMwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYXJrRG9vcjFIaXRib3gsIHRydWUpO1xuICAgICAgICAgICAgXG4gICAgICAgIHRoaXMubGlnaHREb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg5MjAsIDQwMCwgMjAsIDI4MCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5saWdodERvb3IxSGl0Ym94LCB0cnVlKTtcblxuICAgICAgICAvLyBkYcOxbyBwbGFjZWhvbGRlclxuICAgICAgICB0aGlzLnRyYW1wYSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDQ1MCwgMTUwLCAnZGFtYWdlJykuc2V0U2NhbGUoMC41KTtcbiAgICAgICAgdGhpcy5kYW1hZ2UgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNDgwLCAxMDAsIDEwMCwgNjAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFtYWdlLCB0cnVlKTtcblxuICAgICAgICAvLyBDb2xpc2lvbmVzIGVudHJlIHBlcnNvbmFqZXMgeSBlbCBzdWVsbyB5IHBsYXRhZm9ybWFzXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5ncm91bmQpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5ncm91bmQpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTEpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hMik7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWEyKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEzKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTMpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTQpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNCk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWE1KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBhcmVkMSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBhcmVkMSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wYXJlZDIpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wYXJlZDIpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMubGlnaHREb29yMUhpdGJveCk7XG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMubGlnaHREb29yMUhpdGJveCk7XG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmRhcmtEb29yMUhpdGJveCk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmRhcmtEb29yMUhpdGJveCk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCduaXZpYScpO1xuICAgICAgICB0aGlzLmNyZWF0ZUFuaW1hdGlvbnMoJ3NvbGVubmUnKTtcblxuICAgICAgICAvLyBJbmljaWFyIGxhIGFuaW1hY2nDs24gJ3J1bicgcGFyYSBwcm9iYXIgKHNlIGNvcnJlZ2lyw6EgZW4gdXBkYXRlKVxuICAgICAgICB0aGlzLm5pdmlhLnBsYXkoJ25pdmlhX2lkbGUnKTtcbiAgICAgICAgdGhpcy5zb2xlbm5lLnBsYXkoJ3NvbGVubmVfaWRsZScpO1xuXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3Mgb2JqZXRvc1xuICAgICAgICB0aGlzLmNyeXN0YWxzID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCh7YWxsb3dHcmF2aXR5OiBmYWxzZSwgaW1tb3ZhYmxlOiB0cnVlfSk7XG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSgxMTAwLCA0MDAsICdtb29uZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KTtcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoMTAwLCAxMDAsICdzdW5kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpO1xuICAgICAgICAvL3RoaXMuc3VuQ3J5c3RhbCA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKG1hcC53aWR0aEluUGl4ZWxzIC0gMjAwLCAzMDAsICdzdW5DcnlzdGFsJykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRJbW1vdmFibGUodHJ1ZSk7XG5cbiAgICAgICAgLy90aGlzLm1ldGFQb3J0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZShtYXBXaWR0aEluUGl4ZWxzIC8gMiwgNTAsICdtZXRhUG9ydGFsJykuc2V0SW1tb3ZhYmxlKHRydWUpLnNldEJvZHlTaXplKDY0LCA2NCk7XG5cblxuXG4gICAgICAgIC8vIEFuaW1hY2lvbmVzIGRlIGxvcyBvYmpldG9zXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcbiAgICAgICAgICAgIGtleTogJ3N1bmRyb3BfaWRsZScsXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3N1bmRyb3Bfc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDcgfSksXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxuICAgICAgICAgICAgcmVwZWF0OiAtMVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XG4gICAgICAgICAgICBrZXk6ICdtb29uZHJvcF9pZGxlJyxcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbW9vbmRyb3Bfc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDcgfSksXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxuICAgICAgICAgICAgcmVwZWF0OiAtMVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm1vb25DcnlzdGFsLnBsYXkoJ21vb25kcm9wX2lkbGUnKTtcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsLnBsYXkoJ3N1bmRyb3BfaWRsZScpO1xuXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGVsIEljb25vIGRlbCBTb2wgKEhVRClcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xuICAgICAgICAgICAga2V5OiAnc3VuX2h1ZF9hbmltJyxcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnc3VuX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSwgXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXG4gICAgICAgICAgICByZXBlYXQ6IC0xXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGVsIEljb25vIGRlIGxhIEx1bmEgKEhVRClcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xuICAgICAgICAgICAga2V5OiAnbW9vbl9odWRfYW5pbScsXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ21vb25fc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCBcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcbiAgICAgICAgICAgIHJlcGVhdDogLTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIEx1bmEgKE5pdmlhKSAtIEl6cXVpZXJkYVxuICAgICAgICB0aGlzLm1vb25IVUQgPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCAtIDIwLCA0MCwgJ21vb25fc2hlZXQnKVxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMTUpIC8vIEVzY2FsYSBNVVkgcmVkdWNpZGEsIHlhIHF1ZSBsb3Mgc3ByaXRlc2hlZXRzIHNvbiBncmFuZGVzICgzNDd4MzI5KVxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpIFxuICAgICAgICAgICAgLnNldERlcHRoKDEwMClcbiAgICAgICAgICAgIC5wbGF5KCdtb29uX2h1ZF9hbmltJyk7IC8vIEluaWNpYSBsYSBhbmltYWNpw7NuXG5cbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIFNvbCAoU29sZW5uZSkgLSBEZXJlY2hhXG4gICAgICAgIHRoaXMuc3VuSFVEID0gdGhpcy5hZGQuc3ByaXRlKHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclggKyAyMCwgNDAsICdzdW5fc2hlZXQnKVxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMTUpIC8vIEVzY2FsYSBNVVkgcmVkdWNpZGFcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKSBcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApXG4gICAgICAgICAgICAucGxheSgnc3VuX2h1ZF9hbmltJyk7IC8vIEluaWNpYSBsYSBhbmltYWNpw7NuXG5cbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBsYSByZWNvbGVjY2nDs24gZGUgY3Jpc3RhbGVzXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLm1vb25DcnlzdGFsLCB0aGlzLmNvbGxlY3RNb29uQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuc3VuQ3J5c3RhbCwgdGhpcy5jb2xsZWN0U3VuQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XG5cbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBmaW4gZGUgbml2ZWwgKE92ZXJsYXAgZGVsIHBvcnRhbClcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5tZXRhUG9ydGFsLCB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSwgbnVsbCwgdGhpcyk7XG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5tZXRhUG9ydGFsLCB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSwgbnVsbCwgdGhpcyk7XG5cbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgbml2ZWxcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIGdlb21ldHJ5TGF5ZXIpO1xuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCBnZW9tZXRyeUxheWVyKTtcblxuICAgICAgICAvLyBDb25maWd1cmFjacOzbiBkZSBsYSBjw6FtYXJhXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEJvdW5kcygwLCAwLCBtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7ICBcblxuICAgICAgICAvLyBDb250cm9sIGRlIHBhdXNhXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5leGl0UG9ydGFsLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5leGl0UG9ydGFsLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBCb3TDs24gZGUgcGF1c2FcbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b24nKVxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKSBcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpIFxuICAgICAgICAgICAgLnNldERlcHRoKDEwMCk7IFxuXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSA0MCwgNDAsICdQYXVzZUJ1dHRvbkhvdmVyJylcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCh0aGlzLnBhdXNlQnV0dG9uLmRlcHRoICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTsgXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEJvdMOzbiBkZSBhanVzdGVzXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDEyMCwgNDAsICdTZXR0aW5nc0J1dHRvbicpXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApIFxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNSkgXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTsgXG5cbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDEyMCwgNDAsICdTZXR0aW5nc0J1dHRvbkhvdmVyJylcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCh0aGlzLnNldHRpbmdzQnV0dG9uLmRlcHRoICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1NldHRpbmdzU2NlbmUnKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICB0aGlzLmV2ZW50cy5vbigndXBkYXRlJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBoeXNpY3Mub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmV4aXRQb3J0YWwpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5leGl0UG9ydGFsKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5kYW1hZ2UsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdHYW1lT3ZlclNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSB9KTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZGFtYWdlLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnR2FtZU92ZXJTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldFVwUGxheWVycygpIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbFkgPSAxNTAwO1xuXG4gICAgICAgICAvLyBDcmVhY2nDs24gcGVyc29uYWplc1xuICAgICAgICB0aGlzLm5pdmlhID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTMwMCwgaW5pdGlhbFksICduaXZpYScpLnNldEJvdW5jZSgwLjIpLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcbiAgICAgICAgdGhpcy5zb2xlbm5lID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTAwLCBpbml0aWFsWSwgJ3NvbGVubmUnKS5zZXRCb3VuY2UoMC4yKS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5uaXZpYS5zZXRTaXplKDEyMCwgMjQwKTtcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRPZmZzZXQoMTEwLCA1MCk7XG5cbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldFNpemUoMTIwLCAyNDApO1xuICAgICAgICB0aGlzLnNvbGVubmUuc2V0T2Zmc2V0KDExMCwgNTApO1xuXG4gICAgICAgIC8vIEVzY2FsYWRvIGRlIGxvcyBwZXJzb25hamVzXG4gICAgICAgIHRoaXMubml2aWEuc2V0U2NhbGUoMC41KTsgXG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRTY2FsZSgwLjUpO1xuXG4gICAgICAgIC8vIENvbnRyb2xlcyBkZSBOaXZpYSAoVGVjbGFzIFdBU0QpXG4gICAgICAgIHRoaXMubml2aWFDb250cm9scyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7XG4gICAgICAgICAgICBsZWZ0OiAnQScsXG4gICAgICAgICAgICByaWdodDogJ0QnLFxuICAgICAgICAgICAgdXA6ICdXJywgICAgLy8gc2FsdG9cbiAgICAgICAgICAgIGludGVyYWN0OiAnRSdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ29udHJvbGVzIGRlIFNvbGVubmUgKEZsZWNoYXMpXG4gICAgICAgIHRoaXMuc29sZW5uZUNvbnRyb2xzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHtcbiAgICAgICAgICAgIGxlZnQ6ICdMRUZUJyxcbiAgICAgICAgICAgIHJpZ2h0OiAnUklHSFQnLFxuICAgICAgICAgICAgdXA6ICdVUCcsICAgLy8gc2FsdG9cbiAgICAgICAgICAgIGludGVyYWN0OiAnU1BBQ0UnXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICBjcmVhdGVBbmltYXRpb25zKGtleSkge1xuICAgICAgICAvLyBBbmltYWNpw7NuIGRlIGNvcnJlclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XG4gICAgICAgICAgICBrZXk6IGAke2tleX1fcnVuYCxcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IHByZWZpeDogJ3J1bl8nLCBzdGFydDogMSwgZW5kOiA0IH0pLFxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcbiAgICAgICAgICAgIHJlcGVhdDogLTFcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlIHNhbHRvXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9qdW1wYCxcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IHByZWZpeDogJ2p1bXBfJywgc3RhcnQ6IDEsIGVuZDogNiB9KSxcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXG4gICAgICAgICAgICByZXBlYXQ6IDBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBpZGxlXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9pZGxlYCxcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IGZyYW1lczogWydpZGxlXzEnXSB9KSxcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMSxcbiAgICAgICAgICAgIHJlcGVhdDogMFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRQYXVzZWRTdGF0ZShpc1BhdXNlZCkge1xuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XG4gICAgICAgIGlmICh0aGlzLmlzUGF1c2VkKSB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHtvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleX0pO1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzdW1lKCkge1xuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdG9nZ2xlUGF1c2UoKSB7XG4gICAgICAgIGNvbnN0IG5ld1BhdXNlZFN0YXRlID0gIXRoaXMuaXNQYXVzZWQ7XG4gICAgICAgIHRoaXMuc2V0UGF1c2VkU3RhdGUobmV3UGF1c2VkU3RhdGUpO1xuICAgIH1cblxuICAgIHRvZ2dsZVNldHRpbmdzKCkge1xuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnU2V0dGluZ3NTY2VuZScpOyBcbiAgICAgICAgLy90aGlzLnNjZW5lLnBhdXNlKCk7XG4gICAgfVxuXG5cbiAgICB1cGRhdGUoKXtcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBwYXVzYSBjb24gdGVjbGEgRVNDXG4gICAgICAgIGlmKHRoaXMuZXNjS2V5LmlzRG93bil7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb3ZpbWllbnRvIGRlIE5pdmlhXG4gICAgICAgIHRoaXMuaGFuZGxlUGxheWVyTW92ZW1lbnQodGhpcy5uaXZpYSwgdGhpcy5uaXZpYUNvbnRyb2xzKTtcblxuICAgICAgICAvLyBNb3ZpbWllbnRvIGRlIFNvbGVubmVcbiAgICAgICAgdGhpcy5oYW5kbGVQbGF5ZXJNb3ZlbWVudCh0aGlzLnNvbGVubmUsIHRoaXMuc29sZW5uZUNvbnRyb2xzKTtcblxuICAgICAgICB0aGlzLmhhbmRsZUNhbWVyYUFuZENvbnN0cmFpbnRzKCk7XG4gICAgICAgIFxuICAgICAgICBpZih0aGlzLmV4aXRQb3J0YWwudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUodGhpcy5leGl0UG9ydGFsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUNhbWVyYUFuZENvbnN0cmFpbnRzKCkge1xuICAgICAgICBjb25zdCBuaXZpYVkgPSB0aGlzLm5pdmlhLnk7XG4gICAgICAgIGNvbnN0IHNvbGVubmVZID0gdGhpcy5zb2xlbm5lLnk7XG5cbiAgICAgICAgLy8gQ2VudHJhciBsYSBjw6FtYXJhIGVudHJlIGFtYm9zIHBlcnNvbmFqZXNcbiAgICAgICAgY29uc3QgbWlkWSA9IChuaXZpYVkgKyBzb2xlbm5lWSkgLyAyO1xuXG4gICAgICAgIC8vIENhbGN1bGFyIGxhIHBvc2ljacOzbiBtZWRpYSBlbiBZXG4gICAgICAgIGxldCBkZXNpcmVkQ2FtZXJhWSA9IG1pZFk7XG5cbiAgICAgICAgLy8gRGVzcGxhemFyIGxhIGPDoW1hcmEgc3VhdmVtZW50ZVxuICAgICAgICBjb25zdCBsZXJwRmFjdG9yID0gMC4wNTtcbiAgICAgICAgY29uc3QgY2FtZXJhSGVpZ2h0ID0gdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNjcm9sbFkgPSBQaGFzZXIuTWF0aC5MaW5lYXIoXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zY3JvbGxZLCBcbiAgICAgICAgICAgIGRlc2lyZWRDYW1lcmFZIC0gY2FtZXJhSGVpZ2h0IC8gMiwgXG4gICAgICAgICAgICBsZXJwRmFjdG9yXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gVmlld3BvcnQgY29uc3RyYWludFxuICAgICAgICBjb25zdCBtYXhWZXJ0aWNhbEdhcCA9IGNhbWVyYUhlaWdodCAqIDAuNzsgLy8gZGlzdGFuY2lhIG3DoXhpbWEgcGVybWl0aWRhIGVudHJlIGxvcyBwZXJzb25hamVzXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlWSA9IE1hdGguYWJzKG5pdmlhWSAtIHNvbGVubmVZKTtcblxuICAgICAgICBpZiAoZGlzdGFuY2VZID4gbWF4VmVydGljYWxHYXApIHtcbiAgICAgICAgICAgIGNvbnN0IGZhc3RlclBsYXllciA9IChuaXZpYVkgPCBzb2xlbm5lWSkgPyB0aGlzLm5pdmlhIDogdGhpcy5zb2xlbm5lO1xuICAgICAgICAgICAgY29uc3Qgc2xvd2VyUGxheWVyID0gKG5pdmlhWSA8IHNvbGVubmVZKSA/IHRoaXMuc29sZW5uZSA6IHRoaXMubml2aWE7XG5cbiAgICAgICAgICAgIGlmIChzbG93ZXJQbGF5ZXIuYm9keS5ibG9ja2VkLmRvd24gfHwgc2xvd2VyUGxheWVyLnkgPiBmYXN0ZXJQbGF5ZXIueSArIG1heFZlcnRpY2FsR2FwKSB7XG4gICAgICAgICAgICAgICAgLy8gRGV0ZW5lciBlbCBhdmFuY2UgdmVydGljYWwgKGhhY2lhIGFycmliYSkgZGVsIGp1Z2Fkb3IgbcOhcyByw6FwaWRvXG4gICAgICAgICAgICAgICAgaWYgKGZhc3RlclBsYXllci5ib2R5LnZlbG9jaXR5LnkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhc3RlclBsYXllci5ib2R5LnZlbG9jaXR5LnkgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk1vdmltaWVudG8gdmVydGljYWwgcmVzdHJpbmdpZG8gcG9yIGVsIGp1Z2Fkb3IgcmV6YWdhZG8uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlUGxheWVyTW92ZW1lbnQocGxheWVyU3ByaXRlLCBjb250cm9scykge1xuICAgICAgICAvLyBWZWxvY2lkYWQgZGVsIG1vdmltaWVudG9cbiAgICAgICAgY29uc3Qgc3BlZWQgPSA0MDA7XG4gICAgICAgIGNvbnN0IGp1bXBWZWxvY2l0eSA9IDkwMDtcbiAgICAgICAgY29uc3Qga2V5ID0gcGxheWVyU3ByaXRlLnRleHR1cmUua2V5O1xuICAgICAgICBjb25zdCBpc01vdmluZyA9IGNvbnRyb2xzLmxlZnQuaXNEb3duIHx8IGNvbnRyb2xzLnJpZ2h0LmlzRG93bjtcbiAgICAgICAgY29uc3QgaXNHcm91bmRlZCA9IHBsYXllclNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bjtcbiAgICAgICAgbGV0IGFuaW1rZXkgPSAnJztcblxuICAgICAgICAvLyBMw7NnaWNhIHBhcmEgcmVwcm9kdWNpciBlbCBzb25pZG8gZGUgY2FtaW5hclxuICAgICAgIGlmIChpc01vdmluZyAmJiBpc0dyb3VuZGVkKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbml2aWEnICYmIHRoaXMuaXNOaXZpYVdhbGtpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gdGhpcy5zb3VuZC5hZGQoJ3dhbGtTb3VuZCcsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAxIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcucGxheSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdzb2xlbm5lJyAmJiB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSB0aGlzLnNvdW5kLmFkZCgnd2Fsa1NvdW5kJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDEgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nLnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIERldGVuZXIgZWwgc29uaWRvIHNpIG5vIHNlIGVzdMOhIG1vdmllbmRvIG8gZXN0w6Egc2FsdGFuZG9cbiAgICAgICAgICAgIGlmIChrZXkgPT09ICduaXZpYScgJiYgdGhpcy5pc05pdmlhV2Fsa2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcuc3RvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdzb2xlbm5lJyAmJiB0aGlzLmlzU29sZW5uZVdhbGtpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcuc3RvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb3ZpbWllbnRvIGhvcml6b250YWxcbiAgICAgICAgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duKSB7XG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKC1zcGVlZCk7XG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0RmxpcFgoZmFsc2UpOyAvLyBNaXJhciBhIGxhIGl6cXVpZXJkYVxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WChzcGVlZCk7XG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0RmxpcFgodHJ1ZSk7IC8vIE1pcmFyIGEgbGEgZGVyZWNoYVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNhbHRvIChzb2xvIHNpIGVzdMOhIHRvY2FuZG8gZWwgc3VlbG8pXG4gICAgICAgIGNvbnN0IGlzSnVtcGluZyA9IGNvbnRyb2xzLnVwLmlzRG93biAmJiBwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd247XG5cbiAgICAgICAgaWYgKGlzSnVtcGluZykge1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WSgtanVtcFZlbG9jaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgYW5pbWFjaW9uZXNcbiAgICAgICAgaWYgKCFwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd24pIHtcbiAgICAgICAgICAgIC8vIEVuIGVsIGFpcmVcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X2p1bXBgO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duIHx8IGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xuICAgICAgICAgICAgLy8gQ29ycmllbmRvXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9ydW5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWRsZVxuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1faWRsZWA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbGEgYW5pbWFjacOzbiBzb2xvIHNpIGVzIGRpZmVyZW50ZSBhIGxhIGFjdHVhbFxuICAgICAgICBpZiAocGxheWVyU3ByaXRlLmFuaW1zLmN1cnJlbnRBbmltPy5rZXkgIT09IGFuaW1rZXkpIHtcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5hbmltcy5wbGF5KGFuaW1rZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBpbnRlcmFjY2nDs25cbiAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bihjb250cm9scy5pbnRlcmFjdCkpIHtcbiAgICAgICAgICAgIC8vIEFxdcOtIHZhIGxhIGzDs2dpY2EgZGUgaW50ZXJhY2Npw7NuIChwb3IgZWplbXBsbywgYWJyaXIgcHVlcnRhcywgcmVjb2dlciBvYmpldG9zLCBldGMuKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ludGVyYWNjacOzbiByZWFsaXphZGEnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbGxlY3RNb29uQ3J5c3RhbChwbGF5ZXIsIGNyeXN0YWwpIHtcbiAgICAgICAgY3J5c3RhbC5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcbiAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tb29uSFVELnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHRoaXMuc291bmQucGxheSgnY29sbGVjdE1vb25DcnlzdGFsU291bmQnLCB7IHZvbHVtZTogMC41IH0pO1xuICAgICAgICBjb25zb2xlLmxvZygnTml2aWEgaGEgcmVjb2dpZG8gZWwgQ3Jpc3RhbCBkZSBsYSBMdW5hJyk7XG4gICAgICAgIHRoaXMudW5sb2NrRGFya0Rvb3IoKTtcbiAgICB9XG5cbiAgICBjb2xsZWN0U3VuQ3J5c3RhbChwbGF5ZXIsIGNyeXN0YWwpIHtcbiAgICAgICAgY3J5c3RhbC5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9IHRydWU7XG4gICAgICAgIHRoaXMuc3VuSFVELnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHRoaXMuc291bmQucGxheSgnY29sbGVjdFN1bkNyeXN0YWxTb3VuZCcsIHsgdm9sdW1lOiAwLjUgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTb2xlbm5lIGhhIHJlY29naWRvIGVsIENyaXN0YWwgZGVsIFNvbCcpO1xuICAgICAgICB0aGlzLnVubG9ja0xpZ2h0RG9vcigpO1xuICAgIH1cblxuICAgIHVubG9ja0RhcmtEb29yKCkge1xuICAgICAgICAvLyBMw7NnaWNhIHBhcmEgZGVzYmxvcXVlYXIgbGEgcHVlcnRhIG9zY3VyYVxuICAgICAgICB0aGlzLmRhcmtEb29yMUhpdGJveC5ib2R5LmVuYWJsZSA9IGZhbHNlOyAgIFxuICAgICAgICB0aGlzLmRhcmtEb29yMUhpdGJveC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXJrRG9vcjEuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdQdWVydGEgT3NjdXJhIGRlc2Jsb3F1ZWFkYScpO1xuICAgICAgICB0aGlzLmNoZWNrUG9ydGFsU3Bhd24oKTtcbiAgICB9XG5cbiAgICB1bmxvY2tMaWdodERvb3IoKSB7XG4gICAgICAgIC8vIEzDs2dpY2EgcGFyYSBkZXNibG9xdWVhciBsYSBwdWVydGEgY2xhcmFcbiAgICAgICAgdGhpcy5saWdodERvb3IxSGl0Ym94LmJvZHkuZW5hYmxlID0gZmFsc2U7ICAgXG4gICAgICAgIHRoaXMubGlnaHREb29yMUhpdGJveC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5saWdodERvb3IxLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBjb25zb2xlLmxvZygnUHVlcnRhIENsYXJhIGRlc2Jsb3F1ZWFkYScpO1xuICAgICAgICB0aGlzLmNoZWNrUG9ydGFsU3Bhd24oKTtcbiAgICB9XG5cbiAgICBjaGVja1BvcnRhbFNwYXduKCkge1xuICAgICAgICBpZiAodGhpcy5uaXZpYUhhc01vb25DcnlzdGFsICYmIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBbWJvcyBjcmlzdGFsZXMgcmVjb2dpZG9zLiBFbCBwb3J0YWwgYXBhcmVjZS4nKTtcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5leGl0UG9ydGFsLmJvZHkuZW5hYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoZWNrTGV2ZWxDb21wbGV0ZShwbGF5ZXIsIHBvcnRhbCkge1xuICAgICAgICAvLyBMb3MgZG9zIGRlYmVuIHRvY2FyIGVsIHBvcnRhbCB5IHRlbmVyIHN1cyByZXNwZWN0aXZvcyBjcmlzdGFsZXNcbiAgICAgICAgaWYgKHRoaXMubml2aWFPblBvcnRhbCAmJiB0aGlzLnNvbGVubmVPblBvcnRhbCAmJiB0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgJiYgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCkge1xuICAgICAgICAgICAgLy8gTGFuemFyIGVzY2VuYSBkZSB2aWN0b3JpYSB5IHBhdXNhciBlc3RhIGVzY2VuYVxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1ZpY3RvcnlTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmRnYW1lKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkp1ZWdvIFRlcm1pbmFkb1wiKTtcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZlcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXG5cbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XG4gICAgICAgIHRoaXMuYWRkLnRleHQodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCwgdGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWSAtIDEwMCwgXCLCoU5pdmVsIENvbXBsZXRhZG8hXCIsIHsgXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLCBmaWxsOiAnI0ZGRkZGRicgfSkuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgICAgICAgICAgLy8gUmVpbmljaWFyIG5pdmVsXG4gICAgICAgIGNvbnN0IHJlc3RhcnRidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDUsIDQxNSwgJ1Jlc3RhcnRCdXR0b24nKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcblxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDY5MywgNDI1LCAnUmVzdGFydEJ1dHRvbkhvdmVyJylcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyZXN0YXJ0YnRuLmRlcHRoICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2NlbmVLZXkgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChvcmlnaW5hbFNjZW5lS2V5KTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xuICAgICAgICB9KTtcbiAgICB9XG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBMZXZlbDJTY2VuZUxvY2FsIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ0xldmVsMlNjZW5lTG9jYWwnKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9IDA7XG4gICAgICAgIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPSAwO1xuICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gbnVsbDtcbiAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gbnVsbDtcbiAgICB9XG5cbiAgICBwcmVsb2FkKCkge1xuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgcGVyc29uYWplc1xuICAgICAgICB0aGlzLmxvYWQuYXRsYXMoJ25pdmlhJywgJ2Fzc2V0cy9uaXZpYS9uaXZpYV9zaGVldC5wbmcnLCAnYXNzZXRzL25pdmlhL25pdmlhX3NoZWV0Lmpzb24nKTtcbiAgICAgICAgdGhpcy5sb2FkLmF0bGFzKCdzb2xlbm5lJywgJ2Fzc2V0cy9zb2xlbm5lL3NvbGVubmVfc2hlZXQucG5nJywgJ2Fzc2V0cy9zb2xlbm5lL3NvbGVubmVfc2hlZXQuanNvbicpO1xuXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBjcmlzdGFsZXNcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdzdW5kcm9wX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9zdW5kcm9wLnBuZycsIHsgZnJhbWVXaWR0aDogMjE0LCBmcmFtZUhlaWdodDogMjA2IH0pO1xuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ21vb25kcm9wX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9tb29uZHJvcC5wbmcnLCB7IGZyYW1lV2lkdGg6IDIxNCwgZnJhbWVIZWlnaHQ6IDIwNiB9KTtcblxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3N1bl9zaGVldCcsICdhc3NldHMvaXRlbXMvc3VuLnBuZycsIHsgZnJhbWVXaWR0aDogMzQ3LCBmcmFtZUhlaWdodDogMzI5IH0pO1xuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ21vb25fc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL21vb24ucG5nJywgeyBmcmFtZVdpZHRoOiAzNDcsIGZyYW1lSGVpZ2h0OiAzMjkgfSk7XG5cbiAgICAgICAgLy8gQ2FyZ2EgZGVsIGZvbmRvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8xJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2ZvbmRvX2FycmliYS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGF0YWZvcm1hczEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcGxhdGFmb3JtYXNfYXJyaWJhLnBuZycpO1xuXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBlbGVtZW50b3MgZGVsIGVzY2VuYXJpb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BsYXRhZm9ybWFzTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3BsYXRhZm9ybWFzX2FycmliYS5wbmcnKTtcblxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmExLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhMk5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmEyLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhM05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmEzLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYTFOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX29zY3VyYTEucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhT3NjdXJhMk5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfb3NjdXJhMi5wbmcnKTtcblxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uQ2xhcm9OaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b25fY2xhcm8ucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Pc2N1cm8xTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX29zY3VybzEucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Pc2N1cm8yTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX29zY3VybzIucG5nJyk7XG5cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb3J0YWwxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3BvcnRhbC5wbmcnKTtcblxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgYm90b25lc1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhdXNlQnV0dG9uJywgJ2Fzc2V0cy9wYXVzYS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYXVzZUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9wYXVzYUhvdmVyLnBuZycpO1xuXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU2V0dGluZ3NCdXR0b24nLCAnYXNzZXRzL2FqdXN0ZXMucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU2V0dGluZ3NCdXR0b25Ib3ZlcicsICdhc3NldHMvYWp1c3Rlc0hvdmVyLnBuZycpO1xuXG4gICAgICAgIC8vIEJvdMOzbiBkZSByZWluaWNpYXIgbml2ZWxcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uJywgJ2Fzc2V0cy9yZWluaWNpYXIuUE5HJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9yZWluaWNpYXJIb3Zlci5QTkcnKTtcblxuICAgICAgICAvL0Rhw7FvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZGFtYWdlMScsICdhc3NldHMvdHJhbXBhcy90cmFtcGFzLnBuZycpXG5cbiAgICAgICAgLy8gRWZlY3RvcyBkZSBzb25pZG8geSBtw7pzaWNhIGRlIGZvbmRvXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2Fsa1NvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY2FtaW5hci5tcDMnKTtcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0U3VuQ3J5c3RhbFNvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY3Jpc3RhbENsYXJvLm1wMycpO1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2NvbGxlY3RNb29uQ3J5c3RhbFNvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY3Jpc3RhbE9zY3Vyby5tcDMnKTtcblxuICAgICAgICAvLyBNw5pTSUNBIEVTUEVDw41GSUNBIERFTCBKVUVHT1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ0dhbWVNdXNpYycsICdhc3NldHMvc29uaWRvL2p1ZWdvLm1wMycpOyAvLyBhanVzdGEgcnV0YSBzaSBoYWNlIGZhbHRhXG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICBjb25zdCBtYXBXaWR0aEluUGl4ZWxzID0gMTQyMDtcbiAgICAgICAgY29uc3QgbWFwSGVpZ2h0SW5QaXhlbHMgPSA4MDA7XG5cbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDtcblxuICAgICAgICAvLyBEZXRlbmVyIHNvbG8gbGEgbcO6c2ljYSBkZWwgbWVuw7ogc2kgZXN0w6Egc29uYW5kb1xuICAgICAgICB0aGlzLnNvdW5kLnN0b3BCeUtleSgnTWVudU11c2ljJyk7XG5cbiAgICAgICAgLy8gUmVwcm9kdWNpciBsYSBtw7pzaWNhIGRlbCBqdWVnb1xuICAgICAgICBpZiAodGhpcy5jYWNoZS5hdWRpby5leGlzdHMoJ0dhbWVNdXNpYycpKSB7XG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ0dhbWVNdXNpYycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjJ9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFncmVnYXIgZm9uZG9cbiAgICAgICAgLy9jb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbzEnKS5zZXRPcmlnaW4oMCwgMCk7XG4gICAgICAgIC8vYmcuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xuXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoMCwgMCwgJ2ZvbmRvMScpLnNldE9yaWdpbigwLCAwKTtcbiAgICAgICAgYmcuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xuXG4gICAgICAgIGNvbnN0IHBsYXRhZm9ybWEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgwLCAwLCAncGxhdGFmb3JtYXMxJykuc2V0T3JpZ2luKDAsIDApO1xuICAgICAgICBwbGF0YWZvcm1hLnNldERpc3BsYXlTaXplKG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcblxuICAgICAgICAvLyBDb25maWd1cmFjacOzbiBkZSBsYSBmw61zaWNhIGRlbCBtdW5kb1xuICAgICAgICB0aGlzLnBoeXNpY3Mud29ybGQuZ3Jhdml0eS55ID0gMTUwMDtcblxuICAgICAgICAvLyBDcmVhY2nDs24gZGUgbG9zIHBlcnNvbmFqZXNcbiAgICAgICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcblxuXG4gICAgICAgIC8vIFRFTVBPUkFMOiBDcmVhciB1biBzdWVsbyBzaW1wbGUgcGFyYSBxdWUgcHVlZGFuIHNhbHRhciB5IGNhZXJcbiAgICAgICAgdGhpcy5ncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgbWFwSGVpZ2h0SW5QaXhlbHMsIG1hcFdpZHRoSW5QaXhlbHMsIDEwLCAweDAwRkYwMCwgMCkuc2V0T3JpZ2luKDAsIDApO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZ3JvdW5kLCB0cnVlKTsgLy8gdHJ1ZSA9IGVzdMOhdGljb1xuXG4gICAgICAgIC8vQ3JlYWNpw7NuIGRlIGxhcyBwbGF0YWZvcm1hc1xuICAgICAgICB0aGlzLnBsYXRhZm9ybWExID0gdGhpcy5hZGQucmVjdGFuZ2xlKDIwMCwgNTc1LCAzMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWExLCB0cnVlKTtcblxuICAgICAgICB0aGlzLnBsYXRhZm9ybWEyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDc1MCwgNTUwLCAxNjAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWEyLCB0cnVlKTtcblxuICAgICAgICB0aGlzLnBsYXRhZm9ybWEzID0gdGhpcy5hZGQucmVjdGFuZ2xlKDEyNTAsIDQyNSwgNDAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMywgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hNCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg1MjUsIDMyNSwgNDAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hNCwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hNSA9IHRoaXMuYWRkLnJlY3RhbmdsZSg4NzUsIDIyNSwgMzAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hNSwgdHJ1ZSk7XG5cblxuICAgICAgICB0aGlzLnBhcmVkMSA9IHRoaXMuYWRkLnJlY3RhbmdsZSg3MTUsIDQyNSwgODAsIDIwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wYXJlZDEsIHRydWUpO1xuXG4gICAgICAgIC8vdGhpcy5wYXJlZDIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoOTAwLCA3MDAsIDIwMCwgMzAwLCAweDMyMmIxZCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGFyZWQyLCB0cnVlKTtcbiAgICAgICAgdGhpcy5wb3J0YWxTcHJpdGUgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncG9ydGFsMScpLnNldFNjYWxlKDAuNzUpO1xuICAgICAgICB0aGlzLnBvcnRhbFNwcml0ZS5zZXRWaXNpYmxlKGZhbHNlKTtcblxuICAgICAgICB0aGlzLmV4aXRQb3J0YWwgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMjAwLCAyMDAsIDIwMCwgMjAwKS5zZXRTY2FsZSgwLjc1KTtcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZXhpdFBvcnRhbCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbC5ib2R5LmVuYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHB1ZXJ0YXMgKHNwcml0ZXMpXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3B1ZXJ0YU9zY3VyYTFOaXZlbDInKS5zZXRTY2FsZSgwLjc1KTtcbiAgICAgICAgdGhpcy5kYXJrRG9vcjIgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncHVlcnRhT3NjdXJhMk5pdmVsMicpLnNldFNjYWxlKDAuNzUpO1xuXG4gICAgICAgIHRoaXMubGlnaHREb29yMSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwdWVydGFDbGFyYTFOaXZlbDInKS5zZXRTY2FsZSgwLjc1KTtcbiAgICAgICAgdGhpcy5saWdodERvb3IyID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3B1ZXJ0YUNsYXJhMk5pdmVsMicpLnNldFNjYWxlKDAuNzUpO1xuICAgICAgICB0aGlzLmxpZ2h0RG9vcjMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncHVlcnRhQ2xhcmEzTml2ZWwyJykuc2V0U2NhbGUoMC43NSk7XG4gICAgICAgIFxuICAgICAgICAvLyBwdWVydGFzIGhpdGJveGVzXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxSGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDMyNSwgNzAwLCAyMCwgMzAwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhcmtEb29yMUhpdGJveCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZGFya0Rvb3IySGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgNTc1LCAzMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhcmtEb29yMkhpdGJveCwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5saWdodERvb3IxSGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDcwMCwgMTAwLCAyMCwgMjgwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjFIaXRib3gsIHRydWUpO1xuICAgICAgICB0aGlzLmxpZ2h0RG9vcjJIaXRib3ggPSB0aGlzLmFkZC5yZWN0YW5nbGUoNzUwLCA3MDAsIDIwLCAyMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMubGlnaHREb29yMkhpdGJveCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMubGlnaHREb29yM0hpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg5MjUsIDUwMCwgMjAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5saWdodERvb3IzSGl0Ym94KTtcbiAgICAgICAgdGhpcy5saWdodERvb3IzSGl0Ym94LmJvZHkuc2V0SW1tb3ZhYmxlKHRydWUpLnNldEFsbG93R3Jhdml0eShmYWxzZSk7XG4gICAgICAgIHRoaXMubGlnaHREb29yM0hpdGJveC5zZXRBbmdsZSgxMzUpO1xuXG4gICAgICAgIC8vcHVlcnRhcyAobGlzdGEpXG4gICAgICAgIHRoaXMuZG9vcnMgPSB7XG4gICAgICAgICAgICBkYXJrRG9vcjE6IHtcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHRoaXMuZGFya0Rvb3IxLFxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5kYXJrRG9vcjFIaXRib3hcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXJrRG9vcjI6IHtcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHRoaXMuZGFya0Rvb3IyLFxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5kYXJrRG9vcjJIaXRib3hcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaWdodERvb3IxOiB7XG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmxpZ2h0RG9vcjEsXG4gICAgICAgICAgICAgICAgaGl0Ym94OiB0aGlzLmxpZ2h0RG9vcjFIaXRib3hcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaWdodERvb3IyOiB7XG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmxpZ2h0RG9vcjMsXG4gICAgICAgICAgICAgICAgaGl0Ym94OiB0aGlzLmxpZ2h0RG9vcjJIaXRib3hcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaWdodERvb3IzOiB7XG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmxpZ2h0RG9vcjIsXG4gICAgICAgICAgICAgICAgaGl0Ym94OiB0aGlzLmxpZ2h0RG9vcjNIaXRib3hcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBkYcOxbyBoaXRib3hlc1xuICAgICAgICB0aGlzLmRhbWFnZUdyb3VwID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cCgpO1xuICAgICAgICB0aGlzLnRyYW1wYSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdkYW1hZ2UxJykuc2V0U2NhbGUoMC43NSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmRhbWFnZTEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTM1MCwgMTAwLCAyMDAsIDEwMCwgMHgzM2ZmMDAsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYW1hZ2UxLCB0cnVlKTtcblxuICAgICAgICB0aGlzLmRhbWFnZTIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTAwLCA1MzAsIDEwMCwgMzAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFtYWdlMiwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5kYW1hZ2UzID0gdGhpcy5hZGQucmVjdGFuZ2xlKDEyNSwgODAwLCA2MCwgMzAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFtYWdlMywgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5kYW1hZ2U0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDYwMCwgMzAwLCA2MCwgMzAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFtYWdlNCwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cC5hZGQodGhpcy5kYW1hZ2UxKTtcbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cC5hZGQodGhpcy5kYW1hZ2UyKTtcbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cC5hZGQodGhpcy5kYW1hZ2UzKTtcbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cC5hZGQodGhpcy5kYW1hZ2U0KTtcblxuICAgICAgICAvLyBDb2xpc2lvbmVzIGVudHJlIHBlcnNvbmFqZXMgeSBlbCBzdWVsbyB5IHBsYXRhZm9ybWFzXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5ncm91bmQpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5ncm91bmQpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTEpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hMik7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWEyKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEzKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTMpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTQpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNCk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWE1KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBhcmVkMSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBhcmVkMSk7XG5cbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGFyZWQyKTtcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wYXJlZDIpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMubGlnaHREb29yMUhpdGJveCk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5saWdodERvb3IySGl0Ym94KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmxpZ2h0RG9vcjNIaXRib3gpO1xuXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMubGlnaHREb29yMUhpdGJveCk7XG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmRhcmtEb29yMUhpdGJveCk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmRhcmtEb29yMUhpdGJveCk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmRhcmtEb29yMkhpdGJveCk7XG5cbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCduaXZpYScpO1xuICAgICAgICB0aGlzLmNyZWF0ZUFuaW1hdGlvbnMoJ3NvbGVubmUnKTtcblxuICAgICAgICAvLyBJbmljaWFyIGxhIGFuaW1hY2nDs24gJ3J1bicgcGFyYSBwcm9iYXIgKHNlIGNvcnJlZ2lyw6EgZW4gdXBkYXRlKVxuICAgICAgICB0aGlzLm5pdmlhLnBsYXkoJ25pdmlhX2lkbGUnKTtcbiAgICAgICAgdGhpcy5zb2xlbm5lLnBsYXkoJ3NvbGVubmVfaWRsZScpO1xuXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3Mgb2JqZXRvc1xuICAgICAgICB0aGlzLmNyeXN0YWxzID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCh7YWxsb3dHcmF2aXR5OiBmYWxzZSwgaW1tb3ZhYmxlOiB0cnVlfSk7XG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSgxMzAwLCAzMDAsICdtb29uZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KVxuICAgICAgICAuc2V0RGF0YSgnZG9vcktleScsICdkYXJrRG9vcjEnKTtcbiAgICAgICAgdGhpcy5tb29uQ3J5c3RhbDIgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSg1NTAsIDIwMCwgJ21vb25kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpXG4gICAgICAgIC5zZXREYXRhKCdkb29yS2V5JywgJ2RhcmtEb29yMicpO1xuXG4gICAgICAgIHRoaXMuc3VuQ3J5c3RhbCA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKDU1MCwgNzAwLCAnc3VuZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KVxuICAgICAgICAuc2V0RGF0YSgnZG9vcktleScsICdsaWdodERvb3IzJyk7XG4gICAgICAgIHRoaXMuc3VuQ3J5c3RhbDIgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSgyMDAsIDcwMCwgJ3N1bmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSlcbiAgICAgICAgLnNldERhdGEoJ2Rvb3JLZXknLCAnbGlnaHREb29yMScpO1xuXG4gICAgICAgIC8vdGhpcy5zdW5DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUobWFwLndpZHRoSW5QaXhlbHMgLSAyMDAsIDMwMCwgJ3N1bkNyeXN0YWwnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldEltbW92YWJsZSh0cnVlKTtcblxuICAgICAgICAvL3RoaXMubWV0YVBvcnRhbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMgLyAyLCA1MCwgJ21ldGFQb3J0YWwnKS5zZXRJbW1vdmFibGUodHJ1ZSkuc2V0Qm9keVNpemUoNjQsIDY0KTtcblxuXG5cbiAgICAgICAgLy8gQW5pbWFjaW9uZXMgZGUgbG9zIG9iamV0b3NcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xuICAgICAgICAgICAga2V5OiAnc3VuZHJvcF9pZGxlJyxcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnc3VuZHJvcF9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogNyB9KSxcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXG4gICAgICAgICAgICByZXBlYXQ6IC0xXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcbiAgICAgICAgICAgIGtleTogJ21vb25kcm9wX2lkbGUnLFxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdtb29uZHJvcF9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogNyB9KSxcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXG4gICAgICAgICAgICByZXBlYXQ6IC0xXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwucGxheSgnbW9vbmRyb3BfaWRsZScpO1xuICAgICAgICB0aGlzLnN1bkNyeXN0YWwucGxheSgnc3VuZHJvcF9pZGxlJyk7XG5cbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZWwgSWNvbm8gZGVsIFNvbCAoSFVEKVxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XG4gICAgICAgICAgICBrZXk6ICdzdW5faHVkX2FuaW0nLFxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdzdW5fc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCBcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcbiAgICAgICAgICAgIHJlcGVhdDogLTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZWwgSWNvbm8gZGUgbGEgTHVuYSAoSFVEKVxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XG4gICAgICAgICAgICBrZXk6ICdtb29uX2h1ZF9hbmltJyxcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbW9vbl9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIFxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxuICAgICAgICAgICAgcmVwZWF0OiAtMVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBJbmRpY2Fkb3IgZGUgTHVuYSAoTml2aWEpIC0gSXpxdWllcmRhXG4gICAgICAgIHRoaXMubW9vbkhVRCA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYIC0gMjAsIDQwLCAnbW9vbl9zaGVldCcpXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4xNSkgLy8gRXNjYWxhIE1VWSByZWR1Y2lkYSwgeWEgcXVlIGxvcyBzcHJpdGVzaGVldHMgc29uIGdyYW5kZXMgKDM0N3gzMjkpXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSkgXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKVxuICAgICAgICAgICAgLnBsYXkoJ21vb25faHVkX2FuaW0nKTsgLy8gSW5pY2lhIGxhIGFuaW1hY2nDs25cblxuICAgICAgICAvLyBJbmRpY2Fkb3IgZGUgU29sIChTb2xlbm5lKSAtIERlcmVjaGFcbiAgICAgICAgdGhpcy5zdW5IVUQgPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCArIDIwLCA0MCwgJ3N1bl9zaGVldCcpXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4xNSkgLy8gRXNjYWxhIE1VWSByZWR1Y2lkYVxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpIFxuICAgICAgICAgICAgLnNldERlcHRoKDEwMClcbiAgICAgICAgICAgIC5wbGF5KCdzdW5faHVkX2FuaW0nKTsgLy8gSW5pY2lhIGxhIGFuaW1hY2nDs25cblxuICAgICAgICAvLyBMw7NnaWNhIGRlIGxhIHJlY29sZWNjacOzbiBkZSBjcmlzdGFsZXNcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubW9vbkNyeXN0YWwsIHRoaXMuY29sbGVjdE1vb25DcnlzdGFsLCBudWxsLCB0aGlzKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5zdW5DcnlzdGFsLCB0aGlzLmNvbGxlY3RTdW5DcnlzdGFsLCBudWxsLCB0aGlzKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubW9vbkNyeXN0YWwyLCB0aGlzLmNvbGxlY3RNb29uQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuc3VuQ3J5c3RhbDIsIHRoaXMuY29sbGVjdFN1bkNyeXN0YWwsIG51bGwsIHRoaXMpO1xuXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgZmluIGRlIG5pdmVsIChPdmVybGFwIGRlbCBwb3J0YWwpXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubWV0YVBvcnRhbCwgdGhpcy5jaGVja0xldmVsQ29tcGxldGUsIG51bGwsIHRoaXMpO1xuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMubWV0YVBvcnRhbCwgdGhpcy5jaGVja0xldmVsQ29tcGxldGUsIG51bGwsIHRoaXMpO1xuXG4gICAgICAgIC8vIENvbGlzaW9uZXMgZW50cmUgcGVyc29uYWplcyB5IGVsIG5pdmVsXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCBnZW9tZXRyeUxheWVyKTtcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgZ2VvbWV0cnlMYXllcik7XG5cbiAgICAgICAgLy8gQ29uZmlndXJhY2nDs24gZGUgbGEgY8OhbWFyYVxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRCb3VuZHMoMCwgMCwgbWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpOyAgXG5cbiAgICAgICAgLy8gQ29udHJvbCBkZSBwYXVzYVxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZXhpdFBvcnRhbCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZXhpdFBvcnRhbCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQm90w7NuIGRlIHBhdXNhXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDQwLCA0MCwgJ1BhdXNlQnV0dG9uJylcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMCkgXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC41KSBcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApOyBcblxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b25Ib3ZlcicpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5wYXVzZUJ1dHRvbi5kZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7IFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBCb3TDs24gZGUgYWp1c3Rlc1xuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAxMjAsIDQwLCAnU2V0dGluZ3NCdXR0b24nKVxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKSBcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpIFxuICAgICAgICAgICAgLnNldERlcHRoKDEwMCk7IFxuXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAxMjAsIDQwLCAnU2V0dGluZ3NCdXR0b25Ib3ZlcicpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5zZXR0aW5nc0J1dHRvbi5kZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdTZXR0aW5nc1NjZW5lJyk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3VwZGF0ZScsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5waHlzaWNzLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5leGl0UG9ydGFsKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBoeXNpY3Mub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZXhpdFBvcnRhbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgb25EYW1hZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnR2FtZU92ZXJTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZGFtYWdlR3JvdXAsIG9uRGFtYWdlKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5kYW1hZ2VHcm91cCwgb25EYW1hZ2UpO1xuICAgIH1cblxuICAgIHNldFVwUGxheWVycygpIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbFkgPSAxNTAwO1xuXG4gICAgICAgICAvLyBDcmVhY2nDs24gcGVyc29uYWplc1xuICAgICAgICB0aGlzLm5pdmlhID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTMwMCwgaW5pdGlhbFksICduaXZpYScpLnNldEJvdW5jZSgwLjIpLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcbiAgICAgICAgdGhpcy5zb2xlbm5lID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTIwMCwgaW5pdGlhbFksICdzb2xlbm5lJykuc2V0Qm91bmNlKDAuMikuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xuXG4gICAgICAgIHRoaXMubml2aWEuc2V0U2l6ZSgxMjAsIDI0MCk7XG4gICAgICAgIHRoaXMubml2aWEuc2V0T2Zmc2V0KDExMCwgNTApO1xuXG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRTaXplKDEyMCwgMjQwKTtcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldE9mZnNldCgxMTAsIDUwKTtcblxuICAgICAgICAvLyBFc2NhbGFkbyBkZSBsb3MgcGVyc29uYWplc1xuICAgICAgICB0aGlzLm5pdmlhLnNldFNjYWxlKDAuNSk7IFxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0U2NhbGUoMC41KTtcblxuICAgICAgICAvLyBDb250cm9sZXMgZGUgTml2aWEgKFRlY2xhcyBXQVNEKVxuICAgICAgICB0aGlzLm5pdmlhQ29udHJvbHMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoe1xuICAgICAgICAgICAgbGVmdDogJ0EnLFxuICAgICAgICAgICAgcmlnaHQ6ICdEJyxcbiAgICAgICAgICAgIHVwOiAnVycsICAgIC8vIHNhbHRvXG4gICAgICAgICAgICBpbnRlcmFjdDogJ0UnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENvbnRyb2xlcyBkZSBTb2xlbm5lIChGbGVjaGFzKVxuICAgICAgICB0aGlzLnNvbGVubmVDb250cm9scyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7XG4gICAgICAgICAgICBsZWZ0OiAnTEVGVCcsXG4gICAgICAgICAgICByaWdodDogJ1JJR0hUJyxcbiAgICAgICAgICAgIHVwOiAnVVAnLCAgIC8vIHNhbHRvXG4gICAgICAgICAgICBpbnRlcmFjdDogJ1NQQUNFJ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgY3JlYXRlQW5pbWF0aW9ucyhrZXkpIHtcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBjb3JyZXJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xuICAgICAgICAgICAga2V5OiBgJHtrZXl9X3J1bmAsXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBwcmVmaXg6ICdydW5fJywgc3RhcnQ6IDEsIGVuZDogNCB9KSxcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXG4gICAgICAgICAgICByZXBlYXQ6IC0xXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBzYWx0b1xuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XG4gICAgICAgICAgICBrZXk6IGAke2tleX1fanVtcGAsXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBwcmVmaXg6ICdqdW1wXycsIHN0YXJ0OiAxLCBlbmQ6IDYgfSksXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxuICAgICAgICAgICAgcmVwZWF0OiAwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgaWRsZVxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XG4gICAgICAgICAgICBrZXk6IGAke2tleX1faWRsZWAsXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBmcmFtZXM6IFsnaWRsZV8xJ10gfSksXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEsXG4gICAgICAgICAgICByZXBlYXQ6IDBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0UGF1c2VkU3RhdGUoaXNQYXVzZWQpIHtcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xuICAgICAgICBpZiAodGhpcy5pc1BhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7b3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXl9KTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRvZ2dsZVBhdXNlKCkge1xuICAgICAgICBjb25zdCBuZXdQYXVzZWRTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xuICAgICAgICB0aGlzLnNldFBhdXNlZFN0YXRlKG5ld1BhdXNlZFN0YXRlKTtcbiAgICB9XG5cbiAgICB0b2dnbGVTZXR0aW5ncygpIHtcbiAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1NldHRpbmdzU2NlbmUnKTsgXG4gICAgICAgIC8vdGhpcy5zY2VuZS5wYXVzZSgpO1xuICAgIH1cblxuXG4gICAgdXBkYXRlKCl7XG4gICAgICAgIC8vIEzDs2dpY2EgZGUgcGF1c2EgY29uIHRlY2xhIEVTQ1xuICAgICAgICBpZih0aGlzLmVzY0tleS5pc0Rvd24pe1xuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92aW1pZW50byBkZSBOaXZpYVxuICAgICAgICB0aGlzLmhhbmRsZVBsYXllck1vdmVtZW50KHRoaXMubml2aWEsIHRoaXMubml2aWFDb250cm9scyk7XG5cbiAgICAgICAgLy8gTW92aW1pZW50byBkZSBTb2xlbm5lXG4gICAgICAgIHRoaXMuaGFuZGxlUGxheWVyTW92ZW1lbnQodGhpcy5zb2xlbm5lLCB0aGlzLnNvbGVubmVDb250cm9scyk7XG4gICAgICAgIFxuICAgICAgICBpZih0aGlzLmV4aXRQb3J0YWwudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUodGhpcy5leGl0UG9ydGFsKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgaGFuZGxlUGxheWVyTW92ZW1lbnQocGxheWVyU3ByaXRlLCBjb250cm9scykge1xuICAgICAgICAvLyBWZWxvY2lkYWQgZGVsIG1vdmltaWVudG9cbiAgICAgICAgY29uc3Qgc3BlZWQgPSA0MDA7XG4gICAgICAgIGNvbnN0IGp1bXBWZWxvY2l0eSA9IDkwMDtcbiAgICAgICAgY29uc3Qga2V5ID0gcGxheWVyU3ByaXRlLnRleHR1cmUua2V5O1xuICAgICAgICBjb25zdCBpc01vdmluZyA9IGNvbnRyb2xzLmxlZnQuaXNEb3duIHx8IGNvbnRyb2xzLnJpZ2h0LmlzRG93bjtcbiAgICAgICAgY29uc3QgaXNHcm91bmRlZCA9IHBsYXllclNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bjtcbiAgICAgICAgbGV0IGFuaW1rZXkgPSAnJztcblxuICAgICAgICAvLyBMw7NnaWNhIHBhcmEgcmVwcm9kdWNpciBlbCBzb25pZG8gZGUgY2FtaW5hclxuICAgICAgIGlmIChpc01vdmluZyAmJiBpc0dyb3VuZGVkKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbml2aWEnICYmIHRoaXMuaXNOaXZpYVdhbGtpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gdGhpcy5zb3VuZC5hZGQoJ3dhbGtTb3VuZCcsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAxIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcucGxheSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdzb2xlbm5lJyAmJiB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSB0aGlzLnNvdW5kLmFkZCgnd2Fsa1NvdW5kJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDEgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nLnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIERldGVuZXIgZWwgc29uaWRvIHNpIG5vIHNlIGVzdMOhIG1vdmllbmRvIG8gZXN0w6Egc2FsdGFuZG9cbiAgICAgICAgICAgIGlmIChrZXkgPT09ICduaXZpYScgJiYgdGhpcy5pc05pdmlhV2Fsa2luZykge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcuc3RvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdzb2xlbm5lJyAmJiB0aGlzLmlzU29sZW5uZVdhbGtpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcuc3RvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb3ZpbWllbnRvIGhvcml6b250YWxcbiAgICAgICAgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duKSB7XG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKC1zcGVlZCk7XG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0RmxpcFgoZmFsc2UpOyAvLyBNaXJhciBhIGxhIGl6cXVpZXJkYVxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WChzcGVlZCk7XG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0RmxpcFgodHJ1ZSk7IC8vIE1pcmFyIGEgbGEgZGVyZWNoYVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNhbHRvIChzb2xvIHNpIGVzdMOhIHRvY2FuZG8gZWwgc3VlbG8pXG4gICAgICAgIGNvbnN0IGlzSnVtcGluZyA9IGNvbnRyb2xzLnVwLmlzRG93biAmJiBwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd247XG5cbiAgICAgICAgaWYgKGlzSnVtcGluZykge1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WSgtanVtcFZlbG9jaXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgYW5pbWFjaW9uZXNcbiAgICAgICAgaWYgKCFwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd24pIHtcbiAgICAgICAgICAgIC8vIEVuIGVsIGFpcmVcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X2p1bXBgO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duIHx8IGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xuICAgICAgICAgICAgLy8gQ29ycmllbmRvXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9ydW5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWRsZVxuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1faWRsZWA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbGEgYW5pbWFjacOzbiBzb2xvIHNpIGVzIGRpZmVyZW50ZSBhIGxhIGFjdHVhbFxuICAgICAgICBpZiAocGxheWVyU3ByaXRlLmFuaW1zLmN1cnJlbnRBbmltPy5rZXkgIT09IGFuaW1rZXkpIHtcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5hbmltcy5wbGF5KGFuaW1rZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBpbnRlcmFjY2nDs25cbiAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bihjb250cm9scy5pbnRlcmFjdCkpIHtcbiAgICAgICAgICAgIC8vIEFxdcOtIHZhIGxhIGzDs2dpY2EgZGUgaW50ZXJhY2Npw7NuIChwb3IgZWplbXBsbywgYWJyaXIgcHVlcnRhcywgcmVjb2dlciBvYmpldG9zLCBldGMuKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ludGVyYWNjacOzbiByZWFsaXphZGEnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbGxlY3RNb29uQ3J5c3RhbChwbGF5ZXIsIGNyeXN0YWwpIHtcbiAgICAgICAgY3J5c3RhbC5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcbiAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsICs9IDE7XG4gICAgICAgIGlmICh0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgPT0gMikgdGhpcy5tb29uSFVELnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHRoaXMuc291bmQucGxheSgnY29sbGVjdE1vb25DcnlzdGFsU291bmQnLCB7IHZvbHVtZTogMC41IH0pO1xuICAgICAgICBjb25zb2xlLmxvZygnTml2aWEgaGEgcmVjb2dpZG8gZWwgQ3Jpc3RhbCBkZSBsYSBMdW5hJyk7XG4gICAgICAgIHRoaXMudW5sb2NrRG9vcihjcnlzdGFsLmdldERhdGEoJ2Rvb3JLZXknKSk7XG4gICAgfVxuXG4gICAgY29sbGVjdFN1bkNyeXN0YWwocGxheWVyLCBjcnlzdGFsKSB7XG4gICAgICAgIGNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgKz0gMTtcbiAgICAgICAgaWYgKHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPT0gMikgdGhpcy5zdW5IVUQuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdjb2xsZWN0U3VuQ3J5c3RhbFNvdW5kJywgeyB2b2x1bWU6IDAuNSB9KTtcbiAgICAgICAgY29uc29sZS5sb2coJ1NvbGVubmUgaGEgcmVjb2dpZG8gZWwgQ3Jpc3RhbCBkZWwgU29sJyk7XG4gICAgICAgIHRoaXMudW5sb2NrRG9vcihjcnlzdGFsLmdldERhdGEoJ2Rvb3JLZXknKSk7XG4gICAgfVxuXG4gICAgdW5sb2NrRG9vcihkb29yS2V5KSB7XG4gICAgICAgIGNvbnN0IGRvb3IgPSB0aGlzLmRvb3JzW2Rvb3JLZXldO1xuXG4gICAgICAgIGRvb3IuaGl0Ym94LmJvZHkuZW5hYmxlID0gZmFsc2U7XG4gICAgICAgIGRvb3IuaGl0Ym94LnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBkb29yLnNwcml0ZS5zZXRWaXNpYmxlKGZhbHNlKTtcblxuICAgICAgICB0aGlzLmNoZWNrUG9ydGFsU3Bhd24oKTtcbiAgICB9XG5cbiAgICBjaGVja1BvcnRhbFNwYXduKCkge1xuICAgICAgICBpZiAodGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID09IDIgJiYgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9PSAyKSB7XG4gICAgICAgICAgICB0aGlzLnBvcnRhbFNwcml0ZS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5leGl0UG9ydGFsLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2tMZXZlbENvbXBsZXRlKHBsYXllciwgcG9ydGFsKSB7XG4gICAgICAgIC8vIExvcyBkb3MgZGViZW4gdG9jYXIgZWwgcG9ydGFsIHkgdGVuZXIgc3VzIHJlc3BlY3Rpdm9zIGNyaXN0YWxlc1xuICAgICAgICBpZiAodGhpcy5uaXZpYU9uUG9ydGFsICYmIHRoaXMuc29sZW5uZU9uUG9ydGFsICYmIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9PSAyICYmIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPT0gMikge1xuICAgICAgICAgICAgLy8gTGFuemFyIGVzY2VuYSBkZSB2aWN0b3JpYSB5IHBhdXNhciBlc3RhIGVzY2VuYVxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1ZpY3RvcnlTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmRnYW1lKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkp1ZWdvIFRlcm1pbmFkb1wiKTtcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZlcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXG5cbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XG4gICAgICAgIHRoaXMuYWRkLnRleHQodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCwgdGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWSAtIDEwMCwgXCLCoU5pdmVsIENvbXBsZXRhZG8hXCIsIHsgXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLCBmaWxsOiAnI0ZGRkZGRicgfSkuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgICAgICAgICAgLy8gUmVpbmljaWFyIG5pdmVsXG4gICAgICAgIGNvbnN0IHJlc3RhcnRidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDUsIDQxNSwgJ1Jlc3RhcnRCdXR0b24nKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcblxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDY5MywgNDI1LCAnUmVzdGFydEJ1dHRvbkhvdmVyJylcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyZXN0YXJ0YnRuLmRlcHRoICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2NlbmVLZXkgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChvcmlnaW5hbFNjZW5lS2V5KTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xuICAgICAgICB9KTtcbiAgICB9XG59IiwiLy8gc3JjL2NsaWVudC9zY2VuZXMvQXV0aFNjZW5lLmpzXG5pbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcblxuZXhwb3J0IGNsYXNzIEF1dGhTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdBdXRoU2NlbmUnKTtcbiAgICB9XG5cbiAgICBpbml0KGRhdGEpIHtcbiAgICAgICAgLy8gRGVzdGlubyBkZXNwdcOpcyBkZWwgbG9naW4gZXhpdG9zbyAocG9yIGRlZmVjdG8gTG9iYnlTY2VuZSlcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IGRhdGEuZGVzdGluYXRpb24gfHwgJ0xvYmJ5U2NlbmUnO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXRvcmlhbEJveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcbiAgICAgICAgLy8gVGV4dG8gSW5pY2lhciBTZXNpb25cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMb2dJblRleHQnLCAnYXNzZXRzL3RleHRwX2luaWNpYXJTZXNpb24ucG5nJyk7XG5cbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRCdXR0b24nLCAnYXNzZXRzL2NhbmNlbGFyLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRCdXR0b25Ib3ZlcicsICdhc3NldHMvY2FuY2VsYXJIb3Zlci5wbmcnKTtcblxuICAgICAgICAvLyBCb3TDs24gZGUgbG9naW5cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMb2dpbkJ1dHRvbicsICdhc3NldHMvZW50cmFyLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xvZ2luQnV0dG9uSG92ZXInLCAnYXNzZXRzL2VudHJhckhvdmVyLnBuZycpO1xuXG4gICAgICAgIC8vIEJvdMOzbiBkZSByZWdpc3RlclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JlZ2lzdGVyQnV0dG9uJywgJ2Fzc2V0cy9yZWdpc3Ryby5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZWdpc3RlckJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9yZWdpc3Ryb0hvdmVyLnBuZycpO1xuXG4gICAgICAgIFxuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcblxuICAgICAgICAvLyBGb25kbyBvc2N1cm9cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcblxuICAgICAgICAvLyBDYWphIGNlbnRyYWxcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICd0dXRvcmlhbEJveCcpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcblxuICAgICAgICAvLyBJbWFnZW4gZGUgTG9nSW5cbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAxODAsICdMb2dJblRleHQnKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XG5cbiAgICAgICAgLy8gPT09IENBTVBPUyBERSBURVhUTyA9PT1cblxuICAgICAgICAvLyBMYWJlbCBVc2VybmFtZSAtICBNw4FTIEEgTEEgSVpRVUlFUkRBIFkgTcOBUyBBUlJJQkFcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDI5MCwgJ1VzdWFyaW86Jywge1xuICAgICAgICAgICAgZm9udFNpemU6ICcyMnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2F1ZGV4J1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBJbnB1dCBVc2VybmFtZSAoSFRNTCkgLSAgTcOBUyBBUlJJQkFcbiAgICAgICAgdGhpcy51c2VybmFtZUlucHV0ID0gdGhpcy5jcmVhdGVIVE1MSW5wdXQoNTUwLCAyODAsIDMwMCwgJ3RleHQnKTtcblxuICAgICAgICAvLyBMYWJlbCBQYXNzd29yZCAtICBNw4FTIEEgTEEgSVpRVUlFUkRBIFkgTcOBUyBBUlJJQkFcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDM1NSwgJ0NvbnRyYXNlw7FhOicsIHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjJweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhdWRleCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSW5wdXQgUGFzc3dvcmQgKEhUTUwpIC0g4pyFIE3DgVMgQVJSSUJBXG4gICAgICAgIHRoaXMucGFzc3dvcmRJbnB1dCA9IHRoaXMuY3JlYXRlSFRNTElucHV0KDU1MCwgMzQ1LCAzMDAsICdwYXNzd29yZCcpO1xuXG4gICAgICAgIC8vID09PSBNRU5TQUpFIERFIEVSUk9SL8OJWElUTyA9PT1cbiAgICAgICAgdGhpcy5tZXNzYWdlVGV4dCA9IHRoaXMuYWRkLnRleHQoNzAwLCA0MjAsICcnLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwJyxcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYXVkZXgnLFxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDQwMCB9XG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vID09PSBCT1RPTkVTIChTSU4gQ0FNQklPUyBFTiBIT1ZFUikgPT09XG5cbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDtcblxuICAgICAgICAvLyBCb3TDs24gTE9HSU5cbiAgICAgICAgY29uc3QgbG9naW5CdG4gPSB0aGlzLmFkZC5pbWFnZSg1NTAsIDQ4MCwgJ0xvZ2luQnV0dG9uJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNilcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XG5cbiAgICAgICAgbG9naW5CdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNTUwLCA0ODAsICdMb2dpbkJ1dHRvbkhvdmVyJylcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjYpXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChsb2dpbkJ0bi5kZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBsb2dpbkJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxvZ2luQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTG9naW4oKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQm90w7NuIFJFR0lTVEVSXG4gICAgICAgIGNvbnN0IHJlZ2lzdGVyQnRuID0gdGhpcy5hZGQuaW1hZ2UoODUwLCA0ODAsICdSZWdpc3RlckJ1dHRvbicpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjYpXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xuXG4gICAgICAgIHJlZ2lzdGVyQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDg1MCwgNDgwLCAnUmVnaXN0ZXJCdXR0b25Ib3ZlcicpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC42KVxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgocmVnaXN0ZXJCdG4uZGVwdGggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVnaXN0ZXJCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZWdpc3RlckJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJlZ2lzdGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEJvdMOzbiBWT0xWRVJcbiAgICAgICAgY29uc3QgYmFja0J0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTcwLCAnRXhpdEJ1dHRvbicpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjYpXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xuXG4gICAgICAgIGJhY2tCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1NzAsICdFeGl0QnV0dG9uSG92ZXInKVxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNilcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKGJhY2tCdG4uZGVwdGggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYmFja0J0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJhY2tCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbGVhbnVwSW5wdXRzKCk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUGVybWl0aXIgRW50ZXIgcGFyYSBsb2dpblxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKCdrZXlkb3duLUVOVEVSJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVMb2dpbigpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhciBpbnB1dCBIVE1MIChQaGFzZXIgRE9NIEVsZW1lbnQpXG4gICAgICovXG4gICAgY3JlYXRlSFRNTElucHV0KHgsIHksIHdpZHRoLCB0eXBlID0gJ3RleHQnKSB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgaW5wdXQudHlwZSA9IHR5cGU7XG4gICAgICAgIGlucHV0LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgaW5wdXQuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gICAgICAgIGlucHV0LnN0eWxlLmhlaWdodCA9ICczNXB4JztcbiAgICAgICAgaW5wdXQuc3R5bGUuZm9udFNpemUgPSAnMThweCc7XG4gICAgICAgIGlucHV0LnN0eWxlLmZvbnRGYW1pbHkgPSAnQ2F1ZGV4JztcbiAgICAgICAgaW5wdXQuc3R5bGUucGFkZGluZyA9ICc1cHggMTBweCc7XG4gICAgICAgIGlucHV0LnN0eWxlLmJvcmRlciA9ICcycHggc29saWQgI2ZmZmZmZic7XG4gICAgICAgIGlucHV0LnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1cHgnO1xuICAgICAgICBpbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzFhMWEyZSc7XG4gICAgICAgIGlucHV0LnN0eWxlLmNvbG9yID0gJyNmZmZmZmYnO1xuICAgICAgICBpbnB1dC5zdHlsZS5vdXRsaW5lID0gJ25vbmUnO1xuICAgICAgICBpbnB1dC5zdHlsZS56SW5kZXggPSAnMTAwMCc7IC8vIOKchSBBc2VndXJhciBxdWUgZXN0w6kgZW5jaW1hXG5cbiAgICAgICAgLy8gUG9zaWNpb25hciBlbiBlbCBjYW52YXNcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5nYW1lLmNhbnZhcztcbiAgICAgICAgY29uc3QgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaW5wdXQuc3R5bGUubGVmdCA9IGAke3JlY3QubGVmdCArIHh9cHhgO1xuICAgICAgICBpbnB1dC5zdHlsZS50b3AgPSBgJHtyZWN0LnRvcCArIHl9cHhgO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuXG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYW5lamFyIExvZ2luXG4gICAgICovXG4gICAgYXN5bmMgaGFuZGxlTG9naW4oKSB7XG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdGhpcy51c2VybmFtZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgY29uc3QgcGFzc3dvcmQgPSB0aGlzLnBhc3N3b3JkSW5wdXQudmFsdWU7XG5cbiAgICAgICAgLy8gVmFsaWRhY2nDs25cbiAgICAgICAgaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ1BvciBmYXZvciBjb21wbGV0YSB0b2RvcyBsb3MgY2FtcG9zJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCdJbmljaWFuZG8gc2VzacOzbi4uLicsICdpbmZvJyk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvdXNlcnMvbG9naW4nLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lLCBwYXNzd29yZCB9KVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIC8vIExvZ2luIGV4aXRvc29cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIExvZ2luIGV4aXRvc286JywgZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAvLyBHdWFyZGFyIGRhdG9zIGRlbCB1c3VhcmlvIGVuIGxvY2FsU3RvcmFnZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCBkYXRhLmlkKTsgXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VybmFtZScsIGRhdGEudXNlcm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ8KhQmllbnZlbmlkbyAnICsgZGF0YS51c2VybmFtZSArICchJywgJ3N1Y2Nlc3MnKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJciBhbCBkZXN0aW5vIGRlc3B1w6lzIGRlIDEgc2VndW5kb1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhbnVwSW5wdXRzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KHRoaXMuZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVycm9yIGRlIGxvZ2luXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZShkYXRhLmVycm9yIHx8ICdVc3VhcmlvIG8gY29udHJhc2XDsWEgaW5jb3JyZWN0b3MnLCAnZXJyb3InKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gbG9naW46JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZSgnRXJyb3IgZGUgY29uZXhpw7NuLiBJbnTDqW50YWxvIGRlIG51ZXZvLicsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFuZWphciBSZWdpc3Ryb1xuICAgICAqL1xuICAgIGFzeW5jIGhhbmRsZVJlZ2lzdGVyKCkge1xuICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRoaXMudXNlcm5hbWVJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICAgIGNvbnN0IHBhc3N3b3JkID0gdGhpcy5wYXNzd29yZElucHV0LnZhbHVlO1xuXG4gICAgICAgIC8vIFZhbGlkYWNpw7NuXG4gICAgICAgIGlmICghdXNlcm5hbWUgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCdQb3IgZmF2b3IgY29tcGxldGEgdG9kb3MgbG9zIGNhbXBvcycsICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVzZXJuYW1lLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ0VsIHVzdWFyaW8gZGViZSB0ZW5lciBhbCBtZW5vcyAzIGNhcmFjdGVyZXMnLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXNzd29yZC5sZW5ndGggPCA0KSB7XG4gICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCdMYSBjb250cmFzZcOxYSBkZWJlIHRlbmVyIGFsIG1lbm9zIDQgY2FyYWN0ZXJlcycsICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaG93TWVzc2FnZSgnQ3JlYW5kbyBjdWVudGEuLi4nLCAnaW5mbycpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3VzZXJzL3JlZ2lzdGVyJywge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSwgcGFzc3dvcmQgfSlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAvLyBSZWdpc3RybyBleGl0b3NvXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBSZWdpc3RybyBleGl0b3NvOicsIGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgLy8gR3VhcmRhciBkYXRvcyBkZWwgdXN1YXJpb1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCBkYXRhLmlkKTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcm5hbWUnLCBkYXRhLnVzZXJuYW1lKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ8KhQ3VlbnRhIGNyZWFkYSEgQmllbnZlbmlkbyAnICsgZGF0YS51c2VybmFtZSwgJ3N1Y2Nlc3MnKTtcblxuICAgICAgICAgICAgICAgIC8vIElyIGFsIGRlc3Rpbm8gZGVzcHXDqXMgZGUgMS41IHNlZ3VuZG9zXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDE1MDAsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhbnVwSW5wdXRzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQodGhpcy5kZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRXJyb3IgZGUgcmVnaXN0cm9cbiAgICAgICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKGRhdGEuZXJyb3IgfHwgJ05vIHNlIHB1ZG8gY3JlYXIgbGEgY3VlbnRhJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuIHJlZ2lzdHJvOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ0Vycm9yIGRlIGNvbmV4acOzbi4gSW50w6ludGFsbyBkZSBudWV2by4nLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vc3RyYXIgbWVuc2FqZSBhbCB1c3VhcmlvXG4gICAgICovXG4gICAgc2hvd01lc3NhZ2UodGV4dCwgdHlwZSA9ICdpbmZvJykge1xuICAgICAgICBjb25zdCBjb2xvcnMgPSB7XG4gICAgICAgICAgICBlcnJvcjogJyNmZjQ0NDQnLFxuICAgICAgICAgICAgc3VjY2VzczogJyM0NGZmNDQnLFxuICAgICAgICAgICAgaW5mbzogJyNmZmZmNDQnXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5tZXNzYWdlVGV4dC5zZXRUZXh0KHRleHQpO1xuICAgICAgICB0aGlzLm1lc3NhZ2VUZXh0LnNldENvbG9yKGNvbG9yc1t0eXBlXSB8fCBjb2xvcnMuaW5mbyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGltcGlhciBpbnB1dHMgSFRNTCBjdWFuZG8gc2Ugc2FsZSBkZSBsYSBlc2NlbmFcbiAgICAgKi9cbiAgICBjbGVhbnVwSW5wdXRzKCkge1xuICAgICAgICBpZiAodGhpcy51c2VybmFtZUlucHV0ICYmIHRoaXMudXNlcm5hbWVJbnB1dC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnVzZXJuYW1lSW5wdXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnVzZXJuYW1lSW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBhc3N3b3JkSW5wdXQgJiYgdGhpcy5wYXNzd29yZElucHV0LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMucGFzc3dvcmRJbnB1dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGFzc3dvcmRJbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5jbGVhbnVwSW5wdXRzKCk7XG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub2ZmKCdrZXlkb3duLUVOVEVSJyk7XG4gICAgfVxufSIsIi8vIHNyYy9jbGllbnQvc2NlbmVzL1BsYXllckRpc2Nvbm5lY3RlZFNjZW5lLmpzXG5pbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcbmltcG9ydCB7IHdzU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9XZWJTb2NrZXRTZXJ2aWNlXCI7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXJEaXNjb25uZWN0ZWRTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdQbGF5ZXJEaXNjb25uZWN0ZWRTY2VuZScpO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0b3JpYWxCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmV0TWVudUJ1dHRvbicsICdhc3NldHMvbWVudS5QTkcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXRNZW51QnV0dG9uSG92ZXInLCAnYXNzZXRzL21lbnVIb3Zlci5QTkcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEltw6FnZW5lcyBlc3BlY8OtZmljYXMgZGUgZXN0YSBlc2NlbmFcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0ZXh0b19qdWdhZG9yRGVzY29uZWN0YWRvJywgJ2Fzc2V0cy90ZXh0b19qdWdhZG9yRGVzY29uZWN0YWRvLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xvYmJ5QnV0dG9uJywgJ2Fzc2V0cy9sb2JieS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMb2JieUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9sb2JieUhvdmVyLnBuZycpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDtcblxuICAgICAgICAvLyBGb25kbyBvc2N1cm9cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcblxuICAgICAgICAvLyBDYWphIGRlIHBpZWRyYVxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDQwMCwgJ3R1dG9yaWFsQm94Jykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMSk7XG5cbiAgICAgICAgLy8gSW1hZ2VuIGRlbCB0w610dWxvIChlbiBsdWdhciBkZSB0ZXh0bylcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAyNjAsICd0ZXh0b19qdWdhZG9yRGVzY29uZWN0YWRvJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuOClcblxuICAgICAgICAvLyBTdWJ0w610dWxvXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNzAwLCAzMzAsICdFbCBvdHJvIGp1Z2Fkb3IgYWJhbmRvbsOzIGxhIHBhcnRpZGEnLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYXVkZXgnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vIEJvdMOzbiBWT0xWRVIgQUwgTE9CQlkgKGNvbiBsb3MgYm90b25lcyBjb3JyZWN0b3MpXG4gICAgICAgIGNvbnN0IGxvYmJ5QnRuID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MjAsICdMb2JieUJ1dHRvbicpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xuXG4gICAgICAgIGxvYmJ5QnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNDIwLCAnTG9iYnlCdXR0b25Ib3ZlcicpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgobG9iYnlCdG4uZGVwdGggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbG9iYnlCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBsb2JieUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICB3c1NlcnZpY2UuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lcyA9IHRoaXMuZ2FtZS5zY2VuZS5rZXlzO1xuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHNjZW5lcykge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICdMb2JieVNjZW5lJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0xvYmJ5U2NlbmUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQm90w7NuIE1FTsOaIFBSSU5DSVBBTFxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MjAsICdSZXRNZW51QnV0dG9uJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XG5cbiAgICAgICAgbWVudUJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg2OTgsIDUyMCwgJ1JldE1lbnVCdXR0b25Ib3ZlcicpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgobWVudUJ0bi5kZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBtZW51QnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbWVudUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICB3c1NlcnZpY2UuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lcyA9IHRoaXMuZ2FtZS5zY2VuZS5rZXlzO1xuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHNjZW5lcykge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICdNZW51U2NlbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcbmltcG9ydCB7IHdzU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9XZWJTb2NrZXRTZXJ2aWNlXCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lT3ZlckRpc2Nvbm5lY3RTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdHYW1lT3ZlckRpc2Nvbm5lY3RTY2VuZScpO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdDcmVkaXRzQm94JywgJ2Fzc2V0cy9jYWphLnBuZycpO1xuICAgICAgICAvLyBUZXh0byBHYW1lIE92ZXIgKGltYWdlbiBkZSBERVJST1RBKVxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0dhbWVPdmVyVGV4dCcsICdhc3NldHMvdGV4dG9fZGVycm90YS5wbmcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEJvdMOzbiBkZSBpciBhbCBsb2JieVxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xvYmJ5QnV0dG9uJywgJ2Fzc2V0cy9sb2JieS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMb2JieUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9sb2JieUhvdmVyLnBuZycpO1xuICAgICAgICBcbiAgICAgICAgLy8gQm90w7NuIGRlIHZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWxcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXRNZW51QnV0dG9uJywgJ2Fzc2V0cy9tZW51LlBORycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JldE1lbnVCdXR0b25Ib3ZlcicsICdhc3NldHMvbWVudUhvdmVyLlBORycpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDtcblxuICAgICAgICAvLyBGb25kbyBvc2N1cm9cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcblxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAnQ3JlZGl0c0JveCcpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcblxuICAgICAgICAvLyBJbWFnZW4gZGUgREVSUk9UQVxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDI0MCwgJ0dhbWVPdmVyVGV4dCcpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcblxuICAgICAgICAvLyBTdWJ0w610dWxvOiBcIkRlcnJvdGEgcG9yIGRlc2NvbmV4acOzblwiXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNzAwLCAzMjAsICdEZXJyb3RhIHBvciBkZXNjb25leGnDs24nLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmY2NjY2JyxcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYXVkZXgnLFxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcidcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8gQm90w7NuIFZPTFZFUiBBTCBMT0JCWVxuICAgICAgICBjb25zdCBsb2JieWJ0biA9IHRoaXMuYWRkLmltYWdlKDcwNSwgNDE1LCAnTG9iYnlCdXR0b24nKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC42KVxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcblxuICAgICAgICBsb2JieWJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg3MDUsIDQxNSwgJ0xvYmJ5QnV0dG9uSG92ZXInKVxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNilcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKGxvYmJ5YnRuLmRlcHRoICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxvYmJ5YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbG9iYnlidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgd3NTZXJ2aWNlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBzY2VuZXMgPSB0aGlzLmdhbWUuc2NlbmUua2V5cztcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBzY2VuZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnTG9iYnlTY2VuZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdMb2JieVNjZW5lJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEJvdMOzbiBNRU7DmiBQUklOQ0lQQUxcbiAgICAgICAgY29uc3QgbWVudWJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTE1LCAnUmV0TWVudUJ1dHRvbicpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xuXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjk4LCA1MTUsICdSZXRNZW51QnV0dG9uSG92ZXInKVxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKG1lbnVidG4uZGVwdGggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbWVudWJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgd3NTZXJ2aWNlLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBzY2VuZXMgPSB0aGlzLmdhbWUuc2NlbmUua2V5cztcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBzY2VuZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnTWVudVNjZW5lJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xuICAgICAgICB9KTtcbiAgICB9XG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5pbXBvcnQgeyBNZW51U2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvTWVudVNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEdhbWVTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9HYW1lU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgUGF1c2VTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9QYXVzZVNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFR1dG9yaWFsU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvVHV0b3JpYWxTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBDcmVkaXRzU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvQ3JlZGl0c1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvU2V0dGluZ3NTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBMZXZlbFNlbGVjdFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0xldmVsU2VsZWN0U2NlbmUuanNcIjtcclxuaW1wb3J0IHsgUGxhY2VIb2xkZXJTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9QbGFjZUhvbGRlclNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFZpY3RvcnlTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9WaWN0b3J5U2NlbmUuanNcIjtcclxuaW1wb3J0IHsgR2FtZU92ZXJTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9HYW1lT3ZlclNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IExldmVsMlNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0xldmVsMlNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IENvbm5lY3Rpb25Mb3N0U2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBHYW1lTW9kZVNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0dhbWVNb2RlU2NlbmUuanNcIjtcclxuaW1wb3J0ICBMb2JieVNjZW5lICBmcm9tIFwiLi9zY2VuZXMvTG9iYnlTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBSYW5raW5nU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvUmFua2luZ1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEdhbWVMb2NhbFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0dhbWVMb2NhbFNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IExldmVsMlNjZW5lTG9jYWwgfSBmcm9tIFwiLi9zY2VuZXMvTGV2ZWwyU2NlbmVMb2NhbC5qc1wiO1xyXG5pbXBvcnQgeyBBdXRoU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvQXV0aFNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFBsYXllckRpc2Nvbm5lY3RlZFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL1BsYXllckRpc2Nvbm5lY3RlZFNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEdhbWVPdmVyRGlzY29ubmVjdFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0dhbWVPdmVyRGlzY29ubmVjdFNjZW5lLmpzXCI7XHJcblxyXG4vLyBTZXJ2aWNpb3MgZGUgcmVkXHJcbmltcG9ydCAnLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyc7XHJcbmltcG9ydCAnLi9zZXJ2aWNlcy9XZWJTb2NrZXRTZXJ2aWNlLmpzJztcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgd2lkdGg6IDE0MjAsXHJcbiAgICBoZWlnaHQ6IDgwMCxcclxuICAgIHBhcmVudDogJ2dhbWUtY29udGFpbmVyJyxcclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eTogeyB5OiAwIH0sXHJcbiAgICAgICAgICAgIGRlYnVnOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgc2NlbmU6IFsgTWVudVNjZW5lLCBBdXRoU2NlbmUsIEdhbWVTY2VuZSwgR2FtZUxvY2FsU2NlbmUsIExldmVsMlNjZW5lLCBMZXZlbDJTY2VuZUxvY2FsLCBUdXRvcmlhbFNjZW5lLCBDcmVkaXRzU2NlbmUsICBQYXVzZVNjZW5lLCBTZXR0aW5nc1NjZW5lLCBMZXZlbFNlbGVjdFNjZW5lLCBQbGF5ZXJEaXNjb25uZWN0ZWRTY2VuZSwgUGxhY2VIb2xkZXJTY2VuZSwgVmljdG9yeVNjZW5lLCBHYW1lT3ZlclNjZW5lLCBHYW1lT3ZlckRpc2Nvbm5lY3RTY2VuZSwgTG9iYnlTY2VuZSwgQ29ubmVjdGlvbkxvc3RTY2VuZSwgR2FtZU1vZGVTY2VuZSwgUmFua2luZ1NjZW5lXSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyMwMjE0MTBmZicsXHJcbn0gICAgXHJcblxyXG5kb2N1bWVudC5mb250cy5yZWFkeS50aGVuKCgpID0+IHtcclxuICBjb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7XHJcbn0pO1xyXG5cclxuIl0sIm5hbWVzIjpbIlBoYXNlciIsImNvbm5lY3Rpb25NYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiY29ubmVjdGVkQ291bnQiLCJpc0Nvbm5lY3RlZCIsImxhc3RDaGVja1RpbWUiLCJjaGVja0ludGVydmFsIiwibGlzdGVuZXJzIiwic2Vzc2lvbklkIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJpbnRlcnZhbElkIiwic3RhcnRQb2xsaW5nIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNoZWNrQ29ubmVjdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImRhdGEiLCJqc29uIiwiY29ubmVjdGVkIiwibm90aWZ5TGlzdGVuZXJzIiwiY291bnQiLCJzdWNjZXNzIiwiaGFuZGxlRGlzY29ubmVjdGlvbiIsImVycm9yIiwiY29uc29sZSIsImFkZExpc3RlbmVyIiwiY2FsbGJhY2siLCJwdXNoIiwicmVtb3ZlTGlzdGVuZXIiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJnZXRTdGF0dXMiLCJzZXRJbnRlcnZhbCIsInN0b3BQb2xsaW5nIiwiY2xlYXJJbnRlcnZhbCIsImdldElzQ29ubmVjdGVkIiwiZ2V0Q29ubmVjdGVkVXNlcnMiLCJNZW51U2NlbmUiLCJzdXBlciIsInByZWxvYWQiLCJsb2FkIiwiYXVkaW8iLCJpbWFnZSIsImNyZWF0ZSIsInNvdW5kIiwic3RvcEJ5S2V5IiwicGxheSIsImxvb3AiLCJ2b2x1bWUiLCJiZyIsImFkZCIsInNldE9yaWdpbiIsInNldERpc3BsYXlTaXplIiwic2NhbGUiLCJ3aWR0aCIsImhlaWdodCIsInNldERlcHRoIiwiaG92ZXJJbWciLCJsb2NhbEJ0biIsInNldFNjYWxlIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJkZXB0aCIsImRlc3Ryb3kiLCJzY2VuZSIsImxhdW5jaCIsInR1dG9yaWFsQnRuIiwiY3JlZGl0b3NCdG4iLCJyYW5raW5nQnRuIiwiZXhpdEJ0biIsIndpbmRvdyIsImNsb3NlIiwic2V0dGluZ3NCdG4iLCJjb25uZWN0aW9uRG90IiwiY2lyY2xlIiwiY29ubmVjdGlvbkNvdW50VGV4dCIsInRleHQiLCJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJjb2xvciIsImNvbm5lY3Rpb25MaXN0ZW5lciIsInVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5IiwiaXNBY3RpdmUiLCJncmVlbkNvbG9yIiwic2V0RmlsbFN0eWxlIiwic2V0VGV4dCIsIlN0cmluZyIsInNldENvbG9yIiwicmVkQ29sb3IiLCJzaHV0ZG93biIsIndzU2VydmljZSIsIndzIiwicm9vbUlkIiwicGxheWVyUm9sZSIsIm1lc3NhZ2VIYW5kbGVycyIsIk1hcCIsImNvbm5lY3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIndzVXJsIiwibG9jYXRpb24iLCJob3N0bmFtZSIsImxvZyIsIldlYlNvY2tldCIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsImV2ZW50IiwicGFyc2UiLCJoYW5kbGVNZXNzYWdlIiwib25lcnJvciIsIm9uY2xvc2UiLCJub3RpZnlIYW5kbGVyIiwidHlwZSIsImhhcyIsInNldCIsImdldCIsIm9mZiIsImhhbmRsZXJzIiwiaGFuZGxlciIsInNlbmQiLCJtZXNzYWdlIiwicmVhZHlTdGF0ZSIsIk9QRU4iLCJqb2luUXVldWUiLCJsZWF2ZVF1ZXVlIiwic2VuZFBsYXllck1vdmUiLCJ4IiwieSIsImZsaXBYIiwiYW5pbUtleSIsInNlbmRDcnlzdGFsQ29sbGVjdCIsImNyeXN0YWxUeXBlIiwic2VuZFBvcnRhbFRvdWNoIiwib25Qb3J0YWwiLCJzZW5kR2FtZU92ZXIiLCJyZWFzb24iLCJkaXNjb25uZWN0IiwiY2xlYXIiLCJnZXRQbGF5ZXJSb2xlIiwic2V0UGxheWVyUm9sZSIsInJvbGUiLCJHYW1lU2NlbmUiLCJpbml0IiwiaXNQYXVzZWQiLCJlc2NXYXNEb3duIiwibml2aWFIYXNNb29uQ3J5c3RhbCIsInNvbGVubmVIYXNTdW5DcnlzdGFsIiwibml2aWFPblBvcnRhbCIsInNvbGVubmVPblBvcnRhbCIsImlzTml2aWFXYWxraW5nIiwiaXNTb2xlbm5lV2Fsa2luZyIsImlzSGFuZGxpbmdEaXNjb25uZWN0aW9uIiwibGFzdERpc2Nvbm5lY3Rpb25UaW1lIiwiZGlzY29ubmVjdGlvbkNvb2xkb3duIiwiaXNNdWx0aXBsYXllciIsImxvY2FsUGxheWVyIiwicmVtb3RlUGxheWVyIiwibGFzdFN5bmNUaW1lIiwic3luY0ludGVydmFsIiwic3RhcnRUaW1lIiwidGltZSIsImNoYXJhY3Rlck5hbWUiLCJhbm5vdW5jZW1lbnRUZXh0IiwiY2FtZXJhcyIsIm1haW4iLCJmb250U3R5bGUiLCJhbGlnbiIsImJhY2tncm91bmRDb2xvciIsInBhZGRpbmciLCJzZXRTY3JvbGxGYWN0b3IiLCJ0d2VlbnMiLCJ0YXJnZXRzIiwiYWxwaGEiLCJkdXJhdGlvbiIsImRlbGF5Iiwib25Db21wbGV0ZSIsInNob3dMZWF2ZUNvbmZpcm1hdGlvbiIsInciLCJoIiwicGh5c2ljcyIsInBhdXNlIiwicmVjdGFuZ2xlIiwiYm94IiwidGl0bGVJbWFnZSIsIm1zZyIsImNvbmZpcm1CdG4iLCJzdG9wQWxsIiwic3RvcCIsInN0YXJ0IiwiY2FuY2VsQnRuIiwicmVzdW1lIiwiYXRsYXMiLCJzcHJpdGVzaGVldCIsImZyYW1lV2lkdGgiLCJmcmFtZUhlaWdodCIsIm9uQ29ubmVjdGlvbkxvc3QiLCJldmVudHMiLCJtYXBXaWR0aEluUGl4ZWxzIiwibWFwSGVpZ2h0SW5QaXhlbHMiLCJjYWNoZSIsImV4aXN0cyIsInN0YXRpY1Nwcml0ZSIsIndvcmxkIiwiZ3Jhdml0eSIsInNldFVwUGxheWVycyIsImdyb3VuZCIsImV4aXN0aW5nIiwicGxhdGFmb3JtYTEiLCJwbGF0YWZvcm1hMiIsInBsYXRhZm9ybWEzIiwicGxhdGFmb3JtYTQiLCJwbGF0YWZvcm1hNSIsInBhcmVkMSIsInBhcmVkMiIsImV4aXRQb3J0YWwiLCJzZXRWaXNpYmxlIiwiZW5hYmxlIiwiZGFya0Rvb3IxIiwibGlnaHREb29yMSIsImRhcmtEb29yMUhpdGJveCIsImxpZ2h0RG9vcjFIaXRib3giLCJ0cmFtcGEiLCJkYW1hZ2UiLCJjb2xsaWRlciIsIm5pdmlhIiwic29sZW5uZSIsImNyZWF0ZUFuaW1hdGlvbnMiLCJjcnlzdGFscyIsImdyb3VwIiwiYWxsb3dHcmF2aXR5IiwiaW1tb3ZhYmxlIiwibW9vbkNyeXN0YWwiLCJzZXRCb2R5U2l6ZSIsInN1bkNyeXN0YWwiLCJhbmltcyIsImtleSIsImZyYW1lcyIsImdlbmVyYXRlRnJhbWVOdW1iZXJzIiwiZW5kIiwiZnJhbWVSYXRlIiwicmVwZWF0IiwibW9vbkhVRCIsInNwcml0ZSIsImNlbnRlclgiLCJzdW5IVUQiLCJvdmVybGFwIiwiY29sbGVjdE1vb25DcnlzdGFsIiwiY29sbGVjdFN1bkNyeXN0YWwiLCJzZXRCb3VuZHMiLCJlc2NLZXkiLCJpbnB1dCIsImtleWJvYXJkIiwiYWRkS2V5IiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsIkVTQyIsImNoZWNrTGV2ZWxDb21wbGV0ZSIsInBhdXNlQnV0dG9uIiwidG9nZ2xlUGF1c2UiLCJzZXR0aW5nc0J1dHRvbiIsIm9yaWdpbmFsU2NlbmUiLCJzZXR1cE11bHRpcGxheWVyIiwicGxheWVyTW92ZUhhbmRsZXIiLCJoYW5kbGVSZW1vdGVQbGF5ZXJNb3ZlIiwiYmluZCIsImNyeXN0YWxDb2xsZWN0ZWRIYW5kbGVyIiwiaGFuZGxlUmVtb3RlQ3J5c3RhbENvbGxlY3RlZCIsInBvcnRhbFNwYXduZWRIYW5kbGVyIiwiaGFuZGxlUmVtb3RlUG9ydGFsU3Bhd25lZCIsInZpY3RvcnlIYW5kbGVyIiwiaGFuZGxlUmVtb3RlVmljdG9yeSIsImdhbWVPdmVySGFuZGxlciIsImhhbmRsZVJlbW90ZUdhbWVPdmVyIiwicGxheWVyRGlzY29ubmVjdGVkSGFuZGxlciIsImhhbmRsZVBsYXllckRpc2Nvbm5lY3RlZCIsInN5bmNMb2NhbFBsYXllclBvc2l0aW9uIiwiY3VycmVudEFuaW0iLCJzZXRQb3NpdGlvbiIsInNldEZsaXBYIiwiZGlzYWJsZUJvZHkiLCJkYXJrRG9vclVubG9ja2VkIiwidW5sb2NrRGFya0Rvb3IiLCJsaWdodERvb3JVbmxvY2tlZCIsInVubG9ja0xpZ2h0RG9vciIsInZpc2libGUiLCJmaW5hbFRpbWUiLCJmbG9vciIsInVzZXJJZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJ0aGVuIiwiY2F0Y2giLCJlcnIiLCJwcmV2aW91c1NjZW5lIiwic2V0Qm91bmNlIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwic2V0U2l6ZSIsInNldE9mZnNldCIsIm5pdmlhQ29udHJvbHMiLCJhZGRLZXlzIiwibGVmdCIsInJpZ2h0IiwidXAiLCJpbnRlcmFjdCIsInNvbGVubmVDb250cm9scyIsImdlbmVyYXRlRnJhbWVOYW1lcyIsInByZWZpeCIsInNldFBhdXNlZFN0YXRlIiwibmV3UGF1c2VkU3RhdGUiLCJ0b2dnbGVTZXR0aW5ncyIsInVwZGF0ZSIsImlzRG93biIsImhhbmRsZVBsYXllck1vdmVtZW50IiwiaGFuZGxlQ2FtZXJhQW5kQ29uc3RyYWludHMiLCJuaXZpYVkiLCJzb2xlbm5lWSIsImRlc2lyZWRDYW1lcmFZIiwiY2FtZXJhSGVpZ2h0Iiwic2Nyb2xsWSIsIkxpbmVhciIsIm1heFZlcnRpY2FsR2FwIiwiYWJzIiwiZmFzdGVyUGxheWVyIiwic2xvd2VyUGxheWVyIiwiYmxvY2tlZCIsImRvd24iLCJ2ZWxvY2l0eSIsInBsYXllclNwcml0ZSIsImNvbnRyb2xzIiwidGV4dHVyZSIsImlzTW92aW5nIiwiaXNHcm91bmRlZCIsImFuaW1rZXkiLCJzZXRWZWxvY2l0eVgiLCJzZXRWZWxvY2l0eVkiLCJKdXN0RG93biIsInBsYXllciIsImNyeXN0YWwiLCJjaGVja1BvcnRhbFNwYXduIiwiaXNPdmVybGFwcGluZyIsInByZXZpb3VzU3RhdGUiLCJlbmRnYW1lIiwiY2VudGVyWSIsImZpbGwiLCJyZXN0YXJ0YnRuIiwib3JpZ2luYWxTY2VuZUtleSIsInNldHRpbmdzIiwiUGF1c2VTY2VuZSIsImJhY2tncm91bmQiLCJFeGl0QnRuIiwib3JpZ2luYWwiLCJ0dXRvcmlhbGJ0biIsImFiYW5kb25hcmJ0biIsImdhbWVTY2VuZSIsIm1lbnVidG4iLCJzY2VuZXMiLCJnYW1lIiwia2V5cyIsIlR1dG9yaWFsU2NlbmUiLCJicmluZ1RvVG9wIiwiY3VycmVudFBhZ2UiLCJuZXdQYWdlIiwidGltZXIiLCJpbml0VGltZSIsImxhZyIsInN0YXRpY0dyb3VwIiwicHJldlBhZ2VCdG5PZmYiLCJuZXh0UGFnZUJ0bk9mZiIsImtleXNJbWciLCJuaXZpYUltZyIsInNvbGVubmVJbWciLCJuZXh0UGFnZUJ0bjEiLCJwdWVydGFDbGFyYSIsInB1ZXJ0YU9zY3VyYSIsIm5leHRQYWdlQnRuMiIsInB1ZXJ0YUZpbmFsIiwicHJldlBhZ2VCdG4yIiwidHdlZW4iLCJlYXNlIiwidHJhbXBhSW1nMSIsInNldEZsaXBZIiwidHJhbXBhSW1nMiIsInNldEFuZ2xlIiwicHJldlBhZ2VCdG4zIiwibmV4dFBhZ2VCdG4zIiwiaW1hZ2VUdXRvcmlhbCIsInByZXZQYWdlQnRuNCIsIkNyZWRpdHNTY2VuZSIsIlNldHRpbmdzU2NlbmUiLCJ2b2x1bWVCYXIxIiwidm9sdW1lQmFyMiIsInZvbHVtZUJhcjMiLCJ2b2x1bWVCYXI0Iiwidm9sdW1lQmFyNSIsInBsdXNWb2x1bWVCdG4iLCJzZXRWb2x1bWUiLCJtaW51c1ZvbHVtZUJ0biIsIkxldmVsU2VsZWN0U2NlbmUiLCJMdmxVbm9CdG4iLCJMdmxEb3NCdG4iLCJQbGFjZUhvbGRlclNjZW5lIiwiVmljdG9yeVNjZW5lIiwiZm9udFdlaWdodCIsIm5leHRMZXZlbGJ0biIsIkdhbWVPdmVyU2NlbmUiLCJMZXZlbDJTY2VuZSIsInBvcnRhbFNwcml0ZSIsImRhcmtEb29yMiIsImxpZ2h0RG9vcjIiLCJsaWdodERvb3IzIiwiZGFya0Rvb3IySGl0Ym94IiwibGlnaHREb29yMkhpdGJveCIsImxpZ2h0RG9vcjNIaXRib3giLCJzZXRJbW1vdmFibGUiLCJzZXRBbGxvd0dyYXZpdHkiLCJkb29ycyIsImhpdGJveCIsImRhbWFnZUdyb3VwIiwiZGFtYWdlMSIsImRhbWFnZTIiLCJkYW1hZ2UzIiwiZGFtYWdlNCIsInNldERhdGEiLCJtb29uQ3J5c3RhbDIiLCJzdW5DcnlzdGFsMiIsIm9uRGFtYWdlIiwidW5sb2NrRG9vciIsImdldERhdGEiLCJkb29yS2V5IiwiZG9vciIsInBvcnRhbCIsIkNvbm5lY3Rpb25Mb3N0U2NlbmUiLCJyZWNvbm5lY3RDaGVja1RpbWVyIiwiaXNDaGVja2luZyIsInN0YXR1c1RleHQiLCJhdHRlbXB0Q291bnQiLCJhdHRlbXB0VGV4dCIsImRvdENvdW50IiwiYWRkRXZlbnQiLCJkb3RzIiwib25SZWNvbm5lY3RlZCIsImF0dGVtcHRSZWNvbm5lY3QiLCJjYWxsYmFja1Njb3BlIiwicmVtb3ZlIiwiZGVsYXllZENhbGwiLCJHYW1lTW9kZVNjZW5lIiwib25saW5lQnRuIiwiZGVzdGluYXRpb24iLCJMb2JieVNjZW5lIiwidXNlcm5hbWUiLCJwbGF5ZXJDb3VudFRleHQiLCJsb2FkaW5nRG90cyIsImxlbmd0aCIsImluY2x1ZGVzIiwiQ2FuY2VsQnRuIiwiY29ubmVjdFRvU2VydmVyIiwic2V0Rm9udEZhbWlseSIsInF1ZXVlU3RhdHVzSGFuZGxlciIsImhhbmRsZVF1ZXVlU3RhdHVzIiwiZ2FtZVN0YXJ0SGFuZGxlciIsImhhbmRsZUdhbWVTdGFydCIsImNvbm5lY3Rpb25Mb3N0SGFuZGxlciIsImhhbmRsZUNvbm5lY3Rpb25Mb3N0IiwicmV0cnlCdXR0b24iLCJwb3NpdGlvbiIsIlJhbmtpbmdTY2VuZSIsImZldGNoUmFua2luZyIsInBsYXllcnMiLCJ5UG9zIiwiYmVzdFRpbWUiLCJHYW1lTG9jYWxTY2VuZSIsIkxldmVsMlNjZW5lTG9jYWwiLCJBdXRoU2NlbmUiLCJ1c2VybmFtZUlucHV0IiwiY3JlYXRlSFRNTElucHV0IiwicGFzc3dvcmRJbnB1dCIsIm1lc3NhZ2VUZXh0Iiwid29yZFdyYXAiLCJsb2dpbkJ0biIsImhhbmRsZUxvZ2luIiwicmVnaXN0ZXJCdG4iLCJoYW5kbGVSZWdpc3RlciIsImJhY2tCdG4iLCJjbGVhbnVwSW5wdXRzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJvdXRsaW5lIiwiekluZGV4IiwicmVjdCIsImNhbnZhcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImFwcGVuZENoaWxkIiwidmFsdWUiLCJ0cmltIiwicGFzc3dvcmQiLCJzaG93TWVzc2FnZSIsImlkIiwic2V0SXRlbSIsImNvbG9ycyIsImluZm8iLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJQbGF5ZXJEaXNjb25uZWN0ZWRTY2VuZSIsImxvYmJ5QnRuIiwibWVudUJ0biIsIkdhbWVPdmVyRGlzY29ubmVjdFNjZW5lIiwibG9iYnlidG4iLCJjb25maWciLCJwYXJlbnQiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZGVidWciLCJmb250cyIsInJlYWR5Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=