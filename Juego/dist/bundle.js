(()=>{"use strict";const e=Phaser,t=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}getIsConnected(){return this.isConnected}getConnectedUsers(){return this.connectedCount}};class s extends e.Scene{constructor(){super("MenuScene")}preload(){this.load.audio("MenuMusic","assets/sonido/inicio.mp3"),this.load.image("Pantalla_de_inicio","assets/fondo_pantalla_inicio.png"),this.load.image("LocalPlayButton","assets/jugar.png"),this.load.image("LocalPlayButtonHover","assets/jugarHover.png"),this.load.image("TutorialButton","assets/tutorial.png"),this.load.image("TutorialButtonHover","assets/tutorialHover.png"),this.load.image("CreditosButton","assets/creditos.png"),this.load.image("CreditosButtonHover","assets/creditosHover.png"),this.load.image("ExitButton","assets/salir.png"),this.load.image("ExitButtonHover","assets/salirHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RankingButton","assets/ranking.png"),this.load.image("RankingButtonHover","assets/rankingHover.png")}create(){this.sound.stopByKey("GameMusic"),this.sound.play("MenuMusic",{loop:!0,volume:this.sound.volume});const e=this.add.image(0,0,"Pantalla_de_inicio").setOrigin(0);e.setDisplaySize(this.scale.width,this.scale.height),e.setDepth(-1);let s=null;const i=this.add.image(305,340,"LocalPlayButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(305,340,"LocalPlayButtonHover").setOrigin(.5).setScale(.75).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.launch("GameModeScene")});const a=this.add.image(312,450,"TutorialButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(312,450,"TutorialButtonHover").setOrigin(.5).setScale(.75).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.launch("TutorialScene")});const n=this.add.image(305,560,"CreditosButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(312,555,"CreditosButtonHover").setOrigin(.5).setScale(.75).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{this.scene.launch("CreditsScene")});const o=this.add.image(1200,75,"RankingButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0}).on("pointerdown",()=>this.scene.launch("RankingScene"));o.on("pointerover",()=>{s||(s=this.add.image(1200,75,"RankingButtonHover").setOrigin(.5).setScale(.75).setDepth(o.depth+1))}),o.on("pointerout",()=>{s&&(s.destroy(),s=null)});const r=this.add.image(312,670,"ExitButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});r.on("pointerover",()=>{s||(s=this.add.image(312,670,"ExitButtonHover").setOrigin(.5).setScale(.75).setDepth(r.depth+1))}),r.on("pointerout",()=>{s&&(s.destroy(),s=null)}),r.on("pointerdown",()=>{window.close()});const l=this.add.image(1330,75,"SettingsButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});l.on("pointerover",()=>{s||(s=this.add.image(1335,75,"SettingsButtonHover").setOrigin(.5).setScale(.7).setDepth(l.depth+1))}),l.on("pointerout",()=>{s&&(s.destroy(),s=null)}),l.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.connectionDot=this.add.circle(70,50,10,16711680).setDepth(1e3),this.connectionCountText=this.add.text(85,40,"0",{fontSize:"18px",fontFamily:'"Caudex", serif',color:"#da8181ff"}).setDepth(1e3),this.connectionListener=e=>{this.updateConnectionDisplay(e)},t.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionDot&&this.connectionCountText&&this.scene&&this.scene.isActive("MenuScene"))try{if(e.connected){const t=10607521;this.connectionDot.setFillStyle(t),this.connectionCountText.setText(String(e.count)),this.connectionCountText.setColor("#a1dba1")}else{const e=14320001;this.connectionDot.setFillStyle(e),this.connectionCountText.setText("--"),this.connectionCountText.setColor(e)}}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener)}}const i=new class{constructor(){this.ws=null,this.connected=!1,this.roomId=null,this.playerRole=null,this.messageHandlers=new Map}connect(){return new Promise((e,t)=>{try{const s=`ws://${window.location.hostname}:3000`;console.log("ðŸ”Œ Conectando a WebSocket:",s),this.ws=new WebSocket(s),this.ws.onopen=()=>{console.log("âœ… WebSocket conectado"),this.connected=!0,e()},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleMessage(t)}catch(e){console.error("âŒ Error parseando mensaje:",e)}},this.ws.onerror=e=>{console.error("âŒ Error en WebSocket:",e),this.connected=!1,t(e)},this.ws.onclose=()=>{console.log("ðŸ”Œ WebSocket desconectado"),this.connected=!1,this.notifyHandler("connectionLost")}}catch(e){t(e)}})}handleMessage(e){console.log("ðŸ“¨ Mensaje recibido:",e.type),this.notifyHandler(e.type,e)}on(e,t){this.messageHandlers.has(e)||this.messageHandlers.set(e,[]),this.messageHandlers.get(e).push(t)}off(e,t){if(this.messageHandlers.has(e)){const s=this.messageHandlers.get(e),i=s.indexOf(t);i>-1&&s.splice(i,1)}}notifyHandler(e,t={}){this.messageHandlers.has(e)&&this.messageHandlers.get(e).forEach(e=>e(t))}send(e){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify(e)):console.error("âŒ WebSocket no estÃ¡ conectado")}joinQueue(){this.send({type:"joinQueue"}),console.log("ðŸ“¥ UniÃ©ndose a la cola...")}leaveQueue(){this.send({type:"leaveQueue"}),console.log("ðŸ“¤ Saliendo de la cola...")}sendPlayerMove(e,t,s,i){this.send({type:"playerMove",x:e,y:t,flipX:s,animKey:i})}sendCrystalCollect(e){this.send({type:"crystalCollect",crystalType:e}),console.log(`ðŸ’Ž Cristal ${e} recogido`)}sendPortalTouch(e){this.send({type:"portalTouch",onPortal:e})}sendGameOver(e="trap"){this.send({type:"gameOver",reason:e})}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.connected=!1,this.roomId=null,this.playerRole=null,this.messageHandlers.clear()}isConnected(){return this.connected&&this.ws&&this.ws.readyState===WebSocket.OPEN}getPlayerRole(){return this.playerRole}setPlayerRole(e){this.playerRole=e,console.log(`ðŸŽ® Rol asignado: ${e}`)}};class a extends e.Scene{constructor(){super("GameScene")}init(e){if(this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=!1,this.solenneHasSunCrystal=!1,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null,this.isHandlingDisconnection=!1,this.lastDisconnectionTime=0,this.disconnectionCooldown=1e3,this.isMultiplayer=e.isMultiplayer||!1,this.playerRole=e.playerRole||null,this.roomId=e.roomId||null,this.localPlayer=null,this.remotePlayer=null,this.lastSyncTime=0,this.syncInterval=50,console.log("ðŸŽ® GameScene iniciado"),this.isMultiplayer){console.log(`ðŸ‘¤ Rol: ${this.playerRole} | ðŸšª Sala: ${this.roomId}`);const e="nivia"===this.playerRole?"ðŸŒ™ NIVIA (Luna)":"â˜€ï¸ SOLENNE (Sol)",t=this.add.text(this.cameras.main.width/2,this.cameras.main.height/2,`Â¡Eres ${e}!`,{fontSize:"48px",fontStyle:"bold",color:"nivia"===this.playerRole?"#87CEEB":"#FFD700",align:"center",backgroundColor:"#000000",padding:{x:20,y:10}}).setOrigin(.5).setScrollFactor(0).setDepth(1e3);this.tweens.add({targets:t,alpha:0,duration:3e3,delay:1500,onComplete:()=>{t.destroy()}})}if(this.isMultiplayer){const e=this.add.text(this.cameras.main.width/2,40,"ðŸšª Abandonar",{fontSize:"18px",color:"#ff6666",backgroundColor:"#000000",padding:{x:10,y:5}}).setOrigin(.5).setScrollFactor(0).setInteractive({useHandCursor:!0}).setDepth(100);e.on("pointerover",()=>{e.setStyle({backgroundColor:"#333333",color:"#ff0000"})}),e.on("pointerout",()=>{e.setStyle({backgroundColor:"#000000",color:"#ff6666"})}),e.on("pointerdown",()=>{confirm("Â¿Seguro que quieres abandonar la partida?\n\nEl otro jugador serÃ¡ notificado.")&&(i.sendGameOver("disconnect"),i.disconnect(),this.sound.stopAll(),this.scene.stop(),this.scene.start("MenuScene"))})}}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo","assets/Escenario/Nivel1/fondo_abajo.png"),this.load.image("plataformas","assets/Escenario/Nivel1/plataformas_abajo.png"),this.load.image("puertaClaraNivel1","assets/Escenario/Nivel1/puerta_clara.png"),this.load.image("puertaOscuraNivel1","assets/Escenario/Nivel1/puerta_oscura.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonClaroNivel1","assets/Escenario/Nivel1/boton_claro.png"),this.load.image("botonOscuro1Nivel1","assets/Escenario/Nivel1/boton_oscuro.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal","assets/trampas/puertaFinal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage","assets/trampas/lianas_plataformas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){this.connectionListener=e=>{const t=Date.now();e.connected||!this.scene.isActive("GameScene")||this.isHandlingDisconnection?e.connected&&this.isHandlingDisconnection&&(this.isHandlingDisconnection=!1,console.log("âœ… ReconexiÃ³n detectada")):t-this.lastDisconnectionTime>this.disconnectionCooldown&&(console.log("âŒ ConexiÃ³n perdida durante el juego"),this.isHandlingDisconnection=!0,this.lastDisconnectionTime=t,this.onConnectionLost())},t.addListener(this.connectionListener),this.events.on("resume",()=>{console.log("GameScene reanudada"),this.isPaused=!1,this.physics.resume()}),this.events.on("pause",()=>{console.log("GameScene pausada"),this.physics.pause()});const s=1420,a=800;let n=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.1}),this.physics.add.staticSprite(0,0,"fondo").setOrigin(0,0).setDisplaySize(s,a),this.physics.add.staticSprite(0,0,"plataformas").setOrigin(0,0).setDisplaySize(s,a),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,a,s,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,480,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(575,480,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1e3,550,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(300,150,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,275,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(400,50,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.pared2=this.add.rectangle(900,700,200,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared2,!0),this.exitPortal=this.physics.add.staticSprite(1e3,10,"portal").setScale(1),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(700,400,"puertaOscuraNivel1").setScale(.7),this.lightDoor1=this.physics.add.staticSprite(750,400,"puertaClaraNivel1").setScale(.7),this.darkDoor1Hitbox=this.add.rectangle(250,375,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(920,400,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.trampa=this.physics.add.staticSprite(450,150,"damage").setScale(.5),this.damage=this.add.rectangle(480,100,100,60,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage,!0),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.pared2),this.physics.add.collider(this.solenne,this.pared2),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1100,400,"moondrop_sheet").setBodySize(32,32).setScale(.5),this.sunCrystal=this.crystals.create(100,100,"sundrop_sheet").setBodySize(32,32).setScale(.5),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,s,a),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{n||(n=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{n&&(n.destroy(),n=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{n||(n=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{n&&(n.destroy(),n=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.isMultiplayer||this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)}),this.physics.add.overlap(this.nivia,this.damage,()=>{this.isMultiplayer&&i.isConnected()?i.sendGameOver("trap"):(this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause())}),this.physics.add.overlap(this.solenne,this.damage,()=>{this.isMultiplayer&&i.isConnected()?i.sendGameOver("trap"):(this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause())}),this.isMultiplayer&&this.setupMultiplayer()}setupMultiplayer(){"nivia"===this.playerRole?(this.localPlayer=this.nivia,this.remotePlayer=this.solenne):"solenne"===this.playerRole&&(this.localPlayer=this.solenne,this.remotePlayer=this.nivia),this.playerMoveHandler=this.handleRemotePlayerMove.bind(this),this.crystalCollectedHandler=this.handleRemoteCrystalCollected.bind(this),this.portalSpawnedHandler=this.handleRemotePortalSpawned.bind(this),this.victoryHandler=this.handleRemoteVictory.bind(this),this.gameOverHandler=this.handleRemoteGameOver.bind(this),this.playerDisconnectedHandler=this.handlePlayerDisconnected.bind(this),i.on("playerMove",this.playerMoveHandler),i.on("crystalCollected",this.crystalCollectedHandler),i.on("portalSpawned",this.portalSpawnedHandler),i.on("victory",this.victoryHandler),i.on("gameOver",this.gameOverHandler),i.on("playerDisconnected",this.playerDisconnectedHandler)}syncLocalPlayerPosition(){const e=Date.now();e-this.lastSyncTime<this.syncInterval||(this.lastSyncTime=e,this.localPlayer&&i.isConnected()&&i.sendPlayerMove(this.localPlayer.x,this.localPlayer.y,this.localPlayer.flipX,this.localPlayer.anims.currentAnim?.key||"idle"))}handleRemotePlayerMove(e){this.remotePlayer&&(this.remotePlayer.setPosition(e.x,e.y),this.remotePlayer.setFlipX(e.flipX),e.animKey&&this.remotePlayer.anims.currentAnim?.key!==e.animKey&&this.remotePlayer.anims.play(e.animKey,!0))}handleRemoteCrystalCollected(e){console.log(`ðŸ’Ž Cristal ${e.crystalType} recogido por el otro jugador`),"moon"===e.crystalType?(this.moonCrystal.disableBody(!0,!0),this.niviaHasMoonCrystal=!0,this.moonHUD.setVisible(!0),e.darkDoorUnlocked&&this.unlockDarkDoor()):"sun"===e.crystalType&&(this.sunCrystal.disableBody(!0,!0),this.solenneHasSunCrystal=!0,this.sunHUD.setVisible(!0),e.lightDoorUnlocked&&this.unlockLightDoor())}handleRemotePortalSpawned(e){console.log("ðŸšª Portal activado por el servidor"),this.exitPortal.visible||(this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}handleRemoteVictory(e){console.log("ðŸŽ‰ Â¡VICTORIA MULTIJUGADOR!"),this.scene.launch("VictoryScene",{originalScene:this.scene.key,isMultiplayer:!0}),this.scene.pause()}handleRemoteGameOver(e){console.log("ðŸ’€ Game Over recibido del servidor:",e.reason),this.physics.pause(),this.scene.launch("GameOverScene",{originalScene:this.scene.key,isMultiplayer:!0,reason:e.reason}),this.scene.pause()}handlePlayerDisconnected(){console.log("âŒ El otro jugador se desconectÃ³"),this.physics.pause(),this.scene.pause();const e=this.cameras.main.width,t=this.cameras.main.height,s=(this.add.rectangle(0,0,e,t,0,.9).setOrigin(0).setScrollFactor(0).setDepth(2e3),this.add.text(e/2,t/2-80,"âš ï¸ PARTIDA TERMINADA",{fontSize:"48px",color:"#ff6666",align:"center",fontStyle:"bold"}).setOrigin(.5).setScrollFactor(0).setDepth(2001),this.add.text(e/2,t/2,"El otro jugador abandonÃ³ la partida",{fontSize:"24px",color:"#ffffff",align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(2001),this.add.text(e/2,t/2+100,"ðŸ  Volver al MenÃº",{fontSize:"28px",color:"#ffffff",backgroundColor:"#444444",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0}).setScrollFactor(0).setDepth(2001));s.on("pointerover",()=>{s.setStyle({backgroundColor:"#666666"})}),s.on("pointerout",()=>{s.setStyle({backgroundColor:"#444444"})}),s.on("pointerdown",()=>{i.disconnect(),this.sound.stopAll(),this.scene.stop(),this.scene.start("MenuScene")})}onConnectionLost(){this.isPaused=!0,this.connectionListener&&t.removeListener(this.connectionListener),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"}),this.scene.pause()}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(100,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1,this.isHandlingDisconnection=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.isMultiplayer?"nivia"===this.playerRole?(this.handlePlayerMovement(this.nivia,this.niviaControls),this.syncLocalPlayerPosition()):"solenne"===this.playerRole&&(this.handlePlayerMovement(this.solenne,this.solenneControls),this.syncLocalPlayerPosition()):(this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls)),this.handleCameraAndConstraints(),this.exitPortal&&this.exitPortal.visible&&this.exitPortal.body.enable&&this.checkLevelComplete()}handleCameraAndConstraints(){const t=this.nivia.y,s=this.solenne.y;let i=(t+s)/2;const a=this.cameras.main.height;this.cameras.main.scrollY=e.Math.Linear(this.cameras.main.scrollY,i-a/2,.05);const n=.7*a;if(Math.abs(t-s)>n){const e=t<s?this.nivia:this.solenne,i=t<s?this.solenne:this.nivia;(i.body.blocked.down||i.y>e.y+n)&&(e.body.velocity.y<0&&(e.body.velocity.y=0),console.log("Movimiento vertical restringido por el jugador rezagado."))}}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal=!0,this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDarkDoor(),this.isMultiplayer&&i.isConnected()&&i.sendCrystalCollect("moon")}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal=!0,this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockLightDoor(),this.isMultiplayer&&i.isConnected()&&i.sendCrystalCollect("sun")}unlockDarkDoor(){this.darkDoor1Hitbox.body.enable=!1,this.darkDoor1Hitbox.setVisible(!1),this.darkDoor1.setVisible(!1),console.log("Puerta Oscura desbloqueada"),this.checkPortalSpawn()}unlockLightDoor(){this.lightDoor1Hitbox.body.enable=!1,this.lightDoor1Hitbox.setVisible(!1),this.lightDoor1.setVisible(!1),console.log("Puerta Clara desbloqueada"),this.checkPortalSpawn()}checkPortalSpawn(){this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&(console.log("Ambos cristales recogidos. El portal aparece."),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(){try{if(!this.isMultiplayer){const e=this.physics.overlap(this.nivia,this.exitPortal),t=this.physics.overlap(this.solenne,this.exitPortal);return void(e&&t&&this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&(console.log("Â¡NIVEL COMPLETADO!"),this.scene.launch("VictoryScene",{originalScene:this.scene.key}),this.scene.pause()))}if(!this.exitPortal||!this.exitPortal.visible||!this.localPlayer)return;const e=this.physics.overlap(this.localPlayer,this.exitPortal);let t=!1;"nivia"===this.playerRole?t=this.niviaOnPortal:"solenne"===this.playerRole&&(t=this.solenneOnPortal),"nivia"===this.playerRole?this.niviaOnPortal=e:"solenne"===this.playerRole&&(this.solenneOnPortal=e),i.isConnected()&&i.sendPortalTouch(e),console.log(`ðŸšª ${this.playerRole} en portal: ${e}`)}catch(e){console.error("Error en checkLevelComplete:",e)}}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener),this.isMultiplayer&&(i.off("playerMove",this.playerMoveHandler),i.off("crystalCollected",this.crystalCollectedHandler),i.off("portalSpawned",this.portalSpawnedHandler),i.off("victory",this.victoryHandler),i.off("gameOver",this.gameOverHandler),i.off("playerDisconnected",this.playerDisconnectedHandler))}}class n extends e.Scene{constructor(){super("PauseScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("PauseText","assets/texto_pausa.PNG"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("TutorialButton","assets/tutorial.png"),this.load.image("TutorialButtonHover","assets/tutorialHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("RetMenuButton","assets/menu.PNG"),this.load.image("RetMenuButtonHover","assets/menuHover.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1),this.add.image(700,210,"PauseText").setOrigin(.5).setScale(1);const i=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()});const a=this.add.image(700,320,"TutorialButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(700,320,"TutorialButtonHover").setOrigin(.5).setScale(.7).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.launch("TutorialScene",{originalScene:"PauseScene"}),this.scene.pause()});const n=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start(e)});const o=this.add.image(700,515,"RetMenuButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});o.on("pointerover",()=>{s||(s=this.add.image(698,515,"RetMenuButtonHover").setOrigin(.5).setScale(.7).setDepth(o.depth+1))}),o.on("pointerout",()=>{s&&(s.destroy(),s=null)}),o.on("pointerdown",()=>{const e=this.game.scene.keys;for(let t in e)"MenuScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("MenuScene")})}}class o extends e.Scene{constructor(){super("TutorialScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("imageTutorial","assets/pantalla_tutorial.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("TutorialText","assets/texto_tutorial.PNG")}create(){const e=this.scale.width,t=this.scale.height;this.scene.bringToTop();let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1),this.add.image(700,400,"imageTutorial").setOrigin(.5).setScale(.7);const i=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()})}}class r extends e.Scene{constructor(){super("CreditsScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("CreditsText","assets/texto_creditos.PNG"),this.load.image("MembersText","assets/nombres.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1);const i=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.stop(),this.scene.resume(this.scene.settings.data.originalScene)}),this.add.image(700,210,"CreditsText").setOrigin(.5).setScale(1),this.add.image(710,460,"MembersText").setOrigin(.5).setScale(.65)}}class l extends e.Scene{constructor(){super("SettingsScene")}preload(){this.load.image("settingsBox","assets/caja.png"),this.load.image("PlusVolumeButton","assets/mas.png"),this.load.image("PlusVolumeButtonHover","assets/masHover.png"),this.load.image("MinusVolumeButton","assets/menos.png"),this.load.image("MinusVolumeButtonHover","assets/menosHover.png"),this.load.image("VolumeBarOff","assets/boton_oscuro.png"),this.load.image("VolumeBarOn","assets/boton_claro.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("SettingsText","assets/texto_ajustes.png")}create(){const e=this.scale.width,t=this.scale.height;let s,i,a,n,o,r=100*this.sound.volume,l=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"settingsBox").setOrigin(.5).setScale(1),this.add.image(700,210,"SettingsText").setOrigin(.5).setScale(1),this.add.image(433,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(566,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(700,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(833,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(966,500,"VolumeBarOff").setOrigin(.5).setScale(1),s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1),s.destroy(),i.destroy(),a.destroy(),n.destroy(),o.destroy(),0==r&&null!=s?s.destroy():r<=20?s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1):r<=40?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=60?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=80?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1)):100==r&&(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1));const h=this.add.image(1069,500,"PlusVolumeButton").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0});h.on("pointerover",()=>{l||(l=this.add.image(1069,500,"PlusVolumeButtonHover").setOrigin(.5).setScale(.4).setDepth(h.depth+1))}),h.on("pointerout",()=>{l&&(l.destroy(),l=null)}),h.on("pointerdown",()=>{r+=20,r>100?r=100:r<0&&(r=0),this.sound.setVolume(r/100),s.destroy(),i.destroy(),a.destroy(),n.destroy(),o.destroy(),0==r&&null!=s?s.destroy():r<=20?s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1):r<=40?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=60?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=80?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1)):100==r&&(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1))});const d=this.add.image(330,500,"MinusVolumeButton").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0});d.on("pointerover",()=>{l||(l=this.add.image(335,500,"MinusVolumeButtonHover").setOrigin(.5).setScale(.4))}),d.on("pointerout",()=>{l&&(l.destroy(),l=null)}),d.on("pointerdown",()=>{r-=20,r>100?r=100:r<0&&(r=0),this.sound.setVolume(r/100),s.destroy(),i.destroy(),a.destroy(),n.destroy(),o.destroy(),0==r&&null!=s?s.destroy():r<=20?s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1):r<=40?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=60?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=80?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1)):100==r&&(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1))});const c=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});c.on("pointerover",()=>{l||(l=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(c.depth+1))}),c.on("pointerout",()=>{l&&(l.destroy(),l=null)}),c.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()})}}class h extends e.Scene{constructor(){super("LevelSelectScene")}preload(){this.load.image("LevelBox","assets/caja.png"),this.load.image("LevelsText","assets/texto_niveles.png"),this.load.image("Level1Button","assets/nivel1.png"),this.load.image("Level1ButtonHover","assets/nivel1Hover.png"),this.load.image("Level2Button","assets/Nivel2.png"),this.load.image("Level2ButtonHover","assets/Nivel2Hover.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"LevelBox").setOrigin(.5).setScale(1),this.add.image(700,210,"LevelsText").setOrigin(.5).setScale(1);const i=this.add.image(510,500,"Level1Button").setOrigin(.5).setScale(1).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(520,505,"Level1ButtonHover").setOrigin(.5).setScale(1).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.stop("MenuScene"),this.scene.stop(),this.scene.start("GameLocalScene")});const a=this.add.image(880,500,"Level2Button").setOrigin(.5).setScale(1).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(880,500,"Level2ButtonHover").setOrigin(.5).setScale(1.05).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.stop("MenuScene"),this.scene.stop(),this.scene.start("Level2SceneLocal")});const n=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()})}}class d extends e.Scene{constructor(){super("PlaceHolderScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("ExitButton","assets/salir.png"),this.load.image("ExitButtonHover","assets/salirHover.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1);const i=this.add.image(700,670,"ExitButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(700,670,"ExitButtonHover").setOrigin(.5).setScale(.75).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.start("MenuScene")}),this.add.text(700,180,"Nada que ver aqui",{fontSize:"48px",fill:"#d4eaf1ff"}).setOrigin(.5)}}class c extends e.Scene{constructor(){super("VictoryScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("VictoryText","assets/texto_victoria.png"),this.load.image("NextLevelButton","assets/siguienteNivel.png"),this.load.image("NextLevelButtonHover","assets/siguienteNivelHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("RetMenuButton","assets/menu.PNG"),this.load.image("RetMenuButtonHover","assets/menuHover.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1),this.add.image(700,210,"VictoryText").setOrigin(.5).setScale(1);const i=this.add.image(700,320,"NextLevelButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(700,325,"NextLevelButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;console.log("Original scene being removed:",e),this.scene.stop(e),this.scene.stop(),this.scene.start("Level2Scene")});const a=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start(e)});const n=this.add.image(700,515,"RetMenuButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(698,515,"RetMenuButtonHover").setOrigin(.5).setScale(.7).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{const e=this.game.scene.keys;for(let t in e)"MenuScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("MenuScene")})}}class u extends e.Scene{constructor(){super("GameOverScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("GameOverText","assets/texto_derrota.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("RetMenuButton","assets/menu.PNG"),this.load.image("RetMenuButtonHover","assets/menuHover.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1),this.add.image(700,240,"GameOverText").setOrigin(.5).setScale(1);const i=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.stop(),this.scene.start(e)});const a=this.add.image(700,515,"RetMenuButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(698,515,"RetMenuButtonHover").setOrigin(.5).setScale(.7).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{const e=this.game.scene.keys;for(let t in e)"MenuScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("MenuScene")})}}class p extends e.Scene{constructor(){super("Level2Scene")}init(){this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=0,this.solenneHasSunCrystal=0,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo1","assets/Escenario/Nivel2/fondo_arriba.png"),this.load.image("plataformas1","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("plataformasNivel2","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal1","assets/Escenario/Nivel2/portal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage1","assets/trampas/trampas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){const t=1420,s=800;let i=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.2}),this.physics.add.staticSprite(0,0,"fondo1").setOrigin(0,0).setDisplaySize(t,s),this.physics.add.staticSprite(0,0,"plataformas1").setOrigin(0,0).setDisplaySize(t,s),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,s,t,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(750,550,160,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1250,425,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(525,325,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,225,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(715,425,80,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.portalSprite=this.physics.add.staticSprite(710,400,"portal1").setScale(.75),this.portalSprite.setVisible(!1),this.exitPortal=this.add.rectangle(200,200,200,200).setScale(.75),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(710,400,"puertaOscura1Nivel2").setScale(.75),this.darkDoor2=this.physics.add.staticSprite(710,400,"puertaOscura2Nivel2").setScale(.75),this.lightDoor1=this.physics.add.staticSprite(710,400,"puertaClara1Nivel2").setScale(.75),this.lightDoor2=this.physics.add.staticSprite(710,400,"puertaClara2Nivel2").setScale(.75),this.lightDoor3=this.physics.add.staticSprite(710,400,"puertaClara3Nivel2").setScale(.75),this.darkDoor1Hitbox=this.add.rectangle(325,700,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.darkDoor2Hitbox=this.add.rectangle(500,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor2Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(700,100,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.lightDoor2Hitbox=this.add.rectangle(750,700,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor2Hitbox,!0),this.lightDoor3Hitbox=this.add.rectangle(925,500,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor3Hitbox),this.lightDoor3Hitbox.body.setImmovable(!0).setAllowGravity(!1),this.lightDoor3Hitbox.setAngle(135),this.doors={darkDoor1:{sprite:this.darkDoor1,hitbox:this.darkDoor1Hitbox},darkDoor2:{sprite:this.darkDoor2,hitbox:this.darkDoor2Hitbox},lightDoor1:{sprite:this.lightDoor1,hitbox:this.lightDoor1Hitbox},lightDoor2:{sprite:this.lightDoor3,hitbox:this.lightDoor2Hitbox},lightDoor3:{sprite:this.lightDoor2,hitbox:this.lightDoor3Hitbox}},this.damageGroup=this.physics.add.staticGroup(),this.trampa=this.physics.add.staticSprite(710,400,"damage1").setScale(.75),this.damage1=this.add.rectangle(1350,100,200,100,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage1,!0),this.damage2=this.add.rectangle(100,530,100,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage2,!0),this.damage3=this.add.rectangle(125,800,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage3,!0),this.damage4=this.add.rectangle(600,300,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage4,!0),this.damageGroup.add(this.damage1),this.damageGroup.add(this.damage2),this.damageGroup.add(this.damage3),this.damageGroup.add(this.damage4),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.nivia,this.lightDoor2Hitbox),this.physics.add.collider(this.nivia,this.lightDoor3Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor2Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1300,300,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor1"),this.moonCrystal2=this.crystals.create(550,200,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor2"),this.sunCrystal=this.crystals.create(550,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor3"),this.sunCrystal2=this.crystals.create(200,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor1"),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.physics.add.overlap(this.nivia,this.moonCrystal2,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal2,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,t,s),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)});const a=()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()};this.physics.add.overlap(this.nivia,this.damageGroup,a),this.physics.add.overlap(this.solenne,this.damageGroup,a)}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(1200,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls),this.exitPortal.visible&&this.checkLevelComplete(this.exitPortal)}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal+=1,2==this.niviaHasMoonCrystal&&this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDoor(t.getData("doorKey"))}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal+=1,2==this.solenneHasSunCrystal&&this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockDoor(t.getData("doorKey"))}unlockDoor(e){const t=this.doors[e];t.hitbox.body.enable=!1,t.hitbox.setVisible(!1),t.sprite.setVisible(!1),this.checkPortalSpawn()}checkPortalSpawn(){2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.portalSprite.setVisible(!0),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(e,t){this.niviaOnPortal&&this.solenneOnPortal&&2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.scene.launch("VictoryScene",{originalScene:this.scene.key}),this.scene.pause())}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}}class g extends e.Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckTimer=null,this.connectionListener=null,this.isChecking=!1}init(e){this.previousScene=e?.previousScene}create(){this.add.rectangle(400,300,800,600,0,.8),this.add.text(400,200,"CONEXIÃ“N PERDIDA",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,loop:!0,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)}}),this.connectionListener=e=>{e.connected&&this.onReconnected()},t.addListener(this.connectionListener),this.reconnectCheckTimer=this.time.addEvent({delay:2e3,loop:!0,callback:this.attemptReconnect,callbackScope:this}),this.attemptReconnect()}async attemptReconnect(){if(!this.isChecking){this.isChecking=!0,this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`);try{await t.checkConnection()}finally{this.isChecking=!1}}}onReconnected(){this.reconnectCheckTimer&&(this.reconnectCheckTimer.remove(),this.reconnectCheckTimer=null),this.connectionListener&&(t.removeListener(this.connectionListener),this.connectionListener=null),this.statusText.setText("Â¡ConexiÃ³n restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{if(this.previousScene){const e=this.scene.get(this.previousScene);e&&e.connectionListener&&t.addListener(e.connectionListener),this.scene.resume(this.previousScene)}this.scene.stop()})}shutdown(){this.reconnectCheckTimer&&this.reconnectCheckTimer.remove(),this.connectionListener&&t.removeListener(this.connectionListener)}}class m extends e.Scene{constructor(){super("GameModeScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("ExitButton","assets/salir.png"),this.load.image("ExitButtonHover","assets/salirHover.png"),this.load.image("LocalButton","assets/jugarLocal.png"),this.load.image("LocalButtonHover","assets/jugarLocalHover.png"),this.load.image("OnlineButton","assets/jugarOnline.png"),this.load.image("OnlineButtonHover","assets/jugarOnlineHover.png"),this.load.image("GameModeText","assets/texto_modoDeJuego.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1);const i=this.add.image(700,570,"ExitButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(700,570,"ExitButtonHover").setOrigin(.5).setScale(.75).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.start("MenuScene")}),this.add.image(700,210,"GameModeText").setOrigin(.5).setScale(1);const a=this.add.image(500,340,"LocalButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(500,340,"LocalButtonHover").setOrigin(.5).setScale(.75).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.launch("LevelSelectScene"),this.scene.stop()});const n=this.add.image(900,340,"OnlineButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(900,340,"OnlineButtonHover").setOrigin(.5).setScale(.75).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{this.scene.start("AuthScene",{destination:"LobbyScene"})})}}class y extends e.Scene{constructor(){super("LobbyScene")}preload(){this.load.image("CancelButton","assets/cancelar.png"),this.load.image("CancelButtonHover","assets/cancelarHover.png"),this.load.image("MultiplayerText","assets/texto_multijugador.png")}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,110,"MultiplayerText").setOrigin(.5).setScale(1);const s=localStorage.getItem("username");s&&this.add.text(e/2,250,`Jugador: ${s}`,{fontSize:"20px",color:"#a1dba1",fontFamily:"Caudex",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(e/2,t/2-50,"Conectando al servidor...",{fontSize:"28px",color:"#ffff00",fontFamily:"Caudex"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontSize:"22px",color:"#00ff00",fontFamily:"Caudex"}).setOrigin(.5),this.loadingDots="",this.time.addEvent({delay:500,callback:()=>{this.scene.isActive("LobbyScene")&&(this.loadingDots=this.loadingDots.length>=3?"":this.loadingDots+".",this.statusText.text.includes("Esperando")&&this.statusText.setText(`Esperando oponente${this.loadingDots}`))},loop:!0});const i=this.add.image(e/2,t-100,"CancelButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{hoverImg||(hoverImg=this.add.image(1068,170,"CancelButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{hoverImg&&(hoverImg.destroy(),hoverImg=null)}),i.on("pointerdown",()=>{this.leaveQueue()}),this.connectToServer()}async connectToServer(){try{await i.connect(),this.statusText.setText("Esperando oponente"),this.statusText.setColor("#00ff00"),this.statusText.setFontFamily("Caudex"),this.queueStatusHandler=this.handleQueueStatus.bind(this),this.gameStartHandler=this.handleGameStart.bind(this),this.connectionLostHandler=this.handleConnectionLost.bind(this),i.on("queueStatus",this.queueStatusHandler),i.on("gameStart",this.gameStartHandler),i.on("connectionLost",this.connectionLostHandler),i.joinQueue()}catch(e){console.error("âŒ Error conectando al servidor:",e),this.statusText.setText("Error de conexiÃ³n"),this.statusText.setColor("#ff0000"),this.statusText.setFontFamily("Caudex");const t=this.add.text(this.cameras.main.width/2,this.cameras.main.height/2+100,"ðŸ”„ Reintentar",{fontSize:"24px",color:"#ffffff",backgroundColor:"#4444ff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0});t.on("pointerdown",()=>{t.destroy(),this.connectToServer()})}}handleQueueStatus(e){this.playerCountText.setText(`Jugadores en cola: ${e.position}/2`)}handleGameStart(e){console.log("ðŸŽ® Â¡Partida encontrada!",e),i.setPlayerRole(e.role),this.statusText.setText("Â¡Partida encontrada!"),this.statusText.setColor("#00ff00"),this.playerCountText.setText("Iniciando juego..."),this.statusText.setFontFamily("Caudex"),this.playerCountText.setFontFamily("Caudex"),this.time.delayedCall(1e3,()=>{this.scene.start("GameScene",{isMultiplayer:!0,playerRole:e.role,roomId:e.roomId})})}handleConnectionLost(){console.log("âŒ ConexiÃ³n perdida en Lobby"),this.statusText.setText("ConexiÃ³n perdida"),this.statusText.setColor("#ff0000"),this.playerCountText.setText(""),this.statusText.setFontFamily("Caudex"),this.playerCountText.setFontFamily("Caudex"),this.time.delayedCall(2e3,()=>{this.leaveQueue()})}leaveQueue(){this.queueStatusHandler&&i.off("queueStatus",this.queueStatusHandler),this.gameStartHandler&&i.off("gameStart",this.gameStartHandler),this.connectionLostHandler&&i.off("connectionLost",this.connectionLostHandler),i.leaveQueue(),i.disconnect(),this.scene.start("MenuScene")}shutdown(){this.leaveQueue()}}class v extends e.Scene{constructor(){super("RankingScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("RankingText","assets/texto_ranking.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1),this.add.image(700,210,"RankingText").setOrigin(.5).setScale(1),this.fetchRanking();const i=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.stop(),this.scene.resume(this.scene.settings.data.originalScene)})}async fetchRanking(){try{const e=await fetch("/api/users/ranking"),t=await e.json(),s=this.scale.width;t.forEach((e,t)=>{const i=270+50*t,a=t<3?"#ffc875ff":"#ffffff";this.add.text(.3*s,i,`${t+1}. ${e.username}`,{fontSize:"32px",fill:a,fontFamily:"Caudex"}),this.add.text(.7*s,i,`${e.bestTime}s`,{fontSize:"32px",fill:a,fontFamily:"Caudex"}).setOrigin(1,0)})}catch(e){console.error("Error al obtener ranking:",e),this.add.text(this.scale.width/2,300,"Error al conectar con el bosque...",{fontSize:"24px",fill:"#ff0000"}).setOrigin(.5)}}}class S extends e.Scene{constructor(){super("GameLocalScene")}init(){this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=!1,this.solenneHasSunCrystal=!1,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo","assets/Escenario/Nivel1/fondo_abajo.png"),this.load.image("plataformas","assets/Escenario/Nivel1/plataformas_abajo.png"),this.load.image("puertaClaraNivel1","assets/Escenario/Nivel1/puerta_clara.png"),this.load.image("puertaOscuraNivel1","assets/Escenario/Nivel1/puerta_oscura.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonClaroNivel1","assets/Escenario/Nivel1/boton_claro.png"),this.load.image("botonOscuro1Nivel1","assets/Escenario/Nivel1/boton_oscuro.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal","assets/trampas/puertaFinal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage","assets/trampas/lianas_plataformas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){const t=1420,s=800;let i=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.1}),this.physics.add.staticSprite(0,0,"fondo").setOrigin(0,0).setDisplaySize(t,s),this.physics.add.staticSprite(0,0,"plataformas").setOrigin(0,0).setDisplaySize(t,s),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,s,t,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,480,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(575,480,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1e3,550,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(300,150,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,275,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(400,50,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.pared2=this.add.rectangle(900,700,200,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared2,!0),this.exitPortal=this.physics.add.staticSprite(1e3,10,"portal").setScale(1),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(700,400,"puertaOscuraNivel1").setScale(.7),this.lightDoor1=this.physics.add.staticSprite(750,400,"puertaClaraNivel1").setScale(.7),this.darkDoor1Hitbox=this.add.rectangle(250,375,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(920,400,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.trampa=this.physics.add.staticSprite(450,150,"damage").setScale(.5),this.damage=this.add.rectangle(480,100,100,60,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage,!0),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.pared2),this.physics.add.collider(this.solenne,this.pared2),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1100,400,"moondrop_sheet").setBodySize(32,32).setScale(.5),this.sunCrystal=this.crystals.create(100,100,"sundrop_sheet").setBodySize(32,32).setScale(.5),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,t,s),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)}),this.physics.add.overlap(this.nivia,this.damage,()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()}),this.physics.add.overlap(this.solenne,this.damage,()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()})}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(100,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls),this.handleCameraAndConstraints(),this.exitPortal.visible&&this.checkLevelComplete(this.exitPortal)}handleCameraAndConstraints(){const t=this.nivia.y,s=this.solenne.y;let i=(t+s)/2;const a=this.cameras.main.height;this.cameras.main.scrollY=e.Math.Linear(this.cameras.main.scrollY,i-a/2,.05);const n=.7*a;if(Math.abs(t-s)>n){const e=t<s?this.nivia:this.solenne,i=t<s?this.solenne:this.nivia;(i.body.blocked.down||i.y>e.y+n)&&(e.body.velocity.y<0&&(e.body.velocity.y=0),console.log("Movimiento vertical restringido por el jugador rezagado."))}}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal=!0,this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDarkDoor()}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal=!0,this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockLightDoor()}unlockDarkDoor(){this.darkDoor1Hitbox.body.enable=!1,this.darkDoor1Hitbox.setVisible(!1),this.darkDoor1.setVisible(!1),console.log("Puerta Oscura desbloqueada"),this.checkPortalSpawn()}unlockLightDoor(){this.lightDoor1Hitbox.body.enable=!1,this.lightDoor1Hitbox.setVisible(!1),this.lightDoor1.setVisible(!1),console.log("Puerta Clara desbloqueada"),this.checkPortalSpawn()}checkPortalSpawn(){this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&(console.log("Ambos cristales recogidos. El portal aparece."),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(e,t){this.niviaOnPortal&&this.solenneOnPortal&&this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&this.scene.launch("VictoryScene",{originalScene:this.scene.key})}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}}class f extends e.Scene{constructor(){super("Level2SceneLocal")}init(){this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=0,this.solenneHasSunCrystal=0,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo1","assets/Escenario/Nivel2/fondo_arriba.png"),this.load.image("plataformas1","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("plataformasNivel2","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal1","assets/Escenario/Nivel2/portal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage1","assets/trampas/trampas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){const t=1420,s=800;let i=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.2}),this.physics.add.staticSprite(0,0,"fondo1").setOrigin(0,0).setDisplaySize(t,s),this.physics.add.staticSprite(0,0,"plataformas1").setOrigin(0,0).setDisplaySize(t,s),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,s,t,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(750,550,160,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1250,425,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(525,325,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,225,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(715,425,80,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.portalSprite=this.physics.add.staticSprite(710,400,"portal1").setScale(.75),this.portalSprite.setVisible(!1),this.exitPortal=this.add.rectangle(200,200,200,200).setScale(.75),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(710,400,"puertaOscura1Nivel2").setScale(.75),this.darkDoor2=this.physics.add.staticSprite(710,400,"puertaOscura2Nivel2").setScale(.75),this.lightDoor1=this.physics.add.staticSprite(710,400,"puertaClara1Nivel2").setScale(.75),this.lightDoor2=this.physics.add.staticSprite(710,400,"puertaClara2Nivel2").setScale(.75),this.lightDoor3=this.physics.add.staticSprite(710,400,"puertaClara3Nivel2").setScale(.75),this.darkDoor1Hitbox=this.add.rectangle(325,700,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.darkDoor2Hitbox=this.add.rectangle(500,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor2Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(700,100,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.lightDoor2Hitbox=this.add.rectangle(750,700,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor2Hitbox,!0),this.lightDoor3Hitbox=this.add.rectangle(925,500,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor3Hitbox),this.lightDoor3Hitbox.body.setImmovable(!0).setAllowGravity(!1),this.lightDoor3Hitbox.setAngle(135),this.doors={darkDoor1:{sprite:this.darkDoor1,hitbox:this.darkDoor1Hitbox},darkDoor2:{sprite:this.darkDoor2,hitbox:this.darkDoor2Hitbox},lightDoor1:{sprite:this.lightDoor1,hitbox:this.lightDoor1Hitbox},lightDoor2:{sprite:this.lightDoor3,hitbox:this.lightDoor2Hitbox},lightDoor3:{sprite:this.lightDoor2,hitbox:this.lightDoor3Hitbox}},this.damageGroup=this.physics.add.staticGroup(),this.trampa=this.physics.add.staticSprite(710,400,"damage1").setScale(.75),this.damage1=this.add.rectangle(1350,100,200,100,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage1,!0),this.damage2=this.add.rectangle(100,530,100,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage2,!0),this.damage3=this.add.rectangle(125,800,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage3,!0),this.damage4=this.add.rectangle(600,300,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage4,!0),this.damageGroup.add(this.damage1),this.damageGroup.add(this.damage2),this.damageGroup.add(this.damage3),this.damageGroup.add(this.damage4),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.nivia,this.lightDoor2Hitbox),this.physics.add.collider(this.nivia,this.lightDoor3Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor2Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1300,300,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor1"),this.moonCrystal2=this.crystals.create(550,200,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor2"),this.sunCrystal=this.crystals.create(550,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor3"),this.sunCrystal2=this.crystals.create(200,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor1"),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.physics.add.overlap(this.nivia,this.moonCrystal2,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal2,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,t,s),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)});const a=()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()};this.physics.add.overlap(this.nivia,this.damageGroup,a),this.physics.add.overlap(this.solenne,this.damageGroup,a)}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(1200,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls),this.exitPortal.visible&&this.checkLevelComplete(this.exitPortal)}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal+=1,2==this.niviaHasMoonCrystal&&this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDoor(t.getData("doorKey"))}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal+=1,2==this.solenneHasSunCrystal&&this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockDoor(t.getData("doorKey"))}unlockDoor(e){const t=this.doors[e];t.hitbox.body.enable=!1,t.hitbox.setVisible(!1),t.sprite.setVisible(!1),this.checkPortalSpawn()}checkPortalSpawn(){2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.portalSprite.setVisible(!0),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(e,t){this.niviaOnPortal&&this.solenneOnPortal&&2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.scene.launch("VictoryScene",{originalScene:this.scene.key}),this.scene.pause())}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}}class x extends e.Scene{constructor(){super("AuthScene")}init(e){this.destination=e.destination||"LobbyScene"}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("ExitButton","assets/salir.png"),this.load.image("ExitButtonHover","assets/salirHover.png"),this.load.image("LoginButton","assets/jugar.png"),this.load.image("LoginButtonHover","assets/jugarHover.png"),this.load.image("RegisterButton","assets/jugarLocal.png"),this.load.image("RegisterButtonHover","assets/jugarLocalHover.png")}create(){const e=this.scale.width,t=this.scale.height;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1),this.add.text(700,180,"INICIAR SESIÃ“N",{fontSize:"42px",color:"#ffffff",fontFamily:"Caudex",fontStyle:"bold"}).setOrigin(.5),this.add.text(450,260,"Usuario:",{fontSize:"22px",color:"#ffffff",fontFamily:"Caudex"}),this.usernameInput=this.createHTMLInput(550,250,300,"username"),this.add.text(450,330,"ContraseÃ±a:",{fontSize:"22px",color:"#ffffff",fontFamily:"Caudex"}),this.passwordInput=this.createHTMLInput(550,320,300,"password"),this.messageText=this.add.text(700,400,"",{fontSize:"18px",color:"#ff0000",fontFamily:"Caudex",align:"center",wordWrap:{width:400}}).setOrigin(.5);let s=null;const i=this.add.image(550,480,"LoginButton").setOrigin(.5).setScale(.6).setInteractive({useHandCursor:!0});this.add.text(550,480,"ENTRAR",{fontSize:"24px",color:"#ffffff",fontFamily:"Caudex",fontStyle:"bold"}).setOrigin(.5),i.on("pointerover",()=>{s||(s=this.add.image(550,480,"LoginButtonHover").setOrigin(.5).setScale(.6).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.handleLogin()});const a=this.add.image(850,480,"RegisterButton").setOrigin(.5).setScale(.6).setInteractive({useHandCursor:!0});this.add.text(850,480,"REGISTRARSE",{fontSize:"20px",color:"#ffffff",fontFamily:"Caudex",fontStyle:"bold"}).setOrigin(.5),a.on("pointerover",()=>{s||(s=this.add.image(850,480,"RegisterButtonHover").setOrigin(.5).setScale(.6).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.handleRegister()});const n=this.add.image(700,570,"ExitButton").setOrigin(.5).setScale(.6).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(700,570,"ExitButtonHover").setOrigin(.5).setScale(.6).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{this.cleanupInputs(),this.scene.start("MenuScene")}),this.input.keyboard.on("keydown-ENTER",()=>{this.handleLogin()})}createHTMLInput(e,t,s,i="text"){const a=document.createElement("input");a.type=i,a.style.position="absolute",a.style.width=`${s}px`,a.style.height="35px",a.style.fontSize="18px",a.style.fontFamily="Caudex",a.style.padding="5px 10px",a.style.border="2px solid #ffffff",a.style.borderRadius="5px",a.style.backgroundColor="#1a1a2e",a.style.color="#ffffff",a.style.outline="none";const n=this.game.canvas.getBoundingClientRect();return a.style.left=`${n.left+e}px`,a.style.top=`${n.top+t}px`,document.body.appendChild(a),a}async handleLogin(){const e=this.usernameInput.value.trim(),t=this.passwordInput.value;if(e&&t){this.showMessage("Iniciando sesiÃ³n...","info");try{const s=await fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),i=await s.json();s.ok?(console.log("âœ… Login exitoso:",i),localStorage.setItem("userId",i.id),localStorage.setItem("username",i.username),this.showMessage("Â¡Bienvenido "+i.username+"!","success"),this.time.delayedCall(1e3,()=>{this.cleanupInputs(),this.scene.start(this.destination)})):this.showMessage(i.error||"Usuario o contraseÃ±a incorrectos","error")}catch(e){console.error("Error en login:",e),this.showMessage("Error de conexiÃ³n. IntÃ©ntalo de nuevo.","error")}}else this.showMessage("Por favor completa todos los campos","error")}async handleRegister(){const e=this.usernameInput.value.trim(),t=this.passwordInput.value;if(e&&t)if(e.length<3)this.showMessage("El usuario debe tener al menos 3 caracteres","error");else if(t.length<4)this.showMessage("La contraseÃ±a debe tener al menos 4 caracteres","error");else{this.showMessage("Creando cuenta...","info");try{const s=await fetch("/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),i=await s.json();s.ok?(console.log("âœ… Registro exitoso:",i),localStorage.setItem("userId",i.id),localStorage.setItem("username",i.username),this.showMessage("Â¡Cuenta creada! Bienvenido "+i.username,"success"),this.time.delayedCall(1500,()=>{this.cleanupInputs(),this.scene.start(this.destination)})):this.showMessage(i.error||"No se pudo crear la cuenta","error")}catch(e){console.error("Error en registro:",e),this.showMessage("Error de conexiÃ³n. IntÃ©ntalo de nuevo.","error")}}else this.showMessage("Por favor completa todos los campos","error")}showMessage(e,t="info"){const s={error:"#ff4444",success:"#44ff44",info:"#ffff44"};this.messageText.setText(e),this.messageText.setColor(s[t]||s.info)}cleanupInputs(){this.usernameInput&&this.usernameInput.parentNode&&this.usernameInput.parentNode.removeChild(this.usernameInput),this.passwordInput&&this.passwordInput.parentNode&&this.passwordInput.parentNode.removeChild(this.passwordInput)}shutdown(){this.cleanupInputs(),this.input.keyboard.off("keydown-ENTER")}}const C={type:e.AUTO,width:1420,height:800,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[s,x,a,S,p,f,o,r,n,l,h,d,c,u,y,g,m,v],backgroundColor:"#021410ff"};document.fonts.ready.then(()=>{new e.Game(C)})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUttTixRQUMzQ25OLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUttTixRQUM3Q25OLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUtzTixhQUMzQ3ROLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUtzTixhQUM3Q3ROLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUt1TixhQUMzQ3ZOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUt1TixhQUM3Q3ZOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUt3TixhQUMzQ3hOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUt3TixhQUM3Q3hOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUt5TixhQUMzQ3pOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUt5TixhQUM3Q3pOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUswTixhQUMzQzFOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUswTixhQUM3QzFOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUsyTixRQUMzQzNOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUsyTixRQUM3QzNOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUs0TixRQUMzQzVOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUs0TixRQUM3QzVOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUttTyxrQkFHM0NuTyxLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3dPLFFBQVN4TyxLQUFLa08saUJBRTdDbE8sS0FBS3lPLGlCQUFpQixTQUN0QnpPLEtBQUt5TyxpQkFBaUIsV0FHdEJ6TyxLQUFLdU8sTUFBTTdLLEtBQUssY0FDaEIxRCxLQUFLd08sUUFBUTlLLEtBQUssZ0JBR2xCMUQsS0FBSzBPLFNBQVcxTyxLQUFLd00sUUFBUTFJLElBQUk2SyxNQUFNLENBQUNDLGNBQWMsRUFBT0MsV0FBVyxJQUN4RTdPLEtBQUs4TyxZQUFjOU8sS0FBSzBPLFNBQVNuTCxPQUFPLEtBQU0sSUFBSyxrQkFBa0J3TCxZQUFZLEdBQUksSUFBSXhLLFNBQVMsSUFDbEd2RSxLQUFLZ1AsV0FBYWhQLEtBQUswTyxTQUFTbkwsT0FBTyxJQUFLLElBQUssaUJBQWlCd0wsWUFBWSxHQUFJLElBQUl4SyxTQUFTLElBUS9GdkUsS0FBS2lQLE1BQU0xTCxPQUFPLENBQ2QyTCxJQUFLLGVBQ0xDLE9BQVFuUCxLQUFLaVAsTUFBTUcscUJBQXFCLGdCQUFpQixDQUFFbkQsTUFBTyxFQUFHb0QsSUFBSyxJQUMxRUMsVUFBVyxHQUNYQyxRQUFTLElBR2J2UCxLQUFLaVAsTUFBTTFMLE9BQU8sQ0FDZDJMLElBQUssZ0JBQ0xDLE9BQVFuUCxLQUFLaVAsTUFBTUcscUJBQXFCLGlCQUFrQixDQUFFbkQsTUFBTyxFQUFHb0QsSUFBSyxJQUMzRUMsVUFBVyxHQUNYQyxRQUFTLElBR2J2UCxLQUFLOE8sWUFBWXBMLEtBQUssaUJBQ3RCMUQsS0FBS2dQLFdBQVd0TCxLQUFLLGdCQUdyQjFELEtBQUtpUCxNQUFNMUwsT0FBTyxDQUNkMkwsSUFBSyxlQUNMQyxPQUFRblAsS0FBS2lQLE1BQU1HLHFCQUFxQixZQUFhLENBQUVuRCxNQUFPLEVBQUdvRCxJQUFLLEtBQ3RFQyxVQUFXLEVBQ1hDLFFBQVMsSUFJYnZQLEtBQUtpUCxNQUFNMUwsT0FBTyxDQUNkMkwsSUFBSyxnQkFDTEMsT0FBUW5QLEtBQUtpUCxNQUFNRyxxQkFBcUIsYUFBYyxDQUFFbkQsTUFBTyxFQUFHb0QsSUFBSyxLQUN2RUMsVUFBVyxFQUNYQyxRQUFTLElBSWJ2UCxLQUFLd1AsUUFBVXhQLEtBQUs4RCxJQUFJMkwsT0FBT3pQLEtBQUsrSyxRQUFRQyxLQUFLMEUsUUFBVSxHQUFJLEdBQUksY0FDOURyRSxnQkFBZ0IsR0FDaEI5RyxTQUFTLEtBQ1R1SixZQUFXLEdBQ1gxSixTQUFTLEtBQ1RWLEtBQUssaUJBR1YxRCxLQUFLMlAsT0FBUzNQLEtBQUs4RCxJQUFJMkwsT0FBT3pQLEtBQUsrSyxRQUFRQyxLQUFLMEUsUUFBVSxHQUFJLEdBQUksYUFDN0RyRSxnQkFBZ0IsR0FDaEI5RyxTQUFTLEtBQ1R1SixZQUFXLEdBQ1gxSixTQUFTLEtBQ1RWLEtBQUssZ0JBR1YxRCxLQUFLd00sUUFBUTFJLElBQUk4TCxRQUFRNVAsS0FBS3VPLE1BQU92TyxLQUFLOE8sWUFBYTlPLEtBQUs2UCxtQkFBb0IsS0FBTTdQLE1BQ3RGQSxLQUFLd00sUUFBUTFJLElBQUk4TCxRQUFRNVAsS0FBS3dPLFFBQVN4TyxLQUFLZ1AsV0FBWWhQLEtBQUs4UCxrQkFBbUIsS0FBTTlQLE1BV3RGQSxLQUFLK0ssUUFBUUMsS0FBSytFLFVBQVUsRUFBRyxFQUFHcEQsRUFBa0JDLEdBR3BENU0sS0FBS2dRLE9BQVNoUSxLQUFLaVEsTUFBTUMsU0FBU0MsT0FBTyxRQUFhQyxTQUFTQyxTQUFTQyxLQUV4RXRRLEtBQUt3TSxRQUFRMUksSUFBSThMLFFBQVE1UCxLQUFLdU8sTUFBT3ZPLEtBQUs2TixXQUFZLEtBQ2xEN04sS0FBS2lLLGVBQWdCLEVBQ3JCakssS0FBS3VRLHVCQUdUdlEsS0FBS3dNLFFBQVExSSxJQUFJOEwsUUFBUTVQLEtBQUt3TyxRQUFTeE8sS0FBSzZOLFdBQVksS0FDcEQ3TixLQUFLa0ssaUJBQWtCLEVBQ3ZCbEssS0FBS3VRLHVCQUlUdlEsS0FBS3dRLFlBQWN4USxLQUFLOEQsSUFBSVIsTUFBTXRELEtBQUsrSyxRQUFRQyxLQUFLOUcsTUFBUSxHQUFJLEdBQUksZUFDL0RtSCxnQkFBZ0IsR0FDaEI3RyxlQUFlLENBQUVDLGVBQWUsSUFDaENGLFNBQVMsSUFDVEgsU0FBUyxLQUVkcEUsS0FBS3dRLFlBQVk5TCxHQUFHLGNBQWUsS0FDMUJMLElBQ0RBLEVBQVdyRSxLQUFLOEQsSUFBSVIsTUFBTXRELEtBQUsrSyxRQUFRQyxLQUFLOUcsTUFBUSxHQUFJLEdBQUksb0JBQ3ZESCxVQUFVLElBQ1ZRLFNBQVMsSUFDVEgsU0FBU3BFLEtBQUt3USxZQUFZN0wsTUFBUSxNQUkvQzNFLEtBQUt3USxZQUFZOUwsR0FBRyxhQUFjLEtBQzFCTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBSW5CckUsS0FBS3dRLFlBQVk5TCxHQUFHLGNBQWUsS0FDL0IxRSxLQUFLeVEsZ0JBSVR6USxLQUFLMFEsZUFBaUIxUSxLQUFLOEQsSUFBSVIsTUFBTXRELEtBQUsrSyxRQUFRQyxLQUFLOUcsTUFBUSxJQUFLLEdBQUksa0JBQ25FbUgsZ0JBQWdCLEdBQ2hCN0csZUFBZSxDQUFFQyxlQUFlLElBQ2hDRixTQUFTLElBQ1RILFNBQVMsS0FFZHBFLEtBQUswUSxlQUFlaE0sR0FBRyxjQUFlLEtBQzdCTCxJQUNEQSxFQUFXckUsS0FBSzhELElBQUlSLE1BQU10RCxLQUFLK0ssUUFBUUMsS0FBSzlHLE1BQVEsSUFBSyxHQUFJLHVCQUN4REgsVUFBVSxJQUNWUSxTQUFTLElBQ1RILFNBQVNwRSxLQUFLMFEsZUFBZS9MLE1BQVEsTUFJbEQzRSxLQUFLMFEsZUFBZWhNLEdBQUcsYUFBYyxLQUM3QkwsSUFDQUEsRUFBU08sVUFDVFAsRUFBVyxRQUluQnJFLEtBQUswUSxlQUFlaE0sR0FBRyxjQUFlLEtBQ25DMUUsS0FBSzZFLE1BQU1DLE9BQU8sbUJBR2hCOUUsS0FBS3dLLGVBQ054SyxLQUFLdU0sT0FBTzdILEdBQUcsU0FBVSxLQUNoQjFFLEtBQUt3TSxRQUFRb0QsUUFBUTVQLEtBQUt1TyxNQUFPdk8sS0FBSzZOLGNBQ3ZDN04sS0FBS2lLLGVBQWdCLEdBRXBCakssS0FBS3dNLFFBQVFvRCxRQUFRNVAsS0FBS3dPLFFBQVN4TyxLQUFLNk4sY0FDekM3TixLQUFLa0ssaUJBQWtCLEtBS25DbEssS0FBS3dNLFFBQVExSSxJQUFJOEwsUUFBUTVQLEtBQUt1TyxNQUFPdk8sS0FBS3FPLE9BQVEsS0FDMUNyTyxLQUFLd0ssZUFBaUJqRSxFQUFVckcsY0FDaENxRyxFQUFVNkMsYUFBYSxTQUd2QnBKLEtBQUs2RSxNQUFNQyxPQUFPLGdCQUFpQixDQUFFNkwsY0FBZTNRLEtBQUs2RSxNQUFNcUssTUFDL0RsUCxLQUFLNkUsTUFBTTZILFdBSW5CMU0sS0FBS3dNLFFBQVExSSxJQUFJOEwsUUFBUTVQLEtBQUt3TyxRQUFTeE8sS0FBS3FPLE9BQVEsS0FDNUNyTyxLQUFLd0ssZUFBaUJqRSxFQUFVckcsY0FDaENxRyxFQUFVNkMsYUFBYSxTQUd2QnBKLEtBQUs2RSxNQUFNQyxPQUFPLGdCQUFpQixDQUFFNkwsY0FBZTNRLEtBQUs2RSxNQUFNcUssTUFDL0RsUCxLQUFLNkUsTUFBTTZILFdBSWYxTSxLQUFLd0ssZUFDTHhLLEtBQUs0USxrQkFFYixDQUVBLGdCQUFBQSxHQUM0QixVQUFwQjVRLEtBQUswRyxZQUNMMUcsS0FBS3lLLFlBQWN6SyxLQUFLdU8sTUFDeEJ2TyxLQUFLMEssYUFBZTFLLEtBQUt3TyxTQUNFLFlBQXBCeE8sS0FBSzBHLGFBQ1oxRyxLQUFLeUssWUFBY3pLLEtBQUt3TyxRQUN4QnhPLEtBQUswSyxhQUFlMUssS0FBS3VPLE9BSTdCdk8sS0FBSzZRLGtCQUFvQjdRLEtBQUs4USx1QkFBdUJDLEtBQUsvUSxNQUMxREEsS0FBS2dSLHdCQUEwQmhSLEtBQUtpUiw2QkFBNkJGLEtBQUsvUSxNQUN0RUEsS0FBS2tSLHFCQUF1QmxSLEtBQUttUiwwQkFBMEJKLEtBQUsvUSxNQUNoRUEsS0FBS29SLGVBQWlCcFIsS0FBS3FSLG9CQUFvQk4sS0FBSy9RLE1BQ3BEQSxLQUFLc1IsZ0JBQWtCdFIsS0FBS3VSLHFCQUFxQlIsS0FBSy9RLE1BQ3REQSxLQUFLd1IsMEJBQTRCeFIsS0FBS3lSLHlCQUF5QlYsS0FBSy9RLE1BRXBFdUcsRUFBVTdCLEdBQUcsYUFBYzFFLEtBQUs2USxtQkFDaEN0SyxFQUFVN0IsR0FBRyxtQkFBb0IxRSxLQUFLZ1IseUJBQ3RDekssRUFBVTdCLEdBQUcsZ0JBQWlCMUUsS0FBS2tSLHNCQUNuQzNLLEVBQVU3QixHQUFHLFVBQVcxRSxLQUFLb1IsZ0JBQzdCN0ssRUFBVTdCLEdBQUcsV0FBWTFFLEtBQUtzUixpQkFDOUIvSyxFQUFVN0IsR0FBRyxxQkFBc0IxRSxLQUFLd1IsMEJBRTVDLENBRUEsdUJBQUFFLEdBQ0ksTUFBTS9RLEVBQU1ELEtBQUtDLE1BR2JBLEVBQU1YLEtBQUsySyxhQUFlM0ssS0FBSzRLLGVBR25DNUssS0FBSzJLLGFBQWVoSyxFQUdoQlgsS0FBS3lLLGFBQWVsRSxFQUFVckcsZUFDOUJxRyxFQUFVb0MsZUFDTjNJLEtBQUt5SyxZQUFZN0IsRUFDakI1SSxLQUFLeUssWUFBWTVCLEVBQ2pCN0ksS0FBS3lLLFlBQVkzQixNQUNqQjlJLEtBQUt5SyxZQUFZd0UsTUFBTTBDLGFBQWF6QyxLQUFPLFFBR3ZELENBT0Esc0JBQUE0QixDQUF1QnJQLEdBQ2R6QixLQUFLMEssZUFHVjFLLEtBQUswSyxhQUFha0gsWUFBWW5RLEVBQUttSCxFQUFHbkgsRUFBS29ILEdBQzNDN0ksS0FBSzBLLGFBQWFtSCxTQUFTcFEsRUFBS3FILE9BRzVCckgsRUFBS3NILFNBQVcvSSxLQUFLMEssYUFBYXVFLE1BQU0wQyxhQUFhekMsTUFBUXpOLEVBQUtzSCxTQUNsRS9JLEtBQUswSyxhQUFhdUUsTUFBTXZMLEtBQUtqQyxFQUFLc0gsU0FBUyxHQUVuRCxDQUtBLDRCQUFBa0ksQ0FBNkJ4UCxHQUN6QlEsUUFBUW1GLElBQUksY0FBYzNGLEVBQUt3SCw0Q0FFTixTQUFyQnhILEVBQUt3SCxhQUVMakosS0FBSzhPLFlBQVlnRCxhQUFZLEdBQU0sR0FDbkM5UixLQUFLK0oscUJBQXNCLEVBQzNCL0osS0FBS3dQLFFBQVExQixZQUFXLEdBR3BCck0sRUFBS3NRLGtCQUNML1IsS0FBS2dTLGtCQUVtQixRQUFyQnZRLEVBQUt3SCxjQUVaakosS0FBS2dQLFdBQVc4QyxhQUFZLEdBQU0sR0FDbEM5UixLQUFLZ0ssc0JBQXVCLEVBQzVCaEssS0FBSzJQLE9BQU83QixZQUFXLEdBR25Cck0sRUFBS3dRLG1CQUNMalMsS0FBS2tTLGtCQUdqQixDQUtBLHlCQUFBZixDQUEwQjFQLEdBQ3RCUSxRQUFRbUYsSUFBSSxzQ0FFUHBILEtBQUs2TixXQUFXc0UsVUFDakJuUyxLQUFLNk4sV0FBV0MsWUFBVyxHQUMzQjlOLEtBQUs2TixXQUFXeE0sS0FBSzBNLFFBQVMsRUFFdEMsQ0FLQSxtQkFBQXNELENBQW9CNVAsR0FDaEJRLFFBQVFtRixJQUFJLDhCQUdacEgsS0FBSzZFLE1BQU1DLE9BQU8sZUFBZ0IsQ0FDOUI2TCxjQUFlM1EsS0FBSzZFLE1BQU1xSyxJQUMxQjFFLGVBQWUsSUFFbkJ4SyxLQUFLNkUsTUFBTTZILE9BQ2YsQ0FLQSxvQkFBQTZFLENBQXFCOVAsR0FDakJRLFFBQVFtRixJQUFJLHNDQUF1QzNGLEVBQUs0SCxRQUd4RHJKLEtBQUt3TSxRQUFRRSxRQUdiMU0sS0FBSzZFLE1BQU1DLE9BQU8sZ0JBQWlCLENBQy9CNkwsY0FBZTNRLEtBQUs2RSxNQUFNcUssSUFDMUIxRSxlQUFlLEVBQ2ZuQixPQUFRNUgsRUFBSzRILFNBRWpCckosS0FBSzZFLE1BQU02SCxPQUNmLENBS0Esd0JBQUErRSxHQUNBeFAsUUFBUW1GLElBQUksbUNBR1pwSCxLQUFLd00sUUFBUUUsUUFHYjFNLEtBQUs2RSxNQUFNNkgsUUFHWCxNQUFNeEksRUFBUWxFLEtBQUsrSyxRQUFRQyxLQUFLOUcsTUFDMUJDLEVBQVNuRSxLQUFLK0ssUUFBUUMsS0FBSzdHLE9Bc0IzQmlPLEdBcEJLcFMsS0FBSzhELElBQUlzSixVQUFVLEVBQUcsRUFBR2xKLEVBQU9DLEVBQVEsRUFBVSxJQUN4REosVUFBVSxHQUNWc0gsZ0JBQWdCLEdBQ2hCakgsU0FBUyxLQUVEcEUsS0FBSzhELElBQUkyQixLQUFLdkIsRUFBUSxFQUFHQyxFQUFTLEVBQUksR0FDL0MsdUJBQXdCLENBQ3hCdUIsU0FBVSxPQUNWRSxNQUFPLFVBQ1BzRixNQUFPLFNBQ1BELFVBQVcsU0FDWmxILFVBQVUsSUFBS3NILGdCQUFnQixHQUFHakgsU0FBUyxNQUUzQnBFLEtBQUs4RCxJQUFJMkIsS0FBS3ZCLEVBQVEsRUFBR0MsRUFBUyxFQUNqRCxzQ0FBdUMsQ0FDdkN1QixTQUFVLE9BQ1ZFLE1BQU8sVUFDUHNGLE1BQU8sV0FDUm5ILFVBQVUsSUFBS3NILGdCQUFnQixHQUFHakgsU0FBUyxNQUU5QnBFLEtBQUs4RCxJQUFJMkIsS0FBS3ZCLEVBQVEsRUFBR0MsRUFBUyxFQUFJLElBQ2xELG9CQUFxQixDQUNyQnVCLFNBQVUsT0FDVkUsTUFBTyxVQUNQdUYsZ0JBQWlCLFVBQ2pCQyxRQUFTLENBQUV4QyxFQUFHLEdBQUlDLEVBQUcsTUFDdEI5RSxVQUFVLElBQUtTLGVBQWUsQ0FBRUMsZUFBZSxJQUFRNEcsZ0JBQWdCLEdBQUdqSCxTQUFTLE9BRXRGZ08sRUFBUTFOLEdBQUcsY0FBZSxLQUN0QjBOLEVBQVF2RyxTQUFTLENBQUVWLGdCQUFpQixjQUd4Q2lILEVBQVExTixHQUFHLGFBQWMsS0FDckIwTixFQUFRdkcsU0FBUyxDQUFFVixnQkFBaUIsY0FHeENpSCxFQUFRMU4sR0FBRyxjQUFlLEtBRXRCNkIsRUFBVStDLGFBR1Z0SixLQUFLd0QsTUFBTXVJLFVBR1gvTCxLQUFLNkUsTUFBTW1ILE9BQ1hoTSxLQUFLNkUsTUFBTW9ILE1BQU0sY0FFekIsQ0FFSSxnQkFBQUssR0FDSXRNLEtBQUs2SixVQUFXLEVBRVo3SixLQUFLNkYsb0JBQ0wvRixFQUFrQnVDLGVBQWVyQyxLQUFLNkYsb0JBRTFDN0YsS0FBSzZFLE1BQU1DLE9BQU8sc0JBQXVCLENBQUN1TixjQUFlLGNBQ3pEclMsS0FBSzZFLE1BQU02SCxPQUNmLENBRUEsWUFBQVEsR0FJSWxOLEtBQUt1TyxNQUFRdk8sS0FBS3dNLFFBQVExSSxJQUFJMkwsT0FBTyxLQUhwQixLQUdvQyxTQUFTNkMsVUFBVSxJQUFLQyx1QkFBc0IsR0FDbkd2UyxLQUFLd08sUUFBVXhPLEtBQUt3TSxRQUFRMUksSUFBSTJMLE9BQU8sSUFKdEIsS0FJcUMsV0FBVzZDLFVBQVUsSUFBS0MsdUJBQXNCLEdBRXRHdlMsS0FBS3VPLE1BQU1pRSxRQUFRLElBQUssS0FDeEJ4UyxLQUFLdU8sTUFBTWtFLFVBQVUsSUFBSyxJQUUxQnpTLEtBQUt3TyxRQUFRZ0UsUUFBUSxJQUFLLEtBQzFCeFMsS0FBS3dPLFFBQVFpRSxVQUFVLElBQUssSUFHNUJ6UyxLQUFLdU8sTUFBTWhLLFNBQVMsSUFDcEJ2RSxLQUFLd08sUUFBUWpLLFNBQVMsSUFHdEJ2RSxLQUFLMFMsY0FBZ0IxUyxLQUFLaVEsTUFBTUMsU0FBU3lDLFFBQVEsQ0FDN0NDLEtBQU0sSUFDTkMsTUFBTyxJQUNQQyxHQUFJLElBQ0pDLFNBQVUsTUFJZC9TLEtBQUtnVCxnQkFBa0JoVCxLQUFLaVEsTUFBTUMsU0FBU3lDLFFBQVEsQ0FDL0NDLEtBQU0sT0FDTkMsTUFBTyxRQUNQQyxHQUFJLEtBQ0pDLFNBQVUsU0FFbEIsQ0FFQSxnQkFBQXRFLENBQWlCUyxHQUVibFAsS0FBS2lQLE1BQU0xTCxPQUFPLENBQ2QyTCxJQUFLLEdBQUdBLFFBQ1JDLE9BQVFuUCxLQUFLaVAsTUFBTWdFLG1CQUFtQi9ELEVBQUssQ0FBRWdFLE9BQVEsT0FBUWpILE1BQU8sRUFBR29ELElBQUssSUFDNUVDLFVBQVcsR0FDWEMsUUFBUyxJQUtidlAsS0FBS2lQLE1BQU0xTCxPQUFPLENBQ2QyTCxJQUFLLEdBQUdBLFNBQ1JDLE9BQVFuUCxLQUFLaVAsTUFBTWdFLG1CQUFtQi9ELEVBQUssQ0FBRWdFLE9BQVEsUUFBU2pILE1BQU8sRUFBR29ELElBQUssSUFDN0VDLFVBQVcsR0FDWEMsT0FBUSxJQUladlAsS0FBS2lQLE1BQU0xTCxPQUFPLENBQ2QyTCxJQUFLLEdBQUdBLFNBQ1JDLE9BQVFuUCxLQUFLaVAsTUFBTWdFLG1CQUFtQi9ELEVBQUssQ0FBRUMsT0FBUSxDQUFDLFlBQ3RERyxVQUFXLEVBQ1hDLE9BQVEsR0FFaEIsQ0FFQSxjQUFBNEQsQ0FBZXRKLEdBQ1g3SixLQUFLNkosU0FBV0EsRUFDWjdKLEtBQUs2SixXQUNMN0osS0FBSzZFLE1BQU1DLE9BQU8sYUFBYyxDQUFDNkwsY0FBZTNRLEtBQUs2RSxNQUFNcUssTUFDM0RsUCxLQUFLNkUsTUFBTTZILFFBRW5CLENBRUEsTUFBQUQsR0FDSXpNLEtBQUs2SixVQUFXLEVBQ2hCN0osS0FBS3FLLHlCQUEwQixDQUNuQyxDQUVBLFdBQUFvRyxHQUNJLE1BQU0yQyxHQUFrQnBULEtBQUs2SixTQUM3QjdKLEtBQUttVCxlQUFlQyxFQUN4QixDQUVBLGNBQUFDLEdBQ0lyVCxLQUFLNkUsTUFBTUMsT0FBTyxnQkFFdEIsQ0FHQSxNQUFBd08sR0FFUXRULEtBQUtnUSxPQUFPdUQsUUFDWnZULEtBQUt5USxjQUdMelEsS0FBS3dLLGNBRW1CLFVBQXBCeEssS0FBSzBHLFlBQ0wxRyxLQUFLd1QscUJBQXFCeFQsS0FBS3VPLE1BQU92TyxLQUFLMFMsZUFDM0MxUyxLQUFLMFIsMkJBQ3NCLFlBQXBCMVIsS0FBSzBHLGFBQ1oxRyxLQUFLd1QscUJBQXFCeFQsS0FBS3dPLFFBQVN4TyxLQUFLZ1QsaUJBQzdDaFQsS0FBSzBSLDRCQUlUMVIsS0FBS3dULHFCQUFxQnhULEtBQUt1TyxNQUFPdk8sS0FBSzBTLGVBQzNDMVMsS0FBS3dULHFCQUFxQnhULEtBQUt3TyxRQUFTeE8sS0FBS2dULGtCQUdqRGhULEtBQUt5VCw2QkFFRHpULEtBQUs2TixZQUFjN04sS0FBSzZOLFdBQVdzRSxTQUFXblMsS0FBSzZOLFdBQVd4TSxLQUFLME0sUUFDbkUvTixLQUFLdVEsb0JBRWIsQ0FFQSwwQkFBQWtELEdBQ0ksTUFBTUMsRUFBUzFULEtBQUt1TyxNQUFNMUYsRUFDcEI4SyxFQUFXM1QsS0FBS3dPLFFBQVEzRixFQU05QixJQUFJK0ssR0FIVUYsRUFBU0MsR0FBWSxFQU1uQyxNQUNNRSxFQUFlN1QsS0FBSytLLFFBQVFDLEtBQUs3RyxPQUV2Q25FLEtBQUsrSyxRQUFRQyxLQUFLOEksUUFBVSxPQUFZQyxPQUNwQy9ULEtBQUsrSyxRQUFRQyxLQUFLOEksUUFDbEJGLEVBQWlCQyxFQUFlLEVBTGpCLEtBVW5CLE1BQU1HLEVBQWdDLEdBQWZILEVBR3ZCLEdBRmtCalQsS0FBS3FULElBQUlQLEVBQVNDLEdBRXBCSyxFQUFnQixDQUM1QixNQUFNRSxFQUFnQlIsRUFBU0MsRUFBWTNULEtBQUt1TyxNQUFRdk8sS0FBS3dPLFFBQ3ZEMkYsRUFBZ0JULEVBQVNDLEVBQVkzVCxLQUFLd08sUUFBVXhPLEtBQUt1TyxPQUUzRDRGLEVBQWE5UyxLQUFLK1MsUUFBUUMsTUFBUUYsRUFBYXRMLEVBQUlxTCxFQUFhckwsRUFBSW1MLEtBRWhFRSxFQUFhN1MsS0FBS2lULFNBQVN6TCxFQUFJLElBQy9CcUwsRUFBYTdTLEtBQUtpVCxTQUFTekwsRUFBSSxHQUVuQzVHLFFBQVFtRixJQUFJLDREQUVwQixDQUNKLENBRUEsb0JBQUFvTSxDQUFxQmUsRUFBY0MsR0FFL0IsTUFFTXRGLEVBQU1xRixFQUFhRSxRQUFRdkYsSUFDM0J3RixFQUFXRixFQUFTNUIsS0FBS1csUUFBVWlCLEVBQVMzQixNQUFNVSxPQUNsRG9CLEVBQWFKLEVBQWFsVCxLQUFLK1MsUUFBUUMsS0FDN0MsSUFBSU8sRUFBVSxHQUdYRixHQUFZQyxFQUNDLFVBQVJ6RixHQUEyQyxPQUF4QmxQLEtBQUttSyxnQkFDeEJuSyxLQUFLbUssZUFBaUJuSyxLQUFLd0QsTUFBTU0sSUFBSSxZQUFhLENBQUVILE1BQU0sRUFBTUMsT0FBUSxJQUN4RTVELEtBQUttSyxlQUFlekcsUUFDTCxZQUFSd0wsR0FBK0MsT0FBMUJsUCxLQUFLb0ssbUJBQ2pDcEssS0FBS29LLGlCQUFtQnBLLEtBQUt3RCxNQUFNTSxJQUFJLFlBQWEsQ0FBRUgsTUFBTSxFQUFNQyxPQUFRLElBQzFFNUQsS0FBS29LLGlCQUFpQjFHLFFBSWQsVUFBUndMLEdBQW1CbFAsS0FBS21LLGdCQUN4Qm5LLEtBQUttSyxlQUFlNkIsT0FDcEJoTSxLQUFLbUssZUFBaUIsTUFDUCxZQUFSK0UsR0FBcUJsUCxLQUFLb0ssbUJBQ2pDcEssS0FBS29LLGlCQUFpQjRCLE9BQ3RCaE0sS0FBS29LLGlCQUFtQixNQUs1Qm9LLEVBQVM1QixLQUFLVyxRQUNkZ0IsRUFBYU0sY0E3QkgsS0E4QlZOLEVBQWExQyxVQUFTLElBQ2YyQyxFQUFTM0IsTUFBTVUsUUFDdEJnQixFQUFhTSxhQWhDSCxLQWlDVk4sRUFBYTFDLFVBQVMsSUFFdEIwQyxFQUFhTSxhQUFhLEdBSVpMLEVBQVMxQixHQUFHUyxRQUFVZ0IsRUFBYWxULEtBQUsrUyxRQUFRQyxNQUc5REUsRUFBYU8sY0F6Q0ksS0FrRGpCRixFQUxDTCxFQUFhbFQsS0FBSytTLFFBQVFDLEtBR3BCRyxFQUFTNUIsS0FBS1csUUFBVWlCLEVBQVMzQixNQUFNVSxPQUVwQyxHQUFHckUsUUFHSCxHQUFHQSxTQU5ILEdBQUdBLFNBVWJxRixFQUFhdEYsTUFBTTBDLGFBQWF6QyxNQUFRMEYsR0FDeENMLEVBQWF0RixNQUFNdkwsS0FBS2tSLEdBSXhCLFFBQWF4RSxTQUFTMkUsU0FBU1AsRUFBU3pCLFdBRXhDOVEsUUFBUW1GLElBQUksd0JBRXBCLENBRUEsa0JBQUF5SSxDQUFtQm1GLEVBQVFDLEdBQ3ZCQSxFQUFRbkQsYUFBWSxHQUFNLEdBQzFCOVIsS0FBSytKLHFCQUFzQixFQUMzQi9KLEtBQUt3UCxRQUFRMUIsWUFBVyxHQUN4QjlOLEtBQUt3RCxNQUFNRSxLQUFLLDBCQUEyQixDQUFFRSxPQUFRLEtBQ3JEM0IsUUFBUW1GLElBQUksMkNBQ1pwSCxLQUFLZ1MsaUJBRURoUyxLQUFLd0ssZUFBaUJqRSxFQUFVckcsZUFDaENxRyxFQUFVeUMsbUJBQW1CLE9BRXJDLENBRUEsaUJBQUE4RyxDQUFrQmtGLEVBQVFDLEdBQ3RCQSxFQUFRbkQsYUFBWSxHQUFNLEdBQzFCOVIsS0FBS2dLLHNCQUF1QixFQUM1QmhLLEtBQUsyUCxPQUFPN0IsWUFBVyxHQUN2QjlOLEtBQUt3RCxNQUFNRSxLQUFLLHlCQUEwQixDQUFFRSxPQUFRLEtBQ3BEM0IsUUFBUW1GLElBQUksMENBQ1pwSCxLQUFLa1Msa0JBRURsUyxLQUFLd0ssZUFBaUJqRSxFQUFVckcsZUFDaENxRyxFQUFVeUMsbUJBQW1CLE1BRXJDLENBRUEsY0FBQWdKLEdBRUloUyxLQUFLa08sZ0JBQWdCN00sS0FBSzBNLFFBQVMsRUFDbkMvTixLQUFLa08sZ0JBQWdCSixZQUFXLEdBQ2hDOU4sS0FBS2dPLFVBQVVGLFlBQVcsR0FDMUI3TCxRQUFRbUYsSUFBSSw4QkFDWnBILEtBQUtrVixrQkFDVCxDQUVBLGVBQUFoRCxHQUVJbFMsS0FBS21PLGlCQUFpQjlNLEtBQUswTSxRQUFTLEVBQ3BDL04sS0FBS21PLGlCQUFpQkwsWUFBVyxHQUNqQzlOLEtBQUtpTyxXQUFXSCxZQUFXLEdBQzNCN0wsUUFBUW1GLElBQUksNkJBQ1pwSCxLQUFLa1Ysa0JBQ1QsQ0FFQSxnQkFBQUEsR0FDUWxWLEtBQUsrSixxQkFBdUIvSixLQUFLZ0ssdUJBQ2pDL0gsUUFBUW1GLElBQUksaURBQ1pwSCxLQUFLNk4sV0FBV0MsWUFBVyxHQUMzQjlOLEtBQUs2TixXQUFXeE0sS0FBSzBNLFFBQVMsRUFFdEMsQ0FFQSxrQkFBQXdDLEdBQ0EsSUFFSSxJQUFLdlEsS0FBS3dLLGNBQWUsQ0FFckIsTUFBTVAsRUFBZ0JqSyxLQUFLd00sUUFBUW9ELFFBQVE1UCxLQUFLdU8sTUFBT3ZPLEtBQUs2TixZQUN0RDNELEVBQWtCbEssS0FBS3dNLFFBQVFvRCxRQUFRNVAsS0FBS3dPLFFBQVN4TyxLQUFLNk4sWUFRaEUsWUFOSTVELEdBQWlCQyxHQUNqQmxLLEtBQUsrSixxQkFBdUIvSixLQUFLZ0ssdUJBQ2pDL0gsUUFBUW1GLElBQUksc0JBQ1pwSCxLQUFLNkUsTUFBTUMsT0FBTyxlQUFnQixDQUFFNkwsY0FBZTNRLEtBQUs2RSxNQUFNcUssTUFDOURsUCxLQUFLNkUsTUFBTTZILFNBR25CLENBR0EsSUFBSzFNLEtBQUs2TixhQUFlN04sS0FBSzZOLFdBQVdzRSxVQUFZblMsS0FBS3lLLFlBQ3RELE9BSUosTUFBTTBLLEVBQWdCblYsS0FBS3dNLFFBQVFvRCxRQUFRNVAsS0FBS3lLLFlBQWF6SyxLQUFLNk4sWUFHbEUsSUFBSXVILEdBQWdCLEVBQ0ksVUFBcEJwVixLQUFLMEcsV0FDTDBPLEVBQWdCcFYsS0FBS2lLLGNBQ00sWUFBcEJqSyxLQUFLMEcsYUFDWjBPLEVBQWdCcFYsS0FBS2tLLGlCQUlELFVBQXBCbEssS0FBSzBHLFdBQ0wxRyxLQUFLaUssY0FBZ0JrTCxFQUNNLFlBQXBCblYsS0FBSzBHLGFBQ1oxRyxLQUFLa0ssZ0JBQWtCaUwsR0FJdkI1TyxFQUFVckcsZUFDVnFHLEVBQVUyQyxnQkFBZ0JpTSxHQUc5QmxULFFBQVFtRixJQUFJLE1BQU1wSCxLQUFLMEcseUJBQXlCeU8sSUFFcEQsQ0FBRSxNQUFPblQsR0FDTEMsUUFBUUQsTUFBTSwrQkFBZ0NBLEVBQ2xELENBQ0osQ0FFSSxPQUFBcVQsR0FDSXBULFFBQVFtRixJQUFJLG1CQUNaLElBQUkvQyxFQUFXLEtBRWZyRSxLQUFLd00sUUFBUUUsUUFDYjFNLEtBQUs4RCxJQUFJMkIsS0FBS3pGLEtBQUsrSyxRQUFRQyxLQUFLMEUsUUFBUzFQLEtBQUsrSyxRQUFRQyxLQUFLc0ssUUFBVSxJQUFLLHFCQUFzQixDQUM1RjVQLFNBQVUsT0FBUTZQLEtBQU0sWUFBYXhSLFVBQVUsSUFFbkQsTUFBTXlSLEVBQWF4VixLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssaUJBQ3ZDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEMsZUFBZSxDQUFFQyxlQUFlLElBRXJDK1EsRUFBVzlRLEdBQUcsY0FBZSxLQUNwQkwsSUFDREEsRUFBV3JFLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxzQkFDL0JTLFVBQVUsSUFDVlEsU0FBUyxJQUNUSCxTQUFTb1IsRUFBVzdRLE1BQVEsTUFJekM2USxFQUFXOVEsR0FBRyxhQUFjLEtBQ3BCTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBSW5CbVIsRUFBVzlRLEdBQUcsY0FBZSxLQUN6QixNQUFNK1EsRUFBbUJ6VixLQUFLNkUsTUFBTTZRLFNBQVNqVSxLQUFLa1AsY0FDbEQzUSxLQUFLNkUsTUFBTW1ILEtBQUt5SixHQUNoQnpWLEtBQUs2RSxNQUFNb0gsTUFBTSxjQUV6QixDQUNBLFFBQUEzRixHQUNRdEcsS0FBSzZGLG9CQUNML0YsRUFBa0J1QyxlQUFlckMsS0FBSzZGLG9CQUV0QzdGLEtBQUt3SyxnQkFDTGpFLEVBQVUyQixJQUFJLGFBQWNsSSxLQUFLNlEsbUJBQ2pDdEssRUFBVTJCLElBQUksbUJBQW9CbEksS0FBS2dSLHlCQUN2Q3pLLEVBQVUyQixJQUFJLGdCQUFpQmxJLEtBQUtrUixzQkFDcEMzSyxFQUFVMkIsSUFBSSxVQUFXbEksS0FBS29SLGdCQUM5QjdLLEVBQVUyQixJQUFJLFdBQVlsSSxLQUFLc1IsaUJBQy9CL0ssRUFBVTJCLElBQUkscUJBQXNCbEksS0FBS3dSLDJCQUVqRCxFQ25qQ0csTUFBTW1FLFVBQW1CLFFBQzVCLFdBQUE1VixHQUNJbUQsTUFBTSxhQUNWLENBRUEsT0FBQUMsR0FFSW5ELEtBQUtvRCxLQUFLRSxNQUFNLGFBQWMsbUJBRzlCdEQsS0FBS29ELEtBQUtFLE1BQU0sWUFBYSwwQkFHN0J0RCxLQUFLb0QsS0FBS0UsTUFBTSxnQkFBaUIscUJBQ2pDdEQsS0FBS29ELEtBQUtFLE1BQU0scUJBQXNCLDBCQUd0Q3RELEtBQUtvRCxLQUFLRSxNQUFNLGlCQUFrQix1QkFDbEN0RCxLQUFLb0QsS0FBS0UsTUFBTSxzQkFBdUIsNEJBR3ZDdEQsS0FBS29ELEtBQUtFLE1BQU0sZ0JBQWlCLHdCQUNqQ3RELEtBQUtvRCxLQUFLRSxNQUFNLHFCQUFzQiw2QkFHdEN0RCxLQUFLb0QsS0FBS0UsTUFBTSxnQkFBaUIsbUJBQ2pDdEQsS0FBS29ELEtBQUtFLE1BQU0scUJBQXNCLHVCQUUxQyxDQUNBLE1BQUFDLEdBRUksTUFBTXFTLEVBQUk1VixLQUFLaUUsTUFBTUMsTUFDZjJSLEVBQUk3VixLQUFLaUUsTUFBTUUsT0FFckIsSUFBSUUsRUFBVyxLQUdmckUsS0FBSzhWLFdBQWE5VixLQUFLOEQsSUFBSXNKLFVBQVUsRUFBRyxFQUFHd0ksRUFBR0MsRUFBRyxPQUFVLElBQUs5UixVQUFVLEdBRzFFL0QsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGNBQ3BCUyxVQUFVLElBQ1ZRLFNBQVMsR0FHZHZFLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxhQUNwQlMsVUFBVSxJQUNWUSxTQUFTLEdBR2QsTUFBTXdSLEVBQVUvVixLQUFLOEQsSUFBSVIsTUFBTSxLQUFNLElBQUssaUJBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEMsZUFBZSxDQUFFQyxlQUFlLElBRXJDc1IsRUFBUXJSLEdBQUcsY0FBZSxLQUNqQkwsSUFDREEsRUFBV3JFLEtBQUs4RCxJQUFJUixNQUFNLEtBQU0sSUFBSyxzQkFDaENTLFVBQVUsSUFDVlEsU0FBUyxJQUNUSCxTQUFTMlIsRUFBUXBSLE1BQVEsTUFJdENvUixFQUFRclIsR0FBRyxhQUFjLEtBQ2pCTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBS25CMFIsRUFBUXJSLEdBQUcsY0FBZSxLQUN0QixNQUFNc1IsRUFBV2hXLEtBQUs2RSxNQUFNNlEsU0FBU2pVLEtBQUtrUCxjQUN0Q3FGLEdBQVVoVyxLQUFLNkUsTUFBTTRILE9BQU91SixHQUNoQ2hXLEtBQUs2RSxNQUFNbUgsU0FLZixNQUFNaUssRUFBY2pXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxrQkFDeENTLFVBQVUsSUFDVlEsU0FBUyxJQUNUQyxlQUFlLENBQUVDLGVBQWUsSUFFckN3UixFQUFZdlIsR0FBRyxjQUFlLEtBQ3JCTCxJQUNEQSxFQUFXckUsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLHVCQUMvQlMsVUFBVSxJQUNWUSxTQUFTLElBQ1RILFNBQVM2UixFQUFZdFIsTUFBUSxNQUkxQ3NSLEVBQVl2UixHQUFHLGFBQWMsS0FDckJMLElBQ0FBLEVBQVNPLFVBQ1RQLEVBQVcsUUFLbkI0UixFQUFZdlIsR0FBRyxjQUFlLEtBRTFCMUUsS0FBSzZFLE1BQU1DLE9BQU8sZ0JBQWlCLENBQUU2TCxjQUFlLGVBQ3BEM1EsS0FBSzZFLE1BQU02SCxVQUlmLE1BQU04SSxFQUFheFYsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGlCQUN2Q1MsVUFBVSxJQUNWUSxTQUFTLElBQ1RDLGVBQWUsQ0FBRUMsZUFBZSxJQUVyQytRLEVBQVc5USxHQUFHLGNBQWUsS0FDcEJMLElBQ0RBLEVBQVdyRSxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssc0JBQy9CUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEgsU0FBU29SLEVBQVc3USxNQUFRLE1BSXpDNlEsRUFBVzlRLEdBQUcsYUFBYyxLQUNwQkwsSUFDQUEsRUFBU08sVUFDVFAsRUFBVyxRQUluQm1SLEVBQVc5USxHQUFHLGNBQWUsS0FDekIsTUFBTStRLEVBQW1CelYsS0FBSzZFLE1BQU02USxTQUFTalUsS0FBS2tQLGNBQ2xEM1EsS0FBSzZFLE1BQU1tSCxLQUFLeUosR0FDaEJ6VixLQUFLNkUsTUFBTW9ILE1BQU13SixLQUlyQixNQUFNUyxFQUFVbFcsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGlCQUNwQ1MsVUFBVSxJQUNWUSxTQUFTLElBQ1RDLGVBQWUsQ0FBRUMsZUFBZSxJQUVyQ3lSLEVBQVF4UixHQUFHLGNBQWUsS0FDakJMLElBQ0RBLEVBQVdyRSxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssc0JBQy9CUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEgsU0FBUzhSLEVBQVF2UixNQUFRLE1BSXRDdVIsRUFBUXhSLEdBQUcsYUFBYyxLQUNqQkwsSUFDQUEsRUFBU08sVUFDVFAsRUFBVyxRQUluQjZSLEVBQVF4UixHQUFHLGNBQWUsS0FFdEIsTUFBTXlSLEVBQVNuVyxLQUFLb1csS0FBS3ZSLE1BQU13UixLQUUvQixJQUFLLElBQUluSCxLQUFPaUgsRUFDQSxjQUFSakgsR0FDQWxQLEtBQUs2RSxNQUFNbUgsS0FBS2tELEdBR3hCbFAsS0FBSzZFLE1BQU1tSCxPQUNYaE0sS0FBSzZFLE1BQU1vSCxNQUFNLGNBR3pCLEVDM0tHLE1BQU1xSyxVQUFzQixRQUMvQixXQUFBdlcsR0FDSW1ELE1BQU0sZ0JBQ1YsQ0FFQSxPQUFBQyxHQUVJbkQsS0FBS29ELEtBQUtFLE1BQU0sY0FBZSxtQkFHL0J0RCxLQUFLb0QsS0FBS0UsTUFBTSxnQkFBaUIsZ0NBR2pDdEQsS0FBS29ELEtBQUtFLE1BQU0sZ0JBQWlCLHFCQUNqQ3RELEtBQUtvRCxLQUFLRSxNQUFNLHFCQUFzQiwwQkFHdEN0RCxLQUFLb0QsS0FBS0UsTUFBTSxlQUFnQiw0QkFDcEMsQ0FDQSxNQUFBQyxHQUVJLE1BQU1xUyxFQUFJNVYsS0FBS2lFLE1BQU1DLE1BQ2YyUixFQUFJN1YsS0FBS2lFLE1BQU1FLE9BRXJCbkUsS0FBSzZFLE1BQU0wUixhQUNYLElBQUlsUyxFQUFXLEtBR2ZyRSxLQUFLOFYsV0FBYTlWLEtBQUs4RCxJQUFJc0osVUFBVSxFQUFHLEVBQUd3SSxFQUFHQyxFQUFHLE9BQVUsSUFBSzlSLFVBQVUsR0FHMUUvRCxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZUFDcEJTLFVBQVUsSUFDVlEsU0FBUyxHQUdkdkUsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGlCQUNwQlMsVUFBVSxJQUNWUSxTQUFTLElBR2QsTUFBTXdSLEVBQVUvVixLQUFLOEQsSUFBSVIsTUFBTSxLQUFNLElBQUssaUJBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEMsZUFBZSxDQUFFQyxlQUFlLElBRXJDc1IsRUFBUXJSLEdBQUcsY0FBZSxLQUNqQkwsSUFDREEsRUFBV3JFLEtBQUs4RCxJQUFJUixNQUFNLEtBQU0sSUFBSyxzQkFDaENTLFVBQVUsSUFDVlEsU0FBUyxJQUNUSCxTQUFTMlIsRUFBUXBSLE1BQVEsTUFJdENvUixFQUFRclIsR0FBRyxhQUFjLEtBQ2pCTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBS25CMFIsRUFBUXJSLEdBQUcsY0FBZSxLQUN0QixNQUFNc1IsRUFBV2hXLEtBQUs2RSxNQUFNNlEsU0FBU2pVLEtBQUtrUCxjQUN0Q3FGLEdBQ0FoVyxLQUFLNkUsTUFBTTRILE9BQU91SixHQUV0QmhXLEtBQUs2RSxNQUFNbUgsUUFNbkIsRUMxRUcsTUFBTXdLLFVBQXFCLFFBQzlCLFdBQUF6VyxHQUNJbUQsTUFBTSxlQUNWLENBRUEsT0FBQUMsR0FFSW5ELEtBQUtvRCxLQUFLRSxNQUFNLGFBQWMsbUJBRzlCdEQsS0FBS29ELEtBQUtFLE1BQU0sZ0JBQWlCLHFCQUNqQ3RELEtBQUtvRCxLQUFLRSxNQUFNLHFCQUFzQiwwQkFHdEN0RCxLQUFLb0QsS0FBS0UsTUFBTSxjQUFlLDZCQUcvQnRELEtBQUtvRCxLQUFLRSxNQUFNLGNBQWUscUJBRW5DLENBQ0EsTUFBQUMsR0FFSSxNQUFNcVMsRUFBSTVWLEtBQUtpRSxNQUFNQyxNQUNmMlIsRUFBSTdWLEtBQUtpRSxNQUFNRSxPQUVyQixJQUFJRSxFQUFXLEtBR2ZyRSxLQUFLOFYsV0FBYTlWLEtBQUs4RCxJQUFJc0osVUFBVSxFQUFHLEVBQUd3SSxFQUFHQyxFQUFHLE9BQVUsSUFBSzlSLFVBQVUsR0FHMUUvRCxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssY0FDcEJTLFVBQVUsSUFDVlEsU0FBUyxHQUdkLE1BQU13UixFQUFVL1YsS0FBSzhELElBQUlSLE1BQU0sS0FBTSxJQUFLLGlCQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLElBQ1RDLGVBQWUsQ0FBRUMsZUFBZSxJQUVyQ3NSLEVBQVFyUixHQUFHLGNBQWUsS0FDakJMLElBQ0RBLEVBQVdyRSxLQUFLOEQsSUFBSVIsTUFBTSxLQUFNLElBQUssc0JBQ2hDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEgsU0FBUzJSLEVBQVFwUixNQUFRLE1BSXRDb1IsRUFBUXJSLEdBQUcsYUFBYyxLQUNqQkwsSUFDQUEsRUFBU08sVUFDVFAsRUFBVyxRQUtuQjBSLEVBQVFyUixHQUFHLGNBQWUsS0FDdEIxRSxLQUFLNkUsTUFBTW1ILE9BQ1hoTSxLQUFLNkUsTUFBTTRILE9BQU96TSxLQUFLNkUsTUFBTTZRLFNBQVNqVSxLQUFLa1AsaUJBRy9DM1EsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3hCUyxVQUFVLElBQ1hRLFNBQVMsR0FFVHZFLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUN4QlMsVUFBVSxJQUNWUSxTQUFTLElBRWQsRUN2RUcsTUFBTWtTLFVBQXNCLFFBQy9CLFdBQUExVyxHQUNJbUQsTUFBTSxnQkFDVixDQUVBLE9BQUFDLEdBRUluRCxLQUFLb0QsS0FBS0UsTUFBTSxjQUFlLG1CQUcvQnRELEtBQUtvRCxLQUFLRSxNQUFNLG1CQUFvQixrQkFDcEN0RCxLQUFLb0QsS0FBS0UsTUFBTSx3QkFBeUIsdUJBQ3pDdEQsS0FBS29ELEtBQUtFLE1BQU0sb0JBQXFCLG9CQUNyQ3RELEtBQUtvRCxLQUFLRSxNQUFNLHlCQUEwQix5QkFHMUN0RCxLQUFLb0QsS0FBS0UsTUFBTSxlQUFnQiwyQkFDaEN0RCxLQUFLb0QsS0FBS0UsTUFBTSxjQUFlLDBCQUcvQnRELEtBQUtvRCxLQUFLRSxNQUFNLGdCQUFpQixxQkFDakN0RCxLQUFLb0QsS0FBS0UsTUFBTSxxQkFBc0IsMEJBR3RDdEQsS0FBS29ELEtBQUtFLE1BQU0sZUFBZ0IsMkJBQ3BDLENBQ0EsTUFBQUMsR0FFSSxNQUFNcVMsRUFBSTVWLEtBQUtpRSxNQUFNQyxNQUNmMlIsRUFBSTdWLEtBQUtpRSxNQUFNRSxPQUdyQixJQUdJdVMsRUFBWUMsRUFBWUMsRUFBWUMsRUFBWUMsRUFIaERsVCxFQUE2QixJQUFwQjVELEtBQUt3RCxNQUFNSSxPQUVwQlMsRUFBVyxLQUlmckUsS0FBSzhWLFdBQWE5VixLQUFLOEQsSUFBSXNKLFVBQVUsRUFBRyxFQUFHd0ksRUFBR0MsRUFBRyxPQUFVLElBQUs5UixVQUFVLEdBRzFFL0QsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3BCUyxVQUFVLElBQ1ZRLFNBQVMsR0FHZHZFLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxnQkFDcEJTLFVBQVUsSUFDVlEsU0FBUyxHQUdkdkUsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGdCQUNwQlMsVUFBVSxJQUNWUSxTQUFTLEdBQ2R2RSxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZ0JBQ3BCUyxVQUFVLElBQ1ZRLFNBQVMsR0FDZHZFLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxnQkFDcEJTLFVBQVUsSUFDVlEsU0FBUyxHQUNkdkUsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGdCQUNwQlMsVUFBVSxJQUNWUSxTQUFTLEdBQ2R2RSxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZ0JBQ3BCUyxVQUFVLElBQ1ZRLFNBQVMsR0FHZG1TLEVBQWExVyxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZUFDakNTLFVBQVUsSUFDVlEsU0FBUyxHQUNkb1MsRUFBYTNXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNqQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ2RxUyxFQUFhNVcsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ2pDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDZHNTLEVBQWE3VyxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZUFDakNTLFVBQVUsSUFDVlEsU0FBUyxHQUNkdVMsRUFBYTlXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNqQ1MsVUFBVSxJQUNWUSxTQUFTLEdBR2RtUyxFQUFXOVIsVUFDWCtSLEVBQVcvUixVQUNYZ1MsRUFBV2hTLFVBQ1hpUyxFQUFXalMsVUFDWGtTLEVBQVdsUyxVQUNFLEdBQVZoQixHQUE2QixNQUFkOFMsRUFDZEEsRUFBVzlSLFVBQ05oQixHQUFVLEdBQ2Y4UyxFQUFhMVcsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDTFgsR0FBVSxJQUNmOFMsRUFBYTFXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1ZvUyxFQUFhM1csS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDTFgsR0FBVSxJQUNmOFMsRUFBYTFXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1ZvUyxFQUFhM1csS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDVnFTLEVBQWE1VyxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZUFDckNTLFVBQVUsSUFDVlEsU0FBUyxJQUNMWCxHQUFVLElBQ2Y4UyxFQUFhMVcsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDVm9TLEVBQWEzVyxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZUFDckNTLFVBQVUsSUFDVlEsU0FBUyxHQUNWcVMsRUFBYTVXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1ZzUyxFQUFhN1csS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDSyxLQUFWWCxJQUNMOFMsRUFBYTFXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1ZvUyxFQUFhM1csS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDVnFTLEVBQWE1VyxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZUFDckNTLFVBQVUsSUFDVlEsU0FBUyxHQUNWc1MsRUFBYTdXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1Z1UyxFQUFhOVcsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsSUFJZCxNQUFNd1MsRUFBZ0IvVyxLQUFLOEQsSUFBSVIsTUFBTSxLQUFNLElBQUssb0JBQzNDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEMsZUFBZSxDQUFFQyxlQUFlLElBRXJDc1MsRUFBY3JTLEdBQUcsY0FBZSxLQUN2QkwsSUFDREEsRUFBV3JFLEtBQUs4RCxJQUFJUixNQUFNLEtBQU0sSUFBSyx5QkFDaENTLFVBQVUsSUFDVlEsU0FBUyxJQUNUSCxTQUFTMlMsRUFBY3BTLE1BQVEsTUFJNUNvUyxFQUFjclMsR0FBRyxhQUFjLEtBQ3ZCTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBSW5CMFMsRUFBY3JTLEdBQUcsY0FBZSxLQUM1QmQsR0FBVSxHQUNQQSxFQUFTLElBQUtBLEVBQVMsSUFDbEJBLEVBQVMsSUFBR0EsRUFBUyxHQUU3QjVELEtBQUt3RCxNQUFNd1QsVUFBVXBULEVBQVMsS0FFOUI4UyxFQUFXOVIsVUFDWCtSLEVBQVcvUixVQUNYZ1MsRUFBV2hTLFVBQ1hpUyxFQUFXalMsVUFDWGtTLEVBQVdsUyxVQUNFLEdBQVZoQixHQUE2QixNQUFkOFMsRUFDZEEsRUFBVzlSLFVBQ05oQixHQUFVLEdBQ2Y4UyxFQUFhMVcsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDTFgsR0FBVSxJQUNmOFMsRUFBYTFXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1ZvUyxFQUFhM1csS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDTFgsR0FBVSxJQUNmOFMsRUFBYTFXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1ZvUyxFQUFhM1csS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDVnFTLEVBQWE1VyxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZUFDckNTLFVBQVUsSUFDVlEsU0FBUyxJQUNMWCxHQUFVLElBQ2Y4UyxFQUFhMVcsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDVm9TLEVBQWEzVyxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZUFDckNTLFVBQVUsSUFDVlEsU0FBUyxHQUNWcVMsRUFBYTVXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1ZzUyxFQUFhN1csS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDSyxLQUFWWCxJQUNMOFMsRUFBYTFXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1ZvUyxFQUFhM1csS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDVnFTLEVBQWE1VyxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZUFDckNTLFVBQVUsSUFDVlEsU0FBUyxHQUNWc1MsRUFBYTdXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1Z1UyxFQUFhOVcsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsTUFLbEIsTUFBTTBTLEVBQWlCalgsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLHFCQUMzQ1MsVUFBVSxJQUNWUSxTQUFTLElBQ1RDLGVBQWUsQ0FBRUMsZUFBZSxJQUVyQ3dTLEVBQWV2UyxHQUFHLGNBQWUsS0FDeEJMLElBQ0RBLEVBQVdyRSxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssMEJBQy9CUyxVQUFVLElBQ1ZRLFNBQVMsT0FJdEIwUyxFQUFldlMsR0FBRyxhQUFjLEtBQ3hCTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBSW5CNFMsRUFBZXZTLEdBQUcsY0FBZSxLQUM3QmQsR0FBVSxHQUNQQSxFQUFTLElBQUtBLEVBQVMsSUFDbEJBLEVBQVMsSUFBR0EsRUFBUyxHQUU3QjVELEtBQUt3RCxNQUFNd1QsVUFBVXBULEVBQVMsS0FFOUI4UyxFQUFXOVIsVUFDWCtSLEVBQVcvUixVQUNYZ1MsRUFBV2hTLFVBQ1hpUyxFQUFXalMsVUFDWGtTLEVBQVdsUyxVQUNFLEdBQVZoQixHQUE2QixNQUFkOFMsRUFDZEEsRUFBVzlSLFVBQ05oQixHQUFVLEdBQ2Y4UyxFQUFhMVcsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDTFgsR0FBVSxJQUNmOFMsRUFBYTFXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1ZvUyxFQUFhM1csS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDTFgsR0FBVSxJQUNmOFMsRUFBYTFXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1ZvUyxFQUFhM1csS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDVnFTLEVBQWE1VyxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZUFDckNTLFVBQVUsSUFDVlEsU0FBUyxJQUNMWCxHQUFVLElBQ2Y4UyxFQUFhMVcsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDVm9TLEVBQWEzVyxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZUFDckNTLFVBQVUsSUFDVlEsU0FBUyxHQUNWcVMsRUFBYTVXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1ZzUyxFQUFhN1csS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDSyxLQUFWWCxJQUNMOFMsRUFBYTFXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1ZvUyxFQUFhM1csS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDVnFTLEVBQWE1VyxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZUFDckNTLFVBQVUsSUFDVlEsU0FBUyxHQUNWc1MsRUFBYTdXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLEdBQ1Z1UyxFQUFhOVcsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsTUFLbEIsTUFBTXdSLEVBQVUvVixLQUFLOEQsSUFBSVIsTUFBTSxLQUFNLElBQUssaUJBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEMsZUFBZSxDQUFFQyxlQUFlLElBRXJDc1IsRUFBUXJSLEdBQUcsY0FBZSxLQUNqQkwsSUFDREEsRUFBV3JFLEtBQUs4RCxJQUFJUixNQUFNLEtBQU0sSUFBSyxzQkFDaENTLFVBQVUsSUFDVlEsU0FBUyxJQUNUSCxTQUFTMlIsRUFBUXBSLE1BQVEsTUFJdENvUixFQUFRclIsR0FBRyxhQUFjLEtBQ2pCTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBSW5CMFIsRUFBUXJSLEdBQUcsY0FBZSxLQUN0QixNQUFNc1IsRUFBV2hXLEtBQUs2RSxNQUFNNlEsU0FBU2pVLEtBQUtrUCxjQUN0Q3FGLEdBQ0FoVyxLQUFLNkUsTUFBTTRILE9BQU91SixHQUV0QmhXLEtBQUs2RSxNQUFNbUgsUUFHbkIsRUMvVkcsTUFBTWtMLFVBQXlCLFFBQ2xDLFdBQUFuWCxHQUNJbUQsTUFBTSxtQkFDVixDQUVBLE9BQUFDLEdBRUluRCxLQUFLb0QsS0FBS0UsTUFBTSxXQUFZLG1CQUc1QnRELEtBQUtvRCxLQUFLRSxNQUFNLGFBQWMsNEJBSTlCdEQsS0FBS29ELEtBQUtFLE1BQU0sZUFBZ0IscUJBQ2hDdEQsS0FBS29ELEtBQUtFLE1BQU0sb0JBQXFCLDBCQUdyQ3RELEtBQUtvRCxLQUFLRSxNQUFNLGVBQWdCLHFCQUNoQ3RELEtBQUtvRCxLQUFLRSxNQUFNLG9CQUFxQiwwQkFHckN0RCxLQUFLb0QsS0FBS0UsTUFBTSxnQkFBaUIscUJBQ2pDdEQsS0FBS29ELEtBQUtFLE1BQU0scUJBQXNCLHlCQUUxQyxDQUNBLE1BQUFDLEdBRUksTUFBTXFTLEVBQUk1VixLQUFLaUUsTUFBTUMsTUFDZjJSLEVBQUk3VixLQUFLaUUsTUFBTUUsT0FFckIsSUFBSUUsRUFBVyxLQUdmckUsS0FBSzhWLFdBQWE5VixLQUFLOEQsSUFBSXNKLFVBQVUsRUFBRyxFQUFHd0ksRUFBR0MsRUFBRyxPQUFVLElBQUs5UixVQUFVLEdBRzFFL0QsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLFlBQ3BCUyxVQUFVLElBQ1ZRLFNBQVMsR0FHZHZFLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxjQUNwQlMsVUFBVSxJQUNWUSxTQUFTLEdBSWQsTUFBTTRTLEVBQVluWCxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZ0JBQ3RDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDVEMsZUFBZSxDQUFFQyxlQUFlLElBRXJDMFMsRUFBVXpTLEdBQUcsY0FBZSxLQUNuQkwsSUFDREEsRUFBV3JFLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxxQkFDL0JTLFVBQVUsSUFDVlEsU0FBUyxHQUNUSCxTQUFTK1MsRUFBVXhTLE1BQVEsTUFJeEN3UyxFQUFVelMsR0FBRyxhQUFjLEtBQ25CTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBS25COFMsRUFBVXpTLEdBQUcsY0FBZSxLQUN4QjFFLEtBQUs2RSxNQUFNbUgsS0FBSyxhQUNoQmhNLEtBQUs2RSxNQUFNbUgsT0FDWGhNLEtBQUs2RSxNQUFNb0gsTUFBTSxvQkFJckIsTUFBTW1MLEVBQVlwWCxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZ0JBQ3RDUyxVQUFVLElBQ1ZRLFNBQVMsR0FDVEMsZUFBZSxDQUFFQyxlQUFlLElBRXJDMlMsRUFBVTFTLEdBQUcsY0FBZSxLQUNuQkwsSUFDREEsRUFBV3JFLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxxQkFDL0JTLFVBQVUsSUFDVlEsU0FBUyxNQUNUSCxTQUFTZ1QsRUFBVXpTLE1BQVEsTUFJeEN5UyxFQUFVMVMsR0FBRyxhQUFjLEtBQ25CTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBS25CK1MsRUFBVTFTLEdBQUcsY0FBZSxLQUN4QjFFLEtBQUs2RSxNQUFNbUgsS0FBSyxhQUNoQmhNLEtBQUs2RSxNQUFNbUgsT0FDWGhNLEtBQUs2RSxNQUFNb0gsTUFBTSxzQkFJckIsTUFBTThKLEVBQVUvVixLQUFLOEQsSUFBSVIsTUFBTSxLQUFNLElBQUssaUJBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEMsZUFBZSxDQUFFQyxlQUFlLElBRXJDc1IsRUFBUXJSLEdBQUcsY0FBZSxLQUNqQkwsSUFDREEsRUFBV3JFLEtBQUs4RCxJQUFJUixNQUFNLEtBQU0sSUFBSyxzQkFDaENTLFVBQVUsSUFDVlEsU0FBUyxJQUNUSCxTQUFTMlIsRUFBUXBSLE1BQVEsTUFJdENvUixFQUFRclIsR0FBRyxhQUFjLEtBQ2pCTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBS25CMFIsRUFBUXJSLEdBQUcsY0FBZSxLQUN0QixNQUFNc1IsRUFBV2hXLEtBQUs2RSxNQUFNNlEsU0FBU2pVLEtBQUtrUCxjQUN0Q3FGLEdBQ0FoVyxLQUFLNkUsTUFBTTRILE9BQU91SixHQUV0QmhXLEtBQUs2RSxNQUFNbUgsUUFHbkIsRUN4SUcsTUFBTXFMLFVBQXlCLFFBQ2xDLFdBQUF0WCxHQUNJbUQsTUFBTSxtQkFDVixDQUVBLE9BQUFDLEdBRUluRCxLQUFLb0QsS0FBS0UsTUFBTSxjQUFlLG1CQUcvQnRELEtBQUtvRCxLQUFLRSxNQUFNLGFBQWMsb0JBQzlCdEQsS0FBS29ELEtBQUtFLE1BQU0sa0JBQW1CLHdCQUV2QyxDQUNBLE1BQUFDLEdBRUksTUFBTXFTLEVBQUk1VixLQUFLaUUsTUFBTUMsTUFDZjJSLEVBQUk3VixLQUFLaUUsTUFBTUUsT0FFckIsSUFBSUUsRUFBVyxLQUdmckUsS0FBSzhWLFdBQWE5VixLQUFLOEQsSUFBSXNKLFVBQVUsRUFBRyxFQUFHd0ksRUFBR0MsRUFBRyxPQUFVLElBQUs5UixVQUFVLEdBRzFFL0QsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3BCUyxVQUFVLElBQ1ZRLFNBQVMsR0FHZCxNQUFNVyxFQUFVbEYsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGNBQ3BDUyxVQUFVLElBQ1ZRLFNBQVMsS0FDVEMsZUFBZSxDQUFFQyxlQUFlLElBRXJDUyxFQUFRUixHQUFHLGNBQWUsS0FDakJMLElBQ0RBLEVBQVdyRSxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssbUJBQy9CUyxVQUFVLElBQ1ZRLFNBQVMsS0FDVEgsU0FBU2MsRUFBUVAsTUFBUSxNQUl0Q08sRUFBUVIsR0FBRyxhQUFjLEtBQ2pCTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBSW5CYSxFQUFRUixHQUFHLGNBQWUsS0FFdEIxRSxLQUFLNkUsTUFBTW9ILE1BQU0sZUFHckJqTSxLQUFLOEQsSUFBSTJCLEtBQUssSUFBSyxJQUFLLG9CQUFvQixDQUN4Q0MsU0FBVSxPQUFRNlAsS0FBTSxjQUFjeFIsVUFBVSxHQUd4RCxFQzVERyxNQUFNdVQsVUFBcUIsUUFDOUIsV0FBQXZYLEdBQ0ltRCxNQUFNLGVBQ1YsQ0FDQSxPQUFBQyxHQUVJbkQsS0FBS29ELEtBQUtFLE1BQU0sYUFBYyxtQkFHOUJ0RCxLQUFLb0QsS0FBS0UsTUFBTSxjQUFlLDZCQUcvQnRELEtBQUtvRCxLQUFLRSxNQUFNLGtCQUFtQiw2QkFDbkN0RCxLQUFLb0QsS0FBS0UsTUFBTSx1QkFBd0Isa0NBR3hDdEQsS0FBS29ELEtBQUtFLE1BQU0sZ0JBQWlCLHdCQUNqQ3RELEtBQUtvRCxLQUFLRSxNQUFNLHFCQUFzQiw2QkFHdEN0RCxLQUFLb0QsS0FBS0UsTUFBTSxnQkFBaUIsbUJBQ2pDdEQsS0FBS29ELEtBQUtFLE1BQU0scUJBQXNCLHVCQUUxQyxDQUNBLE1BQUFDLEdBRUksTUFBTXFTLEVBQUk1VixLQUFLaUUsTUFBTUMsTUFDZjJSLEVBQUk3VixLQUFLaUUsTUFBTUUsT0FFckIsSUFBSUUsRUFBVyxLQUdmckUsS0FBSzhWLFdBQWE5VixLQUFLOEQsSUFBSXNKLFVBQVUsRUFBRyxFQUFHd0ksRUFBR0MsRUFBRyxPQUFVLElBQUs5UixVQUFVLEdBRzFFL0QsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGNBQ3BCUyxVQUFVLElBQ1ZRLFNBQVMsR0FHZHZFLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxlQUNwQlMsVUFBVSxJQUNWUSxTQUFTLEdBR2QsTUFBTWdULEVBQWV2WCxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssbUJBQ3pDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEMsZUFBZSxDQUFFQyxlQUFlLElBRXJDOFMsRUFBYTdTLEdBQUcsY0FBZSxLQUN0QkwsSUFDREEsRUFBV3JFLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyx3QkFDL0JTLFVBQVUsSUFDVlEsU0FBUyxJQUNUSCxTQUFTbVQsRUFBYTVTLE1BQVEsTUFJM0M0UyxFQUFhN1MsR0FBRyxhQUFjLEtBQ3RCTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBS25Ca1QsRUFBYTdTLEdBQUcsY0FBZSxLQUMzQixNQUFNK1EsRUFBbUJ6VixLQUFLNkUsTUFBTTZRLFNBQVNqVSxLQUFLa1AsY0FDbEQxTyxRQUFRbUYsSUFBSSxnQ0FBaUNxTyxHQUM3Q3pWLEtBQUs2RSxNQUFNbUgsS0FBS3lKLEdBQ2hCelYsS0FBSzZFLE1BQU1tSCxPQUNYaE0sS0FBSzZFLE1BQU1vSCxNQUFNLGlCQUlyQixNQUFNdUosRUFBYXhWLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxpQkFDdkNTLFVBQVUsSUFDVlEsU0FBUyxJQUNUQyxlQUFlLENBQUVDLGVBQWUsSUFFckMrUSxFQUFXOVEsR0FBRyxjQUFlLEtBQ3BCTCxJQUNEQSxFQUFXckUsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLHNCQUMvQlMsVUFBVSxJQUNWUSxTQUFTLElBQ1RILFNBQVNvUixFQUFXN1EsTUFBUSxNQUl6QzZRLEVBQVc5USxHQUFHLGFBQWMsS0FDcEJMLElBQ0FBLEVBQVNPLFVBQ1RQLEVBQVcsUUFJbkJtUixFQUFXOVEsR0FBRyxjQUFlLEtBQ3pCLE1BQU0rUSxFQUFtQnpWLEtBQUs2RSxNQUFNNlEsU0FBU2pVLEtBQUtrUCxjQUNsRDNRLEtBQUs2RSxNQUFNbUgsS0FBS3lKLEdBQ2hCelYsS0FBSzZFLE1BQU1vSCxNQUFNd0osS0FJckIsTUFBTVMsRUFBVWxXLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxpQkFDcENTLFVBQVUsSUFDVlEsU0FBUyxJQUNUQyxlQUFlLENBQUVDLGVBQWUsSUFFckN5UixFQUFReFIsR0FBRyxjQUFlLEtBQ2pCTCxJQUNEQSxFQUFXckUsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLHNCQUMvQlMsVUFBVSxJQUNWUSxTQUFTLElBQ1RILFNBQVM4UixFQUFRdlIsTUFBUSxNQUl0Q3VSLEVBQVF4UixHQUFHLGFBQWMsS0FDakJMLElBQ0FBLEVBQVNPLFVBQ1RQLEVBQVcsUUFJbkI2UixFQUFReFIsR0FBRyxjQUFlLEtBRXRCLE1BQU15UixFQUFTblcsS0FBS29XLEtBQUt2UixNQUFNd1IsS0FFL0IsSUFBSyxJQUFJbkgsS0FBT2lILEVBQ0EsY0FBUmpILEdBQ0FsUCxLQUFLNkUsTUFBTW1ILEtBQUtrRCxHQUd4QmxQLEtBQUs2RSxNQUFNbUgsT0FDWGhNLEtBQUs2RSxNQUFNb0gsTUFBTSxjQUd6QixFQzFJRyxNQUFNdUwsVUFBc0IsUUFDL0IsV0FBQXpYLEdBQ0ltRCxNQUFNLGdCQUNWLENBRUEsT0FBQUMsR0FFSW5ELEtBQUtvRCxLQUFLRSxNQUFNLGFBQWMsbUJBRzlCdEQsS0FBS29ELEtBQUtFLE1BQU0sZUFBZ0IsNEJBSWhDdEQsS0FBS29ELEtBQUtFLE1BQU0sZ0JBQWlCLHdCQUNqQ3RELEtBQUtvRCxLQUFLRSxNQUFNLHFCQUFzQiw2QkFHdEN0RCxLQUFLb0QsS0FBS0UsTUFBTSxnQkFBaUIsbUJBQ2pDdEQsS0FBS29ELEtBQUtFLE1BQU0scUJBQXNCLHVCQUUxQyxDQUNBLE1BQUFDLEdBRUksTUFBTXFTLEVBQUk1VixLQUFLaUUsTUFBTUMsTUFDZjJSLEVBQUk3VixLQUFLaUUsTUFBTUUsT0FFckIsSUFBSUUsRUFBVyxLQUdmckUsS0FBSzhWLFdBQWE5VixLQUFLOEQsSUFBSXNKLFVBQVUsRUFBRyxFQUFHd0ksRUFBR0MsRUFBRyxPQUFVLElBQUs5UixVQUFVLEdBRzFFL0QsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGNBQ3BCUyxVQUFVLElBQ1ZRLFNBQVMsR0FHZHZFLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxnQkFDcEJTLFVBQVUsSUFDVlEsU0FBUyxHQUlkLE1BQU1pUixFQUFheFYsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGlCQUN2Q1MsVUFBVSxJQUNWUSxTQUFTLElBQ1RDLGVBQWUsQ0FBRUMsZUFBZSxJQUVyQytRLEVBQVc5USxHQUFHLGNBQWUsS0FDcEJMLElBQ0RBLEVBQVdyRSxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssc0JBQy9CUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEgsU0FBU29SLEVBQVc3USxNQUFRLE1BSXpDNlEsRUFBVzlRLEdBQUcsYUFBYyxLQUNwQkwsSUFDQUEsRUFBU08sVUFDVFAsRUFBVyxRQUluQm1SLEVBQVc5USxHQUFHLGNBQWUsS0FDekIsTUFBTStRLEVBQW1CelYsS0FBSzZFLE1BQU02USxTQUFTalUsS0FBS2tQLGNBQ2xEM1EsS0FBSzZFLE1BQU1tSCxLQUFLeUosR0FDaEJ6VixLQUFLNkUsTUFBTW1ILE9BQ1hoTSxLQUFLNkUsTUFBTW9ILE1BQU13SixLQUlyQixNQUFNUyxFQUFVbFcsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGlCQUNwQ1MsVUFBVSxJQUNWUSxTQUFTLElBQ1RDLGVBQWUsQ0FBRUMsZUFBZSxJQUVyQ3lSLEVBQVF4UixHQUFHLGNBQWUsS0FDakJMLElBQ0RBLEVBQVdyRSxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssc0JBQy9CUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEgsU0FBUzhSLEVBQVF2UixNQUFRLE1BSXRDdVIsRUFBUXhSLEdBQUcsYUFBYyxLQUNqQkwsSUFDQUEsRUFBU08sVUFDVFAsRUFBVyxRQUluQjZSLEVBQVF4UixHQUFHLGNBQWUsS0FFdEIsTUFBTXlSLEVBQVNuVyxLQUFLb1csS0FBS3ZSLE1BQU13UixLQUUvQixJQUFLLElBQUluSCxLQUFPaUgsRUFDQSxjQUFSakgsR0FDQWxQLEtBQUs2RSxNQUFNbUgsS0FBS2tELEdBR3hCbFAsS0FBSzZFLE1BQU1tSCxPQUNYaE0sS0FBSzZFLE1BQU1vSCxNQUFNLGNBRXpCLEVDMUdHLE1BQU13TCxVQUFvQixRQUM3QixXQUFBMVgsR0FDSW1ELE1BQU0sY0FDVixDQUVBLElBQUEwRyxHQUNJNUosS0FBSzZKLFVBQVcsRUFDaEI3SixLQUFLOEosWUFBYSxFQUVsQjlKLEtBQUsrSixvQkFBc0IsRUFDM0IvSixLQUFLZ0sscUJBQXVCLEVBQzVCaEssS0FBS2lLLGVBQWdCLEVBQ3JCakssS0FBS2tLLGlCQUFrQixFQUV2QmxLLEtBQUttSyxlQUFpQixLQUN0Qm5LLEtBQUtvSyxpQkFBbUIsSUFDNUIsQ0FFQSxPQUFBakgsR0FFSW5ELEtBQUtvRCxLQUFLOEksTUFBTSxRQUFTLCtCQUFnQyxpQ0FDekRsTSxLQUFLb0QsS0FBSzhJLE1BQU0sVUFBVyxtQ0FBb0MscUNBRy9EbE0sS0FBS29ELEtBQUsrSSxZQUFZLGdCQUFpQiwyQkFBNEIsQ0FBRUMsV0FBWSxJQUFLQyxZQUFhLE1BQ25Hck0sS0FBS29ELEtBQUsrSSxZQUFZLGlCQUFrQiw0QkFBNkIsQ0FBRUMsV0FBWSxJQUFLQyxZQUFhLE1BRXJHck0sS0FBS29ELEtBQUsrSSxZQUFZLFlBQWEsdUJBQXdCLENBQUVDLFdBQVksSUFBS0MsWUFBYSxNQUMzRnJNLEtBQUtvRCxLQUFLK0ksWUFBWSxhQUFjLHdCQUF5QixDQUFFQyxXQUFZLElBQUtDLFlBQWEsTUFHN0ZyTSxLQUFLb0QsS0FBS0UsTUFBTSxTQUFVLDRDQUMxQnRELEtBQUtvRCxLQUFLRSxNQUFNLGVBQWdCLGtEQUdoQ3RELEtBQUtvRCxLQUFLRSxNQUFNLG9CQUFxQixrREFFckN0RCxLQUFLb0QsS0FBS0UsTUFBTSxxQkFBc0IsNkNBQ3RDdEQsS0FBS29ELEtBQUtFLE1BQU0scUJBQXNCLDZDQUN0Q3RELEtBQUtvRCxLQUFLRSxNQUFNLHFCQUFzQiw2Q0FDdEN0RCxLQUFLb0QsS0FBS0UsTUFBTSxzQkFBdUIsOENBQ3ZDdEQsS0FBS29ELEtBQUtFLE1BQU0sc0JBQXVCLDhDQUV2Q3RELEtBQUtvRCxLQUFLRSxNQUFNLGNBQWUscUNBQy9CdEQsS0FBS29ELEtBQUtFLE1BQU0sbUJBQW9CLDJDQUNwQ3RELEtBQUtvRCxLQUFLRSxNQUFNLHFCQUFzQiw2Q0FDdEN0RCxLQUFLb0QsS0FBS0UsTUFBTSxxQkFBc0IsNkNBRXRDdEQsS0FBS29ELEtBQUtFLE1BQU0sVUFBVyxzQ0FHM0J0RCxLQUFLb0QsS0FBS0UsTUFBTSxjQUFlLG9CQUMvQnRELEtBQUtvRCxLQUFLRSxNQUFNLG1CQUFvQix5QkFFcEN0RCxLQUFLb0QsS0FBS0UsTUFBTSxpQkFBa0Isc0JBQ2xDdEQsS0FBS29ELEtBQUtFLE1BQU0sc0JBQXVCLDJCQUd2Q3RELEtBQUtvRCxLQUFLRSxNQUFNLGdCQUFpQix3QkFDakN0RCxLQUFLb0QsS0FBS0UsTUFBTSxxQkFBc0IsNkJBR3RDdEQsS0FBS29ELEtBQUtFLE1BQU0sVUFBVyw4QkFHM0J0RCxLQUFLb0QsS0FBS0MsTUFBTSxZQUFhLDZCQUM3QnJELEtBQUtvRCxLQUFLQyxNQUFNLHlCQUEwQixrQ0FDMUNyRCxLQUFLb0QsS0FBS0MsTUFBTSwwQkFBMkIsbUNBRzNDckQsS0FBS29ELEtBQUtDLE1BQU0sWUFBYSwwQkFDakMsQ0FFQSxNQUFBRSxHQUNJLE1BQU1vSixFQUFtQixLQUNuQkMsRUFBb0IsSUFFMUIsSUFBSXZJLEVBQVcsS0FHZnJFLEtBQUt3RCxNQUFNQyxVQUFVLGFBR2pCekQsS0FBSzZNLE1BQU14SixNQUFNeUosT0FBTyxjQUN4QjlNLEtBQUt3RCxNQUFNRSxLQUFLLFlBQWEsQ0FBRUMsTUFBTSxFQUFNQyxPQUFRLEtBTzVDNUQsS0FBS3dNLFFBQVExSSxJQUFJaUosYUFBYSxFQUFHLEVBQUcsVUFBVWhKLFVBQVUsRUFBRyxHQUNuRUMsZUFBZTJJLEVBQWtCQyxHQUVqQjVNLEtBQUt3TSxRQUFRMUksSUFBSWlKLGFBQWEsRUFBRyxFQUFHLGdCQUFnQmhKLFVBQVUsRUFBRyxHQUN6RUMsZUFBZTJJLEVBQWtCQyxHQUc1QzVNLEtBQUt3TSxRQUFRUSxNQUFNQyxRQUFRcEUsRUFBSSxLQUcvQjdJLEtBQUtrTixlQUlMbE4sS0FBS21OLE9BQVNuTixLQUFLOEQsSUFBSXNKLFVBQVUsRUFBR1IsRUFBbUJELEVBQWtCLEdBQUksTUFBVSxHQUFHNUksVUFBVSxFQUFHLEdBQ3ZHL0QsS0FBS3dNLFFBQVExSSxJQUFJdUosU0FBU3JOLEtBQUttTixRQUFRLEdBR3ZDbk4sS0FBS3NOLFlBQWN0TixLQUFLOEQsSUFBSXNKLFVBQVUsSUFBSyxJQUFLLElBQUssR0FBSSxRQUFVLEdBQUdySixVQUFVLEdBQUssSUFDckYvRCxLQUFLd00sUUFBUTFJLElBQUl1SixTQUFTck4sS0FBS3NOLGFBQWEsR0FFNUN0TixLQUFLdU4sWUFBY3ZOLEtBQUs4RCxJQUFJc0osVUFBVSxJQUFLLElBQUssSUFBSyxHQUFJLFFBQVUsR0FBR3JKLFVBQVUsR0FBSyxJQUNyRi9ELEtBQUt3TSxRQUFRMUksSUFBSXVKLFNBQVNyTixLQUFLdU4sYUFBYSxHQUU1Q3ZOLEtBQUt3TixZQUFjeE4sS0FBSzhELElBQUlzSixVQUFVLEtBQU0sSUFBSyxJQUFLLEdBQUksUUFBVSxHQUFHckosVUFBVSxHQUFLLElBQ3RGL0QsS0FBS3dNLFFBQVExSSxJQUFJdUosU0FBU3JOLEtBQUt3TixhQUFhLEdBRTVDeE4sS0FBS3lOLFlBQWN6TixLQUFLOEQsSUFBSXNKLFVBQVUsSUFBSyxJQUFLLElBQUssR0FBSSxRQUFVLEdBQUdySixVQUFVLEdBQUssSUFDckYvRCxLQUFLd00sUUFBUTFJLElBQUl1SixTQUFTck4sS0FBS3lOLGFBQWEsR0FFNUN6TixLQUFLME4sWUFBYzFOLEtBQUs4RCxJQUFJc0osVUFBVSxJQUFLLElBQUssSUFBSyxHQUFJLFFBQVUsR0FBR3JKLFVBQVUsR0FBSyxJQUNyRi9ELEtBQUt3TSxRQUFRMUksSUFBSXVKLFNBQVNyTixLQUFLME4sYUFBYSxHQUc1QzFOLEtBQUsyTixPQUFTM04sS0FBSzhELElBQUlzSixVQUFVLElBQUssSUFBSyxHQUFJLElBQUssUUFBVSxHQUFHckosVUFBVSxHQUFLLElBQ2hGL0QsS0FBS3dNLFFBQVExSSxJQUFJdUosU0FBU3JOLEtBQUsyTixRQUFRLEdBSXZDM04sS0FBSzBYLGFBQWUxWCxLQUFLd00sUUFBUTFJLElBQUlpSixhQUFhSixJQUFzQkMsSUFBdUIsV0FBV3JJLFNBQVMsS0FDbkh2RSxLQUFLMFgsYUFBYTVKLFlBQVcsR0FFN0I5TixLQUFLNk4sV0FBYTdOLEtBQUs4RCxJQUFJc0osVUFBVSxJQUFLLElBQUssSUFBSyxLQUFLN0ksU0FBUyxLQUNsRXZFLEtBQUs2TixXQUFXQyxZQUFXLEdBQzNCOU4sS0FBS3dNLFFBQVExSSxJQUFJdUosU0FBU3JOLEtBQUs2TixZQUFZLEdBQzNDN04sS0FBSzZOLFdBQVd4TSxLQUFLME0sUUFBUyxFQUc5Qi9OLEtBQUtnTyxVQUFZaE8sS0FBS3dNLFFBQVExSSxJQUFJaUosYUFBYUosSUFBc0JDLElBQXVCLHVCQUF1QnJJLFNBQVMsS0FDNUh2RSxLQUFLMlgsVUFBWTNYLEtBQUt3TSxRQUFRMUksSUFBSWlKLGFBQWFKLElBQXNCQyxJQUF1Qix1QkFBdUJySSxTQUFTLEtBRTVIdkUsS0FBS2lPLFdBQWFqTyxLQUFLd00sUUFBUTFJLElBQUlpSixhQUFhSixJQUFzQkMsSUFBdUIsc0JBQXNCckksU0FBUyxLQUM1SHZFLEtBQUs0WCxXQUFhNVgsS0FBS3dNLFFBQVExSSxJQUFJaUosYUFBYUosSUFBc0JDLElBQXVCLHNCQUFzQnJJLFNBQVMsS0FDNUh2RSxLQUFLNlgsV0FBYTdYLEtBQUt3TSxRQUFRMUksSUFBSWlKLGFBQWFKLElBQXNCQyxJQUF1QixzQkFBc0JySSxTQUFTLEtBRzVIdkUsS0FBS2tPLGdCQUFrQmxPLEtBQUs4RCxJQUFJc0osVUFBVSxJQUFLLElBQUssR0FBSSxJQUFLLFFBQVUsR0FBR3JKLFVBQVUsR0FBSyxJQUN6Ri9ELEtBQUt3TSxRQUFRMUksSUFBSXVKLFNBQVNyTixLQUFLa08saUJBQWlCLEdBQ2hEbE8sS0FBSzhYLGdCQUFrQjlYLEtBQUs4RCxJQUFJc0osVUFBVSxJQUFLLElBQUssSUFBSyxHQUFJLFFBQVUsR0FBR3JKLFVBQVUsR0FBSyxJQUN6Ri9ELEtBQUt3TSxRQUFRMUksSUFBSXVKLFNBQVNyTixLQUFLOFgsaUJBQWlCLEdBRWhEOVgsS0FBS21PLGlCQUFtQm5PLEtBQUs4RCxJQUFJc0osVUFBVSxJQUFLLElBQUssR0FBSSxJQUFLLFFBQVUsR0FBR3JKLFVBQVUsR0FBSyxJQUMxRi9ELEtBQUt3TSxRQUFRMUksSUFBSXVKLFNBQVNyTixLQUFLbU8sa0JBQWtCLEdBQ2pEbk8sS0FBSytYLGlCQUFtQi9YLEtBQUs4RCxJQUFJc0osVUFBVSxJQUFLLElBQUssR0FBSSxJQUFLLFFBQVUsR0FBR3JKLFVBQVUsR0FBSyxJQUMxRi9ELEtBQUt3TSxRQUFRMUksSUFBSXVKLFNBQVNyTixLQUFLK1gsa0JBQWtCLEdBQ2pEL1gsS0FBS2dZLGlCQUFtQmhZLEtBQUs4RCxJQUFJc0osVUFBVSxJQUFLLElBQUssSUFBSyxHQUFJLFFBQVUsR0FBR3JKLFVBQVUsR0FBSyxJQUMxRi9ELEtBQUt3TSxRQUFRMUksSUFBSXVKLFNBQVNyTixLQUFLZ1ksa0JBQy9CaFksS0FBS2dZLGlCQUFpQjNXLEtBQUs0VyxjQUFhLEdBQU1DLGlCQUFnQixHQUM5RGxZLEtBQUtnWSxpQkFBaUJHLFNBQVMsS0FHL0JuWSxLQUFLb1ksTUFBUSxDQUNUcEssVUFBVyxDQUNQeUIsT0FBUXpQLEtBQUtnTyxVQUNicUssT0FBUXJZLEtBQUtrTyxpQkFFakJ5SixVQUFXLENBQ1BsSSxPQUFRelAsS0FBSzJYLFVBQ2JVLE9BQVFyWSxLQUFLOFgsaUJBRWpCN0osV0FBWSxDQUNSd0IsT0FBUXpQLEtBQUtpTyxXQUNib0ssT0FBUXJZLEtBQUttTyxrQkFFakJ5SixXQUFZLENBQ1JuSSxPQUFRelAsS0FBSzZYLFdBQ2JRLE9BQVFyWSxLQUFLK1gsa0JBRWpCRixXQUFZLENBQ1JwSSxPQUFRelAsS0FBSzRYLFdBQ2JTLE9BQVFyWSxLQUFLZ1ksbUJBS3JCaFksS0FBS3NZLFlBQWN0WSxLQUFLd00sUUFBUTFJLElBQUl5VSxjQUNwQ3ZZLEtBQUtvTyxPQUFTcE8sS0FBS3dNLFFBQVExSSxJQUFJaUosYUFBYUosSUFBc0JDLElBQXVCLFdBQVdySSxTQUFTLEtBRTdHdkUsS0FBS3dZLFFBQVV4WSxLQUFLOEQsSUFBSXNKLFVBQVUsS0FBTSxJQUFLLElBQUssSUFBSyxRQUFVLEdBQUdySixVQUFVLEdBQUssSUFDbkYvRCxLQUFLd00sUUFBUTFJLElBQUl1SixTQUFTck4sS0FBS3dZLFNBQVMsR0FFeEN4WSxLQUFLeVksUUFBVXpZLEtBQUs4RCxJQUFJc0osVUFBVSxJQUFLLElBQUssSUFBSyxHQUFJLFFBQVUsR0FBR3JKLFVBQVUsR0FBSyxJQUNqRi9ELEtBQUt3TSxRQUFRMUksSUFBSXVKLFNBQVNyTixLQUFLeVksU0FBUyxHQUV4Q3pZLEtBQUswWSxRQUFVMVksS0FBSzhELElBQUlzSixVQUFVLElBQUssSUFBSyxHQUFJLEdBQUksUUFBVSxHQUFHckosVUFBVSxHQUFLLElBQ2hGL0QsS0FBS3dNLFFBQVExSSxJQUFJdUosU0FBU3JOLEtBQUswWSxTQUFTLEdBRXhDMVksS0FBSzJZLFFBQVUzWSxLQUFLOEQsSUFBSXNKLFVBQVUsSUFBSyxJQUFLLEdBQUksR0FBSSxRQUFVLEdBQUdySixVQUFVLEdBQUssSUFDaEYvRCxLQUFLd00sUUFBUTFJLElBQUl1SixTQUFTck4sS0FBSzJZLFNBQVMsR0FFeEMzWSxLQUFLc1ksWUFBWXhVLElBQUk5RCxLQUFLd1ksU0FDMUJ4WSxLQUFLc1ksWUFBWXhVLElBQUk5RCxLQUFLeVksU0FDMUJ6WSxLQUFLc1ksWUFBWXhVLElBQUk5RCxLQUFLMFksU0FDMUIxWSxLQUFLc1ksWUFBWXhVLElBQUk5RCxLQUFLMlksU0FHMUIzWSxLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3VPLE1BQU92TyxLQUFLbU4sUUFDM0NuTixLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3dPLFFBQVN4TyxLQUFLbU4sUUFDN0NuTixLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3VPLE1BQU92TyxLQUFLc04sYUFDM0N0TixLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3dPLFFBQVN4TyxLQUFLc04sYUFDN0N0TixLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3VPLE1BQU92TyxLQUFLdU4sYUFDM0N2TixLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3dPLFFBQVN4TyxLQUFLdU4sYUFDN0N2TixLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3VPLE1BQU92TyxLQUFLd04sYUFDM0N4TixLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3dPLFFBQVN4TyxLQUFLd04sYUFDN0N4TixLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3VPLE1BQU92TyxLQUFLeU4sYUFDM0N6TixLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3dPLFFBQVN4TyxLQUFLeU4sYUFDN0N6TixLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3VPLE1BQU92TyxLQUFLME4sYUFDM0MxTixLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3dPLFFBQVN4TyxLQUFLME4sYUFDN0MxTixLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3VPLE1BQU92TyxLQUFLMk4sUUFDM0MzTixLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3dPLFFBQVN4TyxLQUFLMk4sUUFJN0MzTixLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3VPLE1BQU92TyxLQUFLbU8sa0JBQzNDbk8sS0FBS3dNLFFBQVExSSxJQUFJd0ssU0FBU3RPLEtBQUt1TyxNQUFPdk8sS0FBSytYLGtCQUMzQy9YLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUtnWSxrQkFJM0NoWSxLQUFLd00sUUFBUTFJLElBQUl3SyxTQUFTdE8sS0FBS3dPLFFBQVN4TyxLQUFLa08saUJBQzdDbE8sS0FBS3dNLFFBQVExSSxJQUFJd0ssU0FBU3RPLEtBQUt3TyxRQUFTeE8sS0FBSzhYLGlCQUU3QzlYLEtBQUt5TyxpQkFBaUIsU0FDdEJ6TyxLQUFLeU8saUJBQWlCLFdBR3RCek8sS0FBS3VPLE1BQU03SyxLQUFLLGNBQ2hCMUQsS0FBS3dPLFFBQVE5SyxLQUFLLGdCQUdsQjFELEtBQUswTyxTQUFXMU8sS0FBS3dNLFFBQVExSSxJQUFJNkssTUFBTSxDQUFDQyxjQUFjLEVBQU9DLFdBQVcsSUFDeEU3TyxLQUFLOE8sWUFBYzlPLEtBQUswTyxTQUFTbkwsT0FBTyxLQUFNLElBQUssa0JBQWtCd0wsWUFBWSxHQUFJLElBQUl4SyxTQUFTLElBQ2pHcVUsUUFBUSxVQUFXLGFBQ3BCNVksS0FBSzZZLGFBQWU3WSxLQUFLME8sU0FBU25MLE9BQU8sSUFBSyxJQUFLLGtCQUFrQndMLFlBQVksR0FBSSxJQUFJeEssU0FBUyxJQUNqR3FVLFFBQVEsVUFBVyxhQUVwQjVZLEtBQUtnUCxXQUFhaFAsS0FBSzBPLFNBQVNuTCxPQUFPLElBQUssSUFBSyxpQkFBaUJ3TCxZQUFZLEdBQUksSUFBSXhLLFNBQVMsSUFDOUZxVSxRQUFRLFVBQVcsY0FDcEI1WSxLQUFLOFksWUFBYzlZLEtBQUswTyxTQUFTbkwsT0FBTyxJQUFLLElBQUssaUJBQWlCd0wsWUFBWSxHQUFJLElBQUl4SyxTQUFTLElBQy9GcVUsUUFBUSxVQUFXLGNBU3BCNVksS0FBS2lQLE1BQU0xTCxPQUFPLENBQ2QyTCxJQUFLLGVBQ0xDLE9BQVFuUCxLQUFLaVAsTUFBTUcscUJBQXFCLGdCQUFpQixDQUFFbkQsTUFBTyxFQUFHb0QsSUFBSyxJQUMxRUMsVUFBVyxHQUNYQyxRQUFTLElBR2J2UCxLQUFLaVAsTUFBTTFMLE9BQU8sQ0FDZDJMLElBQUssZ0JBQ0xDLE9BQVFuUCxLQUFLaVAsTUFBTUcscUJBQXFCLGlCQUFrQixDQUFFbkQsTUFBTyxFQUFHb0QsSUFBSyxJQUMzRUMsVUFBVyxHQUNYQyxRQUFTLElBR2J2UCxLQUFLOE8sWUFBWXBMLEtBQUssaUJBQ3RCMUQsS0FBS2dQLFdBQVd0TCxLQUFLLGdCQUdyQjFELEtBQUtpUCxNQUFNMUwsT0FBTyxDQUNkMkwsSUFBSyxlQUNMQyxPQUFRblAsS0FBS2lQLE1BQU1HLHFCQUFxQixZQUFhLENBQUVuRCxNQUFPLEVBQUdvRCxJQUFLLEtBQ3RFQyxVQUFXLEVBQ1hDLFFBQVMsSUFJYnZQLEtBQUtpUCxNQUFNMUwsT0FBTyxDQUNkMkwsSUFBSyxnQkFDTEMsT0FBUW5QLEtBQUtpUCxNQUFNRyxxQkFBcUIsYUFBYyxDQUFFbkQsTUFBTyxFQUFHb0QsSUFBSyxLQUN2RUMsVUFBVyxFQUNYQyxRQUFTLElBSWJ2UCxLQUFLd1AsUUFBVXhQLEtBQUs4RCxJQUFJMkwsT0FBT3pQLEtBQUsrSyxRQUFRQyxLQUFLMEUsUUFBVSxHQUFJLEdBQUksY0FDOURyRSxnQkFBZ0IsR0FDaEI5RyxTQUFTLEtBQ1R1SixZQUFXLEdBQ1gxSixTQUFTLEtBQ1RWLEtBQUssaUJBR1YxRCxLQUFLMlAsT0FBUzNQLEtBQUs4RCxJQUFJMkwsT0FBT3pQLEtBQUsrSyxRQUFRQyxLQUFLMEUsUUFBVSxHQUFJLEdBQUksYUFDN0RyRSxnQkFBZ0IsR0FDaEI5RyxTQUFTLEtBQ1R1SixZQUFXLEdBQ1gxSixTQUFTLEtBQ1RWLEtBQUssZ0JBR1YxRCxLQUFLd00sUUFBUTFJLElBQUk4TCxRQUFRNVAsS0FBS3VPLE1BQU92TyxLQUFLOE8sWUFBYTlPLEtBQUs2UCxtQkFBb0IsS0FBTTdQLE1BQ3RGQSxLQUFLd00sUUFBUTFJLElBQUk4TCxRQUFRNVAsS0FBS3dPLFFBQVN4TyxLQUFLZ1AsV0FBWWhQLEtBQUs4UCxrQkFBbUIsS0FBTTlQLE1BQ3RGQSxLQUFLd00sUUFBUTFJLElBQUk4TCxRQUFRNVAsS0FBS3VPLE1BQU92TyxLQUFLNlksYUFBYzdZLEtBQUs2UCxtQkFBb0IsS0FBTTdQLE1BQ3ZGQSxLQUFLd00sUUFBUTFJLElBQUk4TCxRQUFRNVAsS0FBS3dPLFFBQVN4TyxLQUFLOFksWUFBYTlZLEtBQUs4UCxrQkFBbUIsS0FBTTlQLE1BV3ZGQSxLQUFLK0ssUUFBUUMsS0FBSytFLFVBQVUsRUFBRyxFQUFHcEQsRUFBa0JDLEdBR3BENU0sS0FBS2dRLE9BQVNoUSxLQUFLaVEsTUFBTUMsU0FBU0MsT0FBTyxRQUFhQyxTQUFTQyxTQUFTQyxLQUV4RXRRLEtBQUt3TSxRQUFRMUksSUFBSThMLFFBQVE1UCxLQUFLdU8sTUFBT3ZPLEtBQUs2TixXQUFZLEtBQ2xEN04sS0FBS2lLLGVBQWdCLEVBQ3JCakssS0FBS3VRLHVCQUdUdlEsS0FBS3dNLFFBQVExSSxJQUFJOEwsUUFBUTVQLEtBQUt3TyxRQUFTeE8sS0FBSzZOLFdBQVksS0FDcEQ3TixLQUFLa0ssaUJBQWtCLEVBQ3ZCbEssS0FBS3VRLHVCQUlUdlEsS0FBS3dRLFlBQWN4USxLQUFLOEQsSUFBSVIsTUFBTXRELEtBQUsrSyxRQUFRQyxLQUFLOUcsTUFBUSxHQUFJLEdBQUksZUFDL0RtSCxnQkFBZ0IsR0FDaEI3RyxlQUFlLENBQUVDLGVBQWUsSUFDaENGLFNBQVMsSUFDVEgsU0FBUyxLQUVkcEUsS0FBS3dRLFlBQVk5TCxHQUFHLGNBQWUsS0FDMUJMLElBQ0RBLEVBQVdyRSxLQUFLOEQsSUFBSVIsTUFBTXRELEtBQUsrSyxRQUFRQyxLQUFLOUcsTUFBUSxHQUFJLEdBQUksb0JBQ3ZESCxVQUFVLElBQ1ZRLFNBQVMsSUFDVEgsU0FBU3BFLEtBQUt3USxZQUFZN0wsTUFBUSxNQUkvQzNFLEtBQUt3USxZQUFZOUwsR0FBRyxhQUFjLEtBQzFCTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBSW5CckUsS0FBS3dRLFlBQVk5TCxHQUFHLGNBQWUsS0FDL0IxRSxLQUFLeVEsZ0JBSVR6USxLQUFLMFEsZUFBaUIxUSxLQUFLOEQsSUFBSVIsTUFBTXRELEtBQUsrSyxRQUFRQyxLQUFLOUcsTUFBUSxJQUFLLEdBQUksa0JBQ25FbUgsZ0JBQWdCLEdBQ2hCN0csZUFBZSxDQUFFQyxlQUFlLElBQ2hDRixTQUFTLElBQ1RILFNBQVMsS0FFZHBFLEtBQUswUSxlQUFlaE0sR0FBRyxjQUFlLEtBQzdCTCxJQUNEQSxFQUFXckUsS0FBSzhELElBQUlSLE1BQU10RCxLQUFLK0ssUUFBUUMsS0FBSzlHLE1BQVEsSUFBSyxHQUFJLHVCQUN4REgsVUFBVSxJQUNWUSxTQUFTLElBQ1RILFNBQVNwRSxLQUFLMFEsZUFBZS9MLE1BQVEsTUFJbEQzRSxLQUFLMFEsZUFBZWhNLEdBQUcsYUFBYyxLQUM3QkwsSUFDQUEsRUFBU08sVUFDVFAsRUFBVyxRQUluQnJFLEtBQUswUSxlQUFlaE0sR0FBRyxjQUFlLEtBQ25DMUUsS0FBSzZFLE1BQU1DLE9BQU8sbUJBSXJCOUUsS0FBS3VNLE9BQU83SCxHQUFHLFNBQVUsS0FDaEIxRSxLQUFLd00sUUFBUW9ELFFBQVE1UCxLQUFLdU8sTUFBT3ZPLEtBQUs2TixjQUN2QzdOLEtBQUtpSyxlQUFnQixHQUVwQmpLLEtBQUt3TSxRQUFRb0QsUUFBUTVQLEtBQUt3TyxRQUFTeE8sS0FBSzZOLGNBQ3pDN04sS0FBS2tLLGlCQUFrQixLQUcvQixNQUFNNk8sRUFBVyxLQUNiL1ksS0FBSzZFLE1BQU1DLE9BQU8sZ0JBQWlCLENBQUU2TCxjQUFlM1EsS0FBSzZFLE1BQU1xSyxNQUMvRGxQLEtBQUs2RSxNQUFNNkgsU0FHZjFNLEtBQUt3TSxRQUFRMUksSUFBSThMLFFBQVE1UCxLQUFLdU8sTUFBT3ZPLEtBQUtzWSxZQUFhUyxHQUN2RC9ZLEtBQUt3TSxRQUFRMUksSUFBSThMLFFBQVE1UCxLQUFLd08sUUFBU3hPLEtBQUtzWSxZQUFhUyxFQUM3RCxDQUVBLFlBQUE3TCxHQUlJbE4sS0FBS3VPLE1BQVF2TyxLQUFLd00sUUFBUTFJLElBQUkyTCxPQUFPLEtBSHBCLEtBR29DLFNBQVM2QyxVQUFVLElBQUtDLHVCQUFzQixHQUNuR3ZTLEtBQUt3TyxRQUFVeE8sS0FBS3dNLFFBQVExSSxJQUFJMkwsT0FBTyxLQUp0QixLQUlzQyxXQUFXNkMsVUFBVSxJQUFLQyx1QkFBc0IsR0FFdkd2UyxLQUFLdU8sTUFBTWlFLFFBQVEsSUFBSyxLQUN4QnhTLEtBQUt1TyxNQUFNa0UsVUFBVSxJQUFLLElBRTFCelMsS0FBS3dPLFFBQVFnRSxRQUFRLElBQUssS0FDMUJ4UyxLQUFLd08sUUFBUWlFLFVBQVUsSUFBSyxJQUc1QnpTLEtBQUt1TyxNQUFNaEssU0FBUyxJQUNwQnZFLEtBQUt3TyxRQUFRakssU0FBUyxJQUd0QnZFLEtBQUswUyxjQUFnQjFTLEtBQUtpUSxNQUFNQyxTQUFTeUMsUUFBUSxDQUM3Q0MsS0FBTSxJQUNOQyxNQUFPLElBQ1BDLEdBQUksSUFDSkMsU0FBVSxNQUlkL1MsS0FBS2dULGdCQUFrQmhULEtBQUtpUSxNQUFNQyxTQUFTeUMsUUFBUSxDQUMvQ0MsS0FBTSxPQUNOQyxNQUFPLFFBQ1BDLEdBQUksS0FDSkMsU0FBVSxTQUVsQixDQUVBLGdCQUFBdEUsQ0FBaUJTLEdBRWJsUCxLQUFLaVAsTUFBTTFMLE9BQU8sQ0FDZDJMLElBQUssR0FBR0EsUUFDUkMsT0FBUW5QLEtBQUtpUCxNQUFNZ0UsbUJBQW1CL0QsRUFBSyxDQUFFZ0UsT0FBUSxPQUFRakgsTUFBTyxFQUFHb0QsSUFBSyxJQUM1RUMsVUFBVyxHQUNYQyxRQUFTLElBS2J2UCxLQUFLaVAsTUFBTTFMLE9BQU8sQ0FDZDJMLElBQUssR0FBR0EsU0FDUkMsT0FBUW5QLEtBQUtpUCxNQUFNZ0UsbUJBQW1CL0QsRUFBSyxDQUFFZ0UsT0FBUSxRQUFTakgsTUFBTyxFQUFHb0QsSUFBSyxJQUM3RUMsVUFBVyxHQUNYQyxPQUFRLElBSVp2UCxLQUFLaVAsTUFBTTFMLE9BQU8sQ0FDZDJMLElBQUssR0FBR0EsU0FDUkMsT0FBUW5QLEtBQUtpUCxNQUFNZ0UsbUJBQW1CL0QsRUFBSyxDQUFFQyxPQUFRLENBQUMsWUFDdERHLFVBQVcsRUFDWEMsT0FBUSxHQUVoQixDQUVBLGNBQUE0RCxDQUFldEosR0FDWDdKLEtBQUs2SixTQUFXQSxFQUNaN0osS0FBSzZKLFdBQ0w3SixLQUFLNkUsTUFBTUMsT0FBTyxhQUFjLENBQUM2TCxjQUFlM1EsS0FBSzZFLE1BQU1xSyxNQUMzRGxQLEtBQUs2RSxNQUFNNkgsUUFFbkIsQ0FFQSxNQUFBRCxHQUNJek0sS0FBSzZKLFVBQVcsQ0FDcEIsQ0FFQSxXQUFBNEcsR0FDSSxNQUFNMkMsR0FBa0JwVCxLQUFLNkosU0FDN0I3SixLQUFLbVQsZUFBZUMsRUFDeEIsQ0FFQSxjQUFBQyxHQUNJclQsS0FBSzZFLE1BQU1DLE9BQU8sZ0JBRXRCLENBR0EsTUFBQXdPLEdBRU90VCxLQUFLZ1EsT0FBT3VELFFBQ1h2VCxLQUFLeVEsY0FJVHpRLEtBQUt3VCxxQkFBcUJ4VCxLQUFLdU8sTUFBT3ZPLEtBQUswUyxlQUczQzFTLEtBQUt3VCxxQkFBcUJ4VCxLQUFLd08sUUFBU3hPLEtBQUtnVCxpQkFFMUNoVCxLQUFLNk4sV0FBV3NFLFNBQ2ZuUyxLQUFLdVEsbUJBQW1CdlEsS0FBSzZOLFdBRXJDLENBR0Esb0JBQUEyRixDQUFxQmUsRUFBY0MsR0FFL0IsTUFFTXRGLEVBQU1xRixFQUFhRSxRQUFRdkYsSUFDM0J3RixFQUFXRixFQUFTNUIsS0FBS1csUUFBVWlCLEVBQVMzQixNQUFNVSxPQUNsRG9CLEVBQWFKLEVBQWFsVCxLQUFLK1MsUUFBUUMsS0FDN0MsSUFBSU8sRUFBVSxHQUdYRixHQUFZQyxFQUNDLFVBQVJ6RixHQUEyQyxPQUF4QmxQLEtBQUttSyxnQkFDeEJuSyxLQUFLbUssZUFBaUJuSyxLQUFLd0QsTUFBTU0sSUFBSSxZQUFhLENBQUVILE1BQU0sRUFBTUMsT0FBUSxJQUN4RTVELEtBQUttSyxlQUFlekcsUUFDTCxZQUFSd0wsR0FBK0MsT0FBMUJsUCxLQUFLb0ssbUJBQ2pDcEssS0FBS29LLGlCQUFtQnBLLEtBQUt3RCxNQUFNTSxJQUFJLFlBQWEsQ0FBRUgsTUFBTSxFQUFNQyxPQUFRLElBQzFFNUQsS0FBS29LLGlCQUFpQjFHLFFBSWQsVUFBUndMLEdBQW1CbFAsS0FBS21LLGdCQUN4Qm5LLEtBQUttSyxlQUFlNkIsT0FDcEJoTSxLQUFLbUssZUFBaUIsTUFDUCxZQUFSK0UsR0FBcUJsUCxLQUFLb0ssbUJBQ2pDcEssS0FBS29LLGlCQUFpQjRCLE9BQ3RCaE0sS0FBS29LLGlCQUFtQixNQUs1Qm9LLEVBQVM1QixLQUFLVyxRQUNkZ0IsRUFBYU0sY0E3QkgsS0E4QlZOLEVBQWExQyxVQUFTLElBQ2YyQyxFQUFTM0IsTUFBTVUsUUFDdEJnQixFQUFhTSxhQWhDSCxLQWlDVk4sRUFBYTFDLFVBQVMsSUFFdEIwQyxFQUFhTSxhQUFhLEdBSVpMLEVBQVMxQixHQUFHUyxRQUFVZ0IsRUFBYWxULEtBQUsrUyxRQUFRQyxNQUc5REUsRUFBYU8sY0F6Q0ksS0FrRGpCRixFQUxDTCxFQUFhbFQsS0FBSytTLFFBQVFDLEtBR3BCRyxFQUFTNUIsS0FBS1csUUFBVWlCLEVBQVMzQixNQUFNVSxPQUVwQyxHQUFHckUsUUFHSCxHQUFHQSxTQU5ILEdBQUdBLFNBVWJxRixFQUFhdEYsTUFBTTBDLGFBQWF6QyxNQUFRMEYsR0FDeENMLEVBQWF0RixNQUFNdkwsS0FBS2tSLEdBSXhCLFFBQWF4RSxTQUFTMkUsU0FBU1AsRUFBU3pCLFdBRXhDOVEsUUFBUW1GLElBQUksd0JBRXBCLENBRUEsa0JBQUF5SSxDQUFtQm1GLEVBQVFDLEdBQ3ZCQSxFQUFRbkQsYUFBWSxHQUFNLEdBQzFCOVIsS0FBSytKLHFCQUF1QixFQUNJLEdBQTVCL0osS0FBSytKLHFCQUEwQi9KLEtBQUt3UCxRQUFRMUIsWUFBVyxHQUMzRDlOLEtBQUt3RCxNQUFNRSxLQUFLLDBCQUEyQixDQUFFRSxPQUFRLEtBQ3JEM0IsUUFBUW1GLElBQUksMkNBQ1pwSCxLQUFLZ1osV0FBVy9ELEVBQVFnRSxRQUFRLFdBQ3BDLENBRUEsaUJBQUFuSixDQUFrQmtGLEVBQVFDLEdBQ3RCQSxFQUFRbkQsYUFBWSxHQUFNLEdBQzFCOVIsS0FBS2dLLHNCQUF3QixFQUNJLEdBQTdCaEssS0FBS2dLLHNCQUEyQmhLLEtBQUsyUCxPQUFPN0IsWUFBVyxHQUMzRDlOLEtBQUt3RCxNQUFNRSxLQUFLLHlCQUEwQixDQUFFRSxPQUFRLEtBQ3BEM0IsUUFBUW1GLElBQUksMENBQ1pwSCxLQUFLZ1osV0FBVy9ELEVBQVFnRSxRQUFRLFdBQ3BDLENBRUEsVUFBQUQsQ0FBV0UsR0FDUCxNQUFNQyxFQUFPblosS0FBS29ZLE1BQU1jLEdBRXhCQyxFQUFLZCxPQUFPaFgsS0FBSzBNLFFBQVMsRUFDMUJvTCxFQUFLZCxPQUFPdkssWUFBVyxHQUN2QnFMLEVBQUsxSixPQUFPM0IsWUFBVyxHQUV2QjlOLEtBQUtrVixrQkFDVCxDQUVBLGdCQUFBQSxHQUNvQyxHQUE1QmxWLEtBQUsrSixxQkFBeUQsR0FBN0IvSixLQUFLZ0ssdUJBQ3RDaEssS0FBSzBYLGFBQWE1SixZQUFXLEdBQzdCOU4sS0FBSzZOLFdBQVdDLFlBQVcsR0FDM0I5TixLQUFLNk4sV0FBV3hNLEtBQUswTSxRQUFTLEVBRXRDLENBRUEsa0JBQUF3QyxDQUFtQnlFLEVBQVFvRSxHQUVuQnBaLEtBQUtpSyxlQUFpQmpLLEtBQUtrSyxpQkFBK0MsR0FBNUJsSyxLQUFLK0oscUJBQXlELEdBQTdCL0osS0FBS2dLLHVCQUVwRmhLLEtBQUs2RSxNQUFNQyxPQUFPLGVBQWdCLENBQUU2TCxjQUFlM1EsS0FBSzZFLE1BQU1xSyxNQUM5RGxQLEtBQUs2RSxNQUFNNkgsUUFFbkIsQ0FFQSxPQUFBMkksR0FDSXBULFFBQVFtRixJQUFJLG1CQUNaLElBQUkvQyxFQUFXLEtBRWZyRSxLQUFLd00sUUFBUUUsUUFDYjFNLEtBQUs4RCxJQUFJMkIsS0FBS3pGLEtBQUsrSyxRQUFRQyxLQUFLMEUsUUFBUzFQLEtBQUsrSyxRQUFRQyxLQUFLc0ssUUFBVSxJQUFLLHFCQUFzQixDQUM1RjVQLFNBQVUsT0FBUTZQLEtBQU0sWUFBYXhSLFVBQVUsSUFFbkQsTUFBTXlSLEVBQWF4VixLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssaUJBQ3ZDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEMsZUFBZSxDQUFFQyxlQUFlLElBRXJDK1EsRUFBVzlRLEdBQUcsY0FBZSxLQUNwQkwsSUFDREEsRUFBV3JFLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxzQkFDL0JTLFVBQVUsSUFDVlEsU0FBUyxJQUNUSCxTQUFTb1IsRUFBVzdRLE1BQVEsTUFJekM2USxFQUFXOVEsR0FBRyxhQUFjLEtBQ3BCTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBSW5CbVIsRUFBVzlRLEdBQUcsY0FBZSxLQUN6QixNQUFNK1EsRUFBbUJ6VixLQUFLNkUsTUFBTTZRLFNBQVNqVSxLQUFLa1AsY0FDbEQzUSxLQUFLNkUsTUFBTW1ILEtBQUt5SixHQUNoQnpWLEtBQUs2RSxNQUFNb0gsTUFBTSxjQUV6QixFQ2pwQkcsTUFBTW9OLFVBQTRCLFFBQ3JDLFdBQUF0WixHQUNJbUQsTUFBTSx1QkFDTmxELEtBQUtzWixvQkFBc0IsS0FDM0J0WixLQUFLNkYsbUJBQXFCLEtBQzFCN0YsS0FBS3VaLFlBQWEsQ0FDdEIsQ0FFQSxJQUFBM1AsQ0FBS25JLEdBRUR6QixLQUFLcVMsY0FBZ0I1USxHQUFNNFEsYUFDL0IsQ0FFQSxNQUFBOU8sR0FLSXZELEtBQUs4RCxJQUFJc0osVUFBVSxJQUFLLElBQUssSUFBSyxJQUFLLEVBQVUsSUFHakRwTixLQUFLOEQsSUFBSTJCLEtBQUssSUFBSyxJQUFLLG1CQUFvQixDQUN4Q0MsU0FBVSxPQUNWRSxNQUFPLFVBQ1BxRixVQUFXLFNBQ1psSCxVQUFVLElBR2IvRCxLQUFLd1osV0FBYXhaLEtBQUs4RCxJQUFJMkIsS0FBSyxJQUFLLElBQUssMkJBQTRCLENBQ2xFQyxTQUFVLE9BQ1ZFLE1BQU8sWUFDUjdCLFVBQVUsSUFHYi9ELEtBQUt5WixhQUFlLEVBQ3BCelosS0FBSzBaLFlBQWMxWixLQUFLOEQsSUFBSTJCLEtBQUssSUFBSyxJQUFLLGNBQWUsQ0FDdERDLFNBQVUsT0FDVkUsTUFBTyxZQUNSN0IsVUFBVSxJQUdiL0QsS0FBSzJaLFNBQVcsRUFDaEIzWixLQUFLNFosS0FBS0MsU0FBUyxDQUNmbk8sTUFBTyxJQUNQL0gsTUFBTSxFQUNOeEIsU0FBVSxLQUNObkMsS0FBSzJaLFVBQVkzWixLQUFLMlosU0FBVyxHQUFLLEVBQ3RDLE1BQU1HLEVBQU8sSUFBSXZLLE9BQU92UCxLQUFLMlosVUFDN0IzWixLQUFLd1osV0FBV3RULFFBQVEsd0JBQXdCNFQsUUFLeEQ5WixLQUFLNkYsbUJBQXNCcEUsSUFDbkJBLEVBQUtFLFdBQ0wzQixLQUFLK1osaUJBR2JqYSxFQUFrQm9DLFlBQVlsQyxLQUFLNkYsb0JBR25DN0YsS0FBS3NaLG9CQUFzQnRaLEtBQUs0WixLQUFLQyxTQUFTLENBQzFDbk8sTUFBTyxJQUNQL0gsTUFBTSxFQUNOeEIsU0FBVW5DLEtBQUtnYSxpQkFDZkMsY0FBZWphLE9BSW5CQSxLQUFLZ2Esa0JBQ1QsQ0FFQSxzQkFBTUEsR0FDRixJQUFJaGEsS0FBS3VaLFdBQVQsQ0FDQXZaLEtBQUt1WixZQUFhLEVBRWxCdlosS0FBS3laLGVBQ0x6WixLQUFLMFosWUFBWXhULFFBQVEsYUFBYWxHLEtBQUt5WixnQkFFM0MsVUFDVTNaLEVBQWtCa0IsaUJBQzVCLENBQUUsUUFDRWhCLEtBQUt1WixZQUFhLENBQ3RCLENBVjJCLENBVy9CLENBRUEsYUFBQVEsR0FFUS9aLEtBQUtzWixzQkFDTHRaLEtBQUtzWixvQkFBb0JZLFNBQ3pCbGEsS0FBS3NaLG9CQUFzQixNQUkzQnRaLEtBQUs2RixxQkFDTC9GLEVBQWtCdUMsZUFBZXJDLEtBQUs2RixvQkFDdEM3RixLQUFLNkYsbUJBQXFCLE1BSTlCN0YsS0FBS3daLFdBQVd0VCxRQUFRLDJCQUN4QmxHLEtBQUt3WixXQUFXcFQsU0FBUyxXQUd6QnBHLEtBQUs0WixLQUFLTyxZQUFZLElBQU0sS0FDeEIsR0FBSW5hLEtBQUtxUyxjQUFlLENBRXBCLE1BQU0rSCxFQUFZcGEsS0FBSzZFLE1BQU1vRCxJQUFJakksS0FBS3FTLGVBQ2xDK0gsR0FBYUEsRUFBVXZVLG9CQUN2Qi9GLEVBQWtCb0MsWUFBWWtZLEVBQVV2VSxvQkFFNUM3RixLQUFLNkUsTUFBTTRILE9BQU96TSxLQUFLcVMsY0FDM0IsQ0FDQXJTLEtBQUs2RSxNQUFNbUgsUUFFbkIsQ0FFQSxRQUFBMUYsR0FFUXRHLEtBQUtzWixxQkFDTHRaLEtBQUtzWixvQkFBb0JZLFNBRXpCbGEsS0FBSzZGLG9CQUNML0YsRUFBa0J1QyxlQUFlckMsS0FBSzZGLG1CQUU5QyxFQ2pJRyxNQUFNd1UsVUFBc0IsUUFDL0IsV0FBQXRhLEdBQ0ltRCxNQUFNLGdCQUNWLENBRUEsT0FBQUMsR0FFSW5ELEtBQUtvRCxLQUFLRSxNQUFNLGNBQWUsbUJBRy9CdEQsS0FBS29ELEtBQUtFLE1BQU0sYUFBYyxvQkFDOUJ0RCxLQUFLb0QsS0FBS0UsTUFBTSxrQkFBbUIseUJBR25DdEQsS0FBS29ELEtBQUtFLE1BQU0sY0FBZSx5QkFDL0J0RCxLQUFLb0QsS0FBS0UsTUFBTSxtQkFBb0IsOEJBR3BDdEQsS0FBS29ELEtBQUtFLE1BQU0sZUFBZ0IsMEJBQ2hDdEQsS0FBS29ELEtBQUtFLE1BQU0sb0JBQXFCLCtCQUdyQ3RELEtBQUtvRCxLQUFLRSxNQUFNLGVBQWdCLCtCQUNwQyxDQUNBLE1BQUFDLEdBRUksTUFBTXFTLEVBQUk1VixLQUFLaUUsTUFBTUMsTUFDZjJSLEVBQUk3VixLQUFLaUUsTUFBTUUsT0FFckIsSUFBSUUsRUFBVyxLQUdmckUsS0FBSzhWLFdBQWE5VixLQUFLOEQsSUFBSXNKLFVBQVUsRUFBRyxFQUFHd0ksRUFBR0MsRUFBRyxPQUFVLElBQUs5UixVQUFVLEdBRzFFL0QsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3BCUyxVQUFVLElBQ1ZRLFNBQVMsR0FHZCxNQUFNVyxFQUFVbEYsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGNBQ3BDUyxVQUFVLElBQ1ZRLFNBQVMsS0FDVEMsZUFBZSxDQUFFQyxlQUFlLElBRXJDUyxFQUFRUixHQUFHLGNBQWUsS0FDakJMLElBQ0RBLEVBQVdyRSxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssbUJBQy9CUyxVQUFVLElBQ1ZRLFNBQVMsS0FDVEgsU0FBU2MsRUFBUVAsTUFBUSxNQUl0Q08sRUFBUVIsR0FBRyxhQUFjLEtBQ2pCTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBSW5CYSxFQUFRUixHQUFHLGNBQWUsS0FFdEIxRSxLQUFLNkUsTUFBTW9ILE1BQU0sZUFJckJqTSxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZ0JBQ3BCUyxVQUFVLElBQ1ZRLFNBQVMsR0FJZCxNQUFNRCxFQUFXdEUsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3JDUyxVQUFVLElBQ1ZRLFNBQVMsS0FDVEMsZUFBZSxDQUFFQyxlQUFlLElBRXJDSCxFQUFTSSxHQUFHLGNBQWUsS0FDbEJMLElBQ0RBLEVBQVdyRSxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssb0JBQy9CUyxVQUFVLElBQ1ZRLFNBQVMsS0FDVEgsU0FBU0UsRUFBU0ssTUFBUSxNQUl2Q0wsRUFBU0ksR0FBRyxhQUFjLEtBQ2xCTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBSW5CQyxFQUFTSSxHQUFHLGNBQWUsS0FDdkIxRSxLQUFLNkUsTUFBTUMsT0FBTyxvQkFDbEI5RSxLQUFLNkUsTUFBTW1ILFNBSWYsTUFBTXNPLEVBQVl0YSxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZ0JBQ3RDUyxVQUFVLElBQ1ZRLFNBQVMsS0FDVEMsZUFBZSxDQUFFQyxlQUFlLElBRXJDNlYsRUFBVTVWLEdBQUcsY0FBZSxLQUNuQkwsSUFDREEsRUFBV3JFLEtBQUs4RCxJQUFJUixNQUFNLElBQUssSUFBSyxxQkFDL0JTLFVBQVUsSUFDVlEsU0FBUyxLQUNUSCxTQUFTa1csRUFBVTNWLE1BQVEsTUFJeEMyVixFQUFVNVYsR0FBRyxhQUFjLEtBQ25CTCxJQUNBQSxFQUFTTyxVQUNUUCxFQUFXLFFBSW5CaVcsRUFBVTVWLEdBQUcsY0FBZSxLQUV4QjFFLEtBQUs2RSxNQUFNb0gsTUFBTSxZQUFhLENBQUVzTyxZQUFhLGdCQUVyRCxFQzVIVyxNQUFNQyxVQUFtQixRQUN0QyxXQUFBemEsR0FDRW1ELE1BQU0sYUFDUixDQUVBLE9BQUFDLEdBRUVuRCxLQUFLb0QsS0FBS0UsTUFBTSxlQUFnQix1QkFDaEN0RCxLQUFLb0QsS0FBS0UsTUFBTSxvQkFBcUIsNEJBR3JDdEQsS0FBS29ELEtBQUtFLE1BQU0sa0JBQW1CLGdDQUNyQyxDQUVBLE1BQUFDLEdBQ0UsTUFBTVcsRUFBUWxFLEtBQUsrSyxRQUFRQyxLQUFLOUcsTUFDMUJDLEVBQVNuRSxLQUFLK0ssUUFBUUMsS0FBSzdHLE9BR2pDbkUsS0FBSzhWLFdBQWE5VixLQUFLOEQsSUFBSXNKLFVBQVUsRUFBRyxFQUFHbEosRUFBT0MsRUFBUSxPQUFVLElBQUtKLFVBQVUsR0FHbkYvRCxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssbUJBQ3RCUyxVQUFVLElBQ1ZRLFNBQVMsR0FHWixNQUFNa1csRUFBV0MsYUFBYUMsUUFBUSxZQUNsQ0YsR0FDQXphLEtBQUs4RCxJQUFJMkIsS0FBS3ZCLEVBQVEsRUFBRyxJQUFLLFlBQVl1VyxJQUFZLENBQ2xEL1UsU0FBVSxPQUNWRSxNQUFPLFVBQ1BELFdBQVksU0FDWnNGLFVBQVcsU0FDWmxILFVBQVUsSUFJakIvRCxLQUFLd1osV0FBYXhaLEtBQUs4RCxJQUFJMkIsS0FBS3ZCLEVBQVEsRUFBR0MsRUFBUyxFQUFJLEdBQUksNEJBQTZCLENBQ3ZGdUIsU0FBVSxPQUNWRSxNQUFPLFVBQ1BELFdBQVksV0FDWDVCLFVBQVUsSUFHYi9ELEtBQUs0YSxnQkFBa0I1YSxLQUFLOEQsSUFBSTJCLEtBQUt2QixFQUFRLEVBQUdDLEVBQVMsRUFBSSxHQUFJLEdBQUksQ0FDbkV1QixTQUFVLE9BQ1ZFLE1BQU8sVUFDUEQsV0FBWSxXQUNYNUIsVUFBVSxJQUdiL0QsS0FBSzZhLFlBQWMsR0FDbkI3YSxLQUFLNFosS0FBS0MsU0FBUyxDQUNqQm5PLE1BQU8sSUFDUHZKLFNBQVUsS0FDSm5DLEtBQUs2RSxNQUFNa0IsU0FBUyxnQkFDdEIvRixLQUFLNmEsWUFBZTdhLEtBQUs2YSxZQUFZQyxRQUFVLEVBQUssR0FBSzlhLEtBQUs2YSxZQUFjLElBQ3hFN2EsS0FBS3daLFdBQVcvVCxLQUFLc1YsU0FBUyxjQUNoQy9hLEtBQUt3WixXQUFXdFQsUUFBUSxxQkFBcUJsRyxLQUFLNmEsaUJBSXhEbFgsTUFBTSxJQUlSLE1BQU1xWCxFQUFZaGIsS0FBSzhELElBQUlSLE1BQU1ZLEVBQVEsRUFBR0MsRUFBUyxJQUFLLGdCQUN2REosVUFBVSxJQUNWUSxTQUFTLElBQ1RDLGVBQWUsQ0FBRUMsZUFBZSxJQUVuQ3VXLEVBQVV0VyxHQUFHLGNBQWUsS0FDckJMLFdBQ0hBLFNBQVdyRSxLQUFLOEQsSUFBSVIsTUFBTSxLQUFNLElBQUsscUJBQ2xDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEgsU0FBUzRXLEVBQVVyVyxNQUFRLE1BSWxDcVcsRUFBVXRXLEdBQUcsYUFBYyxLQUNyQkwsV0FDRkEsU0FBU08sVUFDVFAsU0FBVyxRQUlmMlcsRUFBVXRXLEdBQUcsY0FBZSxLQUMxQjFFLEtBQUswSSxlQUlQMUksS0FBS2liLGlCQUNQLENBRUEscUJBQU1BLEdBQ0osVUFFUTFVLEVBQVVNLFVBRWhCN0csS0FBS3daLFdBQVd0VCxRQUFRLHNCQUN4QmxHLEtBQUt3WixXQUFXcFQsU0FBUyxXQUN6QnBHLEtBQUt3WixXQUFXMEIsY0FBYyxVQUc5QmxiLEtBQUttYixtQkFBcUJuYixLQUFLb2Isa0JBQWtCckssS0FBSy9RLE1BQ3REQSxLQUFLcWIsaUJBQW1CcmIsS0FBS3NiLGdCQUFnQnZLLEtBQUsvUSxNQUNsREEsS0FBS3ViLHNCQUF3QnZiLEtBQUt3YixxQkFBcUJ6SyxLQUFLL1EsTUFFNUR1RyxFQUFVN0IsR0FBRyxjQUFlMUUsS0FBS21iLG9CQUNqQzVVLEVBQVU3QixHQUFHLFlBQWExRSxLQUFLcWIsa0JBQy9COVUsRUFBVTdCLEdBQUcsaUJBQWtCMUUsS0FBS3ViLHVCQUdwQ2hWLEVBQVVrQyxXQUVaLENBQUUsTUFBT3pHLEdBQ1BDLFFBQVFELE1BQU0sa0NBQW1DQSxHQUNqRGhDLEtBQUt3WixXQUFXdFQsUUFBUSxxQkFDeEJsRyxLQUFLd1osV0FBV3BULFNBQVMsV0FDekJwRyxLQUFLd1osV0FBVzBCLGNBQWMsVUFHOUIsTUFBTU8sRUFBY3piLEtBQUs4RCxJQUFJMkIsS0FBS3pGLEtBQUsrSyxRQUFRQyxLQUFLOUcsTUFBUSxFQUFHbEUsS0FBSytLLFFBQVFDLEtBQUs3RyxPQUFTLEVBQUksSUFDNUYsZ0JBQWlCLENBQ2pCdUIsU0FBVSxPQUNWRSxNQUFPLFVBQ1B1RixnQkFBaUIsVUFDakJDLFFBQVMsQ0FBRXhDLEVBQUcsR0FBSUMsRUFBRyxNQUNwQjlFLFVBQVUsSUFBS1MsZUFBZSxDQUFFQyxlQUFlLElBRWxEZ1gsRUFBWS9XLEdBQUcsY0FBZSxLQUM1QitXLEVBQVk3VyxVQUNaNUUsS0FBS2liLG1CQUVULENBQ0YsQ0FFQSxpQkFBQUcsQ0FBa0IzWixHQUNoQnpCLEtBQUs0YSxnQkFBZ0IxVSxRQUFRLHNCQUFzQnpFLEVBQUtpYSxhQUMxRCxDQUVBLGVBQUFKLENBQWdCN1osR0FDZFEsUUFBUW1GLElBQUksMEJBQTJCM0YsR0FHdkM4RSxFQUFVa0QsY0FBY2hJLEVBQUtpSSxNQUU3QjFKLEtBQUt3WixXQUFXdFQsUUFBUSx3QkFDeEJsRyxLQUFLd1osV0FBV3BULFNBQVMsV0FDekJwRyxLQUFLNGEsZ0JBQWdCMVUsUUFBUSxzQkFDN0JsRyxLQUFLd1osV0FBVzBCLGNBQWMsVUFDOUJsYixLQUFLNGEsZ0JBQWdCTSxjQUFjLFVBR25DbGIsS0FBSzRaLEtBQUtPLFlBQVksSUFBTSxLQUUxQm5hLEtBQUs2RSxNQUFNb0gsTUFBTSxZQUFhLENBQzVCekIsZUFBZSxFQUNmOUQsV0FBWWpGLEVBQUtpSSxLQUNqQmpELE9BQVFoRixFQUFLZ0YsVUFHbkIsQ0FFQSxvQkFBQStVLEdBQ0V2WixRQUFRbUYsSUFBSSwrQkFDWnBILEtBQUt3WixXQUFXdFQsUUFBUSxvQkFDeEJsRyxLQUFLd1osV0FBV3BULFNBQVMsV0FDekJwRyxLQUFLNGEsZ0JBQWdCMVUsUUFBUSxJQUM3QmxHLEtBQUt3WixXQUFXMEIsY0FBYyxVQUM5QmxiLEtBQUs0YSxnQkFBZ0JNLGNBQWMsVUFHbkNsYixLQUFLNFosS0FBS08sWUFBWSxJQUFNLEtBQzFCbmEsS0FBSzBJLGNBRVQsQ0FFQSxVQUFBQSxHQUVNMUksS0FBS21iLG9CQUNQNVUsRUFBVTJCLElBQUksY0FBZWxJLEtBQUttYixvQkFFaENuYixLQUFLcWIsa0JBQ1A5VSxFQUFVMkIsSUFBSSxZQUFhbEksS0FBS3FiLGtCQUU5QnJiLEtBQUt1Yix1QkFDUGhWLEVBQVUyQixJQUFJLGlCQUFrQmxJLEtBQUt1Yix1QkFJdkNoVixFQUFVbUMsYUFDVm5DLEVBQVUrQyxhQUdWdEosS0FBSzZFLE1BQU1vSCxNQUFNLFlBQ25CLENBRUEsUUFBQTNGLEdBQ0V0RyxLQUFLMEksWUFDUCxFQzVNSyxNQUFNaVQsVUFBcUIsUUFDOUIsV0FBQTViLEdBQ0ltRCxNQUFNLGVBQ1YsQ0FFQSxPQUFBQyxHQUVJbkQsS0FBS29ELEtBQUtFLE1BQU0sY0FBZSxtQkFHL0J0RCxLQUFLb0QsS0FBS0UsTUFBTSxnQkFBaUIscUJBQ2pDdEQsS0FBS29ELEtBQUtFLE1BQU0scUJBQXNCLDBCQUd0Q3RELEtBQUtvRCxLQUFLRSxNQUFNLGNBQWUsMkJBQ25DLENBRUEsTUFBQUMsR0FDSSxNQUFNcVMsRUFBSTVWLEtBQUtpRSxNQUFNQyxNQUNmMlIsRUFBSTdWLEtBQUtpRSxNQUFNRSxPQUVyQixJQUFJRSxFQUFXLEtBR2ZyRSxLQUFLOFYsV0FBYTlWLEtBQUs4RCxJQUFJc0osVUFBVSxFQUFHLEVBQUd3SSxFQUFHQyxFQUFHLE9BQVUsSUFBSzlSLFVBQVUsR0FHMUUvRCxLQUFLOEQsSUFBSVIsTUFBTSxJQUFLLElBQUssZUFDcEJTLFVBQVUsSUFDVlEsU0FBUyxHQUdkdkUsS0FBSzhELElBQUlSLE1BQU0sSUFBSyxJQUFLLGVBQ3BCUyxVQUFVLElBQ1ZRLFNBQVMsR0FJZHZFLEtBQUs0YixlQUdMLE1BQU03RixFQUFVL1YsS0FBSzhELElBQUlSLE1BQU0sS0FBTSxJQUFLLGlCQUNyQ1MsVUFBVSxJQUNWUSxTQUFTLElBQ1RDLGVBQWUsQ0FBRUMsZUFBZSxJQUVyQ3NSLEVBQVFyUixHQUFHLGNBQWUsS0FDakJMLElBQ0RBLEVBQVdyRSxLQUFLOEQsSUFBSVIsTUFBTSxLQUFNLElBQUssc0JBQ2hDUyxVQUFVLElBQ1ZRLFNBQVMsSUFDVEgsU0FBUzJSLEVBQVFwUixNQUFRLE1BSXRDb1IsRUFBUXJSLEdBQUcsYUFBYyxLQUNqQkwsSUFDQUEsRUFBU08sVUFDVFAsRUFBVyxRQUtuQjBSLEVBQVFyUixHQUFHLGNBQWUsS0FDdEIxRSxLQUFLNkUsTUFBTW1ILE9BQ1hoTSxLQUFLNkUsTUFBTTRILE9BQU96TSxLQUFLNkUsTUFBTTZRLFNBQVNqVSxLQUFLa1AsZ0JBRW5ELENBRUEsa0JBQU1pTCxHQUNGLElBRUksTUFBTTNhLFFBQWlCQyxNQUFNLHNCQUN2QjJhLFFBQWdCNWEsRUFBU1MsT0FDekJrVSxFQUFJNVYsS0FBS2lFLE1BQU1DLE1BRXJCMlgsRUFBUXBaLFFBQVEsQ0FBQ3VTLEVBQVExUyxLQUNyQixNQUFNd1osRUFBTyxJQUFlLEdBQVJ4WixFQUNkc0QsRUFBUXRELEVBQVEsRUFBSSxZQUFjLFVBRXhDdEMsS0FBSzhELElBQUkyQixLQUFTLEdBQUptUSxFQUFTa0csRUFBTSxHQUFHeFosRUFBUSxNQUFNMFMsRUFBT3lGLFdBQVksQ0FDN0QvVSxTQUFVLE9BQVE2UCxLQUFNM1AsRUFDeEJELFdBQVksV0FJaEIzRixLQUFLOEQsSUFBSTJCLEtBQVMsR0FBSm1RLEVBQVNrRyxFQUFNLEdBQUc5RyxFQUFPK0csWUFBYSxDQUNoRHJXLFNBQVUsT0FBUTZQLEtBQU0zUCxFQUN4QkQsV0FBWSxXQUNiNUIsVUFBVSxFQUFHLElBRXhCLENBQUUsTUFBTy9CLEdBQ0xDLFFBQVFELE1BQU0sNEJBQTZCQSxHQUMzQ2hDLEtBQUs4RCxJQUFJMkIsS0FBS3pGLEtBQUtpRSxNQUFNQyxNQUFRLEVBQUcsSUFBSyxxQ0FBc0MsQ0FDM0V3QixTQUFVLE9BQVE2UCxLQUFNLFlBQ3pCeFIsVUFBVSxHQUNqQixDQUNKLEVDakdHLE1BQU1pWSxVQUF1QixRQUNoQyxXQUFBamMsR0FDSW1ELE1BQU0saUJBQ1YsQ0FFQSxJQUFBMEcsR0FDSTVKLEtBQUs2SixVQUFXLEVBQ2hCN0osS0FBSzhKLFlBQWEsRUFFbEI5SixLQUFLK0oscUJBQXNCLEVBQzNCL0osS0FBS2dLLHNCQUF1QixFQUM1QmhLLEtBQUtpSyxlQUFnQixFQUNyQmpLLEtBQUtrSyxpQkFBa0IsRUFFdkJsSyxLQUFLbUssZUFBaUIsS0FDdEJuSyxLQUFLb0ssaUJBQW1CLElBQzVCLENBRUEsT0FBQWpILEdBRUluRCxLQUFLb0QsS0FBSzhJLE1BQU0sUUFBUywrQkFBZ0MsaUNBQ3pEbE0sS0FBS29ELEtBQUs4SSxNQUFNLFVBQVcsbUNBQW9DLHFDQUcvRGxNLEtBQUtvRCxLQUFLK0ksWUFBWSxnQkFBaUIsMkJBQTRCLENBQUVDLFdBQVksSUFBS0MsWUFBYSxNQUNuR3JNLEtBQUtvRCxLQUFLK0ksWUFBWSxpQkFBa0IsNEJBQTZCLENBQUVDLFdBQVksSUFBS0MsWUFBYSxNQUVyR3JNLEtBQUtvRCxLQUFLK0ksWUFBWSxZQUFhLHVCQUF3QixDQUFFQyxXQUFZLElBQUtDLFlBQWEsTUFDM0ZyTSxLQUFLb0QsS0FBSytJLFlBQVksYUFBYyx3QkFBeUIsQ0FBRUMsV0FBWSxJQUFLQyxZQUFhLE1BRzdGck0sS0FBS29ELEtBQUtFLE1BQU0sUUFBUywyQ0FDekJ0RCxLQUFLb0QsS0FBS0UsTUFBTSxjQUFlLGlEQUkvQnRELEtBQUtvRCxLQUFLRSxNQUFNLG9CQUFxQiw0Q0FDckN0RCxLQUFLb0QsS0FBS0UsTUFBTSxxQkFBc0IsNkNBRXRDdEQsS0FBS29ELEtBQUtFLE1BQU0scUJBQXNCLDZDQUN0Q3RELEtBQUtvRCxLQUFLRSxNQUFNLHFCQUFzQiw2Q0FDdEN0RCxLQUFLb0QsS0FBS0UsTUFBTSxxQkFBc0IsNkNBQ3RDdEQsS0FBS29ELEtBQUtFLE1BQU0sc0JBQXVCLDhDQUN2Q3RELEtBQUtvRCxLQUFLRSxNQUFNLHNCQUF1Qiw4Q0FFdkN0RCxLQUFLb0QsS0FBS0UsTUFBTSxtQkFBb0IsMkNBQ3BDdEQsS0FBS29ELEtBQUtFLE1BQU0scUJBQXNCLDRDQUV0Q3RELEtBQUtvRCxLQUFLRSxNQUFNLGNBQWUscUNBQy9CdEQsS0FBS29ELEtBQUtFLE1BQU0sbUJBQW9CLDJDQUNwQ3RELEtBQUtvRCxLQUFLRSxNQUFNLHFCQUFzQiw2Q0FDdEN0RCxLQUFLb0QsS0FBS0UsTUFBTSxxQkFBc0IsNkNBRXRDdEQsS0FBS29ELEtBQUtFLE1BQU0sU0FBVSxrQ0FHMUJ0RCxLQUFLb0QsS0FBS0UsTUFBTSxjQUFlLG9CQUMvQnRELEtBQUtvRCxLQUFLRSxNQUFNLG1CQUFvQix5QkFFcEN0RCxLQUFLb0QsS0FBS0UsTUFBTSxpQkFBa0Isc0JBQ2xDdEQsS0FBS29ELEtBQUtFLE1BQU0sc0JBQXVCLDJCQUd2Q3RELEtBQUtvRCxLQUFLRSxNQUFNLGdCQUFpQix3QkFDakN0RCxLQUFLb0QsS0FBS0UsTUFBTSxxQkFBc0IsNkJBR3RDdEQsS0FBS29ELEtBQUtFLE1BQU0sU0FBVSx5Q0FHMUJ0RCxLQUFLb0QsS0FBS0MsTUFBTSxZQUFhLDZCQUM3QnJELEtBQUtvRCxLQUFLQyxNQUFNLHlCQUEwQixrQ0FDMUNyRCxLQUFLb0QsS0FBS0MsTUFBTSwwQkFBMkIsbUNBRzNDckQsS0FBS29ELEtBQUtDLE1BQU0sWUFBYSwwQkFDakMsQ0FFQSxNQUFBRSxHQUNJLE1BQU1vSixFQUFtQixLQUNuQkMsRUFBb0IsSUFFMUIsSUFBSXZJLEVBQVcsS0FHZnJFLEtBQUt3RCxNQUFNQyxVQUFVLGFBR2pCekQsS0FBSzZNLE1BQU14SixNQUFNeUosT0FBTyxjQUN4QjlNLEtBQUt3RCxNQUFNRSxLQUFLLFlBQWEsQ0FBRUMsTUFBTSxFQUFNQyxPQUFRLEtBTzVDNUQsS0FBS3dNLFFBQVExSSxJQUFJaUosYUFBYSxFQUFHLEVBQUcsU0FBU2hKLFVBQVUsRUFBRyxHQUNsRUMsZUFBZTJJLEVBQWtCQyxHQUVqQjVNLEtBQUt3TSxRQUFRMUksSUFBSWlKLGFBQWEsRUFBRyxFQUFHLGVBQWVoSixVQUFVLEVBQUcsR0FDeEVDLGVBQWUySSxFQUFrQkMsR0FHNUM1TSxLQUFLd00sUUFBUVEsTUFBTUMsUUFBUXBFLEVBQUksS0FHL0I3SSxLQUFLa04sZUFJTGxOLEtBQUttTixPQUFTbk4sS0FBSzhELElBQUlzSixVQUFVLEVBQUdSLEVBQW1CRCxFQUFrQixHQUFJLE1BQVUsR0FBRzVJLFVBQVUsRUFBRyxHQUN2Ry9ELEtBQUt3TSxRQUFRMUksSUFBSXVKLFNBQVNyTixLQUFLbU4sUUFBUSxHQUd2Q25OLEtBQUtzTixZQUFjdE4sS0FBSzhELElBQUlzSixVQUFVLElBQUssSUFBSyxJQUFLLEdBQUksUUFBVSxHQUFHckosVUFBVSxHQUFLLElBQ3JGL0QsS0FBS3dNLFFBQVExSSxJQUFJdUosU0FBU3JOLEtBQUtzTixhQUFhLEdBRTVDdE4sS0FBS3VOLFlBQWN2TixLQUFLOEQsSUFBSXNKLFVBQVUsSUFBSyxJQUFLLElBQUssR0FBSSxRQUFVLEdBQUdySixVQUFVLEdBQUssSUFDckYvRCxLQUFLd00sUUFBUTFJLElBQUl1SixTQUFTck4sS0FBS3VOLGFBQWEsR0FFNUN2TixLQUFLd04sWUFBY3hOLEtBQUs4RCxJQUFJc0osVUFBVSxJQUFNLElBQUssSUFBSyxHQUFJLFFBQVUsR0FBR3JKLFVBQVUsR0FBSyxJQUN0Ri9ELEtBQUt3TSxRQUFRMUksSUFBSXVKLFNBQVNyTixLQUFLd04sYUFBYSxHQUU1Q3hOLEtBQUt5TixZQUFjek4sS0FBSzhELElBQUlzSixVQUFVLElBQUssSUFBSyxJQUFLLEdBQUksUUFBVSxHQUFHckosVUFBVSxHQUFLLElBQ3JGL0QsS0FBS3dNLFFBQVExSSxJQUFJdUosU0FBU3JOLEtBQUt5TixhQUFhLEdBRTVDek4sS0FBSzBOLFlBQWMxTixLQUFLOEQsSUFBSXNKLFVBQVUsSUFBSyxJQUFLLElBQUssR0FBSSxRQUFVLEdBQUdySixVQUFVLEdBQUssSUFDckYvRCxLQUFLd00sUUFBUTFJLElBQUl1SixTQUFTck4sS0FBSzBOLGFBQWEsR0FHNUMxTixLQUFLMk4sT0FBUzNOLEtBQUs4RCxJQUFJc0osVUFBVSxJQUFLLEdBQUksR0FBSSxJQUFLLFFBQVUsR0FBR3JKLFVBQVUsR0FBSyxJQUMvRS9ELEtBQUt3TSxRQUFRMUksSUFBSXVKLFNBQVNyTixLQUFLMk4sUUFBUSxHQUV2QzNOLEtBQUs0TixPQUFTNU4sS0FBSzhELElBQUlzSixVQUFVLElBQUssSUFBSyxJQUFLLElBQUssUUFBVSxHQUFHckosVUFBVSxHQUFLLElBQ2pGL0QsS0FBS3dNLFFBQVExSSxJQUFJdUosU0FBU3JOLEtBQUs0TixRQUFRLEdBRXZDNU4sS0FBSzZOLFdBQWE3TixLQUFLd00sUUFBUTFJLElBQUlpSixhQUFhLElBQU0sR0FBSSxVQUFVeEksU0FBUyxHQUM3RXZFLEtBQUs2TixXQUFXQyxZQUFXLEdBQzNCOU4sS0FBS3dNLFFBQVExSSxJQUFJdUosU0FBU3JOLEtBQUs2TixZQUFZLEdBQzNDN04sS0FBSzZOLFdBQVd4TSxLQUFLME0sUUFBUyxFQUc5Qi9OLEtBQUtnTyxVQUFZaE8sS0FBS3dNLFFBQVExSSxJQUFJaUosYUFBYSxJQUFLLElBQUssc0JBQXNCeEksU0FBUyxJQUN4RnZFLEtBQUtpTyxXQUFhak8sS0FBS3dNLFFBQVExSSxJQUFJaUosYUFBYSxJQUFLLElBQUsscUJBQXFCeEksU0FBUyxJQUV4RnZFLEtBQUtrTyxnQkFBa0JsTyxLQUFLOEQsSUFBSXNKLFVBQVUsSUFBSyxJQUFLLEdBQUksSUFBSyxRQUFVLEdBQUdySixVQUFVLEdBQUssSUFDekYvRCxLQUFLd00sUUFBUTFJLElBQUl1SixTQUFTck4sS0FBS2tPLGlCQUFpQixHQUVoRGxPLEtBQUttTyxpQkFBbUJuTyxLQUFLOEQsSUFBSXNKLFVBQVUsSUFBSyxJQUFLLEdBQUksSUFBSyxRQUFVLEdBQUdySixVQUFVLEdBQUssSUFDMUYvRCxLQUFLd00sUUFBUTFJLElBQUl1SixTQUFTck4sS0FBS21PLGtCQUFrQixHQUdqRG5PLEtBQUtvTyxPQUFTcE8sS0FBS3dNLFFBQVExSSxJQUFJaUosYUFBYSxJQUFLLElBQUssVUFBVXhJLFNBQVMsSUFDekV2RSxLQUFLcU8sT0FBU3JPLEtBQUs4RCxJQUFJc0osVUFBVSxJQUFLLElBQUssSUFBSyxHQUFJLFFBQVUsR0FBR3JKLFVBQVUsR0FBSyxJQUNoRi9ELEtBQUt3TSxRQUFRMUksSUFBSXVKLFNBQVNyTixLQUFLcU8sUUFBUSxHQUd2Q3JPLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUttTixRQUMzQ25OLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUttTixRQUM3Q25OLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUtzTixhQUMzQ3ROLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUtzTixhQUM3Q3ROLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUt1TixhQUMzQ3ZOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUt1TixhQUM3Q3ZOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUt3TixhQUMzQ3hOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUt3TixhQUM3Q3hOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUt5TixhQUMzQ3pOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUt5TixhQUM3Q3pOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUswTixhQUMzQzFOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUswTixhQUM3QzFOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUsyTixRQUMzQzNOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUsyTixRQUM3QzNOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUs0TixRQUMzQzVO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QUNkeVYsT0FBTyxJQUlmelosTUFBTyxDQUFFNUIsRUFBV2laLEVBQVd2UyxFQUFXcVMsRUFBZ0J2RSxFQUFhd0UsRUFBa0IzRixFQUFlRSxFQUFlYixFQUFZYyxFQUFlUyxFQUFrQkcsRUFBa0JDLEVBQWNFLEVBQWVnRCxFQUFZbkIsRUFBcUJnQixFQUFlc0IsR0FDblF4USxnQkFBaUIsYUFHckIwUixTQUFTMEIsTUFBTUMsTUFBTUMsS0FBSyxLQUNYLElBQUksT0FBWVAsSSIsInNvdXJjZXMiOlsid2VicGFjazovL2VjbGlwc2EvZXh0ZXJuYWwgdmFyIFwiUGhhc2VyXCIiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL01lbnVTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9XZWJTb2NrZXRTZXJ2aWNlLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL1BhdXNlU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL1R1dG9yaWFsU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL0NyZWRpdHNTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvU2V0dGluZ3NTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvTGV2ZWxTZWxlY3RTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvUGxhY2VIb2xkZXJTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvVmljdG9yeVNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lT3ZlclNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9MZXZlbDJTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvR2FtZU1vZGVTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvTG9iYnlTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvUmFua2luZ1NjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lTG9jYWxTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvTGV2ZWwyU2NlbmVMb2NhbC5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvQXV0aFNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCIvKipcbiAqIFNlcnZpY2lvIHBhcmEgZ2VzdGlvbmFyIGxhIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcbiAqIE1hbmVqYSBlbCBwb2xsaW5nIGFsIGVuZHBvaW50IC9hcGkvY29ubmVjdGVkIHkgZGV0ZWN0YSBww6lyZGlkYXMgZGUgY29uZXhpw7NuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSAwO1xuICAgIHRoaXMuY2hlY2tJbnRlcnZhbCA9IDIwMDA7IC8vIENvbXByb2JhciBjYWRhIDIgc2VndW5kb3NcbiAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpO1xuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XG5cbiAgICAvLyBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cbiAgICB0aGlzLnN0YXJ0UG9sbGluZygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXIgdW4gSUQgw7puaWNvIGRlIHNlc2nDs24gcGFyYSBlc3RlIGNsaWVudGVcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIGdlbmVyYXRlU2Vzc2lvbklkKCkge1xuICAgIHJldHVybiBgc2Vzc2lvbl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gIH1cblxuICAvKipcbiAgICogQ29tcHJvYmFyIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcbiAgICogQHJldHVybnMge1Byb21pc2U8e2Nvbm5lY3RlZDogbnVtYmVyLCBzdWNjZXNzOiBib29sZWFufT59XG4gICAqL1xuICBhc3luYyBjaGVja0Nvbm5lY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY29ubmVjdGVkJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWRcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IGRhdGEuY29ubmVjdGVkO1xuICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAvLyBOb3RpZmljYXIgYSBsb3MgbGlzdGVuZXJzXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiB0cnVlLCBjb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCB9KTtcblxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IHRoaXMuY29ubmVjdGVkQ291bnQsIHN1Y2Nlc3M6IHRydWUgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGNvbm5lY3Rpb246JywgZXJyb3IpO1xuICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XG4gICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1hbmVqYXIgZGVzY29uZXhpw7NuXG4gICAqL1xuICBoYW5kbGVEaXNjb25uZWN0aW9uKCkge1xuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcbiAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogZmFsc2UsIGNvdW50OiAwIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdHJhciB1biBsaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gcXVlIHNlIGxsYW1hcsOhIGN1YW5kbyBjYW1iaWUgZWwgZXN0YWRvXG4gICAqL1xuICBhZGRMaXN0ZW5lcihjYWxsYmFjaykge1xuICAgIHRoaXMubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEVsaW1pbmFyIHVuIGxpc3RlbmVyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gYSBlbGltaW5hclxuICAgKi9cbiAgcmVtb3ZlTGlzdGVuZXIoY2FsbGJhY2spIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBOb3RpZmljYXIgYSB0b2RvcyBsb3MgbGlzdGVuZXJzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gRGF0b3MgZGVsIGVzdGFkbyBkZSBjb25leGnDs25cbiAgICovXG4gIG5vdGlmeUxpc3RlbmVycyhkYXRhKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihkYXRhKSk7XG4gIH1cblxuICAvKipcbiAgICogT2J0ZW5lciBlbCBlc3RhZG8gYWN0dWFsIGRlIGNvbmV4acOzblxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cbiAgZ2V0U3RhdHVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0Nvbm5lY3RlZDogdGhpcy5pc0Nvbm5lY3RlZCxcbiAgICAgIGNvbm5lY3RlZENvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50LFxuICAgICAgbGFzdENoZWNrVGltZTogdGhpcy5sYXN0Q2hlY2tUaW1lXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY28gZGUgY29uZXhpw7NuXG4gICAqL1xuICBzdGFydFBvbGxpbmcoKSB7XG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xuICAgICAgcmV0dXJuOyAvLyBZYSBlc3TDoSBjb3JyaWVuZG9cbiAgICB9XG5cbiAgICAvLyBDb21wcm9iYXIgaW5tZWRpYXRhbWVudGVcbiAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xuXG4gICAgLy8gTHVlZ28gY29tcHJvYmFyIGNhZGEgWCBzZWd1bmRvc1xuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XG4gICAgfSwgdGhpcy5jaGVja0ludGVydmFsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlbmVyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cbiAgICovXG4gIHN0b3BQb2xsaW5nKCkge1xuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcbiAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmaWNhciBzaSBoYXkgY29uZXhpw7NuICjDunRpbCBwYXJhIG90cmFzIGVzY2VuYXMpXG4gICAqL1xuICBnZXRJc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnRlbmVyIG7Dum1lcm8gZGUgdXN1YXJpb3MgY29uZWN0YWRvc1xuICAgKi9cbiAgZ2V0Q29ubmVjdGVkVXNlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGVkQ291bnQ7XG4gIH1cbn1cblxuLy8gQ3JlYXIgaW5zdGFuY2lhIHNpbmdsZXRvblxuZXhwb3J0IGNvbnN0IGNvbm5lY3Rpb25NYW5hZ2VyID0gbmV3IENvbm5lY3Rpb25NYW5hZ2VyKCk7XG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7ICAvL2ltcG9ydGFtb3MgaW5zdGFuY2lhIGRlbCBvYmpldG9cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTWVudVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNZW51U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIE3DunNpY2EgZGUgZm9uZG8gZGVsIG1lbsO6XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdNZW51TXVzaWMnLCAnYXNzZXRzL3Nvbmlkby9pbmljaW8ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIGZvbmRvIGRlbCBtZW7DulxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGFudGFsbGFfZGVfaW5pY2lvJywgJ2Fzc2V0cy9mb25kb19wYW50YWxsYV9pbmljaW8ucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBkZSBqdWVnbyBsb2NhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTG9jYWxQbGF5QnV0dG9uJywgJ2Fzc2V0cy9qdWdhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xvY2FsUGxheUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9qdWdhckhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gZGUgdHV0b3JpYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1R1dG9yaWFsQnV0dG9uJywgJ2Fzc2V0cy90dXRvcmlhbC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1R1dG9yaWFsQnV0dG9uSG92ZXInLCAnYXNzZXRzL3R1dG9yaWFsSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBkZSBjcsOpZGl0b3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NyZWRpdG9zQnV0dG9uJywgJ2Fzc2V0cy9jcmVkaXRvcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NyZWRpdG9zQnV0dG9uSG92ZXInLCAnYXNzZXRzL2NyZWRpdG9zSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBkZSBzYWxpciBkZSBqdWVnb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdEJ1dHRvbicsICdhc3NldHMvc2FsaXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0QnV0dG9uSG92ZXInLCAnYXNzZXRzL3NhbGlySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBkZSBhanVzdGVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc0J1dHRvbicsICdhc3NldHMvYWp1c3Rlcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzQnV0dG9uSG92ZXInLCAnYXNzZXRzL2FqdXN0ZXNIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIGRlIHJhbmtpbmdcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JhbmtpbmdCdXR0b24nLCAnYXNzZXRzL3JhbmtpbmcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSYW5raW5nQnV0dG9uSG92ZXInLCAnYXNzZXRzL3JhbmtpbmdIb3Zlci5wbmcnKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBEZXRlbmVyIGxhIG3DunNpY2EgZGVsIGp1ZWdvIHNpIGVzdMOhIHNvbmFuZG9cclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BCeUtleSgnR2FtZU11c2ljJyk7XHJcblxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbcO6c2ljYSBkZWwgbWVuw7pcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ01lbnVNdXNpYycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiB0aGlzLnNvdW5kLnZvbHVtZSB9KTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG8gZGVsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnUGFudGFsbGFfZGVfaW5pY2lvJykuc2V0T3JpZ2luKDApO1xyXG4gICAgICAgIGJnLnNldERpc3BsYXlTaXplKHRoaXMuc2NhbGUud2lkdGgsIHRoaXMuc2NhbGUuaGVpZ2h0KTtcclxuICAgICAgICBiZy5zZXREZXB0aCgtMSk7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgLy8gQm90w7NuIGRlIGp1ZWdvIGxvY2FsXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC5pbWFnZSgzMDUsIDM0MCwgJ0xvY2FsUGxheUJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgbG9jYWxCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDMwNSwgMzQwLCAnTG9jYWxQbGF5QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChsb2NhbEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxvY2FsQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsb2NhbEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdHYW1lTW9kZVNjZW5lJyk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSB0dXRvcmlhbFxyXG4gICAgICAgIGNvbnN0IHR1dG9yaWFsQnRuID0gdGhpcy5hZGQuaW1hZ2UoMzEyLCA0NTAsICdUdXRvcmlhbEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgdHV0b3JpYWxCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDMxMiwgNDUwLCAnVHV0b3JpYWxCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHR1dG9yaWFsQnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdHV0b3JpYWxCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHR1dG9yaWFsQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1R1dG9yaWFsU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIGNyw6lkaXRvc1xyXG4gICAgICAgIGNvbnN0IGNyZWRpdG9zQnRuID0gdGhpcy5hZGQuaW1hZ2UoMzA1LCA1NjAsICdDcmVkaXRvc0J1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY3JlZGl0b3NCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDMxMiwgNTU1LCAnQ3JlZGl0b3NCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKGNyZWRpdG9zQnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY3JlZGl0b3NCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNyZWRpdG9zQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0NyZWRpdHNTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgcGFudGFsbGEgZGUgcmFua2luZ1xyXG4gICAgICAgIGNvbnN0IHJhbmtpbmdCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMjAwLCA3NSwgJ1JhbmtpbmdCdXR0b24nKSBcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpICAgIFxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gdGhpcy5zY2VuZS5sYXVuY2goJ1JhbmtpbmdTY2VuZScpKTtcclxuXHJcbiAgICAgICAgcmFua2luZ0J0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMTIwMCwgNzUsICdSYW5raW5nQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyYW5raW5nQnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmFua2luZ0J0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyIGRlIGp1ZWdvXHJcbiAgICAgICAgY29uc3QgZXhpdEJ0biA9IHRoaXMuYWRkLmltYWdlKDMxMiwgNjcwLCAnRXhpdEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMzEyLCA2NzAsICdFeGl0QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChleGl0QnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIENpZXJyYSBsYSB2ZW50YW5hIGRlbCBuYXZlZ2Fkb3IgbyBwZXN0YcOxYVxyXG4gICAgICAgICAgICB3aW5kb3cuY2xvc2UoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIGFqdXN0ZXNcclxuICAgICAgICBjb25zdCBzZXR0aW5nc0J0biA9IHRoaXMuYWRkLmltYWdlKDEzMzAsIDc1LCAnU2V0dGluZ3NCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgc2V0dGluZ3NCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEzMzUsIDc1LCAnU2V0dGluZ3NCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoc2V0dGluZ3NCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzZXR0aW5nc0J0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2V0dGluZ3NCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnU2V0dGluZ3NTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vID09PSBJbmRpY2Fkb3IgZGUgY29uZXhpw7NuID09PVxyXG4gICAgLy8gUHVudGl0byBkZSBlc3RhZG9cclxuICAgIHRoaXMuY29ubmVjdGlvbkRvdCA9IHRoaXMuYWRkLmNpcmNsZSg3MCwgNTAsIDEwLCAweGZmMDAwMClcclxuICAgICAgICAuc2V0RGVwdGgoMTAwMCk7XHJcblxyXG4gICAgLy8gVGV4dG8gY29uIG7Dum1lcm8gZGUgdXN1YXJpb3NcclxuICAgIHRoaXMuY29ubmVjdGlvbkNvdW50VGV4dCA9IHRoaXMuYWRkLnRleHQoODUsIDQwLCAnMCcsIHtcclxuICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgIGZvbnRGYW1pbHk6ICdcIkNhdWRleFwiLCBzZXJpZicsXHJcbiAgICAgICAgY29sb3I6ICcjZGE4MTgxZmYnXHJcbiAgICB9KS5zZXREZXB0aCgxMDAwKTtcclxuXHJcbiAgICAvLyBMaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuICAtLSAgdXN1YXJpb3MgY29uZWN0YWRvc1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhdGhpcy5jb25uZWN0aW9uRG90IHx8XHJcbiAgICAgICAgICAgICF0aGlzLmNvbm5lY3Rpb25Db3VudFRleHQgfHxcclxuICAgICAgICAgICAgIXRoaXMuc2NlbmUgfHxcclxuICAgICAgICAgICAgIXRoaXMuc2NlbmUuaXNBY3RpdmUoJ01lbnVTY2VuZScpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gVmVyZGVcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyZWVuQ29sb3IgPSAweGExZGJhMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkRvdC5zZXRGaWxsU3R5bGUoZ3JlZW5Db2xvcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25Db3VudFRleHQuc2V0VGV4dChTdHJpbmcoZGF0YS5jb3VudCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uQ291bnRUZXh0LnNldENvbG9yKCcjYTFkYmExJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSb2pvXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWRDb2xvciA9IDB4ZGE4MTgxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uRG90LnNldEZpbGxTdHlsZShyZWRDb2xvcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25Db3VudFRleHQuc2V0VGV4dCgnLS0nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkNvdW50VGV4dC5zZXRDb2xvcihyZWRDb2xvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbTWVudVNjZW5lXSBFcnJvciB1cGRhdGluZyBjb25uZWN0aW9uIGRpc3BsYXk6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgV2ViU29ja2V0U2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMud3MgPSBudWxsO1xuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5yb29tSWQgPSBudWxsO1xuICAgIHRoaXMucGxheWVyUm9sZSA9IG51bGw7IC8vICduaXZpYScgbyAnc29sZW5uZSdcbiAgICB0aGlzLm1lc3NhZ2VIYW5kbGVycyA9IG5ldyBNYXAoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25lY3RhciBhbCBzZXJ2aWRvciBXZWJTb2NrZXRcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBjb25uZWN0KCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB3c1VybCA9IGB3czovLyR7d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lfTozMDAwYDtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIwgQ29uZWN0YW5kbyBhIFdlYlNvY2tldDonLCB3c1VybCk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCh3c1VybCk7XG5cbiAgICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBXZWJTb2NrZXQgY29uZWN0YWRvJyk7XG4gICAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTWVzc2FnZShkYXRhKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHBhcnNlYW5kbyBtZW5zYWplOicsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGVuIFdlYlNvY2tldDonLCBlcnJvcik7XG4gICAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjCBXZWJTb2NrZXQgZGVzY29uZWN0YWRvJyk7XG4gICAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLm5vdGlmeUhhbmRsZXIoJ2Nvbm5lY3Rpb25Mb3N0Jyk7XG4gICAgICAgIH07XG5cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTWFuZWphciBtZW5zYWplcyBkZWwgc2Vydmlkb3JcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBEYXRvcyByZWNpYmlkb3NcbiAgICovXG4gIGhhbmRsZU1lc3NhZ2UoZGF0YSkge1xuICAgIGNvbnNvbGUubG9nKCfwn5OoIE1lbnNhamUgcmVjaWJpZG86JywgZGF0YS50eXBlKTtcbiAgICB0aGlzLm5vdGlmeUhhbmRsZXIoZGF0YS50eXBlLCBkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RyYXIgdW4gaGFuZGxlciBwYXJhIHVuIHRpcG8gZGUgbWVuc2FqZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRpcG8gZGUgbWVuc2FqZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIGEgbGxhbWFyXG4gICAqL1xuICBvbih0eXBlLCBjYWxsYmFjaykge1xuICAgIGlmICghdGhpcy5tZXNzYWdlSGFuZGxlcnMuaGFzKHR5cGUpKSB7XG4gICAgICB0aGlzLm1lc3NhZ2VIYW5kbGVycy5zZXQodHlwZSwgW10pO1xuICAgIH1cbiAgICB0aGlzLm1lc3NhZ2VIYW5kbGVycy5nZXQodHlwZSkucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlciB1biBoYW5kbGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGlwbyBkZSBtZW5zYWplXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gYSByZW1vdmVyXG4gICAqL1xuICBvZmYodHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodGhpcy5tZXNzYWdlSGFuZGxlcnMuaGFzKHR5cGUpKSB7XG4gICAgICBjb25zdCBoYW5kbGVycyA9IHRoaXMubWVzc2FnZUhhbmRsZXJzLmdldCh0eXBlKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gaGFuZGxlcnMuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBoYW5kbGVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBOb3RpZmljYXIgYSBsb3MgaGFuZGxlcnMgcmVnaXN0cmFkb3NcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaXBvIGRlIG1lbnNhamVcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBEYXRvcyBkZWwgbWVuc2FqZVxuICAgKi9cbiAgbm90aWZ5SGFuZGxlcih0eXBlLCBkYXRhID0ge30pIHtcbiAgICBpZiAodGhpcy5tZXNzYWdlSGFuZGxlcnMuaGFzKHR5cGUpKSB7XG4gICAgICB0aGlzLm1lc3NhZ2VIYW5kbGVycy5nZXQodHlwZSkuZm9yRWFjaChoYW5kbGVyID0+IGhhbmRsZXIoZGF0YSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbnZpYXIgbWVuc2FqZSBhbCBzZXJ2aWRvclxuICAgKiBAcGFyYW0ge09iamVjdH0gbWVzc2FnZSAtIE1lbnNhamUgYSBlbnZpYXJcbiAgICovXG4gIHNlbmQobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBXZWJTb2NrZXQgbm8gZXN0w6EgY29uZWN0YWRvJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gTcOJVE9ET1MgRVNQRUPDjUZJQ09TIERFTCBKVUVHTyA9PT09PT09PT09PT09PT09PT09PVxuXG4gIC8qKlxuICAgKiBVbmlyc2UgYSBsYSBjb2xhIGRlIG1hdGNobWFraW5nXG4gICAqL1xuICBqb2luUXVldWUoKSB7XG4gICAgdGhpcy5zZW5kKHsgdHlwZTogJ2pvaW5RdWV1ZScgfSk7XG4gICAgY29uc29sZS5sb2coJ/Cfk6UgVW5pw6luZG9zZSBhIGxhIGNvbGEuLi4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYWxpciBkZSBsYSBjb2xhXG4gICAqL1xuICBsZWF2ZVF1ZXVlKCkge1xuICAgIHRoaXMuc2VuZCh7IHR5cGU6ICdsZWF2ZVF1ZXVlJyB9KTtcbiAgICBjb25zb2xlLmxvZygn8J+TpCBTYWxpZW5kbyBkZSBsYSBjb2xhLi4uJyk7XG4gIH1cblxuICAvKipcbiAgICogRW52aWFyIG1vdmltaWVudG8gZGVsIGp1Z2Fkb3JcbiAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBQb3NpY2nDs24gWFxuICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFBvc2ljacOzbiBZXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmxpcFggLSBPcmllbnRhY2nDs24gZGVsIHNwcml0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gYW5pbUtleSAtIENsYXZlIGRlIGxhIGFuaW1hY2nDs24gYWN0dWFsXG4gICAqL1xuICBzZW5kUGxheWVyTW92ZSh4LCB5LCBmbGlwWCwgYW5pbUtleSkge1xuICAgIHRoaXMuc2VuZCh7XG4gICAgICB0eXBlOiAncGxheWVyTW92ZScsXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIGZsaXBYLFxuICAgICAgYW5pbUtleVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmaWNhciByZWNvbGVjY2nDs24gZGUgY3Jpc3RhbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gY3J5c3RhbFR5cGUgLSAnbW9vbicgbyAnc3VuJ1xuICAgKi9cbiAgc2VuZENyeXN0YWxDb2xsZWN0KGNyeXN0YWxUeXBlKSB7XG4gICAgdGhpcy5zZW5kKHtcbiAgICAgIHR5cGU6ICdjcnlzdGFsQ29sbGVjdCcsXG4gICAgICBjcnlzdGFsVHlwZVxuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKGDwn5KOIENyaXN0YWwgJHtjcnlzdGFsVHlwZX0gcmVjb2dpZG9gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3RpZmljYXIgY29udGFjdG8gY29uIHBvcnRhbFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9uUG9ydGFsIC0gU2kgZXN0w6EgdG9jYW5kbyBlbCBwb3J0YWxcbiAgICovXG4gIHNlbmRQb3J0YWxUb3VjaChvblBvcnRhbCkge1xuICAgIHRoaXMuc2VuZCh7XG4gICAgICB0eXBlOiAncG9ydGFsVG91Y2gnLFxuICAgICAgb25Qb3J0YWxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3RpZmljYXIgZ2FtZSBvdmVyICh0cmFtcGEgdG9jYWRhLCBldGMpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb24gLSBSYXrDs24gZGVsIGdhbWUgb3ZlclxuICAgKi9cbiAgc2VuZEdhbWVPdmVyKHJlYXNvbiA9ICd0cmFwJykge1xuICAgIHRoaXMuc2VuZCh7XG4gICAgICB0eXBlOiAnZ2FtZU92ZXInLFxuICAgICAgcmVhc29uXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVzY29uZWN0YXJcbiAgICovXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMud3MpIHtcbiAgICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgICAgIHRoaXMud3MgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMucm9vbUlkID0gbnVsbDtcbiAgICB0aGlzLnBsYXllclJvbGUgPSBudWxsO1xuICAgIHRoaXMubWVzc2FnZUhhbmRsZXJzLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpY2FyIHNpIGVzdMOhIGNvbmVjdGFkb1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGlzQ29ubmVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3RlZCAmJiB0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU47XG4gIH1cblxuICAvKipcbiAgICogT2J0ZW5lciByb2wgZGVsIGp1Z2Fkb3JcbiAgICogQHJldHVybnMge3N0cmluZ3xudWxsfVxuICAgKi9cbiAgZ2V0UGxheWVyUm9sZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXJSb2xlO1xuICB9XG5cbiAgLyoqXG4gICAqIEVzdGFibGVjZXIgcm9sIGRlbCBqdWdhZG9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByb2xlIC0gJ25pdmlhJyBvICdzb2xlbm5lJ1xuICAgKi9cbiAgc2V0UGxheWVyUm9sZShyb2xlKSB7XG4gICAgdGhpcy5wbGF5ZXJSb2xlID0gcm9sZTtcbiAgICBjb25zb2xlLmxvZyhg8J+OriBSb2wgYXNpZ25hZG86ICR7cm9sZX1gKTtcbiAgfVxufVxuXG4vLyBFeHBvcnRhciBpbnN0YW5jaWEgc2luZ2xldG9uXG5leHBvcnQgY29uc3Qgd3NTZXJ2aWNlID0gbmV3IFdlYlNvY2tldFNlcnZpY2UoKTsiLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tIFwiLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXJcIjtcclxuaW1wb3J0IHsgd3NTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL1dlYlNvY2tldFNlcnZpY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ29udHJvbCBkZSBkZXNjb25leGnDs24gcGFyYSBldml0YXIgbG9vcHNcclxuICAgICAgICB0aGlzLmlzSGFuZGxpbmdEaXNjb25uZWN0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sYXN0RGlzY29ubmVjdGlvblRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuZGlzY29ubmVjdGlvbkNvb2xkb3duID0gMTAwMDsgLy8gMSBzZWd1bmRvIGRlIGVzcGVyYSBlbnRyZSBkZXRlY2Npb25lc1xyXG4gICAgXHJcbiAgICAgICAgLy8gRGF0b3MgbXVsdGlqdWdhZG9yXHJcbiAgICAgICAgdGhpcy5pc011bHRpcGxheWVyID0gZGF0YS5pc011bHRpcGxheWVyIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGxheWVyUm9sZSA9IGRhdGEucGxheWVyUm9sZSB8fCBudWxsO1xyXG4gICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQgfHwgbnVsbDtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbCBkZSBwZXJzb25hamVzIGVuIG11bHRpanVnYWRvclxyXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSBudWxsOyAgLy8gRWwgcXVlIGNvbnRyb2xhcyB0w7pcclxuICAgICAgICB0aGlzLnJlbW90ZVBsYXllciA9IG51bGw7IC8vIEVsIHF1ZSBjb250cm9sYSBlbCBvdHJvIGp1Z2Fkb3JcclxuXHJcbiAgICAgICAgLy8gU2luY3Jvbml6YWNpw7NuIGRlIHJlZFxyXG4gICAgICAgIHRoaXMubGFzdFN5bmNUaW1lID0gMDtcclxuICAgICAgICB0aGlzLnN5bmNJbnRlcnZhbCA9IDUwOyAvLyBFbnZpYXIgcG9zaWNpw7NuIGNhZGEgNTBtc1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+OriBHYW1lU2NlbmUgaW5pY2lhZG9gKTtcclxuICAgICAgICBpZiAodGhpcy5pc011bHRpcGxheWVyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5GkIFJvbDogJHt0aGlzLnBsYXllclJvbGV9IHwg8J+aqiBTYWxhOiAke3RoaXMucm9vbUlkfWApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gTW9zdHJhciBhbnVuY2lvIGRlIHF1w6kgcGVyc29uYWplIGVzXHJcbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3Rlck5hbWUgPSB0aGlzLnBsYXllclJvbGUgPT09ICduaXZpYScgPyAn8J+MmSBOSVZJQSAoTHVuYSknIDogJ+KYgO+4jyBTT0xFTk5FIChTb2wpJztcclxuICAgICAgICAgICAgY29uc3QgYW5ub3VuY2VtZW50VGV4dCA9IHRoaXMuYWRkLnRleHQoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAvIDIsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQgLyAyLFxyXG4gICAgICAgICAgICAgICAgYMKhRXJlcyAke2NoYXJhY3Rlck5hbWV9IWAsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5wbGF5ZXJSb2xlID09PSAnbml2aWEnID8gJyM4N0NFRUInIDogJyNGRkQ3MDAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiB7IHg6IDIwLCB5OiAxMCB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMDApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQW5pbWFyIGVsIHRleHRvIHkgbHVlZ28gZGVzYXBhcmVjZXJsb1xyXG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0czogYW5ub3VuY2VtZW50VGV4dCxcclxuICAgICAgICAgICAgICAgIGFscGhhOiAwLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMDAsXHJcbiAgICAgICAgICAgICAgICBkZWxheTogMTUwMCxcclxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhbm5vdW5jZW1lbnRUZXh0LmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc011bHRpcGxheWVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlYXZlQnV0dG9uID0gdGhpcy5hZGQudGV4dCh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAvIDIsIDQwLCAn8J+aqiBBYmFuZG9uYXInLCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZmY2NjY2JyxcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogeyB4OiAxMCwgeTogNSB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMCk7XHJcblxyXG4gICAgICAgICAgICBsZWF2ZUJ1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZWF2ZUJ1dHRvbi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMzMzMzMzMnLCBjb2xvcjogJyNmZjAwMDAnIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxlYXZlQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGVhdmVCdXR0b24uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJywgY29sb3I6ICcjZmY2NjY2JyB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBsZWF2ZUJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBDb25maXJtYXIgYW50ZXMgZGUgYWJhbmRvbmFyXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb25maXJtTGVhdmUgPSBjb25maXJtKCfCv1NlZ3VybyBxdWUgcXVpZXJlcyBhYmFuZG9uYXIgbGEgcGFydGlkYT9cXG5cXG5FbCBvdHJvIGp1Z2Fkb3Igc2Vyw6Egbm90aWZpY2Fkby4nKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1MZWF2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGlmaWNhciBhbCBzZXJ2aWRvciBxdWUgYWJhbmRvbmFzXHJcbiAgICAgICAgICAgICAgICAgICAgd3NTZXJ2aWNlLnNlbmRHYW1lT3ZlcignZGlzY29ubmVjdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIERlc2NvbmVjdGFyXHJcbiAgICAgICAgICAgICAgICAgICAgd3NTZXJ2aWNlLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBWb2x2ZXIgYWwgbWVuw7pcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSAgIFxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLmxvYWQuYXRsYXMoJ25pdmlhJywgJ2Fzc2V0cy9uaXZpYS9uaXZpYV9zaGVldC5wbmcnLCAnYXNzZXRzL25pdmlhL25pdmlhX3NoZWV0Lmpzb24nKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXRsYXMoJ3NvbGVubmUnLCAnYXNzZXRzL3NvbGVubmUvc29sZW5uZV9zaGVldC5wbmcnLCAnYXNzZXRzL3NvbGVubmUvc29sZW5uZV9zaGVldC5qc29uJyk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBjcmlzdGFsZXNcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3N1bmRyb3Bfc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL3N1bmRyb3AucG5nJywgeyBmcmFtZVdpZHRoOiAyMTQsIGZyYW1lSGVpZ2h0OiAyMDYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uZHJvcF9zaGVldCcsICdhc3NldHMvaXRlbXMvbW9vbmRyb3AucG5nJywgeyBmcmFtZVdpZHRoOiAyMTQsIGZyYW1lSGVpZ2h0OiAyMDYgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnc3VuX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9zdW4ucG5nJywgeyBmcmFtZVdpZHRoOiAzNDcsIGZyYW1lSGVpZ2h0OiAzMjkgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9tb29uLnBuZycsIHsgZnJhbWVXaWR0aDogMzQ3LCBmcmFtZUhlaWdodDogMzI5IH0pO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZWwgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwxL2ZvbmRvX2FiYWpvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhdGFmb3JtYXMnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvcGxhdGFmb3JtYXNfYWJham8ucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBlbGVtZW50b3MgZGVsIGVzY2VuYXJpb1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhTml2ZWwxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwxL3B1ZXJ0YV9jbGFyYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYU5pdmVsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9wdWVydGFfb3NjdXJhLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmExLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmEyTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTNOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYTFOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX29zY3VyYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFPc2N1cmEyTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9vc2N1cmEyLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uQ2xhcm9OaXZlbDEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvYm90b25fY2xhcm8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk9zY3VybzFOaXZlbDEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvYm90b25fb3NjdXJvLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25DbGFyb05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9jbGFyby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uT3NjdXJvMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9vc2N1cm8xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Pc2N1cm8yTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX29zY3VybzIucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9ydGFsJywgJ2Fzc2V0cy90cmFtcGFzL3B1ZXJ0YUZpbmFsLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgYm90b25lc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGF1c2VCdXR0b24nLCAnYXNzZXRzL3BhdXNhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGF1c2VCdXR0b25Ib3ZlcicsICdhc3NldHMvcGF1c2FIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc0J1dHRvbicsICdhc3NldHMvYWp1c3Rlcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzQnV0dG9uSG92ZXInLCAnYXNzZXRzL2FqdXN0ZXNIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbicsICdhc3NldHMvcmVpbmljaWFyLlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9yZWluaWNpYXJIb3Zlci5QTkcnKTtcclxuXHJcbiAgICAgICAgLy9EYcOxb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZGFtYWdlJywgJ2Fzc2V0cy90cmFtcGFzL2xpYW5hc19wbGF0YWZvcm1hcy5wbmcnKVxyXG5cclxuICAgICAgICAvLyBFZmVjdG9zIGRlIHNvbmlkbyB5IG3DunNpY2EgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3dhbGtTb3VuZCcsICdhc3NldHMvc29uaWRvL2NhbWluYXIubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0U3VuQ3J5c3RhbFNvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY3Jpc3RhbENsYXJvLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnY29sbGVjdE1vb25DcnlzdGFsU291bmQnLCAnYXNzZXRzL3Nvbmlkby9jcmlzdGFsT3NjdXJvLm1wMycpO1xyXG5cclxuICAgICAgICAvLyBNw5pTSUNBIEVTUEVDw41GSUNBIERFTCBKVUVHT1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnR2FtZU11c2ljJywgJ2Fzc2V0cy9zb25pZG8vanVlZ28ubXAzJyk7IC8vIGFqdXN0YSBydXRhIHNpIGhhY2UgZmFsdGFcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIC8vIERldGVjdGEgcMOpcmRpZGEgZGUgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBFdml0YXIgbcO6bHRpcGxlcyBkaXNwYXJvcyBkZWwgbWlzbW8gZXZlbnRvXHJcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGlmICghZGF0YS5jb25uZWN0ZWQgJiYgdGhpcy5zY2VuZS5pc0FjdGl2ZSgnR2FtZVNjZW5lJykgJiYgIXRoaXMuaXNIYW5kbGluZ0Rpc2Nvbm5lY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGlmIChub3cgLSB0aGlzLmxhc3REaXNjb25uZWN0aW9uVGltZSA+IHRoaXMuZGlzY29ubmVjdGlvbkNvb2xkb3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCBDb25leGnDs24gcGVyZGlkYSBkdXJhbnRlIGVsIGp1ZWdvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0hhbmRsaW5nRGlzY29ubmVjdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RGlzY29ubmVjdGlvblRpbWUgPSBub3c7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3Rpb25Mb3N0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5jb25uZWN0ZWQgJiYgdGhpcy5pc0hhbmRsaW5nRGlzY29ubmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVjb25leGnDs24gZGV0ZWN0YWRhXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSGFuZGxpbmdEaXNjb25uZWN0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFJlY29uZXhpw7NuIGRldGVjdGFkYScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRXZlbnQgbGlzdGVuZXIgcGFyYSBjdWFuZG8gbGEgZXNjZW5hIHNlIHJlYW51ZGFcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncmVzdW1lJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnR2FtZVNjZW5lIHJlYW51ZGFkYScpO1xyXG4gICAgICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5yZXN1bWUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFdmVudCBsaXN0ZW5lciBwYXJhIGN1YW5kbyBsYSBlc2NlbmEgc2UgcGF1c2FcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncGF1c2UnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHYW1lU2NlbmUgcGF1c2FkYScpO1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgbWFwV2lkdGhJblBpeGVscyA9IDE0MjA7XHJcbiAgICAgICAgY29uc3QgbWFwSGVpZ2h0SW5QaXhlbHMgPSA4MDA7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIERldGVuZXIgc29sbyBsYSBtw7pzaWNhIGRlbCBtZW7DuiBzaSBlc3TDoSBzb25hbmRvXHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ01lbnVNdXNpYycpO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIGxhIG3DunNpY2EgZGVsIGp1ZWdvXHJcbiAgICAgICAgaWYgKHRoaXMuY2FjaGUuYXVkaW8uZXhpc3RzKCdHYW1lTXVzaWMnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ0dhbWVNdXNpYycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjF9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFncmVnYXIgZm9uZG9cclxuICAgICAgICAvL2NvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvMScpLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICAvL2JnLnNldERpc3BsYXlTaXplKG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgwLCAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgYmcuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xyXG5cclxuICAgICAgICBjb25zdCBwbGF0YWZvcm1hID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoMCwgMCwgJ3BsYXRhZm9ybWFzJykuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHBsYXRhZm9ybWEuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFjacOzbiBkZSBsYSBmw61zaWNhIGRlbCBtdW5kb1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy53b3JsZC5ncmF2aXR5LnkgPSAxNTAwO1xyXG5cclxuICAgICAgICAvLyBDcmVhY2nDs24gZGUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gVEVNUE9SQUw6IENyZWFyIHVuIHN1ZWxvIHNpbXBsZSBwYXJhIHF1ZSBwdWVkYW4gc2FsdGFyIHkgY2FlclxyXG4gICAgICAgIHRoaXMuZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIG1hcEhlaWdodEluUGl4ZWxzLCBtYXBXaWR0aEluUGl4ZWxzLCAxMCwgMHgwMEZGMDAsIDApLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZ3JvdW5kLCB0cnVlKTsgLy8gdHJ1ZSA9IGVzdMOhdGljb1xyXG5cclxuICAgICAgICAvL0NyZWFjacOzbiBkZSBsYXMgcGxhdGFmb3JtYXNcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWExID0gdGhpcy5hZGQucmVjdGFuZ2xlKDIwMCwgNDgwLCAzMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTEsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWEyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDU3NSwgNDgwLCAxNTAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTIsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWEzID0gdGhpcy5hZGQucmVjdGFuZ2xlKDEwMDAsIDU1MCwgNDAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWEzLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hNCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgzMDAsIDE1MCwgMjAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWE0LCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hNSA9IHRoaXMuYWRkLnJlY3RhbmdsZSg4NzUsIDI3NSwgMTUwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWE1LCB0cnVlKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMucGFyZWQxID0gdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgNTAsIDIwLCAyMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wYXJlZDEsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBhcmVkMiA9IHRoaXMuYWRkLnJlY3RhbmdsZSg5MDAsIDcwMCwgMjAwLCAzMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wYXJlZDIsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmV4aXRQb3J0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgxMDAwLCAxMCwgJ3BvcnRhbCcpLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZXhpdFBvcnRhbCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsLmJvZHkuZW5hYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHB1ZXJ0YXNcclxuICAgICAgICB0aGlzLmRhcmtEb29yMSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDcwMCwgNDAwLCAncHVlcnRhT3NjdXJhTml2ZWwxJykuc2V0U2NhbGUoMC43KTtcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSg3NTAsIDQwMCwgJ3B1ZXJ0YUNsYXJhTml2ZWwxJykuc2V0U2NhbGUoMC43KTtcclxuXHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjFIaXRib3ggPSB0aGlzLmFkZC5yZWN0YW5nbGUoMjUwLCAzNzUsIDIwLCAzMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYXJrRG9vcjFIaXRib3gsIHRydWUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjFIaXRib3ggPSB0aGlzLmFkZC5yZWN0YW5nbGUoOTIwLCA0MDAsIDIwLCAyODAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5saWdodERvb3IxSGl0Ym94LCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gZGHDsW8gcGxhY2Vob2xkZXJcclxuICAgICAgICB0aGlzLnRyYW1wYSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDQ1MCwgMTUwLCAnZGFtYWdlJykuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLmRhbWFnZSA9IHRoaXMuYWRkLnJlY3RhbmdsZSg0ODAsIDEwMCwgMTAwLCA2MCwgMHgzM2ZmMDAsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIENvbGlzaW9uZXMgZW50cmUgcGVyc29uYWplcyB5IGVsIHN1ZWxvIHkgcGxhdGFmb3JtYXNcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMuZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5ncm91bmQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTEpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hMyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hNCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wYXJlZDEpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBhcmVkMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBhcmVkMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGFyZWQyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMubGlnaHREb29yMUhpdGJveCk7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5saWdodERvb3IxSGl0Ym94KTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5kYXJrRG9vcjFIaXRib3gpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmRhcmtEb29yMUhpdGJveCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygnbml2aWEnKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUFuaW1hdGlvbnMoJ3NvbGVubmUnKTtcclxuXHJcbiAgICAgICAgLy8gSW5pY2lhciBsYSBhbmltYWNpw7NuICdydW4nIHBhcmEgcHJvYmFyIChzZSBjb3JyZWdpcsOhIGVuIHVwZGF0ZSlcclxuICAgICAgICB0aGlzLm5pdmlhLnBsYXkoJ25pdmlhX2lkbGUnKTtcclxuICAgICAgICB0aGlzLnNvbGVubmUucGxheSgnc29sZW5uZV9pZGxlJyk7XHJcblxyXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3Mgb2JqZXRvc1xyXG4gICAgICAgIHRoaXMuY3J5c3RhbHMgPSB0aGlzLnBoeXNpY3MuYWRkLmdyb3VwKHthbGxvd0dyYXZpdHk6IGZhbHNlLCBpbW1vdmFibGU6IHRydWV9KTtcclxuICAgICAgICB0aGlzLm1vb25DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoMTEwMCwgNDAwLCAnbW9vbmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoMTAwLCAxMDAsICdzdW5kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIC8vdGhpcy5zdW5DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUobWFwLndpZHRoSW5QaXhlbHMgLSAyMDAsIDMwMCwgJ3N1bkNyeXN0YWwnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgLy90aGlzLm1ldGFQb3J0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZShtYXBXaWR0aEluUGl4ZWxzIC8gMiwgNTAsICdtZXRhUG9ydGFsJykuc2V0SW1tb3ZhYmxlKHRydWUpLnNldEJvZHlTaXplKDY0LCA2NCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gQW5pbWFjaW9uZXMgZGUgbG9zIG9iamV0b3NcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3N1bmRyb3BfaWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnc3VuZHJvcF9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogNyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ21vb25kcm9wX2lkbGUnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ21vb25kcm9wX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiA3IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwucGxheSgnbW9vbmRyb3BfaWRsZScpO1xyXG4gICAgICAgIHRoaXMuc3VuQ3J5c3RhbC5wbGF5KCdzdW5kcm9wX2lkbGUnKTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZWwgSWNvbm8gZGVsIFNvbCAoSFVEKVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnc3VuX2h1ZF9hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdzdW5fc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGVsIEljb25vIGRlIGxhIEx1bmEgKEhVRClcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ21vb25faHVkX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ21vb25fc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBkZSBMdW5hIChOaXZpYSkgLSBJenF1aWVyZGFcclxuICAgICAgICB0aGlzLm1vb25IVUQgPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCAtIDIwLCA0MCwgJ21vb25fc2hlZXQnKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjE1KSAvLyBFc2NhbGEgTVVZIHJlZHVjaWRhLCB5YSBxdWUgbG9zIHNwcml0ZXNoZWV0cyBzb24gZ3JhbmRlcyAoMzQ3eDMyOSlcclxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKVxyXG4gICAgICAgICAgICAucGxheSgnbW9vbl9odWRfYW5pbScpOyAvLyBJbmljaWEgbGEgYW5pbWFjacOzblxyXG5cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgZGUgU29sIChTb2xlbm5lKSAtIERlcmVjaGFcclxuICAgICAgICB0aGlzLnN1bkhVRCA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYICsgMjAsIDQwLCAnc3VuX3NoZWV0JylcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4xNSkgLy8gRXNjYWxhIE1VWSByZWR1Y2lkYVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgICAgIC5wbGF5KCdzdW5faHVkX2FuaW0nKTsgLy8gSW5pY2lhIGxhIGFuaW1hY2nDs25cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBsYSByZWNvbGVjY2nDs24gZGUgY3Jpc3RhbGVzXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubW9vbkNyeXN0YWwsIHRoaXMuY29sbGVjdE1vb25DcnlzdGFsLCBudWxsLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLnN1bkNyeXN0YWwsIHRoaXMuY29sbGVjdFN1bkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGZpbiBkZSBuaXZlbCAoT3ZlcmxhcCBkZWwgcG9ydGFsKVxyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubWV0YVBvcnRhbCwgdGhpcy5jaGVja0xldmVsQ29tcGxldGUsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5tZXRhUG9ydGFsLCB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSwgbnVsbCwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIENvbGlzaW9uZXMgZW50cmUgcGVyc29uYWplcyB5IGVsIG5pdmVsXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIGdlb21ldHJ5TGF5ZXIpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIGdlb21ldHJ5TGF5ZXIpO1xyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFjacOzbiBkZSBsYSBjw6FtYXJhXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0Qm91bmRzKDAsIDAsIG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTsgIFxyXG5cclxuICAgICAgICAvLyBDb250cm9sIGRlIHBhdXNhXHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5leGl0UG9ydGFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZXhpdFBvcnRhbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBwYXVzYVxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDQwLCA0MCwgJ1BhdXNlQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKSBcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC41KSBcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMCk7IFxyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDQwLCA0MCwgJ1BhdXNlQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMucGF1c2VCdXR0b24uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpOyBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIGFqdXN0ZXNcclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAxMjAsIDQwLCAnU2V0dGluZ3NCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApIFxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTsgXHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gMTIwLCA0MCwgJ1NldHRpbmdzQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMuc2V0dGluZ3NCdXR0b24uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnU2V0dGluZ3NTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaXNNdWx0aXBsYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5vbigndXBkYXRlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBoeXNpY3Mub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmV4aXRQb3J0YWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5leGl0UG9ydGFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZGFtYWdlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGF5ZXIgJiYgd3NTZXJ2aWNlLmlzQ29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIHdzU2VydmljZS5zZW5kR2FtZU92ZXIoJ3RyYXAnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIE1vZG8gbG9jYWxcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdHYW1lT3ZlclNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLmRhbWFnZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc011bHRpcGxheWVyICYmIHdzU2VydmljZS5pc0Nvbm5lY3RlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICB3c1NlcnZpY2Uuc2VuZEdhbWVPdmVyKCd0cmFwJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBNb2RvIGxvY2FsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnR2FtZU92ZXJTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNNdWx0aXBsYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLnNldHVwTXVsdGlwbGF5ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBNdWx0aXBsYXllcigpIHsgICAgXHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ25pdmlhJykge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyID0gdGhpcy5uaXZpYTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSB0aGlzLnNvbGVubmU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdzb2xlbm5lJykge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyID0gdGhpcy5zb2xlbm5lO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllciA9IHRoaXMubml2aWE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFyIGxvcyBoYW5kbGVycyBwYXJhIGV2ZW50b3MgZGUgcmVkXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlSGFuZGxlciA9IHRoaXMuaGFuZGxlUmVtb3RlUGxheWVyTW92ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY3J5c3RhbENvbGxlY3RlZEhhbmRsZXIgPSB0aGlzLmhhbmRsZVJlbW90ZUNyeXN0YWxDb2xsZWN0ZWQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnBvcnRhbFNwYXduZWRIYW5kbGVyID0gdGhpcy5oYW5kbGVSZW1vdGVQb3J0YWxTcGF3bmVkLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy52aWN0b3J5SGFuZGxlciA9IHRoaXMuaGFuZGxlUmVtb3RlVmljdG9yeS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU92ZXJIYW5kbGVyID0gdGhpcy5oYW5kbGVSZW1vdGVHYW1lT3Zlci5iaW5kKHRoaXMpOyAgXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJEaXNjb25uZWN0ZWRIYW5kbGVyID0gdGhpcy5oYW5kbGVQbGF5ZXJEaXNjb25uZWN0ZWQuYmluZCh0aGlzKTtcclxuICAgIFxyXG4gICAgICAgIHdzU2VydmljZS5vbigncGxheWVyTW92ZScsIHRoaXMucGxheWVyTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgIHdzU2VydmljZS5vbignY3J5c3RhbENvbGxlY3RlZCcsIHRoaXMuY3J5c3RhbENvbGxlY3RlZEhhbmRsZXIpO1xyXG4gICAgICAgIHdzU2VydmljZS5vbigncG9ydGFsU3Bhd25lZCcsIHRoaXMucG9ydGFsU3Bhd25lZEhhbmRsZXIpO1xyXG4gICAgICAgIHdzU2VydmljZS5vbigndmljdG9yeScsIHRoaXMudmljdG9yeUhhbmRsZXIpO1xyXG4gICAgICAgIHdzU2VydmljZS5vbignZ2FtZU92ZXInLCB0aGlzLmdhbWVPdmVySGFuZGxlcik7XHJcbiAgICAgICAgd3NTZXJ2aWNlLm9uKCdwbGF5ZXJEaXNjb25uZWN0ZWQnLCB0aGlzLnBsYXllckRpc2Nvbm5lY3RlZEhhbmRsZXIpO1xyXG4gICAgXHJcbiAgICB9XHJcblxyXG4gICAgc3luY0xvY2FsUGxheWVyUG9zaXRpb24oKSB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTb2xvIGVudmlhciBjYWRhIFggbWlsaXNlZ3VuZG9zIHBhcmEgbm8gc2F0dXJhciBsYSByZWRcclxuICAgICAgICBpZiAobm93IC0gdGhpcy5sYXN0U3luY1RpbWUgPCB0aGlzLnN5bmNJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGFzdFN5bmNUaW1lID0gbm93O1xyXG5cclxuICAgICAgICAvLyBFbnZpYXIgcG9zaWNpw7NuIGRlbCBqdWdhZG9yIGxvY2FsXHJcbiAgICAgICAgaWYgKHRoaXMubG9jYWxQbGF5ZXIgJiYgd3NTZXJ2aWNlLmlzQ29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLnNlbmRQbGF5ZXJNb3ZlKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci54LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci55LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci5mbGlwWCxcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuYW5pbXMuY3VycmVudEFuaW0/LmtleSB8fCAnaWRsZSdcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT0gSEFORExFUlMgREUgUkVEID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYW5lamFyIG1vdmltaWVudG8gZGVsIGp1Z2Fkb3IgcmVtb3RvXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZVJlbW90ZVBsYXllck1vdmUoZGF0YSkge1xyXG4gICAgICAgIGlmICghdGhpcy5yZW1vdGVQbGF5ZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gQWN0dWFsaXphciBwb3NpY2nDs24gZGVsIG90cm8ganVnYWRvclxyXG4gICAgICAgIHRoaXMucmVtb3RlUGxheWVyLnNldFBvc2l0aW9uKGRhdGEueCwgZGF0YS55KTtcclxuICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5zZXRGbGlwWChkYXRhLmZsaXBYKTtcclxuXHJcbiAgICAgICAgLy8gUmVwcm9kdWNpciBhbmltYWNpw7NuXHJcbiAgICAgICAgaWYgKGRhdGEuYW5pbUtleSAmJiB0aGlzLnJlbW90ZVBsYXllci5hbmltcy5jdXJyZW50QW5pbT8ua2V5ICE9PSBkYXRhLmFuaW1LZXkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuYW5pbXMucGxheShkYXRhLmFuaW1LZXksIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1hbmVqYXIgcmVjb2xlY2Npw7NuIGRlIGNyaXN0YWwgcG9yIGVsIG90cm8ganVnYWRvclxyXG4gICAgICovXHJcbiAgICBoYW5kbGVSZW1vdGVDcnlzdGFsQ29sbGVjdGVkKGRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+SjiBDcmlzdGFsICR7ZGF0YS5jcnlzdGFsVHlwZX0gcmVjb2dpZG8gcG9yIGVsIG90cm8ganVnYWRvcmApO1xyXG5cclxuICAgICAgICBpZiAoZGF0YS5jcnlzdGFsVHlwZSA9PT0gJ21vb24nKSB7XHJcbiAgICAgICAgICAgIC8vIERlc2FjdGl2YXIgY3Jpc3RhbCBkZSBsdW5hXHJcbiAgICAgICAgICAgIHRoaXMubW9vbkNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubW9vbkhVRC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRGVzYmxvcXVlYXIgcHVlcnRhIG9zY3VyYVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXJrRG9vclVubG9ja2VkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVubG9ja0RhcmtEb29yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuY3J5c3RhbFR5cGUgPT09ICdzdW4nKSB7XHJcbiAgICAgICAgICAgIC8vIERlc2FjdGl2YXIgY3Jpc3RhbCBkZSBzb2xcclxuICAgICAgICAgICAgdGhpcy5zdW5DcnlzdGFsLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zdW5IVUQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIERlc2Jsb3F1ZWFyIHB1ZXJ0YSBjbGFyYVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5saWdodERvb3JVbmxvY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51bmxvY2tMaWdodERvb3IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1hbmVqYXIgYXBhcmljacOzbiBkZWwgcG9ydGFsXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZVJlbW90ZVBvcnRhbFNwYXduZWQoZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5qqIFBvcnRhbCBhY3RpdmFkbyBwb3IgZWwgc2Vydmlkb3InKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIXRoaXMuZXhpdFBvcnRhbC52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1hbmVqYXIgdmljdG9yaWFcclxuICAgICAqL1xyXG4gICAgaGFuZGxlUmVtb3RlVmljdG9yeShkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfjokgwqFWSUNUT1JJQSBNVUxUSUpVR0FET1IhJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTGFuemFyIGVzY2VuYSBkZSB2aWN0b3JpYVxyXG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdWaWN0b3J5U2NlbmUnLCB7IFxyXG4gICAgICAgICAgICBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSxcclxuICAgICAgICAgICAgaXNNdWx0aXBsYXllcjogdHJ1ZSBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYW5lamFyIGdhbWUgb3ZlciBzaW5jcm9uaXphZG9cclxuICAgICAqL1xyXG4gICAgaGFuZGxlUmVtb3RlR2FtZU92ZXIoZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5KAIEdhbWUgT3ZlciByZWNpYmlkbyBkZWwgc2Vydmlkb3I6JywgZGF0YS5yZWFzb24pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFBhdXNhciBmw61zaWNhXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTGFuemFyIGVzY2VuYSBkZSBHYW1lIE92ZXJcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnR2FtZU92ZXJTY2VuZScsIHsgXHJcbiAgICAgICAgICAgIG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5LFxyXG4gICAgICAgICAgICBpc011bHRpcGxheWVyOiB0cnVlLFxyXG4gICAgICAgICAgICByZWFzb246IGRhdGEucmVhc29uXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFuZWphciBkZXNjb25leGnDs24gZGVsIG90cm8ganVnYWRvclxyXG4gICAgICovXHJcbiAgICBoYW5kbGVQbGF5ZXJEaXNjb25uZWN0ZWQoKSB7XHJcbiAgICBjb25zb2xlLmxvZygn4p2MIEVsIG90cm8ganVnYWRvciBzZSBkZXNjb25lY3TDsycpO1xyXG4gICAgXHJcbiAgICAvLyBQYXVzYXIgZsOtc2ljYVxyXG4gICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcbiAgICBcclxuICAgIC8vIFBhdXNhciBlc2NlbmFcclxuICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgIFxyXG4gICAgLy8gTW9zdHJhciBtZW5zYWplIGNvbiBmb25kbyBvc2N1cm9cclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcbiAgICBcclxuICAgIGNvbnN0IGJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIDB4MDAwMDAwLCAwLjkpXHJcbiAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAuc2V0RGVwdGgoMjAwMCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiAtIDgwLCBcclxuICAgICAgICAn4pqg77iPIFBBUlRJREEgVEVSTUlOQURBJywge1xyXG4gICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgY29sb3I6ICcjZmY2NjY2JyxcclxuICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgyMDAxKTtcclxuXHJcbiAgICBjb25zdCByZWFzb25UZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIsIFxyXG4gICAgICAgICdFbCBvdHJvIGp1Z2Fkb3IgYWJhbmRvbsOzIGxhIHBhcnRpZGEnLCB7XHJcbiAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIGFsaWduOiAnY2VudGVyJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0U2Nyb2xsRmFjdG9yKDApLnNldERlcHRoKDIwMDEpO1xyXG5cclxuICAgIGNvbnN0IGJhY2tCdG4gPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiArIDEwMCxcclxuICAgICAgICAn8J+PoCBWb2x2ZXIgYWwgTWVuw7onLCB7XHJcbiAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM0NDQ0NDQnLFxyXG4gICAgICAgIHBhZGRpbmc6IHsgeDogMjAsIHk6IDEwIH1cclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KS5zZXRTY3JvbGxGYWN0b3IoMCkuc2V0RGVwdGgoMjAwMSk7XHJcblxyXG4gICAgYmFja0J0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgYmFja0J0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyM2NjY2NjYnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYmFja0J0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICBiYWNrQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzQ0NDQ0NCcgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBiYWNrQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAvLyBEZXNjb25lY3RhciBXZWJTb2NrZXRcclxuICAgICAgICB3c1NlcnZpY2UuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIERldGVuZXIgbcO6c2ljYVxyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbiAgICBvbkNvbm5lY3Rpb25Mb3N0KCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vIFJlbW92ZXIgbGlzdGVuZXIgcGFyYSBldml0YXIgcXVlIHNlIGRpc3BhcmUgbWllbnRyYXMgQ29ubmVjdGlvbkxvc3RTY2VuZSBlc3TDoSBhY3RpdmFcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHtwcmV2aW91c1NjZW5lOiAnR2FtZVNjZW5lJ30pO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbFkgPSAxNTAwO1xyXG5cclxuICAgICAgICAgLy8gQ3JlYWNpw7NuIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLm5pdmlhID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTMwMCwgaW5pdGlhbFksICduaXZpYScpLnNldEJvdW5jZSgwLjIpLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNvbGVubmUgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxMDAsIGluaXRpYWxZLCAnc29sZW5uZScpLnNldEJvdW5jZSgwLjIpLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRTaXplKDEyMCwgMjQwKTtcclxuICAgICAgICB0aGlzLm5pdmlhLnNldE9mZnNldCgxMTAsIDUwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldFNpemUoMTIwLCAyNDApO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRPZmZzZXQoMTEwLCA1MCk7XHJcblxyXG4gICAgICAgIC8vIEVzY2FsYWRvIGRlIGxvcyBwZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRTY2FsZSgwLjUpOyBcclxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0U2NhbGUoMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbGVzIGRlIE5pdmlhIChUZWNsYXMgV0FTRClcclxuICAgICAgICB0aGlzLm5pdmlhQ29udHJvbHMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoe1xyXG4gICAgICAgICAgICBsZWZ0OiAnQScsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAnRCcsXHJcbiAgICAgICAgICAgIHVwOiAnVycsICAgIC8vIHNhbHRvXHJcbiAgICAgICAgICAgIGludGVyYWN0OiAnRSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbGVzIGRlIFNvbGVubmUgKEZsZWNoYXMpXHJcbiAgICAgICAgdGhpcy5zb2xlbm5lQ29udHJvbHMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoe1xyXG4gICAgICAgICAgICBsZWZ0OiAnTEVGVCcsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAnUklHSFQnLFxyXG4gICAgICAgICAgICB1cDogJ1VQJywgICAvLyBzYWx0b1xyXG4gICAgICAgICAgICBpbnRlcmFjdDogJ1NQQUNFJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjcmVhdGVBbmltYXRpb25zKGtleSkge1xyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgY29ycmVyXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1fcnVuYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgcHJlZml4OiAncnVuXycsIHN0YXJ0OiAxLCBlbmQ6IDQgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgc2FsdG9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9qdW1wYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgcHJlZml4OiAnanVtcF8nLCBzdGFydDogMSwgZW5kOiA2IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBpZGxlXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1faWRsZWAsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IGZyYW1lczogWydpZGxlXzEnXSB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxLFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQYXVzZWRTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAodGhpcy5pc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHtvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc0hhbmRsaW5nRGlzY29ubmVjdGlvbiA9IGZhbHNlOyAvLyBSZXNldCBkZWwgZmxhZyBkZSBkZXNjb25leGnDs25cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVQYXVzZSgpIHtcclxuICAgICAgICBjb25zdCBuZXdQYXVzZWRTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgIHRoaXMuc2V0UGF1c2VkU3RhdGUobmV3UGF1c2VkU3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVNldHRpbmdzKCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdTZXR0aW5nc1NjZW5lJyk7IFxyXG4gICAgICAgIC8vdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBwYXVzYSBjb24gdGVjbGEgRVNDXHJcbiAgICAgICAgaWYgKHRoaXMuZXNjS2V5LmlzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc011bHRpcGxheWVyKSB7XHJcbiAgICAgICAgICAgIC8vIFNvbG8gY29udHJvbGFzIFRVIHBlcnNvbmFqZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAnbml2aWEnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVBsYXllck1vdmVtZW50KHRoaXMubml2aWEsIHRoaXMubml2aWFDb250cm9scyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNMb2NhbFBsYXllclBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAnc29sZW5uZScpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUGxheWVyTW92ZW1lbnQodGhpcy5zb2xlbm5lLCB0aGlzLnNvbGVubmVDb250cm9scyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNMb2NhbFBsYXllclBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBNT0RPIExPQ0FMXHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUGxheWVyTW92ZW1lbnQodGhpcy5uaXZpYSwgdGhpcy5uaXZpYUNvbnRyb2xzKTtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVQbGF5ZXJNb3ZlbWVudCh0aGlzLnNvbGVubmUsIHRoaXMuc29sZW5uZUNvbnRyb2xzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlQ2FtZXJhQW5kQ29uc3RyYWludHMoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZXhpdFBvcnRhbCAmJiB0aGlzLmV4aXRQb3J0YWwudmlzaWJsZSAmJiB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2FtZXJhQW5kQ29uc3RyYWludHMoKSB7XHJcbiAgICAgICAgY29uc3Qgbml2aWFZID0gdGhpcy5uaXZpYS55O1xyXG4gICAgICAgIGNvbnN0IHNvbGVubmVZID0gdGhpcy5zb2xlbm5lLnk7XHJcblxyXG4gICAgICAgIC8vIENlbnRyYXIgbGEgY8OhbWFyYSBlbnRyZSBhbWJvcyBwZXJzb25hamVzXHJcbiAgICAgICAgY29uc3QgbWlkWSA9IChuaXZpYVkgKyBzb2xlbm5lWSkgLyAyO1xyXG5cclxuICAgICAgICAvLyBDYWxjdWxhciBsYSBwb3NpY2nDs24gbWVkaWEgZW4gWVxyXG4gICAgICAgIGxldCBkZXNpcmVkQ2FtZXJhWSA9IG1pZFk7XHJcblxyXG4gICAgICAgIC8vIERlc3BsYXphciBsYSBjw6FtYXJhIHN1YXZlbWVudGVcclxuICAgICAgICBjb25zdCBsZXJwRmFjdG9yID0gMC4wNTtcclxuICAgICAgICBjb25zdCBjYW1lcmFIZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNjcm9sbFkgPSBQaGFzZXIuTWF0aC5MaW5lYXIoXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNjcm9sbFksIFxyXG4gICAgICAgICAgICBkZXNpcmVkQ2FtZXJhWSAtIGNhbWVyYUhlaWdodCAvIDIsIFxyXG4gICAgICAgICAgICBsZXJwRmFjdG9yXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gVmlld3BvcnQgY29uc3RyYWludFxyXG4gICAgICAgIGNvbnN0IG1heFZlcnRpY2FsR2FwID0gY2FtZXJhSGVpZ2h0ICogMC43OyAvLyBkaXN0YW5jaWEgbcOheGltYSBwZXJtaXRpZGEgZW50cmUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICBjb25zdCBkaXN0YW5jZVkgPSBNYXRoLmFicyhuaXZpYVkgLSBzb2xlbm5lWSk7XHJcblxyXG4gICAgICAgIGlmIChkaXN0YW5jZVkgPiBtYXhWZXJ0aWNhbEdhcCkge1xyXG4gICAgICAgICAgICBjb25zdCBmYXN0ZXJQbGF5ZXIgPSAobml2aWFZIDwgc29sZW5uZVkpID8gdGhpcy5uaXZpYSA6IHRoaXMuc29sZW5uZTtcclxuICAgICAgICAgICAgY29uc3Qgc2xvd2VyUGxheWVyID0gKG5pdmlhWSA8IHNvbGVubmVZKSA/IHRoaXMuc29sZW5uZSA6IHRoaXMubml2aWE7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2xvd2VyUGxheWVyLmJvZHkuYmxvY2tlZC5kb3duIHx8IHNsb3dlclBsYXllci55ID4gZmFzdGVyUGxheWVyLnkgKyBtYXhWZXJ0aWNhbEdhcCkge1xyXG4gICAgICAgICAgICAgICAgLy8gRGV0ZW5lciBlbCBhdmFuY2UgdmVydGljYWwgKGhhY2lhIGFycmliYSkgZGVsIGp1Z2Fkb3IgbcOhcyByw6FwaWRvXHJcbiAgICAgICAgICAgICAgICBpZiAoZmFzdGVyUGxheWVyLmJvZHkudmVsb2NpdHkueSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmYXN0ZXJQbGF5ZXIuYm9keS52ZWxvY2l0eS55ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTW92aW1pZW50byB2ZXJ0aWNhbCByZXN0cmluZ2lkbyBwb3IgZWwganVnYWRvciByZXphZ2Fkby5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlUGxheWVyTW92ZW1lbnQocGxheWVyU3ByaXRlLCBjb250cm9scykge1xyXG4gICAgICAgIC8vIFZlbG9jaWRhZCBkZWwgbW92aW1pZW50b1xyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gNDAwO1xyXG4gICAgICAgIGNvbnN0IGp1bXBWZWxvY2l0eSA9IDkwMDtcclxuICAgICAgICBjb25zdCBrZXkgPSBwbGF5ZXJTcHJpdGUudGV4dHVyZS5rZXk7XHJcbiAgICAgICAgY29uc3QgaXNNb3ZpbmcgPSBjb250cm9scy5sZWZ0LmlzRG93biB8fCBjb250cm9scy5yaWdodC5pc0Rvd247XHJcbiAgICAgICAgY29uc3QgaXNHcm91bmRlZCA9IHBsYXllclNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bjtcclxuICAgICAgICBsZXQgYW5pbWtleSA9ICcnO1xyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIHBhcmEgcmVwcm9kdWNpciBlbCBzb25pZG8gZGUgY2FtaW5hclxyXG4gICAgICAgaWYgKGlzTW92aW5nICYmIGlzR3JvdW5kZWQpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25pdmlhJyAmJiB0aGlzLmlzTml2aWFXYWxraW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gdGhpcy5zb3VuZC5hZGQoJ3dhbGtTb3VuZCcsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAxIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZy5wbGF5KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSB0aGlzLnNvdW5kLmFkZCgnd2Fsa1NvdW5kJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDEgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcucGxheSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRGV0ZW5lciBlbCBzb25pZG8gc2kgbm8gc2UgZXN0w6EgbW92aWVuZG8gbyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbml2aWEnICYmIHRoaXMuaXNOaXZpYVdhbGtpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTW92aW1pZW50byBob3Jpem9udGFsXHJcbiAgICAgICAgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVgoLXNwZWVkKTtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKGZhbHNlKTsgLy8gTWlyYXIgYSBsYSBpenF1aWVyZGFcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKHNwZWVkKTtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKHRydWUpOyAvLyBNaXJhciBhIGxhIGRlcmVjaGFcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2FsdG8gKHNvbG8gc2kgZXN0w6EgdG9jYW5kbyBlbCBzdWVsbylcclxuICAgICAgICBjb25zdCBpc0p1bXBpbmcgPSBjb250cm9scy51cC5pc0Rvd24gJiYgcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xyXG5cclxuICAgICAgICBpZiAoaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVkoLWp1bXBWZWxvY2l0eSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGFuaW1hY2lvbmVzXHJcbiAgICAgICAgaWYgKCFwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd24pIHtcclxuICAgICAgICAgICAgLy8gRW4gZWwgYWlyZVxyXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9qdW1wYDtcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duIHx8IGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xyXG4gICAgICAgICAgICAvLyBDb3JyaWVuZG9cclxuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1fcnVuYDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZGxlXHJcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X2lkbGVgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBSZXByb2R1Y2lyIGxhIGFuaW1hY2nDs24gc29sbyBzaSBlcyBkaWZlcmVudGUgYSBsYSBhY3R1YWxcclxuICAgICAgICBpZiAocGxheWVyU3ByaXRlLmFuaW1zLmN1cnJlbnRBbmltPy5rZXkgIT09IGFuaW1rZXkpIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLmFuaW1zLnBsYXkoYW5pbWtleSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGludGVyYWNjacOzblxyXG4gICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24oY29udHJvbHMuaW50ZXJhY3QpKSB7XHJcbiAgICAgICAgICAgIC8vIEFxdcOtIHZhIGxhIGzDs2dpY2EgZGUgaW50ZXJhY2Npw7NuIChwb3IgZWplbXBsbywgYWJyaXIgcHVlcnRhcywgcmVjb2dlciBvYmpldG9zLCBldGMuKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSW50ZXJhY2Npw7NuIHJlYWxpemFkYScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb2xsZWN0TW9vbkNyeXN0YWwocGxheWVyLCBjcnlzdGFsKSB7XHJcbiAgICAgICAgY3J5c3RhbC5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICB0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubW9vbkhVRC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnY29sbGVjdE1vb25DcnlzdGFsU291bmQnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdOaXZpYSBoYSByZWNvZ2lkbyBlbCBDcmlzdGFsIGRlIGxhIEx1bmEnKTtcclxuICAgICAgICB0aGlzLnVubG9ja0RhcmtEb29yKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGF5ZXIgJiYgd3NTZXJ2aWNlLmlzQ29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLnNlbmRDcnlzdGFsQ29sbGVjdCgnbW9vbicpO1xyXG4gICAgICAgIH0gICBcclxuICAgIH1cclxuXHJcbiAgICBjb2xsZWN0U3VuQ3J5c3RhbChwbGF5ZXIsIGNyeXN0YWwpIHtcclxuICAgICAgICBjcnlzdGFsLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3VuSFVELnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdjb2xsZWN0U3VuQ3J5c3RhbFNvdW5kJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygnU29sZW5uZSBoYSByZWNvZ2lkbyBlbCBDcmlzdGFsIGRlbCBTb2wnKTtcclxuICAgICAgICB0aGlzLnVubG9ja0xpZ2h0RG9vcigpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc011bHRpcGxheWVyICYmIHdzU2VydmljZS5pc0Nvbm5lY3RlZCgpKSB7XHJcbiAgICAgICAgICAgIHdzU2VydmljZS5zZW5kQ3J5c3RhbENvbGxlY3QoJ3N1bicpO1xyXG4gICAgICAgIH0gICBcclxuICAgIH1cclxuXHJcbiAgICB1bmxvY2tEYXJrRG9vcigpIHtcclxuICAgICAgICAvLyBMw7NnaWNhIHBhcmEgZGVzYmxvcXVlYXIgbGEgcHVlcnRhIG9zY3VyYVxyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxSGl0Ym94LmJvZHkuZW5hYmxlID0gZmFsc2U7ICAgXHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjFIaXRib3guc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjEuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1B1ZXJ0YSBPc2N1cmEgZGVzYmxvcXVlYWRhJyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1BvcnRhbFNwYXduKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdW5sb2NrTGlnaHREb29yKCkge1xyXG4gICAgICAgIC8vIEzDs2dpY2EgcGFyYSBkZXNibG9xdWVhciBsYSBwdWVydGEgY2xhcmFcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjFIaXRib3guYm9keS5lbmFibGUgPSBmYWxzZTsgICBcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjFIaXRib3guc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IxLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdQdWVydGEgQ2xhcmEgZGVzYmxvcXVlYWRhJyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1BvcnRhbFNwYXduKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tQb3J0YWxTcGF3bigpIHtcclxuICAgICAgICBpZiAodGhpcy5uaXZpYUhhc01vb25DcnlzdGFsICYmIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FtYm9zIGNyaXN0YWxlcyByZWNvZ2lkb3MuIEVsIHBvcnRhbCBhcGFyZWNlLicpO1xyXG4gICAgICAgICAgICB0aGlzLmV4aXRQb3J0YWwuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5leGl0UG9ydGFsLmJvZHkuZW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tMZXZlbENvbXBsZXRlKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBNT0RPIExPQ0FMXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzTXVsdGlwbGF5ZXIpIHtcclxuICAgICAgICAgICAgLy8gVmVyaWZpY2FyIG92ZXJsYXAgbWFudWFsbWVudGVcclxuICAgICAgICAgICAgY29uc3Qgbml2aWFPblBvcnRhbCA9IHRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZXhpdFBvcnRhbCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNvbGVubmVPblBvcnRhbCA9IHRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5leGl0UG9ydGFsKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChuaXZpYU9uUG9ydGFsICYmIHNvbGVubmVPblBvcnRhbCAmJiBcclxuICAgICAgICAgICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCAmJiB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnwqFOSVZFTCBDT01QTEVUQURPIScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1ZpY3RvcnlTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTU9ETyBNVUxUSUpVR0FET1JcclxuICAgICAgICBpZiAoIXRoaXMuZXhpdFBvcnRhbCB8fCAhdGhpcy5leGl0UG9ydGFsLnZpc2libGUgfHwgIXRoaXMubG9jYWxQbGF5ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVmVyaWZpY2FyIG92ZXJsYXAgZGVsIGp1Z2Fkb3IgbG9jYWwgY29uIGVsIHBvcnRhbFxyXG4gICAgICAgIGNvbnN0IGlzT3ZlcmxhcHBpbmcgPSB0aGlzLnBoeXNpY3Mub3ZlcmxhcCh0aGlzLmxvY2FsUGxheWVyLCB0aGlzLmV4aXRQb3J0YWwpO1xyXG5cclxuICAgICAgICAvLyBEZXRlcm1pbmFyIGVsIGVzdGFkbyBhbnRlcmlvciBzZWfDum4gZWwgcm9sXHJcbiAgICAgICAgbGV0IHByZXZpb3VzU3RhdGUgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAnbml2aWEnKSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzU3RhdGUgPSB0aGlzLm5pdmlhT25Qb3J0YWw7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdzb2xlbm5lJykge1xyXG4gICAgICAgICAgICBwcmV2aW91c1N0YXRlID0gdGhpcy5zb2xlbm5lT25Qb3J0YWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBY3R1YWxpemFyIGVzdGFkbyBsb2NhbCBzaWVtcHJlXHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ25pdmlhJykge1xyXG4gICAgICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBpc092ZXJsYXBwaW5nO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAnc29sZW5uZScpIHtcclxuICAgICAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSBpc092ZXJsYXBwaW5nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRW52aWFyIGVzdGFkbyBhbCBzZXJ2aWRvciBjYWRhIGZyYW1lIChwYXJhIGFzZWd1cmFyIHNpbmNyb25pemFjacOzbilcclxuICAgICAgICBpZiAod3NTZXJ2aWNlLmlzQ29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLnNlbmRQb3J0YWxUb3VjaChpc092ZXJsYXBwaW5nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5qqICR7dGhpcy5wbGF5ZXJSb2xlfSBlbiBwb3J0YWw6ICR7aXNPdmVybGFwcGluZ31gKTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuIGNoZWNrTGV2ZWxDb21wbGV0ZTonLCBlcnJvcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbiAgICBlbmRnYW1lKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSnVlZ28gVGVybWluYWRvXCIpO1xyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmZXJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclgsIHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclkgLSAxMDAsIFwiwqFOaXZlbCBDb21wbGV0YWRvIVwiLCB7IFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLCBmaWxsOiAnI0ZGRkZGRicgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAvLyBSZWluaWNpYXIgbml2ZWxcclxuICAgICAgICBjb25zdCByZXN0YXJ0YnRuID0gdGhpcy5hZGQuaW1hZ2UoNzA1LCA0MTUsICdSZXN0YXJ0QnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDY5MywgNDI1LCAnUmVzdGFydEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyZXN0YXJ0YnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2NlbmVLZXkgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGF5ZXIpIHtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLm9mZigncGxheWVyTW92ZScsIHRoaXMucGxheWVyTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICB3c1NlcnZpY2Uub2ZmKCdjcnlzdGFsQ29sbGVjdGVkJywgdGhpcy5jcnlzdGFsQ29sbGVjdGVkSGFuZGxlcik7XHJcbiAgICAgICAgICAgIHdzU2VydmljZS5vZmYoJ3BvcnRhbFNwYXduZWQnLCB0aGlzLnBvcnRhbFNwYXduZWRIYW5kbGVyKTtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLm9mZigndmljdG9yeScsIHRoaXMudmljdG9yeUhhbmRsZXIpO1xyXG4gICAgICAgICAgICB3c1NlcnZpY2Uub2ZmKCdnYW1lT3ZlcicsIHRoaXMuZ2FtZU92ZXJIYW5kbGVyKTtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLm9mZigncGxheWVyRGlzY29ubmVjdGVkJywgdGhpcy5wbGF5ZXJEaXNjb25uZWN0ZWRIYW5kbGVyKTsgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQ3JlZGl0c0JveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gUGF1c2FcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhdXNlVGV4dCcsICdhc3NldHMvdGV4dG9fcGF1c2EuUE5HJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b24nLCAnYXNzZXRzL2NlcnJhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b25Ib3ZlcicsICdhc3NldHMvY2VycmFySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSB0dXRvcmlhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVHV0b3JpYWxCdXR0b24nLCAnYXNzZXRzL3R1dG9yaWFsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVHV0b3JpYWxCdXR0b25Ib3ZlcicsICdhc3NldHMvdHV0b3JpYWxIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbicsICdhc3NldHMvcmVpbmljaWFyLlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9yZWluaWNpYXJIb3Zlci5QTkcnKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBCb3TDs24gZGUgdm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmV0TWVudUJ1dHRvbicsICdhc3NldHMvbWVudS5QTkcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JldE1lbnVCdXR0b25Ib3ZlcicsICdhc3NldHMvbWVudUhvdmVyLlBORycpO1xyXG5cclxuICAgIH1cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIGRpbWVuc2lvbmVzIGRlIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XHJcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuc2NhbGUuaGVpZ2h0O1xyXG5cclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZmVyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcclxuXHJcbiAgICAgICAgLy8gUmVjdMOhbmd1bG8gcXVlIGN1YnJlIHRvZGEgbGEgcGFudGFsbGFcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgdywgaCwgMHgwNzA3MjIsIDAuOSkuc2V0T3JpZ2luKDApO1xyXG5cclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICdDcmVkaXRzQm94JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gUGF1c2FcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDIxMCwgJ1BhdXNlVGV4dCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICBjb25zdCBFeGl0QnRuID0gdGhpcy5hZGQuaW1hZ2UoMTA2OSwgMTcwLCAnRXhpdE1pbkJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDY4LCAxNzAsICdFeGl0TWluQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKEV4aXRCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSZWdyZXNhciBhIGxhIGVzY2VuYSBvcmlnaW5hbFxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lO1xyXG4gICAgICAgICAgICBpZiAob3JpZ2luYWwpIHRoaXMuc2NlbmUucmVzdW1lKG9yaWdpbmFsKTsgLy8gcmVhbnVkYSBwcmltZXJvIGxhIGVzY2VuYSBvcmlnaW5hbFxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTsgLy8gbHVlZ28gZGV0aWVuZSBQYXVzZVNjZW5lXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBUdXRvcmlhbCBcclxuICAgICAgICBjb25zdCB0dXRvcmlhbGJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgMzIwLCAnVHV0b3JpYWxCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgdHV0b3JpYWxidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgMzIwLCAnVHV0b3JpYWxCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodHV0b3JpYWxidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0dXRvcmlhbGJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSXIgYSBsYSBlc2NlbmEgZGUgdHV0b3JpYWxcclxuICAgICAgICB0dXRvcmlhbGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGxhbnphciBUdXRvcmlhbFNjZW5lIHkgcGF1c2FyIFBhdXNlU2NlbmUgcGFyYSBwb2RlciByZWFudWRhcmxhIGRlc3B1w6lzXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdUdXRvcmlhbFNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiAnUGF1c2VTY2VuZScgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgY29uc3QgcmVzdGFydGJ0biA9IHRoaXMuYWRkLmltYWdlKDcwNSwgNDE1LCAnUmVzdGFydEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg2OTMsIDQyNSwgJ1Jlc3RhcnRCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgocmVzdGFydGJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFNjZW5lS2V5ID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChvcmlnaW5hbFNjZW5lS2V5KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydChvcmlnaW5hbFNjZW5lS2V5KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIGNvbnN0IG1lbnVidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUxNSwgJ1JldE1lbnVCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgbWVudWJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjk4LCA1MTUsICdSZXRNZW51QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKG1lbnVidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZW51YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBHZXQgYWxsIHNjZW5lc1xyXG4gICAgICAgICAgICBjb25zdCBzY2VuZXMgPSB0aGlzLmdhbWUuc2NlbmUua2V5cztcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBzY2VuZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICdNZW51U2NlbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFR1dG9yaWFsU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1R1dG9yaWFsU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dG9yaWFsQm94JywgJ2Fzc2V0cy9jYWphLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBJbWFnZW4gdHV0b3JpYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ltYWdlVHV0b3JpYWwnLCAnYXNzZXRzL3BhbnRhbGxhX3R1dG9yaWFsLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uJywgJ2Fzc2V0cy9jZXJyYXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uSG92ZXInLCAnYXNzZXRzL2NlcnJhckhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBkZWwgdHV0b3JpYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1R1dG9yaWFsVGV4dCcsICdhc3NldHMvdGV4dG9fdHV0b3JpYWwuUE5HJyk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvLyBkaW1lbnNpb25lcyBkZSBsYSBwYW50YWxsYVxyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuICAgICAgICAvLyBhc2VndXJhciBxdWUgZXN0YSBlc2NlbmEgc2UgbXVlc3RyZSBwb3IgZW5jaW1hIGFsIGNyZWFybGFcclxuICAgICAgICB0aGlzLnNjZW5lLmJyaW5nVG9Ub3AoKTtcclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZnJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgICAvLyBSZWN0w6FuZ3VsbyBxdWUgY3VicmUgdG9kYSBsYSBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoLCAweDA3MDcyMiwgMC45KS5zZXRPcmlnaW4oMCk7XHJcblxyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDQwMCwgJ3R1dG9yaWFsQm94JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAnaW1hZ2VUdXRvcmlhbCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIGNvbnN0IEV4aXRCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMDY5LCAxNzAsICdFeGl0TWluQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEwNjgsIDE3MCwgJ0V4aXRNaW5CdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoRXhpdEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFJlZ3Jlc2FyIGEgbGEgZXNjZW5hIG9yaWdpbmFsXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUob3JpZ2luYWwpOyAvLyByZWFudWRhIFBhdXNlU2NlbmUgc2kgZnVlIGxhIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7IC8vIGNpZXJyYSBUdXRvcmlhbFNjZW5lXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy90aGlzLmFkZC5pbWFnZSg3MDAsIDIxMCwgJ1R1dG9yaWFsVGV4dCcpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICBcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdHNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ3JlZGl0c1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdDcmVkaXRzQm94JywgJ2Fzc2V0cy9jYWphLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uJywgJ2Fzc2V0cy9jZXJyYXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uSG92ZXInLCAnYXNzZXRzL2NlcnJhckhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBkZSBjcsOpZGl0b3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NyZWRpdHNUZXh0JywgJ2Fzc2V0cy90ZXh0b19jcmVkaXRvcy5QTkcnKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gZGUgbWllbWJyb3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ01lbWJlcnNUZXh0JywgJ2Fzc2V0cy9ub21icmVzLlBORycpO1xyXG5cclxuICAgIH1cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIGRpbWVuc2lvbmVzIGRlIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XHJcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuc2NhbGUuaGVpZ2h0O1xyXG5cclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZnJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgICAvLyBSZWN0w6FuZ3VsbyBxdWUgY3VicmUgdG9kYSBsYSBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoLCAweDA3MDcyMiwgMC45KS5zZXRPcmlnaW4oMCk7XHJcblxyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDQwMCwgJ0NyZWRpdHNCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgY29uc3QgRXhpdEJ0biA9IHRoaXMuYWRkLmltYWdlKDEwNjksIDE3MCwgJ0V4aXRNaW5CdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMTA2OCwgMTcwLCAnRXhpdE1pbkJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChFeGl0QnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmVncmVzYXIgYSBsYSBlc2NlbmEgb3JpZ2luYWxcclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDIxMCwgJ0NyZWRpdHNUZXh0JylcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSkuXHJcbiAgICAgICAgc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzEwLCA0NjAsICdNZW1iZXJzVGV4dCcpXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldFNjYWxlKDAuNjUpO1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1NldHRpbmdzU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NldHRpbmdzQm94JywgJ2Fzc2V0cy9jYWphLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3RvbiBWb2x1bWVuICgrLy0pXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQbHVzVm9sdW1lQnV0dG9uJywgJ2Fzc2V0cy9tYXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQbHVzVm9sdW1lQnV0dG9uSG92ZXInLCAnYXNzZXRzL21hc0hvdmVyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTWludXNWb2x1bWVCdXR0b24nLCAnYXNzZXRzL21lbm9zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTWludXNWb2x1bWVCdXR0b25Ib3ZlcicsICdhc3NldHMvbWVub3NIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQmFycmFzIFZvbHVtZW4gKHJlY3Rhbmd1bG9zIHVubyBvc2N1cm8vYXBhZ2Fkb3MgeSBvdHJvIGNsYXJvL2VuY2VuZGlkb3MpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdWb2x1bWVCYXJPZmYnLCAnYXNzZXRzL2JvdG9uX29zY3Vyby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1ZvbHVtZUJhck9uJywgJ2Fzc2V0cy9ib3Rvbl9jbGFyby5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdE1pbkJ1dHRvbicsICdhc3NldHMvY2VycmFyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdE1pbkJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9jZXJyYXJIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gQWp1c3Rlc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU2V0dGluZ3NUZXh0JywgJ2Fzc2V0cy90ZXh0b19hanVzdGVzLnBuZycpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gZGltZW5zaW9uZXMgZGUgbGEgcGFudGFsbGFcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIC8vIFZvbHVtZW5cclxuICAgICAgICBsZXQgdm9sdW1lID0gdGhpcy5zb3VuZC52b2x1bWUgKiAxMDA7IC8vIENvbnZlcnRpciBkZSAwLTEgYSAwLTEwMFxyXG5cclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZnJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG4gICAgICAgIGxldCB2b2x1bWVCYXIxLCB2b2x1bWVCYXIyLCB2b2x1bWVCYXIzLCB2b2x1bWVCYXI0LCB2b2x1bWVCYXI1O1xyXG5cclxuICAgICAgICAvLyBSZWN0w6FuZ3VsbyBxdWUgY3VicmUgdG9kYSBsYSBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoLCAweDA3MDcyMiwgMC45KS5zZXRPcmlnaW4oMCk7XHJcblxyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDQwMCwgJ3NldHRpbmdzQm94JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gQWp1c3Rlc1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgMjEwLCAnU2V0dGluZ3NUZXh0JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgLy8gQmFycmFzIGRlIHZvbHVtZW4gZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9mZicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPZmYnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT2ZmJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg4MzMsIDUwMCwgJ1ZvbHVtZUJhck9mZicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoOTY2LCA1MDAsICdWb2x1bWVCYXJPZmYnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBCYXJyYXMgZGUgdm9sdW1lbiBhY3RpdmFzIFxyXG4gICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgdm9sdW1lQmFyMyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIHZvbHVtZUJhcjQgPSB0aGlzLmFkZC5pbWFnZSg4MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB2b2x1bWVCYXI1ID0gdGhpcy5hZGQuaW1hZ2UoOTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICBcclxuICAgICAgICAvLyBBY3R1YWxpemFyIGJhcnJhcyBkZSB2b2x1bWVuIFxyXG4gICAgICAgIHZvbHVtZUJhcjEuZGVzdHJveSgpO1xyXG4gICAgICAgIHZvbHVtZUJhcjIuZGVzdHJveSgpO1xyXG4gICAgICAgIHZvbHVtZUJhcjMuZGVzdHJveSgpO1xyXG4gICAgICAgIHZvbHVtZUJhcjQuZGVzdHJveSgpO1xyXG4gICAgICAgIHZvbHVtZUJhcjUuZGVzdHJveSgpO1xyXG4gICAgICAgIGlmKHZvbHVtZSA9PSAwICYmIHZvbHVtZUJhcjEgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjEuZGVzdHJveSgpO1xyXG4gICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSAyMCl7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPD0gNDApe1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPD0gNjApe1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSA4MCl7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjQgPSB0aGlzLmFkZC5pbWFnZSg4MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPT0gMTAwKXtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjMgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyNCA9IHRoaXMuYWRkLmltYWdlKDgzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXI1ID0gdGhpcy5hZGQuaW1hZ2UoOTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJvdG9uIHZvbHVtZW4gYXVtZW50YWRvXHJcbiAgICAgICAgY29uc3QgcGx1c1ZvbHVtZUJ0biA9IHRoaXMuYWRkLmltYWdlKDEwNjksIDUwMCwgJ1BsdXNWb2x1bWVCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNClcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgcGx1c1ZvbHVtZUJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMTA2OSwgNTAwLCAnUGx1c1ZvbHVtZUJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC40KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChwbHVzVm9sdW1lQnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBwbHVzVm9sdW1lQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHBsdXNWb2x1bWVCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB2b2x1bWUgKz0gMjA7XHJcbiAgICAgICAgICAgIGlmKHZvbHVtZSA+IDEwMCkgdm9sdW1lID0gMTAwO1xyXG4gICAgICAgICAgICBlbHNlIGlmKHZvbHVtZSA8IDApIHZvbHVtZSA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnNldFZvbHVtZSh2b2x1bWUgLyAxMDApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdm9sdW1lQmFyMS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIzLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyNC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBpZih2b2x1bWUgPT0gMCAmJiB2b2x1bWVCYXIxICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSAyMCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDQwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSA2MCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSA4MCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXI0ID0gdGhpcy5hZGQuaW1hZ2UoODMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lID09IDEwMCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXI0ID0gdGhpcy5hZGQuaW1hZ2UoODMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjUgPSB0aGlzLmFkZC5pbWFnZSg5NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIHZvbHVtZW4gZGlzbWludWlkb1xyXG4gICAgICAgIGNvbnN0IG1pbnVzVm9sdW1lQnRuID0gdGhpcy5hZGQuaW1hZ2UoMzMwLCA1MDAsICdNaW51c1ZvbHVtZUJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC40KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG1pbnVzVm9sdW1lQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgzMzUsIDUwMCwgJ01pbnVzVm9sdW1lQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbWludXNWb2x1bWVCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1pbnVzVm9sdW1lQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdm9sdW1lIC09IDIwO1xyXG4gICAgICAgICAgICBpZih2b2x1bWUgPiAxMDApIHZvbHVtZSA9IDEwMDtcclxuICAgICAgICAgICAgZWxzZSBpZih2b2x1bWUgPCAwKSB2b2x1bWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zZXRWb2x1bWUodm9sdW1lIC8gMTAwKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjEuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXI1LmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgaWYodm9sdW1lID09IDAgJiYgdm9sdW1lQmFyMSAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPD0gMjApe1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSA0MCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPD0gNjApe1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjMgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPD0gODApe1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjMgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyNCA9IHRoaXMuYWRkLmltYWdlKDgzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHZvbHVtZSA9PSAxMDApe1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjMgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyNCA9IHRoaXMuYWRkLmltYWdlKDgzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXI1ID0gdGhpcy5hZGQuaW1hZ2UoOTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgY29uc3QgRXhpdEJ0biA9IHRoaXMuYWRkLmltYWdlKDEwNjksIDE3MCwgJ0V4aXRNaW5CdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMTA2OCwgMTcwLCAnRXhpdE1pbkJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChFeGl0QnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUob3JpZ2luYWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGV2ZWxTZWxlY3RTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTGV2ZWxTZWxlY3RTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTGV2ZWxCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIE5pdmVsZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xldmVsc1RleHQnLCAnYXNzZXRzL3RleHRvX25pdmVsZXMucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIGRlIG5pdmVsZXNcclxuICAgICAgICAvLyBuaXZlbCAxXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMZXZlbDFCdXR0b24nLCAnYXNzZXRzL25pdmVsMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xldmVsMUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9uaXZlbDFIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gbml2ZWwgMlxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTGV2ZWwyQnV0dG9uJywgJ2Fzc2V0cy9OaXZlbDIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMZXZlbDJCdXR0b25Ib3ZlcicsICdhc3NldHMvTml2ZWwySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b24nLCAnYXNzZXRzL2NlcnJhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b25Ib3ZlcicsICdhc3NldHMvY2VycmFySG92ZXIucG5nJyk7XHJcblxyXG4gICAgfVxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gZGltZW5zaW9uZXMgZGUgbGEgcGFudGFsbGFcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAnTGV2ZWxCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBOaXZlbGVzXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAyMTAsICdMZXZlbHNUZXh0JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgLy8gU2VsZWNjacOzbiBkZSBOaXZlbGVzXHJcbiAgICAgICAgICAgIC8vTml2ZWwgMVxyXG4gICAgICAgIGNvbnN0IEx2bFVub0J0biA9IHRoaXMuYWRkLmltYWdlKDUxMCwgNTAwLCAnTGV2ZWwxQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBMdmxVbm9CdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDUyMCwgNTA1LCAnTGV2ZWwxQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChMdmxVbm9CdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBMdmxVbm9CdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEluaWNpbyBOaXZlbCAxXHJcbiAgICAgICAgTHZsVW5vQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVMb2NhbFNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vUGxhY2Vob2xkZXJcclxuICAgICAgICBjb25zdCBMdmxEb3NCdG4gPSB0aGlzLmFkZC5pbWFnZSg4ODAsIDUwMCwgJ0xldmVsMkJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgTHZsRG9zQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg4ODAsIDUwMCwgJ0xldmVsMkJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMS4wNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoTHZsRG9zQnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgTHZsRG9zQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBMdmwyXHJcbiAgICAgICAgTHZsRG9zQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0xldmVsMlNjZW5lTG9jYWwnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIGNvbnN0IEV4aXRCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMDY5LCAxNzAsICdFeGl0TWluQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEwNjgsIDE3MCwgJ0V4aXRNaW5CdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoRXhpdEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFJlZ3Jlc2FyIGEgbGEgZXNjZW5hIG9yaWdpbmFsXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUob3JpZ2luYWwpOyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTsgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQbGFjZUhvbGRlclNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQbGFjZUhvbGRlclNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXRvcmlhbEJveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0QnV0dG9uJywgJ2Fzc2V0cy9zYWxpci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRCdXR0b25Ib3ZlcicsICdhc3NldHMvc2FsaXJIb3Zlci5wbmcnKTtcclxuICBcclxuICAgIH1cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIGRpbWVuc2lvbmVzIGRlIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XHJcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuc2NhbGUuaGVpZ2h0O1xyXG5cclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZnJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgICAvLyBSZWN0w6FuZ3VsbyBxdWUgY3VicmUgdG9kYSBsYSBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoLCAweDA3MDcyMiwgMC45KS5zZXRPcmlnaW4oMCk7XHJcblxyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDQwMCwgJ3R1dG9yaWFsQm94JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIGNvbnN0IGV4aXRCdG4gPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDY3MCwgJ0V4aXRCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGV4aXRCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNjcwLCAnRXhpdEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoZXhpdEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGV4aXRCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGV4aXRCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBDaWVycmEgbGEgdmVudGFuYSBkZWwgbmF2ZWdhZG9yIG8gcGVzdGHDsWFcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg3MDAsIDE4MCwgJ05hZGEgcXVlIHZlciBhcXVpJyx7IFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLCBmaWxsOiAnI2Q0ZWFmMWZmJ30pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZpY3RvcnlTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignVmljdG9yeVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NyZWRpdHNCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIFZpY3RvcmlhXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdWaWN0b3J5VGV4dCcsICdhc3NldHMvdGV4dG9fdmljdG9yaWEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSB0dXRvcmlhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTmV4dExldmVsQnV0dG9uJywgJ2Fzc2V0cy9zaWd1aWVudGVOaXZlbC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ05leHRMZXZlbEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9zaWd1aWVudGVOaXZlbEhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgcmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uJywgJ2Fzc2V0cy9yZWluaWNpYXIuUE5HJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uSG92ZXInLCAnYXNzZXRzL3JlaW5pY2lhckhvdmVyLlBORycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSB2b2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXRNZW51QnV0dG9uJywgJ2Fzc2V0cy9tZW51LlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmV0TWVudUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9tZW51SG92ZXIuUE5HJyk7XHJcblxyXG4gICAgfVxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gZGltZW5zaW9uZXMgZGUgbGEgcGFudGFsbGFcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmZXJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgICAvLyBSZWN0w6FuZ3VsbyBxdWUgY3VicmUgdG9kYSBsYSBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoLCAweDA3MDcyMiwgMC45KS5zZXRPcmlnaW4oMCk7XHJcblxyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDQwMCwgJ0NyZWRpdHNCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBWaWN0b3JpYVxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgMjEwLCAnVmljdG9yeVRleHQnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBTaWd1aWVudGUgbml2ZWxcclxuICAgICAgICBjb25zdCBuZXh0TGV2ZWxidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDMyMCwgJ05leHRMZXZlbEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBuZXh0TGV2ZWxidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgMzI1LCAnTmV4dExldmVsQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKG5leHRMZXZlbGJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG5leHRMZXZlbGJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSXIgYWwgc2VndW5kbyBuaXZlbFxyXG4gICAgICAgIG5leHRMZXZlbGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2NlbmVLZXkgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJPcmlnaW5hbCBzY2VuZSBiZWluZyByZW1vdmVkOlwiLCBvcmlnaW5hbFNjZW5lS2V5KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTGV2ZWwyU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgY29uc3QgcmVzdGFydGJ0biA9IHRoaXMuYWRkLmltYWdlKDcwNSwgNDE1LCAnUmVzdGFydEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg2OTMsIDQyNSwgJ1Jlc3RhcnRCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgocmVzdGFydGJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFNjZW5lS2V5ID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChvcmlnaW5hbFNjZW5lS2V5KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydChvcmlnaW5hbFNjZW5lS2V5KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIGNvbnN0IG1lbnVidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUxNSwgJ1JldE1lbnVCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgbWVudWJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjk4LCA1MTUsICdSZXRNZW51QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKG1lbnVidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZW51YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBHZXQgYWxsIHNjZW5lc1xyXG4gICAgICAgICAgICBjb25zdCBzY2VuZXMgPSB0aGlzLmdhbWUuc2NlbmUua2V5cztcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBzY2VuZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICdNZW51U2NlbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVPdmVyU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVPdmVyU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NyZWRpdHNCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIEdhbWUgT3ZlclxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnR2FtZU92ZXJUZXh0JywgJ2Fzc2V0cy90ZXh0b19kZXJyb3RhLnBuZycpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbicsICdhc3NldHMvcmVpbmljaWFyLlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9yZWluaWNpYXJIb3Zlci5QTkcnKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBCb3TDs24gZGUgdm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmV0TWVudUJ1dHRvbicsICdhc3NldHMvbWVudS5QTkcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JldE1lbnVCdXR0b25Ib3ZlcicsICdhc3NldHMvbWVudUhvdmVyLlBORycpO1xyXG5cclxuICAgIH1cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIGRpbWVuc2lvbmVzIGRlIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XHJcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuc2NhbGUuaGVpZ2h0O1xyXG5cclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZmVyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcclxuXHJcbiAgICAgICAgLy8gUmVjdMOhbmd1bG8gcXVlIGN1YnJlIHRvZGEgbGEgcGFudGFsbGFcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgdywgaCwgMHgwNzA3MjIsIDAuOSkuc2V0T3JpZ2luKDApO1xyXG5cclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICdDcmVkaXRzQm94JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gZ2FtZSBvdmVyXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAyNDAsICdHYW1lT3ZlclRleHQnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gUmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgY29uc3QgcmVzdGFydGJ0biA9IHRoaXMuYWRkLmltYWdlKDcwNSwgNDE1LCAnUmVzdGFydEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg2OTMsIDQyNSwgJ1Jlc3RhcnRCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgocmVzdGFydGJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFNjZW5lS2V5ID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChvcmlnaW5hbFNjZW5lS2V5KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQob3JpZ2luYWxTY2VuZUtleSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWxcclxuICAgICAgICBjb25zdCBtZW51YnRuID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MTUsICdSZXRNZW51QnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDY5OCwgNTE1LCAnUmV0TWVudUJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChtZW51YnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbWVudWJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBtZW51YnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gR2V0IGFsbCBzY2VuZXNcclxuICAgICAgICAgICAgY29uc3Qgc2NlbmVzID0gdGhpcy5nYW1lLnNjZW5lLmtleXM7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gc2NlbmVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnTWVudVNjZW5lJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExldmVsMlNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMZXZlbDJTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgPSAwO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPSAwO1xyXG4gICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubG9hZC5hdGxhcygnbml2aWEnLCAnYXNzZXRzL25pdmlhL25pdmlhX3NoZWV0LnBuZycsICdhc3NldHMvbml2aWEvbml2aWFfc2hlZXQuanNvbicpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdGxhcygnc29sZW5uZScsICdhc3NldHMvc29sZW5uZS9zb2xlbm5lX3NoZWV0LnBuZycsICdhc3NldHMvc29sZW5uZS9zb2xlbm5lX3NoZWV0Lmpzb24nKTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGNyaXN0YWxlc1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnc3VuZHJvcF9zaGVldCcsICdhc3NldHMvaXRlbXMvc3VuZHJvcC5wbmcnLCB7IGZyYW1lV2lkdGg6IDIxNCwgZnJhbWVIZWlnaHQ6IDIwNiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ21vb25kcm9wX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9tb29uZHJvcC5wbmcnLCB7IGZyYW1lV2lkdGg6IDIxNCwgZnJhbWVIZWlnaHQ6IDIwNiB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdzdW5fc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL3N1bi5wbmcnLCB7IGZyYW1lV2lkdGg6IDM0NywgZnJhbWVIZWlnaHQ6IDMyOSB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ21vb25fc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL21vb24ucG5nJywgeyBmcmFtZVdpZHRoOiAzNDcsIGZyYW1lSGVpZ2h0OiAzMjkgfSk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlbCBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8xJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2ZvbmRvX2FycmliYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BsYXRhZm9ybWFzMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wbGF0YWZvcm1hc19hcnJpYmEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBlbGVtZW50b3MgZGVsIGVzY2VuYXJpb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhdGFmb3JtYXNOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcGxhdGFmb3JtYXNfYXJyaWJhLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmExLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmEyTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTNOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYTFOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX29zY3VyYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFPc2N1cmEyTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9vc2N1cmEyLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25DbGFyb05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9jbGFyby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uT3NjdXJvMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9vc2N1cm8xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Pc2N1cm8yTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX29zY3VybzIucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9ydGFsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wb3J0YWwucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBib3RvbmVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYXVzZUJ1dHRvbicsICdhc3NldHMvcGF1c2EucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYXVzZUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9wYXVzYUhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzQnV0dG9uJywgJ2Fzc2V0cy9hanVzdGVzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU2V0dGluZ3NCdXR0b25Ib3ZlcicsICdhc3NldHMvYWp1c3Rlc0hvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgcmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uJywgJ2Fzc2V0cy9yZWluaWNpYXIuUE5HJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uSG92ZXInLCAnYXNzZXRzL3JlaW5pY2lhckhvdmVyLlBORycpO1xyXG5cclxuICAgICAgICAvL0Rhw7FvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkYW1hZ2UxJywgJ2Fzc2V0cy90cmFtcGFzL3RyYW1wYXMucG5nJylcclxuXHJcbiAgICAgICAgLy8gRWZlY3RvcyBkZSBzb25pZG8geSBtw7pzaWNhIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCd3YWxrU291bmQnLCAnYXNzZXRzL3Nvbmlkby9jYW1pbmFyLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnY29sbGVjdFN1bkNyeXN0YWxTb3VuZCcsICdhc3NldHMvc29uaWRvL2NyaXN0YWxDbGFyby5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2NvbGxlY3RNb29uQ3J5c3RhbFNvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY3Jpc3RhbE9zY3Vyby5tcDMnKTtcclxuXHJcbiAgICAgICAgLy8gTcOaU0lDQSBFU1BFQ8ONRklDQSBERUwgSlVFR09cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ0dhbWVNdXNpYycsICdhc3NldHMvc29uaWRvL2p1ZWdvLm1wMycpOyAvLyBhanVzdGEgcnV0YSBzaSBoYWNlIGZhbHRhXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IG1hcFdpZHRoSW5QaXhlbHMgPSAxNDIwO1xyXG4gICAgICAgIGNvbnN0IG1hcEhlaWdodEluUGl4ZWxzID0gODAwO1xyXG5cclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBEZXRlbmVyIHNvbG8gbGEgbcO6c2ljYSBkZWwgbWVuw7ogc2kgZXN0w6Egc29uYW5kb1xyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEJ5S2V5KCdNZW51TXVzaWMnKTtcclxuXHJcbiAgICAgICAgLy8gUmVwcm9kdWNpciBsYSBtw7pzaWNhIGRlbCBqdWVnb1xyXG4gICAgICAgIGlmICh0aGlzLmNhY2hlLmF1ZGlvLmV4aXN0cygnR2FtZU11c2ljJykpIHtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdHYW1lTXVzaWMnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4yfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZ3JlZ2FyIGZvbmRvXHJcbiAgICAgICAgLy9jb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbzEnKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgLy9iZy5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoMCwgMCwgJ2ZvbmRvMScpLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICBiZy5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBsYXRhZm9ybWEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgwLCAwLCAncGxhdGFmb3JtYXMxJykuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHBsYXRhZm9ybWEuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFjacOzbiBkZSBsYSBmw61zaWNhIGRlbCBtdW5kb1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy53b3JsZC5ncmF2aXR5LnkgPSAxNTAwO1xyXG5cclxuICAgICAgICAvLyBDcmVhY2nDs24gZGUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gVEVNUE9SQUw6IENyZWFyIHVuIHN1ZWxvIHNpbXBsZSBwYXJhIHF1ZSBwdWVkYW4gc2FsdGFyIHkgY2FlclxyXG4gICAgICAgIHRoaXMuZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIG1hcEhlaWdodEluUGl4ZWxzLCBtYXBXaWR0aEluUGl4ZWxzLCAxMCwgMHgwMEZGMDAsIDApLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZ3JvdW5kLCB0cnVlKTsgLy8gdHJ1ZSA9IGVzdMOhdGljb1xyXG5cclxuICAgICAgICAvL0NyZWFjacOzbiBkZSBsYXMgcGxhdGFmb3JtYXNcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWExID0gdGhpcy5hZGQucmVjdGFuZ2xlKDIwMCwgNTc1LCAzMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTEsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWEyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDc1MCwgNTUwLCAxNjAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTIsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWEzID0gdGhpcy5hZGQucmVjdGFuZ2xlKDEyNTAsIDQyNSwgNDAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWEzLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hNCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg1MjUsIDMyNSwgNDAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWE0LCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hNSA9IHRoaXMuYWRkLnJlY3RhbmdsZSg4NzUsIDIyNSwgMzAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWE1LCB0cnVlKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMucGFyZWQxID0gdGhpcy5hZGQucmVjdGFuZ2xlKDcxNSwgNDI1LCA4MCwgMjAwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGFyZWQxLCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy90aGlzLnBhcmVkMiA9IHRoaXMuYWRkLnJlY3RhbmdsZSg5MDAsIDcwMCwgMjAwLCAzMDAsIDB4MzIyYjFkKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBhcmVkMiwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5wb3J0YWxTcHJpdGUgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncG9ydGFsMScpLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIHRoaXMucG9ydGFsU3ByaXRlLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICB0aGlzLmV4aXRQb3J0YWwgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMjAwLCAyMDAsIDIwMCwgMjAwKS5zZXRTY2FsZSgwLjc1KTtcclxuICAgICAgICB0aGlzLmV4aXRQb3J0YWwuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmV4aXRQb3J0YWwsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbC5ib2R5LmVuYWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBwdWVydGFzIChzcHJpdGVzKVxyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3B1ZXJ0YU9zY3VyYTFOaXZlbDInKS5zZXRTY2FsZSgwLjc1KTtcclxuICAgICAgICB0aGlzLmRhcmtEb29yMiA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwdWVydGFPc2N1cmEyTml2ZWwyJykuc2V0U2NhbGUoMC43NSk7XHJcblxyXG4gICAgICAgIHRoaXMubGlnaHREb29yMSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwdWVydGFDbGFyYTFOaXZlbDInKS5zZXRTY2FsZSgwLjc1KTtcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjIgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncHVlcnRhQ2xhcmEyTml2ZWwyJykuc2V0U2NhbGUoMC43NSk7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IzID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3B1ZXJ0YUNsYXJhM05pdmVsMicpLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHB1ZXJ0YXMgaGl0Ym94ZXNcclxuICAgICAgICB0aGlzLmRhcmtEb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgzMjUsIDcwMCwgMjAsIDMwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhcmtEb29yMUhpdGJveCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjJIaXRib3ggPSB0aGlzLmFkZC5yZWN0YW5nbGUoNTAwLCA1NzUsIDMwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYXJrRG9vcjJIaXRib3gsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjFIaXRib3ggPSB0aGlzLmFkZC5yZWN0YW5nbGUoNzAwLCAxMDAsIDIwLCAyODAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5saWdodERvb3IxSGl0Ym94LCB0cnVlKTtcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjJIaXRib3ggPSB0aGlzLmFkZC5yZWN0YW5nbGUoNzUwLCA3MDAsIDIwLCAyMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5saWdodERvb3IySGl0Ym94LCB0cnVlKTtcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjNIaXRib3ggPSB0aGlzLmFkZC5yZWN0YW5nbGUoOTI1LCA1MDAsIDIwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5saWdodERvb3IzSGl0Ym94KTtcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjNIaXRib3guYm9keS5zZXRJbW1vdmFibGUodHJ1ZSkuc2V0QWxsb3dHcmF2aXR5KGZhbHNlKTtcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjNIaXRib3guc2V0QW5nbGUoMTM1KTtcclxuXHJcbiAgICAgICAgLy9wdWVydGFzIChsaXN0YSlcclxuICAgICAgICB0aGlzLmRvb3JzID0ge1xyXG4gICAgICAgICAgICBkYXJrRG9vcjE6IHtcclxuICAgICAgICAgICAgICAgIHNwcml0ZTogdGhpcy5kYXJrRG9vcjEsXHJcbiAgICAgICAgICAgICAgICBoaXRib3g6IHRoaXMuZGFya0Rvb3IxSGl0Ym94XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRhcmtEb29yMjoge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmRhcmtEb29yMixcclxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5kYXJrRG9vcjJIaXRib3hcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGlnaHREb29yMToge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmxpZ2h0RG9vcjEsXHJcbiAgICAgICAgICAgICAgICBoaXRib3g6IHRoaXMubGlnaHREb29yMUhpdGJveFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaWdodERvb3IyOiB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHRoaXMubGlnaHREb29yMyxcclxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5saWdodERvb3IySGl0Ym94XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpZ2h0RG9vcjM6IHtcclxuICAgICAgICAgICAgICAgIHNwcml0ZTogdGhpcy5saWdodERvb3IyLFxyXG4gICAgICAgICAgICAgICAgaGl0Ym94OiB0aGlzLmxpZ2h0RG9vcjNIaXRib3hcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGRhw7FvIGhpdGJveGVzXHJcbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cCA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljR3JvdXAoKTtcclxuICAgICAgICB0aGlzLnRyYW1wYSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdkYW1hZ2UxJykuc2V0U2NhbGUoMC43NSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5kYW1hZ2UxID0gdGhpcy5hZGQucmVjdGFuZ2xlKDEzNTAsIDEwMCwgMjAwLCAxMDAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYW1hZ2UxLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYW1hZ2UyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDEwMCwgNTMwLCAxMDAsIDMwLCAweDMzZmYwMCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFtYWdlMiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZGFtYWdlMyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgxMjUsIDgwMCwgNjAsIDMwLCAweDMzZmYwMCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFtYWdlMywgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZGFtYWdlNCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg2MDAsIDMwMCwgNjAsIDMwLCAweDMzZmYwMCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFtYWdlNCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZGFtYWdlR3JvdXAuYWRkKHRoaXMuZGFtYWdlMSk7XHJcbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cC5hZGQodGhpcy5kYW1hZ2UyKTtcclxuICAgICAgICB0aGlzLmRhbWFnZUdyb3VwLmFkZCh0aGlzLmRhbWFnZTMpO1xyXG4gICAgICAgIHRoaXMuZGFtYWdlR3JvdXAuYWRkKHRoaXMuZGFtYWdlNCk7XHJcblxyXG4gICAgICAgIC8vIENvbGlzaW9uZXMgZW50cmUgcGVyc29uYWplcyB5IGVsIHN1ZWxvIHkgcGxhdGFmb3JtYXNcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMuZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5ncm91bmQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTEpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hMyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hNCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wYXJlZDEpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBhcmVkMSk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBhcmVkMik7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wYXJlZDIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5saWdodERvb3IxSGl0Ym94KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMubGlnaHREb29yMkhpdGJveCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmxpZ2h0RG9vcjNIaXRib3gpO1xyXG5cclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmxpZ2h0RG9vcjFIaXRib3gpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmRhcmtEb29yMUhpdGJveCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMuZGFya0Rvb3IxSGl0Ym94KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5kYXJrRG9vcjJIaXRib3gpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZUFuaW1hdGlvbnMoJ25pdmlhJyk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCdzb2xlbm5lJyk7XHJcblxyXG4gICAgICAgIC8vIEluaWNpYXIgbGEgYW5pbWFjacOzbiAncnVuJyBwYXJhIHByb2JhciAoc2UgY29ycmVnaXLDoSBlbiB1cGRhdGUpXHJcbiAgICAgICAgdGhpcy5uaXZpYS5wbGF5KCduaXZpYV9pZGxlJyk7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lLnBsYXkoJ3NvbGVubmVfaWRsZScpO1xyXG5cclxuICAgICAgICAvLyBDcmVhY2nDs24gZGUgbG9zIG9iamV0b3NcclxuICAgICAgICB0aGlzLmNyeXN0YWxzID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCh7YWxsb3dHcmF2aXR5OiBmYWxzZSwgaW1tb3ZhYmxlOiB0cnVlfSk7XHJcbiAgICAgICAgdGhpcy5tb29uQ3J5c3RhbCA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKDEzMDAsIDMwMCwgJ21vb25kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgLnNldERhdGEoJ2Rvb3JLZXknLCAnZGFya0Rvb3IxJyk7XHJcbiAgICAgICAgdGhpcy5tb29uQ3J5c3RhbDIgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSg1NTAsIDIwMCwgJ21vb25kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgLnNldERhdGEoJ2Rvb3JLZXknLCAnZGFya0Rvb3IyJyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3VuQ3J5c3RhbCA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKDU1MCwgNzAwLCAnc3VuZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KVxyXG4gICAgICAgIC5zZXREYXRhKCdkb29yS2V5JywgJ2xpZ2h0RG9vcjMnKTtcclxuICAgICAgICB0aGlzLnN1bkNyeXN0YWwyID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoMjAwLCA3MDAsICdzdW5kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgLnNldERhdGEoJ2Rvb3JLZXknLCAnbGlnaHREb29yMScpO1xyXG5cclxuICAgICAgICAvL3RoaXMuc3VuQ3J5c3RhbCA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKG1hcC53aWR0aEluUGl4ZWxzIC0gMjAwLCAzMDAsICdzdW5DcnlzdGFsJykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5tZXRhUG9ydGFsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUobWFwV2lkdGhJblBpeGVscyAvIDIsIDUwLCAnbWV0YVBvcnRhbCcpLnNldEltbW92YWJsZSh0cnVlKS5zZXRCb2R5U2l6ZSg2NCwgNjQpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2lvbmVzIGRlIGxvcyBvYmpldG9zXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdzdW5kcm9wX2lkbGUnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3N1bmRyb3Bfc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDcgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdtb29uZHJvcF9pZGxlJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdtb29uZHJvcF9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogNyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1vb25DcnlzdGFsLnBsYXkoJ21vb25kcm9wX2lkbGUnKTtcclxuICAgICAgICB0aGlzLnN1bkNyeXN0YWwucGxheSgnc3VuZHJvcF9pZGxlJyk7XHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGVsIEljb25vIGRlbCBTb2wgKEhVRClcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3N1bl9odWRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnc3VuX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSwgXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlbCBJY29ubyBkZSBsYSBMdW5hIChIVUQpXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdtb29uX2h1ZF9hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdtb29uX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSwgXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgZGUgTHVuYSAoTml2aWEpIC0gSXpxdWllcmRhXHJcbiAgICAgICAgdGhpcy5tb29uSFVEID0gdGhpcy5hZGQuc3ByaXRlKHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclggLSAyMCwgNDAsICdtb29uX3NoZWV0JylcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4xNSkgLy8gRXNjYWxhIE1VWSByZWR1Y2lkYSwgeWEgcXVlIGxvcyBzcHJpdGVzaGVldHMgc29uIGdyYW5kZXMgKDM0N3gzMjkpXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKSBcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMClcclxuICAgICAgICAgICAgLnBsYXkoJ21vb25faHVkX2FuaW0nKTsgLy8gSW5pY2lhIGxhIGFuaW1hY2nDs25cclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIFNvbCAoU29sZW5uZSkgLSBEZXJlY2hhXHJcbiAgICAgICAgdGhpcy5zdW5IVUQgPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCArIDIwLCA0MCwgJ3N1bl9zaGVldCcpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMTUpIC8vIEVzY2FsYSBNVVkgcmVkdWNpZGFcclxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKVxyXG4gICAgICAgICAgICAucGxheSgnc3VuX2h1ZF9hbmltJyk7IC8vIEluaWNpYSBsYSBhbmltYWNpw7NuXHJcblxyXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgbGEgcmVjb2xlY2Npw7NuIGRlIGNyaXN0YWxlc1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLm1vb25DcnlzdGFsLCB0aGlzLmNvbGxlY3RNb29uQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5zdW5DcnlzdGFsLCB0aGlzLmNvbGxlY3RTdW5DcnlzdGFsLCBudWxsLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5tb29uQ3J5c3RhbDIsIHRoaXMuY29sbGVjdE1vb25DcnlzdGFsLCBudWxsLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLnN1bkNyeXN0YWwyLCB0aGlzLmNvbGxlY3RTdW5DcnlzdGFsLCBudWxsLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBmaW4gZGUgbml2ZWwgKE92ZXJsYXAgZGVsIHBvcnRhbClcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLm1ldGFQb3J0YWwsIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlLCBudWxsLCB0aGlzKTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMubWV0YVBvcnRhbCwgdGhpcy5jaGVja0xldmVsQ29tcGxldGUsIG51bGwsIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBDb2xpc2lvbmVzIGVudHJlIHBlcnNvbmFqZXMgeSBlbCBuaXZlbFxyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCBnZW9tZXRyeUxheWVyKTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCBnZW9tZXRyeUxheWVyKTtcclxuXHJcbiAgICAgICAgLy8gQ29uZmlndXJhY2nDs24gZGUgbGEgY8OhbWFyYVxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEJvdW5kcygwLCAwLCBtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7ICBcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbCBkZSBwYXVzYVxyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZXhpdFBvcnRhbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLmV4aXRQb3J0YWwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgcGF1c2FcclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSA0MCwgNDAsICdQYXVzZUJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMCkgXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApOyBcclxuXHJcbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSA0MCwgNDAsICdQYXVzZUJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCh0aGlzLnBhdXNlQnV0dG9uLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTsgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBhanVzdGVzXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbiA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gMTIwLCA0MCwgJ1NldHRpbmdzQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKSBcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC41KSBcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMCk7IFxyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDEyMCwgNDAsICdTZXR0aW5nc0J1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCh0aGlzLnNldHRpbmdzQnV0dG9uLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1NldHRpbmdzU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCd1cGRhdGUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5waHlzaWNzLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5leGl0UG9ydGFsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBoeXNpY3Mub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZXhpdFBvcnRhbCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBvbkRhbWFnZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0dhbWVPdmVyU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZGFtYWdlR3JvdXAsIG9uRGFtYWdlKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLmRhbWFnZUdyb3VwLCBvbkRhbWFnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGluaXRpYWxZID0gMTUwMDtcclxuXHJcbiAgICAgICAgIC8vIENyZWFjacOzbiBwZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5uaXZpYSA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDEzMDAsIGluaXRpYWxZLCAnbml2aWEnKS5zZXRCb3VuY2UoMC4yKS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTIwMCwgaW5pdGlhbFksICdzb2xlbm5lJykuc2V0Qm91bmNlKDAuMikuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLm5pdmlhLnNldFNpemUoMTIwLCAyNDApO1xyXG4gICAgICAgIHRoaXMubml2aWEuc2V0T2Zmc2V0KDExMCwgNTApO1xyXG5cclxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0U2l6ZSgxMjAsIDI0MCk7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldE9mZnNldCgxMTAsIDUwKTtcclxuXHJcbiAgICAgICAgLy8gRXNjYWxhZG8gZGUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLm5pdmlhLnNldFNjYWxlKDAuNSk7IFxyXG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRTY2FsZSgwLjUpO1xyXG5cclxuICAgICAgICAvLyBDb250cm9sZXMgZGUgTml2aWEgKFRlY2xhcyBXQVNEKVxyXG4gICAgICAgIHRoaXMubml2aWFDb250cm9scyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7XHJcbiAgICAgICAgICAgIGxlZnQ6ICdBJyxcclxuICAgICAgICAgICAgcmlnaHQ6ICdEJyxcclxuICAgICAgICAgICAgdXA6ICdXJywgICAgLy8gc2FsdG9cclxuICAgICAgICAgICAgaW50ZXJhY3Q6ICdFJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBDb250cm9sZXMgZGUgU29sZW5uZSAoRmxlY2hhcylcclxuICAgICAgICB0aGlzLnNvbGVubmVDb250cm9scyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7XHJcbiAgICAgICAgICAgIGxlZnQ6ICdMRUZUJyxcclxuICAgICAgICAgICAgcmlnaHQ6ICdSSUdIVCcsXHJcbiAgICAgICAgICAgIHVwOiAnVVAnLCAgIC8vIHNhbHRvXHJcbiAgICAgICAgICAgIGludGVyYWN0OiAnU1BBQ0UnXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNyZWF0ZUFuaW1hdGlvbnMoa2V5KSB7XHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBjb3JyZXJcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9ydW5gLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBwcmVmaXg6ICdydW5fJywgc3RhcnQ6IDEsIGVuZDogNCB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBzYWx0b1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBgJHtrZXl9X2p1bXBgLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBwcmVmaXg6ICdqdW1wXycsIHN0YXJ0OiAxLCBlbmQ6IDYgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlIGlkbGVcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9pZGxlYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgZnJhbWVzOiBbJ2lkbGVfMSddIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBhdXNlZFN0YXRlKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJywge29yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5fSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lKCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVQYXVzZSgpIHtcclxuICAgICAgICBjb25zdCBuZXdQYXVzZWRTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgIHRoaXMuc2V0UGF1c2VkU3RhdGUobmV3UGF1c2VkU3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVNldHRpbmdzKCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdTZXR0aW5nc1NjZW5lJyk7IFxyXG4gICAgICAgIC8vdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGUoKXtcclxuICAgICAgICAvLyBMw7NnaWNhIGRlIHBhdXNhIGNvbiB0ZWNsYSBFU0NcclxuICAgICAgICBpZih0aGlzLmVzY0tleS5pc0Rvd24pe1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNb3ZpbWllbnRvIGRlIE5pdmlhXHJcbiAgICAgICAgdGhpcy5oYW5kbGVQbGF5ZXJNb3ZlbWVudCh0aGlzLm5pdmlhLCB0aGlzLm5pdmlhQ29udHJvbHMpO1xyXG5cclxuICAgICAgICAvLyBNb3ZpbWllbnRvIGRlIFNvbGVubmVcclxuICAgICAgICB0aGlzLmhhbmRsZVBsYXllck1vdmVtZW50KHRoaXMuc29sZW5uZSwgdGhpcy5zb2xlbm5lQ29udHJvbHMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMuZXhpdFBvcnRhbC52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKHRoaXMuZXhpdFBvcnRhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBoYW5kbGVQbGF5ZXJNb3ZlbWVudChwbGF5ZXJTcHJpdGUsIGNvbnRyb2xzKSB7XHJcbiAgICAgICAgLy8gVmVsb2NpZGFkIGRlbCBtb3ZpbWllbnRvXHJcbiAgICAgICAgY29uc3Qgc3BlZWQgPSA0MDA7XHJcbiAgICAgICAgY29uc3QganVtcFZlbG9jaXR5ID0gOTAwO1xyXG4gICAgICAgIGNvbnN0IGtleSA9IHBsYXllclNwcml0ZS50ZXh0dXJlLmtleTtcclxuICAgICAgICBjb25zdCBpc01vdmluZyA9IGNvbnRyb2xzLmxlZnQuaXNEb3duIHx8IGNvbnRyb2xzLnJpZ2h0LmlzRG93bjtcclxuICAgICAgICBjb25zdCBpc0dyb3VuZGVkID0gcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xyXG4gICAgICAgIGxldCBhbmlta2V5ID0gJyc7XHJcblxyXG4gICAgICAgIC8vIEzDs2dpY2EgcGFyYSByZXByb2R1Y2lyIGVsIHNvbmlkbyBkZSBjYW1pbmFyXHJcbiAgICAgICBpZiAoaXNNb3ZpbmcgJiYgaXNHcm91bmRlZCkge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbml2aWEnICYmIHRoaXMuaXNOaXZpYVdhbGtpbmcgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcgPSB0aGlzLnNvdW5kLmFkZCgnd2Fsa1NvdW5kJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDEgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nLnBsYXkoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdzb2xlbm5lJyAmJiB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9IHRoaXMuc291bmQuYWRkKCd3YWxrU291bmQnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZy5wbGF5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBEZXRlbmVyIGVsIHNvbmlkbyBzaSBubyBzZSBlc3TDoSBtb3ZpZW5kbyBvIGVzdMOhIHNhbHRhbmRvXHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICduaXZpYScgJiYgdGhpcy5pc05pdmlhV2Fsa2luZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gbnVsbDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdzb2xlbm5lJyAmJiB0aGlzLmlzU29sZW5uZVdhbGtpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNb3ZpbWllbnRvIGhvcml6b250YWxcclxuICAgICAgICBpZiAoY29udHJvbHMubGVmdC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WCgtc3BlZWQpO1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0RmxpcFgoZmFsc2UpOyAvLyBNaXJhciBhIGxhIGl6cXVpZXJkYVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY29udHJvbHMucmlnaHQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVgoc3BlZWQpO1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0RmxpcFgodHJ1ZSk7IC8vIE1pcmFyIGEgbGEgZGVyZWNoYVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTYWx0byAoc29sbyBzaSBlc3TDoSB0b2NhbmRvIGVsIHN1ZWxvKVxyXG4gICAgICAgIGNvbnN0IGlzSnVtcGluZyA9IGNvbnRyb2xzLnVwLmlzRG93biAmJiBwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd247XHJcblxyXG4gICAgICAgIGlmIChpc0p1bXBpbmcpIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WSgtanVtcFZlbG9jaXR5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgYW5pbWFjaW9uZXNcclxuICAgICAgICBpZiAoIXBsYXllclNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bikge1xyXG4gICAgICAgICAgICAvLyBFbiBlbCBhaXJlXHJcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X2p1bXBgO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY29udHJvbHMubGVmdC5pc0Rvd24gfHwgY29udHJvbHMucmlnaHQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIC8vIENvcnJpZW5kb1xyXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9ydW5gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIElkbGVcclxuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1faWRsZWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbGEgYW5pbWFjacOzbiBzb2xvIHNpIGVzIGRpZmVyZW50ZSBhIGxhIGFjdHVhbFxyXG4gICAgICAgIGlmIChwbGF5ZXJTcHJpdGUuYW5pbXMuY3VycmVudEFuaW0/LmtleSAhPT0gYW5pbWtleSkge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuYW5pbXMucGxheShhbmlta2V5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgaW50ZXJhY2Npw7NuXHJcbiAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bihjb250cm9scy5pbnRlcmFjdCkpIHtcclxuICAgICAgICAgICAgLy8gQXF1w60gdmEgbGEgbMOzZ2ljYSBkZSBpbnRlcmFjY2nDs24gKHBvciBlamVtcGxvLCBhYnJpciBwdWVydGFzLCByZWNvZ2VyIG9iamV0b3MsIGV0Yy4pXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbnRlcmFjY2nDs24gcmVhbGl6YWRhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbGxlY3RNb29uQ3J5c3RhbChwbGF5ZXIsIGNyeXN0YWwpIHtcclxuICAgICAgICBjcnlzdGFsLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCArPSAxO1xyXG4gICAgICAgIGlmICh0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgPT0gMikgdGhpcy5tb29uSFVELnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdjb2xsZWN0TW9vbkNyeXN0YWxTb3VuZCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ05pdmlhIGhhIHJlY29naWRvIGVsIENyaXN0YWwgZGUgbGEgTHVuYScpO1xyXG4gICAgICAgIHRoaXMudW5sb2NrRG9vcihjcnlzdGFsLmdldERhdGEoJ2Rvb3JLZXknKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29sbGVjdFN1bkNyeXN0YWwocGxheWVyLCBjcnlzdGFsKSB7XHJcbiAgICAgICAgY3J5c3RhbC5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsICs9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPT0gMikgdGhpcy5zdW5IVUQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2NvbGxlY3RTdW5DcnlzdGFsU291bmQnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTb2xlbm5lIGhhIHJlY29naWRvIGVsIENyaXN0YWwgZGVsIFNvbCcpO1xyXG4gICAgICAgIHRoaXMudW5sb2NrRG9vcihjcnlzdGFsLmdldERhdGEoJ2Rvb3JLZXknKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdW5sb2NrRG9vcihkb29yS2V5KSB7XHJcbiAgICAgICAgY29uc3QgZG9vciA9IHRoaXMuZG9vcnNbZG9vcktleV07XHJcblxyXG4gICAgICAgIGRvb3IuaGl0Ym94LmJvZHkuZW5hYmxlID0gZmFsc2U7XHJcbiAgICAgICAgZG9vci5oaXRib3guc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgZG9vci5zcHJpdGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2hlY2tQb3J0YWxTcGF3bigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrUG9ydGFsU3Bhd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9PSAyICYmIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPT0gMikge1xyXG4gICAgICAgICAgICB0aGlzLnBvcnRhbFNwcml0ZS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmV4aXRQb3J0YWwuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5leGl0UG9ydGFsLmJvZHkuZW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tMZXZlbENvbXBsZXRlKHBsYXllciwgcG9ydGFsKSB7XHJcbiAgICAgICAgLy8gTG9zIGRvcyBkZWJlbiB0b2NhciBlbCBwb3J0YWwgeSB0ZW5lciBzdXMgcmVzcGVjdGl2b3MgY3Jpc3RhbGVzXHJcbiAgICAgICAgaWYgKHRoaXMubml2aWFPblBvcnRhbCAmJiB0aGlzLnNvbGVubmVPblBvcnRhbCAmJiB0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgPT0gMiAmJiB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID09IDIpIHtcclxuICAgICAgICAgICAgLy8gTGFuemFyIGVzY2VuYSBkZSB2aWN0b3JpYSB5IHBhdXNhciBlc3RhIGVzY2VuYVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnVmljdG9yeVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlbmRnYW1lKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSnVlZ28gVGVybWluYWRvXCIpO1xyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmZXJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclgsIHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclkgLSAxMDAsIFwiwqFOaXZlbCBDb21wbGV0YWRvIVwiLCB7IFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLCBmaWxsOiAnI0ZGRkZGRicgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAvLyBSZWluaWNpYXIgbml2ZWxcclxuICAgICAgICBjb25zdCByZXN0YXJ0YnRuID0gdGhpcy5hZGQuaW1hZ2UoNzA1LCA0MTUsICdSZXN0YXJ0QnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDY5MywgNDI1LCAnUmVzdGFydEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyZXN0YXJ0YnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2NlbmVLZXkgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xuXG4vKipcbiAqIEVzY2VuYSBxdWUgc2UgbXVlc3RyYSBjdWFuZG8gc2UgcGllcmRlIGxhIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcbiAqIFBhdXNhIGVsIHJlc3RvIGRlIGVzY2VuYXMgeSBjb21wcnVlYmEgY29udGludWFtZW50ZSBoYXN0YSBxdWUgc2UgcmVzdGFibGV6Y2FcbiAqL1xuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25Mb3N0U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrVGltZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNDaGVja2luZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGluaXQoZGF0YSkge1xuICAgICAgICAvLyBHdWFyZGFyIGxhIGVzY2VuYSBxdWUgZXN0YWJhIGFjdGl2YSBjdWFuZG8gc2UgcGVyZGnDsyBsYSBjb25leGnDs25cbiAgICAgICAgdGhpcy5wcmV2aW91c1NjZW5lID0gZGF0YT8ucHJldmlvdXNTY2VuZTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIE5vIHBhdXNhciBsYSBlc2NlbmEgYW50ZXJpb3IgbnVldmFtZW50ZSwgeWEgZXN0w6EgcGF1c2FkYVxuICAgICAgICAvLyBTb2xvIG1vc3RyYXIgbGEgZXNjZW5hIGRlIGNvbmV4acOzbiBwZXJkaWRhXG5cbiAgICAgICAgLy8gRm9uZG8gc2VtaS10cmFuc3BhcmVudGVcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgMzAwLCA4MDAsIDYwMCwgMHgwMDAwMDAsIDAuOCk7XG5cbiAgICAgICAgLy8gVMOtdHVsb1xuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjAwLCAnQ09ORVhJw5NOIFBFUkRJREEnLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwJyxcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vIE1lbnNhamUgZGUgZXN0YWRvXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoNDAwLCAzMDAsICdJbnRlbnRhbmRvIHJlY29uZWN0YXIuLi4nLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZjAwJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBDb250YWRvciBkZSBpbnRlbnRvc1xuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgMzUwLCAnSW50ZW50b3M6IDAnLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBJbmRpY2Fkb3IgcGFycGFkZWFudGUgKC4uLilcbiAgICAgICAgdGhpcy5kb3RDb3VudCA9IDA7XG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XG4gICAgICAgICAgICBkZWxheTogMjAwMCxcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZG90Q291bnQgPSAodGhpcy5kb3RDb3VudCArIDEpICUgNDtcbiAgICAgICAgICAgICAgICBjb25zdCBkb3RzID0gJy4nLnJlcGVhdCh0aGlzLmRvdENvdW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgSW50ZW50YW5kbyByZWNvbmVjdGFyJHtkb3RzfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMaXN0ZW5lciBkZSByZWNvbmV4acOzblxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVjb25uZWN0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xuXG4gICAgICAgIC8vIEludGVudG9zIGRlIHJlY29uZXhpw7NuIFxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrVGltZXIgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xuICAgICAgICAgICAgZGVsYXk6IDIwMDAsXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMuYXR0ZW1wdFJlY29ubmVjdCxcbiAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUHJpbWVyIGludGVudG8gaW5tZWRpYXRvXG4gICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xuICAgIH1cblxuICAgIGFzeW5jIGF0dGVtcHRSZWNvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ2hlY2tpbmcpIHJldHVybjtcbiAgICAgICAgdGhpcy5pc0NoZWNraW5nID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCsrO1xuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0LnNldFRleHQoYEludGVudG9zOiAke3RoaXMuYXR0ZW1wdENvdW50fWApO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBjb25uZWN0aW9uTWFuYWdlci5jaGVja0Nvbm5lY3Rpb24oKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuaXNDaGVja2luZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25SZWNvbm5lY3RlZCgpIHtcbiAgICAgICAgLy8gTGltcGlhciB0aW1lcnNcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0Q2hlY2tUaW1lcikge1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja1RpbWVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja1RpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZXIgbGlzdGVuZXJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNZW5zYWplIGRlIMOpeGl0b1xuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnwqFDb25leGnDs24gcmVzdGFibGVjaWRhIScpO1xuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcblxuICAgICAgICAvLyBSZWFudWRhciBlc2NlbmEgYW50ZXJpb3IgeSBkZXRlbmVyIGxhIGFjdHVhbFxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldmlvdXNTY2VuZSkge1xuICAgICAgICAgICAgICAgIC8vIE9idGVuZXIgbGEgZXNjZW5hIGFudGVyaW9yIHkgcmUtYWdyZWdhciBzdSBsaXN0ZW5lclxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVTY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KHRoaXMucHJldmlvdXNTY2VuZSk7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWVTY2VuZSAmJiBnYW1lU2NlbmUuY29ubmVjdGlvbkxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKGdhbWVTY2VuZS5jb25uZWN0aW9uTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZSh0aGlzLnByZXZpb3VzU2NlbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNodXRkb3duKCkge1xuICAgICAgICAvLyBMaW1waWV6YSBleHRyYSBwb3Igc2VndXJpZGFkXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrVGltZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tUaW1lci5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIGRlc3B1ZXMgZGUgaGFjZXIgY2xpY2sgZW4gXCJKdWdhclwiIC0gc2VsZWNjaW9uIGRlIG1vZG8gbG9jYWwgdSBvbmxpbmVcbmltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xuXG5leHBvcnQgY2xhc3MgR2FtZU1vZGVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdHYW1lTW9kZVNjZW5lJyk7XG4gICAgfVxuXG4gICAgcHJlbG9hZCgpIHtcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dG9yaWFsQm94JywgJ2Fzc2V0cy9jYWphLnBuZycpO1xuICAgICAgICBcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRCdXR0b24nLCAnYXNzZXRzL3NhbGlyLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRCdXR0b25Ib3ZlcicsICdhc3NldHMvc2FsaXJIb3Zlci5wbmcnKTtcblxuICAgICAgICAvLyBCb3TDs24gZGUganVnYXIgZW4gbG9jYWxcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMb2NhbEJ1dHRvbicsICdhc3NldHMvanVnYXJMb2NhbC5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMb2NhbEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9qdWdhckxvY2FsSG92ZXIucG5nJyk7XG5cbiAgICAgICAgLy8gQm90w7NuIGRlIGp1Z2FyIGVuIG9ubGluZVxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ09ubGluZUJ1dHRvbicsICdhc3NldHMvanVnYXJPbmxpbmUucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnT25saW5lQnV0dG9uSG92ZXInLCAnYXNzZXRzL2p1Z2FyT25saW5lSG92ZXIucG5nJyk7XG5cbiAgICAgICAgIC8vIFRleHRvIGRlIG1vZG8gZGUganVlZ29cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdHYW1lTW9kZVRleHQnLCAnYXNzZXRzL3RleHRvX21vZG9EZUp1ZWdvLnBuZycpO1xuICAgIH1cbiAgICBjcmVhdGUoKXtcbiAgICAgICAgLy8gZGltZW5zaW9uZXMgZGUgbGEgcGFudGFsbGFcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcblxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZnJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxuXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoLCAweDA3MDcyMiwgMC45KS5zZXRPcmlnaW4oMCk7XG5cbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDQwMCwgJ3R1dG9yaWFsQm94JylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xuXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcbiAgICAgICAgY29uc3QgZXhpdEJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTcwLCAnRXhpdEJ1dHRvbicpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcblxuICAgICAgICBleGl0QnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTcwLCAnRXhpdEJ1dHRvbkhvdmVyJylcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoZXhpdEJ0bi5kZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBleGl0QnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBDaWVycmEgbGEgdmVudGFuYSBkZWwgbmF2ZWdhZG9yIG8gcGVzdGHDsWFcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFTDrXR1bG8gXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgMjEwLCAnR2FtZU1vZGVUZXh0JylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xuXG4gICAgICAgICAgICBcbiAgICAgICAvLyBCb3TDs24gZGUganVlZ28gbG9jYWxcbiAgICAgICAgY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDM0MCwgJ0xvY2FsQnV0dG9uJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xuXG4gICAgICAgIGxvY2FsQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMzQwLCAnTG9jYWxCdXR0b25Ib3ZlcicpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKGxvY2FsQnRuLmRlcHRoICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxvY2FsQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbG9jYWxCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0xldmVsU2VsZWN0U2NlbmUnKTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpOyAvLyBjaWVycmEgbGEgZXNjZW5hIGRlIHNlbGVjY2lvbiBkZSBtb2RvIGRlIGp1ZWdvXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQm90w7NuIGRlIEp1ZWdvIE9ubGluZVxuICAgICAgICBjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC5pbWFnZSg5MDAsIDM0MCwgJ09ubGluZUJ1dHRvbicpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcblxuICAgICAgICBvbmxpbmVCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoOTAwLCAzNDAsICdPbmxpbmVCdXR0b25Ib3ZlcicpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKG9ubGluZUJ0bi5kZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBvbmxpbmVCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBvbmxpbmVCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgLy8gSXIgYSBBdXRoU2NlbmUgY29uIGRlc3Rpbm8gYSBMb2JieVNjZW5lIGRlc3B1w6lzIGRlIGxvZ2luXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdBdXRoU2NlbmUnLCB7IGRlc3RpbmF0aW9uOiAnTG9iYnlTY2VuZScgfSk7IFxuICAgICAgICB9KTtcbiAgICB9XG59IiwiLy8gc3JjL2NsaWVudC9zY2VuZXMvTG9iYnlTY2VuZS5qc1xuaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XG5pbXBvcnQgeyB3c1NlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9XZWJTb2NrZXRTZXJ2aWNlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9iYnlTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdMb2JieVNjZW5lJyk7XG4gIH1cblxuICBwcmVsb2FkKCkge1xuICAgIC8vIEJvdMOzbiBkZSBjYW5jZWxhclxuICAgIHRoaXMubG9hZC5pbWFnZSgnQ2FuY2VsQnV0dG9uJywgJ2Fzc2V0cy9jYW5jZWxhci5wbmcnKTtcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NhbmNlbEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9jYW5jZWxhckhvdmVyLnBuZycpO1xuXG4gICAgLy8gVGV4dG8gZGUgbXVsdGlqdWdhZG9yXG4gICAgdGhpcy5sb2FkLmltYWdlKCdNdWx0aXBsYXllclRleHQnLCAnYXNzZXRzL3RleHRvX211bHRpanVnYWRvci5wbmcnKTtcbiAgfVxuXG4gIGNyZWF0ZSgpIHtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuY2FtZXJhcy5tYWluLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcblxuICAgIC8vIEZvbmRvXG4gICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcblxuICAgIC8vIFTDrXR1bG9cbiAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDExMCwgJ011bHRpcGxheWVyVGV4dCcpXG4gICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgIC5zZXRTY2FsZSgxKTtcblxuICAgIC8vIE1vc3RyYXIgdXN1YXJpbyBsb2d1ZWFkb1xuICAgIGNvbnN0IHVzZXJuYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJuYW1lJyk7XG4gICAgaWYgKHVzZXJuYW1lKSB7XG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAyNTAsIGBKdWdhZG9yOiAke3VzZXJuYW1lfWAsIHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNhMWRiYTEnLFxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhdWRleCcsXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcbiAgICB9XG5cbiAgICAvLyBFc3RhZG8gZGUgY29uZXhpw7NuXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgLSA1MCwgJ0NvbmVjdGFuZG8gYWwgc2Vydmlkb3IuLi4nLCB7XG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxuICAgICAgY29sb3I6ICcjZmZmZjAwJyxcbiAgICAgIGZvbnRGYW1pbHk6ICdDYXVkZXgnXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAvLyBDb250YWRvciBkZSBqdWdhZG9yZXNcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyICsgMjAsICcnLCB7XG4gICAgICBmb250U2l6ZTogJzIycHgnLFxuICAgICAgY29sb3I6ICcjMDBmZjAwJyxcbiAgICAgIGZvbnRGYW1pbHk6ICdDYXVkZXgnXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAvLyBJbmRpY2Fkb3IgZGUgY2FyZ2EgKHB1bnRvcyBhbmltYWRvcylcbiAgICB0aGlzLmxvYWRpbmdEb3RzID0gJyc7XG4gICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcbiAgICAgIGRlbGF5OiA1MDAsXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zY2VuZS5pc0FjdGl2ZSgnTG9iYnlTY2VuZScpKSB7XG4gICAgICAgICAgdGhpcy5sb2FkaW5nRG90cyA9ICh0aGlzLmxvYWRpbmdEb3RzLmxlbmd0aCA+PSAzKSA/ICcnIDogdGhpcy5sb2FkaW5nRG90cyArICcuJztcbiAgICAgICAgICBpZiAodGhpcy5zdGF0dXNUZXh0LnRleHQuaW5jbHVkZXMoJ0VzcGVyYW5kbycpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgRXNwZXJhbmRvIG9wb25lbnRlJHt0aGlzLmxvYWRpbmdEb3RzfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGxvb3A6IHRydWVcbiAgICB9KTtcblxuICAgIC8vIEJvdMOzbiBkZSBjYW5jZWxhclxuICAgIGNvbnN0IENhbmNlbEJ0biA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgaGVpZ2h0IC0gMTAwLCAnQ2FuY2VsQnV0dG9uJylcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgLnNldFNjYWxlKDAuNylcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XG5cbiAgICBDYW5jZWxCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgaWYgKCFob3ZlckltZykge1xuICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEwNjgsIDE3MCwgJ0NhbmNlbEJ1dHRvbkhvdmVyJylcbiAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAuc2V0U2NhbGUoMC43KVxuICAgICAgICAgIC5zZXREZXB0aChDYW5jZWxCdG4uZGVwdGggKyAxKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIENhbmNlbEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgIGlmIChob3ZlckltZykge1xuICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XG4gICAgICAgIGhvdmVySW1nID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIENhbmNlbEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICB0aGlzLmxlYXZlUXVldWUoKTtcbiAgICB9KTtcblxuICAgIC8vIENvbmVjdGFyIGFsIHNlcnZpZG9yIFdlYlNvY2tldFxuICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XG4gIH1cblxuICBhc3luYyBjb25uZWN0VG9TZXJ2ZXIoKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENvbmVjdGFyIGFsIFdlYlNvY2tldFxuICAgICAgYXdhaXQgd3NTZXJ2aWNlLmNvbm5lY3QoKTtcblxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0VzcGVyYW5kbyBvcG9uZW50ZScpO1xuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Rm9udEZhbWlseSgnQ2F1ZGV4Jyk7XG5cbiAgICAgIC8vIFJlZ2lzdHJhciBoYW5kbGVycyBkZSBtZW5zYWplc1xuICAgICAgdGhpcy5xdWV1ZVN0YXR1c0hhbmRsZXIgPSB0aGlzLmhhbmRsZVF1ZXVlU3RhdHVzLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmdhbWVTdGFydEhhbmRsZXIgPSB0aGlzLmhhbmRsZUdhbWVTdGFydC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5jb25uZWN0aW9uTG9zdEhhbmRsZXIgPSB0aGlzLmhhbmRsZUNvbm5lY3Rpb25Mb3N0LmJpbmQodGhpcyk7XG5cbiAgICAgIHdzU2VydmljZS5vbigncXVldWVTdGF0dXMnLCB0aGlzLnF1ZXVlU3RhdHVzSGFuZGxlcik7XG4gICAgICB3c1NlcnZpY2Uub24oJ2dhbWVTdGFydCcsIHRoaXMuZ2FtZVN0YXJ0SGFuZGxlcik7XG4gICAgICB3c1NlcnZpY2Uub24oJ2Nvbm5lY3Rpb25Mb3N0JywgdGhpcy5jb25uZWN0aW9uTG9zdEhhbmRsZXIpO1xuXG4gICAgICAvLyBVbmlyc2UgYSBsYSBjb2xhXG4gICAgICB3c1NlcnZpY2Uuam9pblF1ZXVlKCk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNvbmVjdGFuZG8gYWwgc2Vydmlkb3I6JywgZXJyb3IpO1xuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Vycm9yIGRlIGNvbmV4acOzbicpO1xuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Rm9udEZhbWlseSgnQ2F1ZGV4Jyk7XG5cbiAgICAgIC8vIEJvdMOzbiBkZSByZWludGVudGFyXG4gICAgICBjb25zdCByZXRyeUJ1dHRvbiA9IHRoaXMuYWRkLnRleHQodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLyAyLCB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQgLyAyICsgMTAwLFxuICAgICAgICAn8J+UhCBSZWludGVudGFyJywge1xuICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxuICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNDQ0NGZmJyxcbiAgICAgICAgcGFkZGluZzogeyB4OiAyMCwgeTogMTAgfVxuICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xuXG4gICAgICByZXRyeUJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgIHJldHJ5QnV0dG9uLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5jb25uZWN0VG9TZXJ2ZXIoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVF1ZXVlU3RhdHVzKGRhdGEpIHtcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dC5zZXRUZXh0KGBKdWdhZG9yZXMgZW4gY29sYTogJHtkYXRhLnBvc2l0aW9ufS8yYCk7XG4gIH1cblxuICBoYW5kbGVHYW1lU3RhcnQoZGF0YSkge1xuICAgIGNvbnNvbGUubG9nKCfwn46uIMKhUGFydGlkYSBlbmNvbnRyYWRhIScsIGRhdGEpO1xuXG4gICAgLy8gR3VhcmRhciBlbCByb2wgZGVsIGp1Z2Fkb3JcbiAgICB3c1NlcnZpY2Uuc2V0UGxheWVyUm9sZShkYXRhLnJvbGUpO1xuXG4gICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ8KhUGFydGlkYSBlbmNvbnRyYWRhIScpO1xuICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xuICAgIHRoaXMucGxheWVyQ291bnRUZXh0LnNldFRleHQoJ0luaWNpYW5kbyBqdWVnby4uLicpO1xuICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRGb250RmFtaWx5KCdDYXVkZXgnKTtcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dC5zZXRGb250RmFtaWx5KCdDYXVkZXgnKTtcblxuICAgIC8vIFRyYW5zaWNpw7NuIGEgbGEgZXNjZW5hIGRlIGp1ZWdvIGRlc3B1w6lzIGRlIDEgc2VndW5kb1xuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwLCAoKSA9PiB7XG4gICAgICAvLyBQYXNhciBlbCByb2wgYWwgR2FtZVNjZW5lXG4gICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnLCB7XG4gICAgICAgIGlzTXVsdGlwbGF5ZXI6IHRydWUsXG4gICAgICAgIHBsYXllclJvbGU6IGRhdGEucm9sZSxcbiAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVDb25uZWN0aW9uTG9zdCgpIHtcbiAgICBjb25zb2xlLmxvZygn4p2MIENvbmV4acOzbiBwZXJkaWRhIGVuIExvYmJ5Jyk7XG4gICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0NvbmV4acOzbiBwZXJkaWRhJyk7XG4gICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XG4gICAgdGhpcy5wbGF5ZXJDb3VudFRleHQuc2V0VGV4dCgnJyk7XG4gICAgdGhpcy5zdGF0dXNUZXh0LnNldEZvbnRGYW1pbHkoJ0NhdWRleCcpO1xuICAgIHRoaXMucGxheWVyQ291bnRUZXh0LnNldEZvbnRGYW1pbHkoJ0NhdWRleCcpO1xuXG4gICAgLy8gVm9sdmVyIGFsIG1lbsO6IGRlc3B1w6lzIGRlIDIgc2VndW5kb3NcbiAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xuICAgICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XG4gICAgfSk7XG4gIH1cblxuICBsZWF2ZVF1ZXVlKCkge1xuICAgIC8vIExpbXBpYXIgaGFuZGxlcnNcbiAgICBpZiAodGhpcy5xdWV1ZVN0YXR1c0hhbmRsZXIpIHtcbiAgICAgIHdzU2VydmljZS5vZmYoJ3F1ZXVlU3RhdHVzJywgdGhpcy5xdWV1ZVN0YXR1c0hhbmRsZXIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5nYW1lU3RhcnRIYW5kbGVyKSB7XG4gICAgICB3c1NlcnZpY2Uub2ZmKCdnYW1lU3RhcnQnLCB0aGlzLmdhbWVTdGFydEhhbmRsZXIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb25uZWN0aW9uTG9zdEhhbmRsZXIpIHtcbiAgICAgIHdzU2VydmljZS5vZmYoJ2Nvbm5lY3Rpb25Mb3N0JywgdGhpcy5jb25uZWN0aW9uTG9zdEhhbmRsZXIpO1xuICAgIH1cblxuICAgIC8vIFNhbGlyIGRlIGxhIGNvbGEgeSBkZXNjb25lY3RhclxuICAgIHdzU2VydmljZS5sZWF2ZVF1ZXVlKCk7XG4gICAgd3NTZXJ2aWNlLmRpc2Nvbm5lY3QoKTtcblxuICAgIC8vIFZvbHZlciBhbCBtZW7DulxuICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xuICB9XG5cbiAgc2h1dGRvd24oKSB7XG4gICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XG4gIH1cbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcblxuZXhwb3J0IGNsYXNzIFJhbmtpbmdTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdSYW5raW5nU2NlbmUnKTtcbiAgICB9XG5cbiAgICBwcmVsb2FkKCkge1xuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0b3JpYWxCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XG5cbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b24nLCAnYXNzZXRzL2NlcnJhci5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uSG92ZXInLCAnYXNzZXRzL2NlcnJhckhvdmVyLnBuZycpO1xuXG4gICAgICAgIC8vIFRleHRvIGRlIHJhbmtpbmdcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSYW5raW5nVGV4dCcsICdhc3NldHMvdGV4dG9fcmFua2luZy5wbmcnKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XG5cbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcblxuICAgICAgICAvLyBSZWN0w6FuZ3VsbyBxdWUgY3VicmUgdG9kYSBsYSBwYW50YWxsYVxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgdywgaCwgMHgwNzA3MjIsIDAuOSkuc2V0T3JpZ2luKDApO1xuXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICd0dXRvcmlhbEJveCcpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcblxuICAgICAgICAvLyBUw610dWxvIFxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDIxMCwgJ1JhbmtpbmdUZXh0JylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xuXG5cbiAgICAgICAgLy8gQ29udGVuZWRvciBwYXJhIGxhIGxpc3RhXG4gICAgICAgIHRoaXMuZmV0Y2hSYW5raW5nKCk7XG5cbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxuICAgICAgICBjb25zdCBFeGl0QnRuID0gdGhpcy5hZGQuaW1hZ2UoMTA2OSwgMTcwLCAnRXhpdE1pbkJ1dHRvbicpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xuXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMTA2OCwgMTcwLCAnRXhpdE1pbkJ1dHRvbkhvdmVyJylcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChFeGl0QnRuLmRlcHRoICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZWdyZXNhciBhIGxhIGVzY2VuYSBvcmlnaW5hbFxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBmZXRjaFJhbmtpbmcoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMbGFtYWRhIGFsIGVuZHBvaW50IGRlIHVzZXJSb3V0ZXMuanNcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvdXNlcnMvcmFua2luZycpO1xuICAgICAgICAgICAgY29uc3QgcGxheWVycyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xuXG4gICAgICAgICAgICBwbGF5ZXJzLmZvckVhY2goKHBsYXllciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB5UG9zID0gMjcwICsgKGluZGV4ICogNTApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gaW5kZXggPCAzID8gJyNmZmM4NzVmZicgOiAnI2ZmZmZmZic7IC8vIFRvcCAzIGVuIGRvcmFkb1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLnRleHQodyAqIDAuMywgeVBvcywgYCR7aW5kZXggKyAxfS4gJHtwbGF5ZXIudXNlcm5hbWV9YCwgeyBcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JywgZmlsbDogY29sb3IsIFxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnQ2F1ZGV4J1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEZvcm1hdGVhciBlbCB0aWVtcG9cbiAgICAgICAgICAgICAgICB0aGlzLmFkZC50ZXh0KHcgKiAwLjcsIHlQb3MsIGAke3BsYXllci5iZXN0VGltZX1zYCwgeyBcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JywgZmlsbDogY29sb3IsIFxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnQ2F1ZGV4J1xuICAgICAgICAgICAgICAgIH0pLnNldE9yaWdpbigxLCAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIG9idGVuZXIgcmFua2luZzpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoIC8gMiwgMzAwLCAnRXJyb3IgYWwgY29uZWN0YXIgY29uIGVsIGJvc3F1ZS4uLicsIHsgXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JywgZmlsbDogJyNmZjAwMDAnIFxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTG9jYWxTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdHYW1lTG9jYWxTY2VuZScpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9IG51bGw7XG4gICAgfVxuXG4gICAgcHJlbG9hZCgpIHtcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIHBlcnNvbmFqZXNcbiAgICAgICAgdGhpcy5sb2FkLmF0bGFzKCduaXZpYScsICdhc3NldHMvbml2aWEvbml2aWFfc2hlZXQucG5nJywgJ2Fzc2V0cy9uaXZpYS9uaXZpYV9zaGVldC5qc29uJyk7XG4gICAgICAgIHRoaXMubG9hZC5hdGxhcygnc29sZW5uZScsICdhc3NldHMvc29sZW5uZS9zb2xlbm5lX3NoZWV0LnBuZycsICdhc3NldHMvc29sZW5uZS9zb2xlbm5lX3NoZWV0Lmpzb24nKTtcblxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgY3Jpc3RhbGVzXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnc3VuZHJvcF9zaGVldCcsICdhc3NldHMvaXRlbXMvc3VuZHJvcC5wbmcnLCB7IGZyYW1lV2lkdGg6IDIxNCwgZnJhbWVIZWlnaHQ6IDIwNiB9KTtcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uZHJvcF9zaGVldCcsICdhc3NldHMvaXRlbXMvbW9vbmRyb3AucG5nJywgeyBmcmFtZVdpZHRoOiAyMTQsIGZyYW1lSGVpZ2h0OiAyMDYgfSk7XG5cbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdzdW5fc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL3N1bi5wbmcnLCB7IGZyYW1lV2lkdGg6IDM0NywgZnJhbWVIZWlnaHQ6IDMyOSB9KTtcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9tb29uLnBuZycsIHsgZnJhbWVXaWR0aDogMzQ3LCBmcmFtZUhlaWdodDogMzI5IH0pO1xuXG4gICAgICAgIC8vIENhcmdhIGRlbCBmb25kb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwxL2ZvbmRvX2FiYWpvLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BsYXRhZm9ybWFzJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwxL3BsYXRhZm9ybWFzX2FiYWpvLnBuZycpO1xuXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBlbGVtZW50b3MgZGVsIGVzY2VuYXJpb1xuXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmFOaXZlbDEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvcHVlcnRhX2NsYXJhLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYU5pdmVsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9wdWVydGFfb3NjdXJhLnBuZycpO1xuXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmExTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTEucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmEyTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmEzTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTMucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhT3NjdXJhMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfb3NjdXJhMS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFPc2N1cmEyTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9vc2N1cmEyLnBuZycpO1xuXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25DbGFyb05pdmVsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9ib3Rvbl9jbGFyby5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk9zY3VybzFOaXZlbDEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvYm90b25fb3NjdXJvLnBuZycpO1xuXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25OaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b24ucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25DbGFyb05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9jbGFyby5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk9zY3VybzFOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b25fb3NjdXJvMS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk9zY3VybzJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b25fb3NjdXJvMi5wbmcnKTtcblxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvcnRhbCcsICdhc3NldHMvdHJhbXBhcy9wdWVydGFGaW5hbC5wbmcnKTtcblxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgYm90b25lc1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhdXNlQnV0dG9uJywgJ2Fzc2V0cy9wYXVzYS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYXVzZUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9wYXVzYUhvdmVyLnBuZycpO1xuXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU2V0dGluZ3NCdXR0b24nLCAnYXNzZXRzL2FqdXN0ZXMucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU2V0dGluZ3NCdXR0b25Ib3ZlcicsICdhc3NldHMvYWp1c3Rlc0hvdmVyLnBuZycpO1xuXG4gICAgICAgIC8vIEJvdMOzbiBkZSByZWluaWNpYXIgbml2ZWxcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uJywgJ2Fzc2V0cy9yZWluaWNpYXIuUE5HJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9yZWluaWNpYXJIb3Zlci5QTkcnKTtcblxuICAgICAgICAvL0Rhw7FvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZGFtYWdlJywgJ2Fzc2V0cy90cmFtcGFzL2xpYW5hc19wbGF0YWZvcm1hcy5wbmcnKVxuXG4gICAgICAgIC8vIEVmZWN0b3MgZGUgc29uaWRvIHkgbcO6c2ljYSBkZSBmb25kb1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3dhbGtTb3VuZCcsICdhc3NldHMvc29uaWRvL2NhbWluYXIubXAzJyk7XG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnY29sbGVjdFN1bkNyeXN0YWxTb3VuZCcsICdhc3NldHMvc29uaWRvL2NyaXN0YWxDbGFyby5tcDMnKTtcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0TW9vbkNyeXN0YWxTb3VuZCcsICdhc3NldHMvc29uaWRvL2NyaXN0YWxPc2N1cm8ubXAzJyk7XG5cbiAgICAgICAgLy8gTcOaU0lDQSBFU1BFQ8ONRklDQSBERUwgSlVFR09cbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdHYW1lTXVzaWMnLCAnYXNzZXRzL3Nvbmlkby9qdWVnby5tcDMnKTsgLy8gYWp1c3RhIHJ1dGEgc2kgaGFjZSBmYWx0YVxuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgbWFwV2lkdGhJblBpeGVscyA9IDE0MjA7XG4gICAgICAgIGNvbnN0IG1hcEhlaWdodEluUGl4ZWxzID0gODAwO1xuXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7XG5cbiAgICAgICAgLy8gRGV0ZW5lciBzb2xvIGxhIG3DunNpY2EgZGVsIG1lbsO6IHNpIGVzdMOhIHNvbmFuZG9cbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ01lbnVNdXNpYycpO1xuXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbGEgbcO6c2ljYSBkZWwganVlZ29cbiAgICAgICAgaWYgKHRoaXMuY2FjaGUuYXVkaW8uZXhpc3RzKCdHYW1lTXVzaWMnKSkge1xuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdHYW1lTXVzaWMnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4xfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZ3JlZ2FyIGZvbmRvXG4gICAgICAgIC8vY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8xJykuc2V0T3JpZ2luKDAsIDApO1xuICAgICAgICAvL2JnLnNldERpc3BsYXlTaXplKG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcblxuICAgICAgICBjb25zdCBiZyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDAsIDAsICdmb25kbycpLnNldE9yaWdpbigwLCAwKTtcbiAgICAgICAgYmcuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xuXG4gICAgICAgIGNvbnN0IHBsYXRhZm9ybWEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgwLCAwLCAncGxhdGFmb3JtYXMnKS5zZXRPcmlnaW4oMCwgMCk7XG4gICAgICAgIHBsYXRhZm9ybWEuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xuXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGxhIGbDrXNpY2EgZGVsIG11bmRvXG4gICAgICAgIHRoaXMucGh5c2ljcy53b3JsZC5ncmF2aXR5LnkgPSAxNTAwO1xuXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3MgcGVyc29uYWplc1xuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xuXG5cbiAgICAgICAgLy8gVEVNUE9SQUw6IENyZWFyIHVuIHN1ZWxvIHNpbXBsZSBwYXJhIHF1ZSBwdWVkYW4gc2FsdGFyIHkgY2FlclxuICAgICAgICB0aGlzLmdyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCBtYXBIZWlnaHRJblBpeGVscywgbWFwV2lkdGhJblBpeGVscywgMTAsIDB4MDBGRjAwLCAwKS5zZXRPcmlnaW4oMCwgMCk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5ncm91bmQsIHRydWUpOyAvLyB0cnVlID0gZXN0w6F0aWNvXG5cbiAgICAgICAgLy9DcmVhY2nDs24gZGUgbGFzIHBsYXRhZm9ybWFzXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMjAwLCA0ODAsIDMwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTEsIHRydWUpO1xuXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNTc1LCA0ODAsIDE1MCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTIsIHRydWUpO1xuXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTMgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTAwMCwgNTUwLCA0MDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWEzLCB0cnVlKTtcblxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDMwMCwgMTUwLCAyMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWE0LCB0cnVlKTtcblxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE1ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDg3NSwgMjc1LCAxNTAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWE1LCB0cnVlKTtcblxuXG4gICAgICAgIHRoaXMucGFyZWQxID0gdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgNTAsIDIwLCAyMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGFyZWQxLCB0cnVlKTtcblxuICAgICAgICB0aGlzLnBhcmVkMiA9IHRoaXMuYWRkLnJlY3RhbmdsZSg5MDAsIDcwMCwgMjAwLCAzMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGFyZWQyLCB0cnVlKTtcblxuICAgICAgICB0aGlzLmV4aXRQb3J0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgxMDAwLCAxMCwgJ3BvcnRhbCcpLnNldFNjYWxlKDEpO1xuICAgICAgICB0aGlzLmV4aXRQb3J0YWwuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5leGl0UG9ydGFsLCB0cnVlKTtcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsLmJvZHkuZW5hYmxlID0gZmFsc2U7XG5cbiAgICAgICAgLy8gcHVlcnRhc1xuICAgICAgICB0aGlzLmRhcmtEb29yMSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDcwMCwgNDAwLCAncHVlcnRhT3NjdXJhTml2ZWwxJykuc2V0U2NhbGUoMC43KTtcbiAgICAgICAgdGhpcy5saWdodERvb3IxID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoNzUwLCA0MDAsICdwdWVydGFDbGFyYU5pdmVsMScpLnNldFNjYWxlKDAuNyk7XG5cbiAgICAgICAgdGhpcy5kYXJrRG9vcjFIaXRib3ggPSB0aGlzLmFkZC5yZWN0YW5nbGUoMjUwLCAzNzUsIDIwLCAzMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFya0Rvb3IxSGl0Ym94LCB0cnVlKTtcbiAgICAgICAgICAgIFxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjFIaXRib3ggPSB0aGlzLmFkZC5yZWN0YW5nbGUoOTIwLCA0MDAsIDIwLCAyODAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMubGlnaHREb29yMUhpdGJveCwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gZGHDsW8gcGxhY2Vob2xkZXJcbiAgICAgICAgdGhpcy50cmFtcGEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSg0NTAsIDE1MCwgJ2RhbWFnZScpLnNldFNjYWxlKDAuNSk7XG4gICAgICAgIHRoaXMuZGFtYWdlID0gdGhpcy5hZGQucmVjdGFuZ2xlKDQ4MCwgMTAwLCAxMDAsIDYwLCAweDMzZmYwMCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZSwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgc3VlbG8geSBwbGF0YWZvcm1hc1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMuZ3JvdW5kKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMuZ3JvdW5kKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWExKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTEpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTIpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMik7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hMyk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWEzKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE0KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTQpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wYXJlZDEpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wYXJlZDEpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGFyZWQyKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGFyZWQyKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmxpZ2h0RG9vcjFIaXRib3gpO1xuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmxpZ2h0RG9vcjFIaXRib3gpO1xuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5kYXJrRG9vcjFIaXRib3gpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5kYXJrRG9vcjFIaXRib3gpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygnbml2aWEnKTtcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCdzb2xlbm5lJyk7XG5cbiAgICAgICAgLy8gSW5pY2lhciBsYSBhbmltYWNpw7NuICdydW4nIHBhcmEgcHJvYmFyIChzZSBjb3JyZWdpcsOhIGVuIHVwZGF0ZSlcbiAgICAgICAgdGhpcy5uaXZpYS5wbGF5KCduaXZpYV9pZGxlJyk7XG4gICAgICAgIHRoaXMuc29sZW5uZS5wbGF5KCdzb2xlbm5lX2lkbGUnKTtcblxuICAgICAgICAvLyBDcmVhY2nDs24gZGUgbG9zIG9iamV0b3NcbiAgICAgICAgdGhpcy5jcnlzdGFscyA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoe2FsbG93R3Jhdml0eTogZmFsc2UsIGltbW92YWJsZTogdHJ1ZX0pO1xuICAgICAgICB0aGlzLm1vb25DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoMTEwMCwgNDAwLCAnbW9vbmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSk7XG4gICAgICAgIHRoaXMuc3VuQ3J5c3RhbCA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKDEwMCwgMTAwLCAnc3VuZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KTtcbiAgICAgICAgLy90aGlzLnN1bkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZShtYXAud2lkdGhJblBpeGVscyAtIDIwMCwgMzAwLCAnc3VuQ3J5c3RhbCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0SW1tb3ZhYmxlKHRydWUpO1xuXG4gICAgICAgIC8vdGhpcy5tZXRhUG9ydGFsID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUobWFwV2lkdGhJblBpeGVscyAvIDIsIDUwLCAnbWV0YVBvcnRhbCcpLnNldEltbW92YWJsZSh0cnVlKS5zZXRCb2R5U2l6ZSg2NCwgNjQpO1xuXG5cblxuICAgICAgICAvLyBBbmltYWNpb25lcyBkZSBsb3Mgb2JqZXRvc1xuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XG4gICAgICAgICAgICBrZXk6ICdzdW5kcm9wX2lkbGUnLFxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdzdW5kcm9wX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiA3IH0pLFxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcbiAgICAgICAgICAgIHJlcGVhdDogLTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xuICAgICAgICAgICAga2V5OiAnbW9vbmRyb3BfaWRsZScsXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ21vb25kcm9wX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiA3IH0pLFxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcbiAgICAgICAgICAgIHJlcGVhdDogLTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5tb29uQ3J5c3RhbC5wbGF5KCdtb29uZHJvcF9pZGxlJyk7XG4gICAgICAgIHRoaXMuc3VuQ3J5c3RhbC5wbGF5KCdzdW5kcm9wX2lkbGUnKTtcblxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlbCBJY29ubyBkZWwgU29sIChIVUQpXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcbiAgICAgICAgICAgIGtleTogJ3N1bl9odWRfYW5pbScsXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3N1bl9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIFxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxuICAgICAgICAgICAgcmVwZWF0OiAtMVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlbCBJY29ubyBkZSBsYSBMdW5hIChIVUQpXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcbiAgICAgICAgICAgIGtleTogJ21vb25faHVkX2FuaW0nLFxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdtb29uX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSwgXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXG4gICAgICAgICAgICByZXBlYXQ6IC0xXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEluZGljYWRvciBkZSBMdW5hIChOaXZpYSkgLSBJenF1aWVyZGFcbiAgICAgICAgdGhpcy5tb29uSFVEID0gdGhpcy5hZGQuc3ByaXRlKHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclggLSAyMCwgNDAsICdtb29uX3NoZWV0JylcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjE1KSAvLyBFc2NhbGEgTVVZIHJlZHVjaWRhLCB5YSBxdWUgbG9zIHNwcml0ZXNoZWV0cyBzb24gZ3JhbmRlcyAoMzQ3eDMyOSlcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKSBcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApXG4gICAgICAgICAgICAucGxheSgnbW9vbl9odWRfYW5pbScpOyAvLyBJbmljaWEgbGEgYW5pbWFjacOzblxuXG4gICAgICAgIC8vIEluZGljYWRvciBkZSBTb2wgKFNvbGVubmUpIC0gRGVyZWNoYVxuICAgICAgICB0aGlzLnN1bkhVRCA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYICsgMjAsIDQwLCAnc3VuX3NoZWV0JylcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjE1KSAvLyBFc2NhbGEgTVVZIHJlZHVjaWRhXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSkgXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKVxuICAgICAgICAgICAgLnBsYXkoJ3N1bl9odWRfYW5pbScpOyAvLyBJbmljaWEgbGEgYW5pbWFjacOzblxuXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgbGEgcmVjb2xlY2Npw7NuIGRlIGNyaXN0YWxlc1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5tb29uQ3J5c3RhbCwgdGhpcy5jb2xsZWN0TW9vbkNyeXN0YWwsIG51bGwsIHRoaXMpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLnN1bkNyeXN0YWwsIHRoaXMuY29sbGVjdFN1bkNyeXN0YWwsIG51bGwsIHRoaXMpO1xuXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgZmluIGRlIG5pdmVsIChPdmVybGFwIGRlbCBwb3J0YWwpXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubWV0YVBvcnRhbCwgdGhpcy5jaGVja0xldmVsQ29tcGxldGUsIG51bGwsIHRoaXMpO1xuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMubWV0YVBvcnRhbCwgdGhpcy5jaGVja0xldmVsQ29tcGxldGUsIG51bGwsIHRoaXMpO1xuXG4gICAgICAgIC8vIENvbGlzaW9uZXMgZW50cmUgcGVyc29uYWplcyB5IGVsIG5pdmVsXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCBnZW9tZXRyeUxheWVyKTtcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgZ2VvbWV0cnlMYXllcik7XG5cbiAgICAgICAgLy8gQ29uZmlndXJhY2nDs24gZGUgbGEgY8OhbWFyYVxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRCb3VuZHMoMCwgMCwgbWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpOyAgXG5cbiAgICAgICAgLy8gQ29udHJvbCBkZSBwYXVzYVxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZXhpdFBvcnRhbCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZXhpdFBvcnRhbCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQm90w7NuIGRlIHBhdXNhXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDQwLCA0MCwgJ1BhdXNlQnV0dG9uJylcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMCkgXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC41KSBcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApOyBcblxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b25Ib3ZlcicpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5wYXVzZUJ1dHRvbi5kZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7IFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBCb3TDs24gZGUgYWp1c3Rlc1xuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAxMjAsIDQwLCAnU2V0dGluZ3NCdXR0b24nKVxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKSBcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpIFxuICAgICAgICAgICAgLnNldERlcHRoKDEwMCk7IFxuXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAxMjAsIDQwLCAnU2V0dGluZ3NCdXR0b25Ib3ZlcicpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5zZXR0aW5nc0J1dHRvbi5kZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdTZXR0aW5nc1NjZW5lJyk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3VwZGF0ZScsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5waHlzaWNzLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5leGl0UG9ydGFsKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBoeXNpY3Mub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZXhpdFBvcnRhbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZGFtYWdlLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnR2FtZU92ZXJTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLmRhbWFnZSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0dhbWVPdmVyU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5IH0pO1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRVcFBsYXllcnMoKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxZID0gMTUwMDtcblxuICAgICAgICAgLy8gQ3JlYWNpw7NuIHBlcnNvbmFqZXNcbiAgICAgICAgdGhpcy5uaXZpYSA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDEzMDAsIGluaXRpYWxZLCAnbml2aWEnKS5zZXRCb3VuY2UoMC4yKS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XG4gICAgICAgIHRoaXMuc29sZW5uZSA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDEwMCwgaW5pdGlhbFksICdzb2xlbm5lJykuc2V0Qm91bmNlKDAuMikuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xuXG4gICAgICAgIHRoaXMubml2aWEuc2V0U2l6ZSgxMjAsIDI0MCk7XG4gICAgICAgIHRoaXMubml2aWEuc2V0T2Zmc2V0KDExMCwgNTApO1xuXG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRTaXplKDEyMCwgMjQwKTtcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldE9mZnNldCgxMTAsIDUwKTtcblxuICAgICAgICAvLyBFc2NhbGFkbyBkZSBsb3MgcGVyc29uYWplc1xuICAgICAgICB0aGlzLm5pdmlhLnNldFNjYWxlKDAuNSk7IFxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0U2NhbGUoMC41KTtcblxuICAgICAgICAvLyBDb250cm9sZXMgZGUgTml2aWEgKFRlY2xhcyBXQVNEKVxuICAgICAgICB0aGlzLm5pdmlhQ29udHJvbHMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoe1xuICAgICAgICAgICAgbGVmdDogJ0EnLFxuICAgICAgICAgICAgcmlnaHQ6ICdEJyxcbiAgICAgICAgICAgIHVwOiAnVycsICAgIC8vIHNhbHRvXG4gICAgICAgICAgICBpbnRlcmFjdDogJ0UnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENvbnRyb2xlcyBkZSBTb2xlbm5lIChGbGVjaGFzKVxuICAgICAgICB0aGlzLnNvbGVubmVDb250cm9scyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7XG4gICAgICAgICAgICBsZWZ0OiAnTEVGVCcsXG4gICAgICAgICAgICByaWdodDogJ1JJR0hUJyxcbiAgICAgICAgICAgIHVwOiAnVVAnLCAgIC8vIHNhbHRvXG4gICAgICAgICAgICBpbnRlcmFjdDogJ1NQQUNFJ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgY3JlYXRlQW5pbWF0aW9ucyhrZXkpIHtcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBjb3JyZXJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xuICAgICAgICAgICAga2V5OiBgJHtrZXl9X3J1bmAsXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBwcmVmaXg6ICdydW5fJywgc3RhcnQ6IDEsIGVuZDogNCB9KSxcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXG4gICAgICAgICAgICByZXBlYXQ6IC0xXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBzYWx0b1xuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XG4gICAgICAgICAgICBrZXk6IGAke2tleX1fanVtcGAsXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBwcmVmaXg6ICdqdW1wXycsIHN0YXJ0OiAxLCBlbmQ6IDYgfSksXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxuICAgICAgICAgICAgcmVwZWF0OiAwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgaWRsZVxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XG4gICAgICAgICAgICBrZXk6IGAke2tleX1faWRsZWAsXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBmcmFtZXM6IFsnaWRsZV8xJ10gfSksXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEsXG4gICAgICAgICAgICByZXBlYXQ6IDBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0UGF1c2VkU3RhdGUoaXNQYXVzZWQpIHtcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xuICAgICAgICBpZiAodGhpcy5pc1BhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7b3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXl9KTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRvZ2dsZVBhdXNlKCkge1xuICAgICAgICBjb25zdCBuZXdQYXVzZWRTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xuICAgICAgICB0aGlzLnNldFBhdXNlZFN0YXRlKG5ld1BhdXNlZFN0YXRlKTtcbiAgICB9XG5cbiAgICB0b2dnbGVTZXR0aW5ncygpIHtcbiAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1NldHRpbmdzU2NlbmUnKTsgXG4gICAgICAgIC8vdGhpcy5zY2VuZS5wYXVzZSgpO1xuICAgIH1cblxuXG4gICAgdXBkYXRlKCl7XG4gICAgICAgIC8vIEzDs2dpY2EgZGUgcGF1c2EgY29uIHRlY2xhIEVTQ1xuICAgICAgICBpZih0aGlzLmVzY0tleS5pc0Rvd24pe1xuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92aW1pZW50byBkZSBOaXZpYVxuICAgICAgICB0aGlzLmhhbmRsZVBsYXllck1vdmVtZW50KHRoaXMubml2aWEsIHRoaXMubml2aWFDb250cm9scyk7XG5cbiAgICAgICAgLy8gTW92aW1pZW50byBkZSBTb2xlbm5lXG4gICAgICAgIHRoaXMuaGFuZGxlUGxheWVyTW92ZW1lbnQodGhpcy5zb2xlbm5lLCB0aGlzLnNvbGVubmVDb250cm9scyk7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVDYW1lcmFBbmRDb25zdHJhaW50cygpO1xuICAgICAgICBcbiAgICAgICAgaWYodGhpcy5leGl0UG9ydGFsLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKHRoaXMuZXhpdFBvcnRhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVDYW1lcmFBbmRDb25zdHJhaW50cygpIHtcbiAgICAgICAgY29uc3Qgbml2aWFZID0gdGhpcy5uaXZpYS55O1xuICAgICAgICBjb25zdCBzb2xlbm5lWSA9IHRoaXMuc29sZW5uZS55O1xuXG4gICAgICAgIC8vIENlbnRyYXIgbGEgY8OhbWFyYSBlbnRyZSBhbWJvcyBwZXJzb25hamVzXG4gICAgICAgIGNvbnN0IG1pZFkgPSAobml2aWFZICsgc29sZW5uZVkpIC8gMjtcblxuICAgICAgICAvLyBDYWxjdWxhciBsYSBwb3NpY2nDs24gbWVkaWEgZW4gWVxuICAgICAgICBsZXQgZGVzaXJlZENhbWVyYVkgPSBtaWRZO1xuXG4gICAgICAgIC8vIERlc3BsYXphciBsYSBjw6FtYXJhIHN1YXZlbWVudGVcbiAgICAgICAgY29uc3QgbGVycEZhY3RvciA9IDAuMDU7XG4gICAgICAgIGNvbnN0IGNhbWVyYUhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcblxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zY3JvbGxZID0gUGhhc2VyLk1hdGguTGluZWFyKFxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2Nyb2xsWSwgXG4gICAgICAgICAgICBkZXNpcmVkQ2FtZXJhWSAtIGNhbWVyYUhlaWdodCAvIDIsIFxuICAgICAgICAgICAgbGVycEZhY3RvclxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFZpZXdwb3J0IGNvbnN0cmFpbnRcbiAgICAgICAgY29uc3QgbWF4VmVydGljYWxHYXAgPSBjYW1lcmFIZWlnaHQgKiAwLjc7IC8vIGRpc3RhbmNpYSBtw6F4aW1hIHBlcm1pdGlkYSBlbnRyZSBsb3MgcGVyc29uYWplc1xuICAgICAgICBjb25zdCBkaXN0YW5jZVkgPSBNYXRoLmFicyhuaXZpYVkgLSBzb2xlbm5lWSk7XG5cbiAgICAgICAgaWYgKGRpc3RhbmNlWSA+IG1heFZlcnRpY2FsR2FwKSB7XG4gICAgICAgICAgICBjb25zdCBmYXN0ZXJQbGF5ZXIgPSAobml2aWFZIDwgc29sZW5uZVkpID8gdGhpcy5uaXZpYSA6IHRoaXMuc29sZW5uZTtcbiAgICAgICAgICAgIGNvbnN0IHNsb3dlclBsYXllciA9IChuaXZpYVkgPCBzb2xlbm5lWSkgPyB0aGlzLnNvbGVubmUgOiB0aGlzLm5pdmlhO1xuXG4gICAgICAgICAgICBpZiAoc2xvd2VyUGxheWVyLmJvZHkuYmxvY2tlZC5kb3duIHx8IHNsb3dlclBsYXllci55ID4gZmFzdGVyUGxheWVyLnkgKyBtYXhWZXJ0aWNhbEdhcCkge1xuICAgICAgICAgICAgICAgIC8vIERldGVuZXIgZWwgYXZhbmNlIHZlcnRpY2FsIChoYWNpYSBhcnJpYmEpIGRlbCBqdWdhZG9yIG3DoXMgcsOhcGlkb1xuICAgICAgICAgICAgICAgIGlmIChmYXN0ZXJQbGF5ZXIuYm9keS52ZWxvY2l0eS55IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBmYXN0ZXJQbGF5ZXIuYm9keS52ZWxvY2l0eS55ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJNb3ZpbWllbnRvIHZlcnRpY2FsIHJlc3RyaW5naWRvIHBvciBlbCBqdWdhZG9yIHJlemFnYWRvLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVBsYXllck1vdmVtZW50KHBsYXllclNwcml0ZSwgY29udHJvbHMpIHtcbiAgICAgICAgLy8gVmVsb2NpZGFkIGRlbCBtb3ZpbWllbnRvXG4gICAgICAgIGNvbnN0IHNwZWVkID0gNDAwO1xuICAgICAgICBjb25zdCBqdW1wVmVsb2NpdHkgPSA5MDA7XG4gICAgICAgIGNvbnN0IGtleSA9IHBsYXllclNwcml0ZS50ZXh0dXJlLmtleTtcbiAgICAgICAgY29uc3QgaXNNb3ZpbmcgPSBjb250cm9scy5sZWZ0LmlzRG93biB8fCBjb250cm9scy5yaWdodC5pc0Rvd247XG4gICAgICAgIGNvbnN0IGlzR3JvdW5kZWQgPSBwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd247XG4gICAgICAgIGxldCBhbmlta2V5ID0gJyc7XG5cbiAgICAgICAgLy8gTMOzZ2ljYSBwYXJhIHJlcHJvZHVjaXIgZWwgc29uaWRvIGRlIGNhbWluYXJcbiAgICAgICBpZiAoaXNNb3ZpbmcgJiYgaXNHcm91bmRlZCkge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25pdmlhJyAmJiB0aGlzLmlzTml2aWFXYWxraW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IHRoaXMuc291bmQuYWRkKCd3YWxrU291bmQnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nLnBsYXkoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gdGhpcy5zb3VuZC5hZGQoJ3dhbGtTb3VuZCcsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAxIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZy5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZXRlbmVyIGVsIHNvbmlkbyBzaSBubyBzZSBlc3TDoSBtb3ZpZW5kbyBvIGVzdMOhIHNhbHRhbmRvXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbml2aWEnICYmIHRoaXMuaXNOaXZpYVdhbGtpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92aW1pZW50byBob3Jpem9udGFsXG4gICAgICAgIGlmIChjb250cm9scy5sZWZ0LmlzRG93bikge1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WCgtc3BlZWQpO1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKGZhbHNlKTsgLy8gTWlyYXIgYSBsYSBpenF1aWVyZGFcbiAgICAgICAgfSBlbHNlIGlmIChjb250cm9scy5yaWdodC5pc0Rvd24pIHtcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVgoc3BlZWQpO1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKHRydWUpOyAvLyBNaXJhciBhIGxhIGRlcmVjaGFcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTYWx0byAoc29sbyBzaSBlc3TDoSB0b2NhbmRvIGVsIHN1ZWxvKVxuICAgICAgICBjb25zdCBpc0p1bXBpbmcgPSBjb250cm9scy51cC5pc0Rvd24gJiYgcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xuXG4gICAgICAgIGlmIChpc0p1bXBpbmcpIHtcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVkoLWp1bXBWZWxvY2l0eSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMw7NnaWNhIGRlIGFuaW1hY2lvbmVzXG4gICAgICAgIGlmICghcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duKSB7XG4gICAgICAgICAgICAvLyBFbiBlbCBhaXJlXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9qdW1wYDtcbiAgICAgICAgfSBlbHNlIGlmIChjb250cm9scy5sZWZ0LmlzRG93biB8fCBjb250cm9scy5yaWdodC5pc0Rvd24pIHtcbiAgICAgICAgICAgIC8vIENvcnJpZW5kb1xuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1fcnVuYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElkbGVcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X2lkbGVgO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBSZXByb2R1Y2lyIGxhIGFuaW1hY2nDs24gc29sbyBzaSBlcyBkaWZlcmVudGUgYSBsYSBhY3R1YWxcbiAgICAgICAgaWYgKHBsYXllclNwcml0ZS5hbmltcy5jdXJyZW50QW5pbT8ua2V5ICE9PSBhbmlta2V5KSB7XG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuYW5pbXMucGxheShhbmlta2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgaW50ZXJhY2Npw7NuXG4gICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24oY29udHJvbHMuaW50ZXJhY3QpKSB7XG4gICAgICAgICAgICAvLyBBcXXDrSB2YSBsYSBsw7NnaWNhIGRlIGludGVyYWNjacOzbiAocG9yIGVqZW1wbG8sIGFicmlyIHB1ZXJ0YXMsIHJlY29nZXIgb2JqZXRvcywgZXRjLilcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbnRlcmFjY2nDs24gcmVhbGl6YWRhJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb2xsZWN0TW9vbkNyeXN0YWwocGxheWVyLCBjcnlzdGFsKSB7XG4gICAgICAgIGNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9IHRydWU7XG4gICAgICAgIHRoaXMubW9vbkhVRC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2NvbGxlY3RNb29uQ3J5c3RhbFNvdW5kJywgeyB2b2x1bWU6IDAuNSB9KTtcbiAgICAgICAgY29uc29sZS5sb2coJ05pdmlhIGhhIHJlY29naWRvIGVsIENyaXN0YWwgZGUgbGEgTHVuYScpO1xuICAgICAgICB0aGlzLnVubG9ja0RhcmtEb29yKCk7XG4gICAgfVxuXG4gICAgY29sbGVjdFN1bkNyeXN0YWwocGxheWVyLCBjcnlzdGFsKSB7XG4gICAgICAgIGNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPSB0cnVlO1xuICAgICAgICB0aGlzLnN1bkhVRC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2NvbGxlY3RTdW5DcnlzdGFsU291bmQnLCB7IHZvbHVtZTogMC41IH0pO1xuICAgICAgICBjb25zb2xlLmxvZygnU29sZW5uZSBoYSByZWNvZ2lkbyBlbCBDcmlzdGFsIGRlbCBTb2wnKTtcbiAgICAgICAgdGhpcy51bmxvY2tMaWdodERvb3IoKTtcbiAgICB9XG5cbiAgICB1bmxvY2tEYXJrRG9vcigpIHtcbiAgICAgICAgLy8gTMOzZ2ljYSBwYXJhIGRlc2Jsb3F1ZWFyIGxhIHB1ZXJ0YSBvc2N1cmFcbiAgICAgICAgdGhpcy5kYXJrRG9vcjFIaXRib3guYm9keS5lbmFibGUgPSBmYWxzZTsgICBcbiAgICAgICAgdGhpcy5kYXJrRG9vcjFIaXRib3guc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHRoaXMuZGFya0Rvb3IxLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICBjb25zb2xlLmxvZygnUHVlcnRhIE9zY3VyYSBkZXNibG9xdWVhZGEnKTtcbiAgICAgICAgdGhpcy5jaGVja1BvcnRhbFNwYXduKCk7XG4gICAgfVxuXG4gICAgdW5sb2NrTGlnaHREb29yKCkge1xuICAgICAgICAvLyBMw7NnaWNhIHBhcmEgZGVzYmxvcXVlYXIgbGEgcHVlcnRhIGNsYXJhXG4gICAgICAgIHRoaXMubGlnaHREb29yMUhpdGJveC5ib2R5LmVuYWJsZSA9IGZhbHNlOyAgIFxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjFIaXRib3guc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHRoaXMubGlnaHREb29yMS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1B1ZXJ0YSBDbGFyYSBkZXNibG9xdWVhZGEnKTtcbiAgICAgICAgdGhpcy5jaGVja1BvcnRhbFNwYXduKCk7XG4gICAgfVxuXG4gICAgY2hlY2tQb3J0YWxTcGF3bigpIHtcbiAgICAgICAgaWYgKHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCAmJiB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQW1ib3MgY3Jpc3RhbGVzIHJlY29naWRvcy4gRWwgcG9ydGFsIGFwYXJlY2UuJyk7XG4gICAgICAgICAgICB0aGlzLmV4aXRQb3J0YWwuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5ib2R5LmVuYWJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGVja0xldmVsQ29tcGxldGUocGxheWVyLCBwb3J0YWwpIHtcbiAgICAgICAgLy8gTG9zIGRvcyBkZWJlbiB0b2NhciBlbCBwb3J0YWwgeSB0ZW5lciBzdXMgcmVzcGVjdGl2b3MgY3Jpc3RhbGVzXG4gICAgICAgIGlmICh0aGlzLm5pdmlhT25Qb3J0YWwgJiYgdGhpcy5zb2xlbm5lT25Qb3J0YWwgJiYgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsICYmIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwpIHtcbiAgICAgICAgICAgIC8vIExhbnphciBlc2NlbmEgZGUgdmljdG9yaWEgeSBwYXVzYXIgZXN0YSBlc2NlbmFcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdWaWN0b3J5U2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5IH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5kZ2FtZSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJKdWVnbyBUZXJtaW5hZG9cIik7XG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmZXJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxuXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xuICAgICAgICB0aGlzLmFkZC50ZXh0KHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclgsIHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclkgLSAxMDAsIFwiwqFOaXZlbCBDb21wbGV0YWRvIVwiLCB7IFxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JywgZmlsbDogJyNGRkZGRkYnIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICAgICAgICAgIC8vIFJlaW5pY2lhciBuaXZlbFxuICAgICAgICBjb25zdCByZXN0YXJ0YnRuID0gdGhpcy5hZGQuaW1hZ2UoNzA1LCA0MTUsICdSZXN0YXJ0QnV0dG9uJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XG5cbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg2OTMsIDQyNSwgJ1Jlc3RhcnRCdXR0b25Ib3ZlcicpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgocmVzdGFydGJ0bi5kZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFNjZW5lS2V5ID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aob3JpZ2luYWxTY2VuZUtleSk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xuXG5leHBvcnQgY2xhc3MgTGV2ZWwyU2NlbmVMb2NhbCBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdMZXZlbDJTY2VuZUxvY2FsJyk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcblxuICAgICAgICB0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgPSAwO1xuICAgICAgICB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID0gMDtcbiAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9IG51bGw7XG4gICAgfVxuXG4gICAgcHJlbG9hZCgpIHtcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIHBlcnNvbmFqZXNcbiAgICAgICAgdGhpcy5sb2FkLmF0bGFzKCduaXZpYScsICdhc3NldHMvbml2aWEvbml2aWFfc2hlZXQucG5nJywgJ2Fzc2V0cy9uaXZpYS9uaXZpYV9zaGVldC5qc29uJyk7XG4gICAgICAgIHRoaXMubG9hZC5hdGxhcygnc29sZW5uZScsICdhc3NldHMvc29sZW5uZS9zb2xlbm5lX3NoZWV0LnBuZycsICdhc3NldHMvc29sZW5uZS9zb2xlbm5lX3NoZWV0Lmpzb24nKTtcblxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgY3Jpc3RhbGVzXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnc3VuZHJvcF9zaGVldCcsICdhc3NldHMvaXRlbXMvc3VuZHJvcC5wbmcnLCB7IGZyYW1lV2lkdGg6IDIxNCwgZnJhbWVIZWlnaHQ6IDIwNiB9KTtcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uZHJvcF9zaGVldCcsICdhc3NldHMvaXRlbXMvbW9vbmRyb3AucG5nJywgeyBmcmFtZVdpZHRoOiAyMTQsIGZyYW1lSGVpZ2h0OiAyMDYgfSk7XG5cbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdzdW5fc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL3N1bi5wbmcnLCB7IGZyYW1lV2lkdGg6IDM0NywgZnJhbWVIZWlnaHQ6IDMyOSB9KTtcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9tb29uLnBuZycsIHsgZnJhbWVXaWR0aDogMzQ3LCBmcmFtZUhlaWdodDogMzI5IH0pO1xuXG4gICAgICAgIC8vIENhcmdhIGRlbCBmb25kb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9mb25kb19hcnJpYmEucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhdGFmb3JtYXMxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3BsYXRhZm9ybWFzX2FycmliYS5wbmcnKTtcblxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgZWxlbWVudG9zIGRlbCBlc2NlbmFyaW9cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGF0YWZvcm1hc05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wbGF0YWZvcm1hc19hcnJpYmEucG5nJyk7XG5cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTFOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTNOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMy5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFPc2N1cmExTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9vc2N1cmExLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX29zY3VyYTIucG5nJyk7XG5cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNsYXJvTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX2NsYXJvLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uT3NjdXJvMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9vc2N1cm8xLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uT3NjdXJvMk5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9vc2N1cm8yLnBuZycpO1xuXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9ydGFsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wb3J0YWwucG5nJyk7XG5cbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGJvdG9uZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYXVzZUJ1dHRvbicsICdhc3NldHMvcGF1c2EucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGF1c2VCdXR0b25Ib3ZlcicsICdhc3NldHMvcGF1c2FIb3Zlci5wbmcnKTtcblxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzQnV0dG9uJywgJ2Fzc2V0cy9hanVzdGVzLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzQnV0dG9uSG92ZXInLCAnYXNzZXRzL2FqdXN0ZXNIb3Zlci5wbmcnKTtcblxuICAgICAgICAvLyBCb3TDs24gZGUgcmVpbmljaWFyIG5pdmVsXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbicsICdhc3NldHMvcmVpbmljaWFyLlBORycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1Jlc3RhcnRCdXR0b25Ib3ZlcicsICdhc3NldHMvcmVpbmljaWFySG92ZXIuUE5HJyk7XG5cbiAgICAgICAgLy9EYcOxb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2RhbWFnZTEnLCAnYXNzZXRzL3RyYW1wYXMvdHJhbXBhcy5wbmcnKVxuXG4gICAgICAgIC8vIEVmZWN0b3MgZGUgc29uaWRvIHkgbcO6c2ljYSBkZSBmb25kb1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3dhbGtTb3VuZCcsICdhc3NldHMvc29uaWRvL2NhbWluYXIubXAzJyk7XG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnY29sbGVjdFN1bkNyeXN0YWxTb3VuZCcsICdhc3NldHMvc29uaWRvL2NyaXN0YWxDbGFyby5tcDMnKTtcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0TW9vbkNyeXN0YWxTb3VuZCcsICdhc3NldHMvc29uaWRvL2NyaXN0YWxPc2N1cm8ubXAzJyk7XG5cbiAgICAgICAgLy8gTcOaU0lDQSBFU1BFQ8ONRklDQSBERUwgSlVFR09cbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdHYW1lTXVzaWMnLCAnYXNzZXRzL3Nvbmlkby9qdWVnby5tcDMnKTsgLy8gYWp1c3RhIHJ1dGEgc2kgaGFjZSBmYWx0YVxuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgbWFwV2lkdGhJblBpeGVscyA9IDE0MjA7XG4gICAgICAgIGNvbnN0IG1hcEhlaWdodEluUGl4ZWxzID0gODAwO1xuXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7XG5cbiAgICAgICAgLy8gRGV0ZW5lciBzb2xvIGxhIG3DunNpY2EgZGVsIG1lbsO6IHNpIGVzdMOhIHNvbmFuZG9cbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ01lbnVNdXNpYycpO1xuXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbGEgbcO6c2ljYSBkZWwganVlZ29cbiAgICAgICAgaWYgKHRoaXMuY2FjaGUuYXVkaW8uZXhpc3RzKCdHYW1lTXVzaWMnKSkge1xuICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdHYW1lTXVzaWMnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMC4yfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZ3JlZ2FyIGZvbmRvXG4gICAgICAgIC8vY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8xJykuc2V0T3JpZ2luKDAsIDApO1xuICAgICAgICAvL2JnLnNldERpc3BsYXlTaXplKG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcblxuICAgICAgICBjb25zdCBiZyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDAsIDAsICdmb25kbzEnKS5zZXRPcmlnaW4oMCwgMCk7XG4gICAgICAgIGJnLnNldERpc3BsYXlTaXplKG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcblxuICAgICAgICBjb25zdCBwbGF0YWZvcm1hID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoMCwgMCwgJ3BsYXRhZm9ybWFzMScpLnNldE9yaWdpbigwLCAwKTtcbiAgICAgICAgcGxhdGFmb3JtYS5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XG5cbiAgICAgICAgLy8gQ29uZmlndXJhY2nDs24gZGUgbGEgZsOtc2ljYSBkZWwgbXVuZG9cbiAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLmdyYXZpdHkueSA9IDE1MDA7XG5cbiAgICAgICAgLy8gQ3JlYWNpw7NuIGRlIGxvcyBwZXJzb25hamVzXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XG5cblxuICAgICAgICAvLyBURU1QT1JBTDogQ3JlYXIgdW4gc3VlbG8gc2ltcGxlIHBhcmEgcXVlIHB1ZWRhbiBzYWx0YXIgeSBjYWVyXG4gICAgICAgIHRoaXMuZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIG1hcEhlaWdodEluUGl4ZWxzLCBtYXBXaWR0aEluUGl4ZWxzLCAxMCwgMHgwMEZGMDAsIDApLnNldE9yaWdpbigwLCAwKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmdyb3VuZCwgdHJ1ZSk7IC8vIHRydWUgPSBlc3TDoXRpY29cblxuICAgICAgICAvL0NyZWFjacOzbiBkZSBsYXMgcGxhdGFmb3JtYXNcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hMSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyMDAsIDU3NSwgMzAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMSwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hMiA9IHRoaXMuYWRkLnJlY3RhbmdsZSg3NTAsIDU1MCwgMTYwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMiwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hMyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgxMjUwLCA0MjUsIDQwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTMsIHRydWUpO1xuXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNTI1LCAzMjUsIDQwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTQsIHRydWUpO1xuXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTUgPSB0aGlzLmFkZC5yZWN0YW5nbGUoODc1LCAyMjUsIDMwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTUsIHRydWUpO1xuXG5cbiAgICAgICAgdGhpcy5wYXJlZDEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNzE1LCA0MjUsIDgwLCAyMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGFyZWQxLCB0cnVlKTtcblxuICAgICAgICAvL3RoaXMucGFyZWQyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDkwMCwgNzAwLCAyMDAsIDMwMCwgMHgzMjJiMWQpLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBhcmVkMiwgdHJ1ZSk7XG4gICAgICAgIHRoaXMucG9ydGFsU3ByaXRlID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3BvcnRhbDEnKS5zZXRTY2FsZSgwLjc1KTtcbiAgICAgICAgdGhpcy5wb3J0YWxTcHJpdGUuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5leGl0UG9ydGFsID0gdGhpcy5hZGQucmVjdGFuZ2xlKDIwMCwgMjAwLCAyMDAsIDIwMCkuc2V0U2NhbGUoMC43NSk7XG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmV4aXRQb3J0YWwsIHRydWUpO1xuICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSBmYWxzZTtcblxuICAgICAgICAvLyBwdWVydGFzIChzcHJpdGVzKVxuICAgICAgICB0aGlzLmRhcmtEb29yMSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwdWVydGFPc2N1cmExTml2ZWwyJykuc2V0U2NhbGUoMC43NSk7XG4gICAgICAgIHRoaXMuZGFya0Rvb3IyID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3B1ZXJ0YU9zY3VyYTJOaXZlbDInKS5zZXRTY2FsZSgwLjc1KTtcblxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncHVlcnRhQ2xhcmExTml2ZWwyJykuc2V0U2NhbGUoMC43NSk7XG4gICAgICAgIHRoaXMubGlnaHREb29yMiA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwdWVydGFDbGFyYTJOaXZlbDInKS5zZXRTY2FsZSgwLjc1KTtcbiAgICAgICAgdGhpcy5saWdodERvb3IzID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3B1ZXJ0YUNsYXJhM05pdmVsMicpLnNldFNjYWxlKDAuNzUpO1xuICAgICAgICBcbiAgICAgICAgLy8gcHVlcnRhcyBoaXRib3hlc1xuICAgICAgICB0aGlzLmRhcmtEb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgzMjUsIDcwMCwgMjAsIDMwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYXJrRG9vcjFIaXRib3gsIHRydWUpO1xuICAgICAgICB0aGlzLmRhcmtEb29yMkhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDU3NSwgMzAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYXJrRG9vcjJIaXRib3gsIHRydWUpO1xuXG4gICAgICAgIHRoaXMubGlnaHREb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg3MDAsIDEwMCwgMjAsIDI4MCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5saWdodERvb3IxSGl0Ym94LCB0cnVlKTtcbiAgICAgICAgdGhpcy5saWdodERvb3IySGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDc1MCwgNzAwLCAyMCwgMjAwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjJIaXRib3gsIHRydWUpO1xuICAgICAgICB0aGlzLmxpZ2h0RG9vcjNIaXRib3ggPSB0aGlzLmFkZC5yZWN0YW5nbGUoOTI1LCA1MDAsIDIwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMubGlnaHREb29yM0hpdGJveCk7XG4gICAgICAgIHRoaXMubGlnaHREb29yM0hpdGJveC5ib2R5LnNldEltbW92YWJsZSh0cnVlKS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xuICAgICAgICB0aGlzLmxpZ2h0RG9vcjNIaXRib3guc2V0QW5nbGUoMTM1KTtcblxuICAgICAgICAvL3B1ZXJ0YXMgKGxpc3RhKVxuICAgICAgICB0aGlzLmRvb3JzID0ge1xuICAgICAgICAgICAgZGFya0Rvb3IxOiB7XG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmRhcmtEb29yMSxcbiAgICAgICAgICAgICAgICBoaXRib3g6IHRoaXMuZGFya0Rvb3IxSGl0Ym94XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGFya0Rvb3IyOiB7XG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmRhcmtEb29yMixcbiAgICAgICAgICAgICAgICBoaXRib3g6IHRoaXMuZGFya0Rvb3IySGl0Ym94XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGlnaHREb29yMToge1xuICAgICAgICAgICAgICAgIHNwcml0ZTogdGhpcy5saWdodERvb3IxLFxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5saWdodERvb3IxSGl0Ym94XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGlnaHREb29yMjoge1xuICAgICAgICAgICAgICAgIHNwcml0ZTogdGhpcy5saWdodERvb3IzLFxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5saWdodERvb3IySGl0Ym94XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGlnaHREb29yMzoge1xuICAgICAgICAgICAgICAgIHNwcml0ZTogdGhpcy5saWdodERvb3IyLFxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5saWdodERvb3IzSGl0Ym94XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZGHDsW8gaGl0Ym94ZXNcbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cCA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljR3JvdXAoKTtcbiAgICAgICAgdGhpcy50cmFtcGEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAnZGFtYWdlMScpLnNldFNjYWxlKDAuNzUpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5kYW1hZ2UxID0gdGhpcy5hZGQucmVjdGFuZ2xlKDEzNTAsIDEwMCwgMjAwLCAxMDAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFtYWdlMSwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5kYW1hZ2UyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDEwMCwgNTMwLCAxMDAsIDMwLCAweDMzZmYwMCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZTIsIHRydWUpO1xuXG4gICAgICAgIHRoaXMuZGFtYWdlMyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgxMjUsIDgwMCwgNjAsIDMwLCAweDMzZmYwMCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZTMsIHRydWUpO1xuXG4gICAgICAgIHRoaXMuZGFtYWdlNCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg2MDAsIDMwMCwgNjAsIDMwLCAweDMzZmYwMCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZTQsIHRydWUpO1xuXG4gICAgICAgIHRoaXMuZGFtYWdlR3JvdXAuYWRkKHRoaXMuZGFtYWdlMSk7XG4gICAgICAgIHRoaXMuZGFtYWdlR3JvdXAuYWRkKHRoaXMuZGFtYWdlMik7XG4gICAgICAgIHRoaXMuZGFtYWdlR3JvdXAuYWRkKHRoaXMuZGFtYWdlMyk7XG4gICAgICAgIHRoaXMuZGFtYWdlR3JvdXAuYWRkKHRoaXMuZGFtYWdlNCk7XG5cbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgc3VlbG8geSBwbGF0YWZvcm1hc1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMuZ3JvdW5kKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMuZ3JvdW5kKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWExKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTEpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTIpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMik7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hMyk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWEzKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE0KTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTQpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTUpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wYXJlZDEpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wYXJlZDEpO1xuXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBhcmVkMik7XG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGFyZWQyKTtcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmxpZ2h0RG9vcjFIaXRib3gpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMubGlnaHREb29yMkhpdGJveCk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5saWdodERvb3IzSGl0Ym94KTtcblxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmxpZ2h0RG9vcjFIaXRib3gpO1xuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5kYXJrRG9vcjFIaXRib3gpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5kYXJrRG9vcjFIaXRib3gpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5kYXJrRG9vcjJIaXRib3gpO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygnbml2aWEnKTtcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCdzb2xlbm5lJyk7XG5cbiAgICAgICAgLy8gSW5pY2lhciBsYSBhbmltYWNpw7NuICdydW4nIHBhcmEgcHJvYmFyIChzZSBjb3JyZWdpcsOhIGVuIHVwZGF0ZSlcbiAgICAgICAgdGhpcy5uaXZpYS5wbGF5KCduaXZpYV9pZGxlJyk7XG4gICAgICAgIHRoaXMuc29sZW5uZS5wbGF5KCdzb2xlbm5lX2lkbGUnKTtcblxuICAgICAgICAvLyBDcmVhY2nDs24gZGUgbG9zIG9iamV0b3NcbiAgICAgICAgdGhpcy5jcnlzdGFscyA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoe2FsbG93R3Jhdml0eTogZmFsc2UsIGltbW92YWJsZTogdHJ1ZX0pO1xuICAgICAgICB0aGlzLm1vb25DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoMTMwMCwgMzAwLCAnbW9vbmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSlcbiAgICAgICAgLnNldERhdGEoJ2Rvb3JLZXknLCAnZGFya0Rvb3IxJyk7XG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwyID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoNTUwLCAyMDAsICdtb29uZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KVxuICAgICAgICAuc2V0RGF0YSgnZG9vcktleScsICdkYXJrRG9vcjInKTtcblxuICAgICAgICB0aGlzLnN1bkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSg1NTAsIDcwMCwgJ3N1bmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSlcbiAgICAgICAgLnNldERhdGEoJ2Rvb3JLZXknLCAnbGlnaHREb29yMycpO1xuICAgICAgICB0aGlzLnN1bkNyeXN0YWwyID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoMjAwLCA3MDAsICdzdW5kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpXG4gICAgICAgIC5zZXREYXRhKCdkb29yS2V5JywgJ2xpZ2h0RG9vcjEnKTtcblxuICAgICAgICAvL3RoaXMuc3VuQ3J5c3RhbCA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKG1hcC53aWR0aEluUGl4ZWxzIC0gMjAwLCAzMDAsICdzdW5DcnlzdGFsJykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRJbW1vdmFibGUodHJ1ZSk7XG5cbiAgICAgICAgLy90aGlzLm1ldGFQb3J0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZShtYXBXaWR0aEluUGl4ZWxzIC8gMiwgNTAsICdtZXRhUG9ydGFsJykuc2V0SW1tb3ZhYmxlKHRydWUpLnNldEJvZHlTaXplKDY0LCA2NCk7XG5cblxuXG4gICAgICAgIC8vIEFuaW1hY2lvbmVzIGRlIGxvcyBvYmpldG9zXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcbiAgICAgICAgICAgIGtleTogJ3N1bmRyb3BfaWRsZScsXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3N1bmRyb3Bfc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDcgfSksXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxuICAgICAgICAgICAgcmVwZWF0OiAtMVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XG4gICAgICAgICAgICBrZXk6ICdtb29uZHJvcF9pZGxlJyxcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbW9vbmRyb3Bfc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDcgfSksXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxuICAgICAgICAgICAgcmVwZWF0OiAtMVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm1vb25DcnlzdGFsLnBsYXkoJ21vb25kcm9wX2lkbGUnKTtcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsLnBsYXkoJ3N1bmRyb3BfaWRsZScpO1xuXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGVsIEljb25vIGRlbCBTb2wgKEhVRClcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xuICAgICAgICAgICAga2V5OiAnc3VuX2h1ZF9hbmltJyxcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnc3VuX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSwgXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXG4gICAgICAgICAgICByZXBlYXQ6IC0xXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGVsIEljb25vIGRlIGxhIEx1bmEgKEhVRClcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xuICAgICAgICAgICAga2V5OiAnbW9vbl9odWRfYW5pbScsXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ21vb25fc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCBcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcbiAgICAgICAgICAgIHJlcGVhdDogLTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIEx1bmEgKE5pdmlhKSAtIEl6cXVpZXJkYVxuICAgICAgICB0aGlzLm1vb25IVUQgPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCAtIDIwLCA0MCwgJ21vb25fc2hlZXQnKVxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMTUpIC8vIEVzY2FsYSBNVVkgcmVkdWNpZGEsIHlhIHF1ZSBsb3Mgc3ByaXRlc2hlZXRzIHNvbiBncmFuZGVzICgzNDd4MzI5KVxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpIFxuICAgICAgICAgICAgLnNldERlcHRoKDEwMClcbiAgICAgICAgICAgIC5wbGF5KCdtb29uX2h1ZF9hbmltJyk7IC8vIEluaWNpYSBsYSBhbmltYWNpw7NuXG5cbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIFNvbCAoU29sZW5uZSkgLSBEZXJlY2hhXG4gICAgICAgIHRoaXMuc3VuSFVEID0gdGhpcy5hZGQuc3ByaXRlKHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclggKyAyMCwgNDAsICdzdW5fc2hlZXQnKVxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMTUpIC8vIEVzY2FsYSBNVVkgcmVkdWNpZGFcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKSBcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApXG4gICAgICAgICAgICAucGxheSgnc3VuX2h1ZF9hbmltJyk7IC8vIEluaWNpYSBsYSBhbmltYWNpw7NuXG5cbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBsYSByZWNvbGVjY2nDs24gZGUgY3Jpc3RhbGVzXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLm1vb25DcnlzdGFsLCB0aGlzLmNvbGxlY3RNb29uQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuc3VuQ3J5c3RhbCwgdGhpcy5jb2xsZWN0U3VuQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLm1vb25DcnlzdGFsMiwgdGhpcy5jb2xsZWN0TW9vbkNyeXN0YWwsIG51bGwsIHRoaXMpO1xuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLnN1bkNyeXN0YWwyLCB0aGlzLmNvbGxlY3RTdW5DcnlzdGFsLCBudWxsLCB0aGlzKTtcblxuICAgICAgICAvLyBMw7NnaWNhIGRlIGZpbiBkZSBuaXZlbCAoT3ZlcmxhcCBkZWwgcG9ydGFsKVxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLm1ldGFQb3J0YWwsIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlLCBudWxsLCB0aGlzKTtcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLm1ldGFQb3J0YWwsIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlLCBudWxsLCB0aGlzKTtcblxuICAgICAgICAvLyBDb2xpc2lvbmVzIGVudHJlIHBlcnNvbmFqZXMgeSBlbCBuaXZlbFxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgZ2VvbWV0cnlMYXllcik7XG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIGdlb21ldHJ5TGF5ZXIpO1xuXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGxhIGPDoW1hcmFcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0Qm91bmRzKDAsIDAsIG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTsgIFxuXG4gICAgICAgIC8vIENvbnRyb2wgZGUgcGF1c2FcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmV4aXRQb3J0YWwsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLmV4aXRQb3J0YWwsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEJvdMOzbiBkZSBwYXVzYVxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSA0MCwgNDAsICdQYXVzZUJ1dHRvbicpXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApIFxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNSkgXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTsgXG5cbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDQwLCA0MCwgJ1BhdXNlQnV0dG9uSG92ZXInKVxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMucGF1c2VCdXR0b24uZGVwdGggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpOyBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQm90w7NuIGRlIGFqdXN0ZXNcbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbiA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gMTIwLCA0MCwgJ1NldHRpbmdzQnV0dG9uJylcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMCkgXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC41KSBcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApOyBcblxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gMTIwLCA0MCwgJ1NldHRpbmdzQnV0dG9uSG92ZXInKVxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMuc2V0dGluZ3NCdXR0b24uZGVwdGggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnU2V0dGluZ3NTY2VuZScpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCd1cGRhdGUnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZXhpdFBvcnRhbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5waHlzaWNzLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLmV4aXRQb3J0YWwpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG9uRGFtYWdlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0dhbWVPdmVyU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5IH0pO1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmRhbWFnZUdyb3VwLCBvbkRhbWFnZSk7XG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZGFtYWdlR3JvdXAsIG9uRGFtYWdlKTtcbiAgICB9XG5cbiAgICBzZXRVcFBsYXllcnMoKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxZID0gMTUwMDtcblxuICAgICAgICAgLy8gQ3JlYWNpw7NuIHBlcnNvbmFqZXNcbiAgICAgICAgdGhpcy5uaXZpYSA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDEzMDAsIGluaXRpYWxZLCAnbml2aWEnKS5zZXRCb3VuY2UoMC4yKS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XG4gICAgICAgIHRoaXMuc29sZW5uZSA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDEyMDAsIGluaXRpYWxZLCAnc29sZW5uZScpLnNldEJvdW5jZSgwLjIpLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcblxuICAgICAgICB0aGlzLm5pdmlhLnNldFNpemUoMTIwLCAyNDApO1xuICAgICAgICB0aGlzLm5pdmlhLnNldE9mZnNldCgxMTAsIDUwKTtcblxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0U2l6ZSgxMjAsIDI0MCk7XG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRPZmZzZXQoMTEwLCA1MCk7XG5cbiAgICAgICAgLy8gRXNjYWxhZG8gZGUgbG9zIHBlcnNvbmFqZXNcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRTY2FsZSgwLjUpOyBcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldFNjYWxlKDAuNSk7XG5cbiAgICAgICAgLy8gQ29udHJvbGVzIGRlIE5pdmlhIChUZWNsYXMgV0FTRClcbiAgICAgICAgdGhpcy5uaXZpYUNvbnRyb2xzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHtcbiAgICAgICAgICAgIGxlZnQ6ICdBJyxcbiAgICAgICAgICAgIHJpZ2h0OiAnRCcsXG4gICAgICAgICAgICB1cDogJ1cnLCAgICAvLyBzYWx0b1xuICAgICAgICAgICAgaW50ZXJhY3Q6ICdFJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDb250cm9sZXMgZGUgU29sZW5uZSAoRmxlY2hhcylcbiAgICAgICAgdGhpcy5zb2xlbm5lQ29udHJvbHMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoe1xuICAgICAgICAgICAgbGVmdDogJ0xFRlQnLFxuICAgICAgICAgICAgcmlnaHQ6ICdSSUdIVCcsXG4gICAgICAgICAgICB1cDogJ1VQJywgICAvLyBzYWx0b1xuICAgICAgICAgICAgaW50ZXJhY3Q6ICdTUEFDRSdcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGNyZWF0ZUFuaW1hdGlvbnMoa2V5KSB7XG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgY29ycmVyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9ydW5gLFxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgcHJlZml4OiAncnVuXycsIHN0YXJ0OiAxLCBlbmQ6IDQgfSksXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxuICAgICAgICAgICAgcmVwZWF0OiAtMVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgc2FsdG9cbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xuICAgICAgICAgICAga2V5OiBgJHtrZXl9X2p1bXBgLFxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgcHJlZml4OiAnanVtcF8nLCBzdGFydDogMSwgZW5kOiA2IH0pLFxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcbiAgICAgICAgICAgIHJlcGVhdDogMFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlIGlkbGVcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xuICAgICAgICAgICAga2V5OiBgJHtrZXl9X2lkbGVgLFxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgZnJhbWVzOiBbJ2lkbGVfMSddIH0pLFxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxLFxuICAgICAgICAgICAgcmVwZWF0OiAwXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldFBhdXNlZFN0YXRlKGlzUGF1c2VkKSB7XG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcbiAgICAgICAgaWYgKHRoaXMuaXNQYXVzZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJywge29yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5fSk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0b2dnbGVQYXVzZSgpIHtcbiAgICAgICAgY29uc3QgbmV3UGF1c2VkU3RhdGUgPSAhdGhpcy5pc1BhdXNlZDtcbiAgICAgICAgdGhpcy5zZXRQYXVzZWRTdGF0ZShuZXdQYXVzZWRTdGF0ZSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlU2V0dGluZ3MoKSB7XG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdTZXR0aW5nc1NjZW5lJyk7IFxuICAgICAgICAvL3RoaXMuc2NlbmUucGF1c2UoKTtcbiAgICB9XG5cblxuICAgIHVwZGF0ZSgpe1xuICAgICAgICAvLyBMw7NnaWNhIGRlIHBhdXNhIGNvbiB0ZWNsYSBFU0NcbiAgICAgICAgaWYodGhpcy5lc2NLZXkuaXNEb3duKXtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmltaWVudG8gZGUgTml2aWFcbiAgICAgICAgdGhpcy5oYW5kbGVQbGF5ZXJNb3ZlbWVudCh0aGlzLm5pdmlhLCB0aGlzLm5pdmlhQ29udHJvbHMpO1xuXG4gICAgICAgIC8vIE1vdmltaWVudG8gZGUgU29sZW5uZVxuICAgICAgICB0aGlzLmhhbmRsZVBsYXllck1vdmVtZW50KHRoaXMuc29sZW5uZSwgdGhpcy5zb2xlbm5lQ29udHJvbHMpO1xuICAgICAgICBcbiAgICAgICAgaWYodGhpcy5leGl0UG9ydGFsLnZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKHRoaXMuZXhpdFBvcnRhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGhhbmRsZVBsYXllck1vdmVtZW50KHBsYXllclNwcml0ZSwgY29udHJvbHMpIHtcbiAgICAgICAgLy8gVmVsb2NpZGFkIGRlbCBtb3ZpbWllbnRvXG4gICAgICAgIGNvbnN0IHNwZWVkID0gNDAwO1xuICAgICAgICBjb25zdCBqdW1wVmVsb2NpdHkgPSA5MDA7XG4gICAgICAgIGNvbnN0IGtleSA9IHBsYXllclNwcml0ZS50ZXh0dXJlLmtleTtcbiAgICAgICAgY29uc3QgaXNNb3ZpbmcgPSBjb250cm9scy5sZWZ0LmlzRG93biB8fCBjb250cm9scy5yaWdodC5pc0Rvd247XG4gICAgICAgIGNvbnN0IGlzR3JvdW5kZWQgPSBwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd247XG4gICAgICAgIGxldCBhbmlta2V5ID0gJyc7XG5cbiAgICAgICAgLy8gTMOzZ2ljYSBwYXJhIHJlcHJvZHVjaXIgZWwgc29uaWRvIGRlIGNhbWluYXJcbiAgICAgICBpZiAoaXNNb3ZpbmcgJiYgaXNHcm91bmRlZCkge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25pdmlhJyAmJiB0aGlzLmlzTml2aWFXYWxraW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IHRoaXMuc291bmQuYWRkKCd3YWxrU291bmQnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nLnBsYXkoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gdGhpcy5zb3VuZC5hZGQoJ3dhbGtTb3VuZCcsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAxIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZy5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZXRlbmVyIGVsIHNvbmlkbyBzaSBubyBzZSBlc3TDoSBtb3ZpZW5kbyBvIGVzdMOhIHNhbHRhbmRvXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbml2aWEnICYmIHRoaXMuaXNOaXZpYVdhbGtpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92aW1pZW50byBob3Jpem9udGFsXG4gICAgICAgIGlmIChjb250cm9scy5sZWZ0LmlzRG93bikge1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WCgtc3BlZWQpO1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKGZhbHNlKTsgLy8gTWlyYXIgYSBsYSBpenF1aWVyZGFcbiAgICAgICAgfSBlbHNlIGlmIChjb250cm9scy5yaWdodC5pc0Rvd24pIHtcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVgoc3BlZWQpO1xuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKHRydWUpOyAvLyBNaXJhciBhIGxhIGRlcmVjaGFcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTYWx0byAoc29sbyBzaSBlc3TDoSB0b2NhbmRvIGVsIHN1ZWxvKVxuICAgICAgICBjb25zdCBpc0p1bXBpbmcgPSBjb250cm9scy51cC5pc0Rvd24gJiYgcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xuXG4gICAgICAgIGlmIChpc0p1bXBpbmcpIHtcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVkoLWp1bXBWZWxvY2l0eSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMw7NnaWNhIGRlIGFuaW1hY2lvbmVzXG4gICAgICAgIGlmICghcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duKSB7XG4gICAgICAgICAgICAvLyBFbiBlbCBhaXJlXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9qdW1wYDtcbiAgICAgICAgfSBlbHNlIGlmIChjb250cm9scy5sZWZ0LmlzRG93biB8fCBjb250cm9scy5yaWdodC5pc0Rvd24pIHtcbiAgICAgICAgICAgIC8vIENvcnJpZW5kb1xuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1fcnVuYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElkbGVcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X2lkbGVgO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBSZXByb2R1Y2lyIGxhIGFuaW1hY2nDs24gc29sbyBzaSBlcyBkaWZlcmVudGUgYSBsYSBhY3R1YWxcbiAgICAgICAgaWYgKHBsYXllclNwcml0ZS5hbmltcy5jdXJyZW50QW5pbT8ua2V5ICE9PSBhbmlta2V5KSB7XG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuYW5pbXMucGxheShhbmlta2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgaW50ZXJhY2Npw7NuXG4gICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24oY29udHJvbHMuaW50ZXJhY3QpKSB7XG4gICAgICAgICAgICAvLyBBcXXDrSB2YSBsYSBsw7NnaWNhIGRlIGludGVyYWNjacOzbiAocG9yIGVqZW1wbG8sIGFicmlyIHB1ZXJ0YXMsIHJlY29nZXIgb2JqZXRvcywgZXRjLilcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbnRlcmFjY2nDs24gcmVhbGl6YWRhJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb2xsZWN0TW9vbkNyeXN0YWwocGxheWVyLCBjcnlzdGFsKSB7XG4gICAgICAgIGNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCArPSAxO1xuICAgICAgICBpZiAodGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID09IDIpIHRoaXMubW9vbkhVRC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2NvbGxlY3RNb29uQ3J5c3RhbFNvdW5kJywgeyB2b2x1bWU6IDAuNSB9KTtcbiAgICAgICAgY29uc29sZS5sb2coJ05pdmlhIGhhIHJlY29naWRvIGVsIENyaXN0YWwgZGUgbGEgTHVuYScpO1xuICAgICAgICB0aGlzLnVubG9ja0Rvb3IoY3J5c3RhbC5nZXREYXRhKCdkb29yS2V5JykpO1xuICAgIH1cblxuICAgIGNvbGxlY3RTdW5DcnlzdGFsKHBsYXllciwgY3J5c3RhbCkge1xuICAgICAgICBjcnlzdGFsLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xuICAgICAgICB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsICs9IDE7XG4gICAgICAgIGlmICh0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID09IDIpIHRoaXMuc3VuSFVELnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHRoaXMuc291bmQucGxheSgnY29sbGVjdFN1bkNyeXN0YWxTb3VuZCcsIHsgdm9sdW1lOiAwLjUgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTb2xlbm5lIGhhIHJlY29naWRvIGVsIENyaXN0YWwgZGVsIFNvbCcpO1xuICAgICAgICB0aGlzLnVubG9ja0Rvb3IoY3J5c3RhbC5nZXREYXRhKCdkb29yS2V5JykpO1xuICAgIH1cblxuICAgIHVubG9ja0Rvb3IoZG9vcktleSkge1xuICAgICAgICBjb25zdCBkb29yID0gdGhpcy5kb29yc1tkb29yS2V5XTtcblxuICAgICAgICBkb29yLmhpdGJveC5ib2R5LmVuYWJsZSA9IGZhbHNlO1xuICAgICAgICBkb29yLmhpdGJveC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgZG9vci5zcHJpdGUuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5jaGVja1BvcnRhbFNwYXduKCk7XG4gICAgfVxuXG4gICAgY2hlY2tQb3J0YWxTcGF3bigpIHtcbiAgICAgICAgaWYgKHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9PSAyICYmIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPT0gMikge1xuICAgICAgICAgICAgdGhpcy5wb3J0YWxTcHJpdGUuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5leGl0UG9ydGFsLmJvZHkuZW5hYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoZWNrTGV2ZWxDb21wbGV0ZShwbGF5ZXIsIHBvcnRhbCkge1xuICAgICAgICAvLyBMb3MgZG9zIGRlYmVuIHRvY2FyIGVsIHBvcnRhbCB5IHRlbmVyIHN1cyByZXNwZWN0aXZvcyBjcmlzdGFsZXNcbiAgICAgICAgaWYgKHRoaXMubml2aWFPblBvcnRhbCAmJiB0aGlzLnNvbGVubmVPblBvcnRhbCAmJiB0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgPT0gMiAmJiB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID09IDIpIHtcbiAgICAgICAgICAgIC8vIExhbnphciBlc2NlbmEgZGUgdmljdG9yaWEgeSBwYXVzYXIgZXN0YSBlc2NlbmFcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdWaWN0b3J5U2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5IH0pO1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5kZ2FtZSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJKdWVnbyBUZXJtaW5hZG9cIik7XG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmZXJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxuXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xuICAgICAgICB0aGlzLmFkZC50ZXh0KHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclgsIHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclkgLSAxMDAsIFwiwqFOaXZlbCBDb21wbGV0YWRvIVwiLCB7IFxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JywgZmlsbDogJyNGRkZGRkYnIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICAgICAgICAgIC8vIFJlaW5pY2lhciBuaXZlbFxuICAgICAgICBjb25zdCByZXN0YXJ0YnRuID0gdGhpcy5hZGQuaW1hZ2UoNzA1LCA0MTUsICdSZXN0YXJ0QnV0dG9uJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XG5cbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg2OTMsIDQyNSwgJ1Jlc3RhcnRCdXR0b25Ib3ZlcicpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgocmVzdGFydGJ0bi5kZXB0aCArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFNjZW5lS2V5ID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aob3JpZ2luYWxTY2VuZUtleSk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSIsIi8vIHNyYy9jbGllbnQvc2NlbmVzL0F1dGhTY2VuZS5qc1xuaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XG5cbmV4cG9ydCBjbGFzcyBBdXRoU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignQXV0aFNjZW5lJyk7XG4gICAgfVxuXG4gICAgaW5pdChkYXRhKSB7XG4gICAgICAgIC8vIERlc3Rpbm8gZGVzcHXDqXMgZGVsIGxvZ2luIGV4aXRvc28gKHBvciBkZWZlY3RvIExvYmJ5U2NlbmUpXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBkYXRhLmRlc3RpbmF0aW9uIHx8ICdMb2JieVNjZW5lJztcbiAgICB9XG5cbiAgICBwcmVsb2FkKCkge1xuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0b3JpYWxCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdEJ1dHRvbicsICdhc3NldHMvc2FsaXIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9zYWxpckhvdmVyLnBuZycpO1xuXG4gICAgICAgIC8vIEJvdMOzbiBkZSBsb2dpblxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xvZ2luQnV0dG9uJywgJ2Fzc2V0cy9qdWdhci5wbmcnKTsgLy8gUmV1dGlsaXphbW9zXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTG9naW5CdXR0b25Ib3ZlcicsICdhc3NldHMvanVnYXJIb3Zlci5wbmcnKTtcblxuICAgICAgICAvLyBCb3TDs24gZGUgcmVnaXN0ZXJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZWdpc3RlckJ1dHRvbicsICdhc3NldHMvanVnYXJMb2NhbC5wbmcnKTsgLy8gUmV1dGlsaXphbW9zXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVnaXN0ZXJCdXR0b25Ib3ZlcicsICdhc3NldHMvanVnYXJMb2NhbEhvdmVyLnBuZycpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcblxuICAgICAgICAvLyBGb25kbyBvc2N1cm9cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcblxuICAgICAgICAvLyBDYWphIGNlbnRyYWxcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICd0dXRvcmlhbEJveCcpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcblxuICAgICAgICAvLyBUw610dWxvXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNzAwLCAxODAsICdJTklDSUFSIFNFU0nDk04nLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYXVkZXgnLFxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8gPT09IENBTVBPUyBERSBURVhUTyA9PT1cblxuICAgICAgICAvLyBMYWJlbCBVc2VybmFtZVxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ1MCwgMjYwLCAnVXN1YXJpbzonLCB7XG4gICAgICAgICAgICBmb250U2l6ZTogJzIycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYXVkZXgnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIElucHV0IFVzZXJuYW1lIChIVE1MKVxuICAgICAgICB0aGlzLnVzZXJuYW1lSW5wdXQgPSB0aGlzLmNyZWF0ZUhUTUxJbnB1dCg1NTAsIDI1MCwgMzAwLCAndXNlcm5hbWUnKTtcblxuICAgICAgICAvLyBMYWJlbCBQYXNzd29yZFxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ1MCwgMzMwLCAnQ29udHJhc2XDsWE6Jywge1xuICAgICAgICAgICAgZm9udFNpemU6ICcyMnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2F1ZGV4J1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBJbnB1dCBQYXNzd29yZCAoSFRNTClcbiAgICAgICAgdGhpcy5wYXNzd29yZElucHV0ID0gdGhpcy5jcmVhdGVIVE1MSW5wdXQoNTUwLCAzMjAsIDMwMCwgJ3Bhc3N3b3JkJyk7XG5cbiAgICAgICAgLy8gPT09IE1FTlNBSkUgREUgRVJST1Ivw4lYSVRPID09PVxuICAgICAgICB0aGlzLm1lc3NhZ2VUZXh0ID0gdGhpcy5hZGQudGV4dCg3MDAsIDQwMCwgJycsIHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDAnLFxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhdWRleCcsXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgICB3b3JkV3JhcDogeyB3aWR0aDogNDAwIH1cbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8gPT09IEJPVE9ORVMgPT09XG5cbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDtcblxuICAgICAgICAvLyBCb3TDs24gTE9HSU5cbiAgICAgICAgY29uc3QgbG9naW5CdG4gPSB0aGlzLmFkZC5pbWFnZSg1NTAsIDQ4MCwgJ0xvZ2luQnV0dG9uJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNilcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XG5cbiAgICAgICAgdGhpcy5hZGQudGV4dCg1NTAsIDQ4MCwgJ0VOVFJBUicsIHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhdWRleCcsXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBsb2dpbkJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg1NTAsIDQ4MCwgJ0xvZ2luQnV0dG9uSG92ZXInKVxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNilcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKGxvZ2luQnRuLmRlcHRoICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxvZ2luQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbG9naW5CdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVMb2dpbigpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBCb3TDs24gUkVHSVNURVJcbiAgICAgICAgY29uc3QgcmVnaXN0ZXJCdG4gPSB0aGlzLmFkZC5pbWFnZSg4NTAsIDQ4MCwgJ1JlZ2lzdGVyQnV0dG9uJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNilcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XG5cbiAgICAgICAgdGhpcy5hZGQudGV4dCg4NTAsIDQ4MCwgJ1JFR0lTVFJBUlNFJywge1xuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQ2F1ZGV4JyxcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIHJlZ2lzdGVyQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDg1MCwgNDgwLCAnUmVnaXN0ZXJCdXR0b25Ib3ZlcicpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC42KVxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgocmVnaXN0ZXJCdG4uZGVwdGggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVnaXN0ZXJCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZWdpc3RlckJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJlZ2lzdGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEJvdMOzbiBWT0xWRVJcbiAgICAgICAgY29uc3QgYmFja0J0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTcwLCAnRXhpdEJ1dHRvbicpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjYpXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xuXG4gICAgICAgIGJhY2tCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1NzAsICdFeGl0QnV0dG9uSG92ZXInKVxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNilcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKGJhY2tCdG4uZGVwdGggKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYmFja0J0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJhY2tCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbGVhbnVwSW5wdXRzKCk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUGVybWl0aXIgRW50ZXIgcGFyYSBsb2dpblxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKCdrZXlkb3duLUVOVEVSJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVMb2dpbigpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhciBpbnB1dCBIVE1MIChQaGFzZXIgRE9NIEVsZW1lbnQpXG4gICAgICovXG4gICAgY3JlYXRlSFRNTElucHV0KHgsIHksIHdpZHRoLCB0eXBlID0gJ3RleHQnKSB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgaW5wdXQudHlwZSA9IHR5cGU7XG4gICAgICAgIGlucHV0LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgaW5wdXQuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gICAgICAgIGlucHV0LnN0eWxlLmhlaWdodCA9ICczNXB4JztcbiAgICAgICAgaW5wdXQuc3R5bGUuZm9udFNpemUgPSAnMThweCc7XG4gICAgICAgIGlucHV0LnN0eWxlLmZvbnRGYW1pbHkgPSAnQ2F1ZGV4JztcbiAgICAgICAgaW5wdXQuc3R5bGUucGFkZGluZyA9ICc1cHggMTBweCc7XG4gICAgICAgIGlucHV0LnN0eWxlLmJvcmRlciA9ICcycHggc29saWQgI2ZmZmZmZic7XG4gICAgICAgIGlucHV0LnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1cHgnO1xuICAgICAgICBpbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzFhMWEyZSc7XG4gICAgICAgIGlucHV0LnN0eWxlLmNvbG9yID0gJyNmZmZmZmYnO1xuICAgICAgICBpbnB1dC5zdHlsZS5vdXRsaW5lID0gJ25vbmUnO1xuXG4gICAgICAgIC8vIFBvc2ljaW9uYXIgZW4gZWwgY2FudmFzXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZ2FtZS5jYW52YXM7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlucHV0LnN0eWxlLmxlZnQgPSBgJHtyZWN0LmxlZnQgKyB4fXB4YDtcbiAgICAgICAgaW5wdXQuc3R5bGUudG9wID0gYCR7cmVjdC50b3AgKyB5fXB4YDtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlucHV0KTtcblxuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFuZWphciBMb2dpblxuICAgICAqL1xuICAgIGFzeW5jIGhhbmRsZUxvZ2luKCkge1xuICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRoaXMudXNlcm5hbWVJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICAgIGNvbnN0IHBhc3N3b3JkID0gdGhpcy5wYXNzd29yZElucHV0LnZhbHVlO1xuXG4gICAgICAgIC8vIFZhbGlkYWNpw7NuXG4gICAgICAgIGlmICghdXNlcm5hbWUgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCdQb3IgZmF2b3IgY29tcGxldGEgdG9kb3MgbG9zIGNhbXBvcycsICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaG93TWVzc2FnZSgnSW5pY2lhbmRvIHNlc2nDs24uLi4nLCAnaW5mbycpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3VzZXJzL2xvZ2luJywge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSwgcGFzc3dvcmQgfSlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAvLyBMb2dpbiBleGl0b3NvXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBMb2dpbiBleGl0b3NvOicsIGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgLy8gR3VhcmRhciBkYXRvcyBkZWwgdXN1YXJpbyBlbiBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcklkJywgZGF0YS5pZCk7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJuYW1lJywgZGF0YS51c2VybmFtZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCfCoUJpZW52ZW5pZG8gJyArIGRhdGEudXNlcm5hbWUgKyAnIScsICdzdWNjZXNzJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBJciBhbCBkZXN0aW5vIGRlc3B1w6lzIGRlIDEgc2VndW5kb1xuICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYW51cElucHV0cygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KHRoaXMuZGVzdGluYXRpb24pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVycm9yIGRlIGxvZ2luXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZShkYXRhLmVycm9yIHx8ICdVc3VhcmlvIG8gY29udHJhc2XDsWEgaW5jb3JyZWN0b3MnLCAnZXJyb3InKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gbG9naW46JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZSgnRXJyb3IgZGUgY29uZXhpw7NuLiBJbnTDqW50YWxvIGRlIG51ZXZvLicsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFuZWphciBSZWdpc3Ryb1xuICAgICAqL1xuICAgIGFzeW5jIGhhbmRsZVJlZ2lzdGVyKCkge1xuICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRoaXMudXNlcm5hbWVJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICAgIGNvbnN0IHBhc3N3b3JkID0gdGhpcy5wYXNzd29yZElucHV0LnZhbHVlO1xuXG4gICAgICAgIC8vIFZhbGlkYWNpw7NuXG4gICAgICAgIGlmICghdXNlcm5hbWUgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCdQb3IgZmF2b3IgY29tcGxldGEgdG9kb3MgbG9zIGNhbXBvcycsICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVzZXJuYW1lLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ0VsIHVzdWFyaW8gZGViZSB0ZW5lciBhbCBtZW5vcyAzIGNhcmFjdGVyZXMnLCAnZXJyb3InKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXNzd29yZC5sZW5ndGggPCA0KSB7XG4gICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCdMYSBjb250cmFzZcOxYSBkZWJlIHRlbmVyIGFsIG1lbm9zIDQgY2FyYWN0ZXJlcycsICdlcnJvcicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaG93TWVzc2FnZSgnQ3JlYW5kbyBjdWVudGEuLi4nLCAnaW5mbycpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3VzZXJzL3JlZ2lzdGVyJywge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSwgcGFzc3dvcmQgfSlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAvLyBSZWdpc3RybyBleGl0b3NvXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBSZWdpc3RybyBleGl0b3NvOicsIGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgLy8gR3VhcmRhciBkYXRvcyBkZWwgdXN1YXJpb1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCBkYXRhLmlkKTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcm5hbWUnLCBkYXRhLnVzZXJuYW1lKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ8KhQ3VlbnRhIGNyZWFkYSEgQmllbnZlbmlkbyAnICsgZGF0YS51c2VybmFtZSwgJ3N1Y2Nlc3MnKTtcblxuICAgICAgICAgICAgICAgIC8vIElyIGFsIGRlc3Rpbm8gZGVzcHXDqXMgZGUgMS41IHNlZ3VuZG9zXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDE1MDAsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhbnVwSW5wdXRzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQodGhpcy5kZXN0aW5hdGlvbik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRXJyb3IgZGUgcmVnaXN0cm9cbiAgICAgICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKGRhdGEuZXJyb3IgfHwgJ05vIHNlIHB1ZG8gY3JlYXIgbGEgY3VlbnRhJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuIHJlZ2lzdHJvOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ0Vycm9yIGRlIGNvbmV4acOzbi4gSW50w6ludGFsbyBkZSBudWV2by4nLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vc3RyYXIgbWVuc2FqZSBhbCB1c3VhcmlvXG4gICAgICovXG4gICAgc2hvd01lc3NhZ2UodGV4dCwgdHlwZSA9ICdpbmZvJykge1xuICAgICAgICBjb25zdCBjb2xvcnMgPSB7XG4gICAgICAgICAgICBlcnJvcjogJyNmZjQ0NDQnLFxuICAgICAgICAgICAgc3VjY2VzczogJyM0NGZmNDQnLFxuICAgICAgICAgICAgaW5mbzogJyNmZmZmNDQnXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5tZXNzYWdlVGV4dC5zZXRUZXh0KHRleHQpO1xuICAgICAgICB0aGlzLm1lc3NhZ2VUZXh0LnNldENvbG9yKGNvbG9yc1t0eXBlXSB8fCBjb2xvcnMuaW5mbyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGltcGlhciBpbnB1dHMgSFRNTCBjdWFuZG8gc2Ugc2FsZSBkZSBsYSBlc2NlbmFcbiAgICAgKi9cbiAgICBjbGVhbnVwSW5wdXRzKCkge1xuICAgICAgICBpZiAodGhpcy51c2VybmFtZUlucHV0ICYmIHRoaXMudXNlcm5hbWVJbnB1dC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnVzZXJuYW1lSW5wdXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnVzZXJuYW1lSW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBhc3N3b3JkSW5wdXQgJiYgdGhpcy5wYXNzd29yZElucHV0LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMucGFzc3dvcmRJbnB1dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGFzc3dvcmRJbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5jbGVhbnVwSW5wdXRzKCk7XG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub2ZmKCdrZXlkb3duLUVOVEVSJyk7XG4gICAgfVxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuaW1wb3J0IHsgTWVudVNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL01lbnVTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvR2FtZVNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFBhdXNlU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvUGF1c2VTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBUdXRvcmlhbFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL1R1dG9yaWFsU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgQ3JlZGl0c1NjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0NyZWRpdHNTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBTZXR0aW5nc1NjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL1NldHRpbmdzU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgTGV2ZWxTZWxlY3RTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9MZXZlbFNlbGVjdFNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFBsYWNlSG9sZGVyU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvUGxhY2VIb2xkZXJTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBWaWN0b3J5U2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvVmljdG9yeVNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEdhbWVPdmVyU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvR2FtZU92ZXJTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBMZXZlbDJTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9MZXZlbDJTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBDb25uZWN0aW9uTG9zdFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0Nvbm5lY3Rpb25Mb3N0U2NlbmUuanNcIjtcclxuaW1wb3J0IHsgR2FtZU1vZGVTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9HYW1lTW9kZVNjZW5lLmpzXCI7XHJcbmltcG9ydCAgTG9iYnlTY2VuZSAgZnJvbSBcIi4vc2NlbmVzL0xvYmJ5U2NlbmUuanNcIjtcclxuaW1wb3J0IHsgUmFua2luZ1NjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL1JhbmtpbmdTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBHYW1lTG9jYWxTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9HYW1lTG9jYWxTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBMZXZlbDJTY2VuZUxvY2FsIH0gZnJvbSBcIi4vc2NlbmVzL0xldmVsMlNjZW5lTG9jYWwuanNcIjtcclxuaW1wb3J0IHsgQXV0aFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0F1dGhTY2VuZS5qc1wiO1xyXG5cclxuLy8gU2VydmljaW9zIGRlIHJlZFxyXG5pbXBvcnQgJy4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXIuanMnO1xyXG5pbXBvcnQgJy4vc2VydmljZXMvV2ViU29ja2V0U2VydmljZS5qcyc7XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHdpZHRoOiAxNDIwLFxyXG4gICAgaGVpZ2h0OiA4MDAsXHJcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeTogMCB9LFxyXG4gICAgICAgICAgICBkZWJ1ZzogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHNjZW5lOiBbIE1lbnVTY2VuZSwgQXV0aFNjZW5lLCBHYW1lU2NlbmUsIEdhbWVMb2NhbFNjZW5lLCBMZXZlbDJTY2VuZSwgTGV2ZWwyU2NlbmVMb2NhbCwgVHV0b3JpYWxTY2VuZSwgQ3JlZGl0c1NjZW5lLCAgUGF1c2VTY2VuZSwgU2V0dGluZ3NTY2VuZSwgTGV2ZWxTZWxlY3RTY2VuZSwgUGxhY2VIb2xkZXJTY2VuZSwgVmljdG9yeVNjZW5lLCBHYW1lT3ZlclNjZW5lLCBMb2JieVNjZW5lLCBDb25uZWN0aW9uTG9zdFNjZW5lLCBHYW1lTW9kZVNjZW5lLCBSYW5raW5nU2NlbmVdLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzAyMTQxMGZmJyxcclxufSAgICBcclxuXHJcbmRvY3VtZW50LmZvbnRzLnJlYWR5LnRoZW4oKCkgPT4ge1xyXG4gIGNvbnN0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKTtcclxufSk7XHJcblxyXG4iXSwibmFtZXMiOlsiUGhhc2VyIiwiY29ubmVjdGlvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJjb25uZWN0ZWRDb3VudCIsImlzQ29ubmVjdGVkIiwibGFzdENoZWNrVGltZSIsImNoZWNrSW50ZXJ2YWwiLCJsaXN0ZW5lcnMiLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsImludGVydmFsSWQiLCJzdGFydFBvbGxpbmciLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiY2hlY2tDb25uZWN0aW9uIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiZGF0YSIsImpzb24iLCJjb25uZWN0ZWQiLCJub3RpZnlMaXN0ZW5lcnMiLCJjb3VudCIsInN1Y2Nlc3MiLCJoYW5kbGVEaXNjb25uZWN0aW9uIiwiZXJyb3IiLCJjb25zb2xlIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZvckVhY2giLCJsaXN0ZW5lciIsImdldFN0YXR1cyIsInNldEludGVydmFsIiwic3RvcFBvbGxpbmciLCJjbGVhckludGVydmFsIiwiZ2V0SXNDb25uZWN0ZWQiLCJnZXRDb25uZWN0ZWRVc2VycyIsIk1lbnVTY2VuZSIsInN1cGVyIiwicHJlbG9hZCIsImxvYWQiLCJhdWRpbyIsImltYWdlIiwiY3JlYXRlIiwic291bmQiLCJzdG9wQnlLZXkiLCJwbGF5IiwibG9vcCIsInZvbHVtZSIsImJnIiwiYWRkIiwic2V0T3JpZ2luIiwic2V0RGlzcGxheVNpemUiLCJzY2FsZSIsIndpZHRoIiwiaGVpZ2h0Iiwic2V0RGVwdGgiLCJob3ZlckltZyIsImxvY2FsQnRuIiwic2V0U2NhbGUiLCJzZXRJbnRlcmFjdGl2ZSIsInVzZUhhbmRDdXJzb3IiLCJvbiIsImRlcHRoIiwiZGVzdHJveSIsInNjZW5lIiwibGF1bmNoIiwidHV0b3JpYWxCdG4iLCJjcmVkaXRvc0J0biIsInJhbmtpbmdCdG4iLCJleGl0QnRuIiwid2luZG93IiwiY2xvc2UiLCJzZXR0aW5nc0J0biIsImNvbm5lY3Rpb25Eb3QiLCJjaXJjbGUiLCJjb25uZWN0aW9uQ291bnRUZXh0IiwidGV4dCIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsImNvbG9yIiwiY29ubmVjdGlvbkxpc3RlbmVyIiwidXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkiLCJpc0FjdGl2ZSIsImdyZWVuQ29sb3IiLCJzZXRGaWxsU3R5bGUiLCJzZXRUZXh0IiwiU3RyaW5nIiwic2V0Q29sb3IiLCJyZWRDb2xvciIsInNodXRkb3duIiwid3NTZXJ2aWNlIiwid3MiLCJyb29tSWQiLCJwbGF5ZXJSb2xlIiwibWVzc2FnZUhhbmRsZXJzIiwiTWFwIiwiY29ubmVjdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwid3NVcmwiLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwibG9nIiwiV2ViU29ja2V0Iiwib25vcGVuIiwib25tZXNzYWdlIiwiZXZlbnQiLCJwYXJzZSIsImhhbmRsZU1lc3NhZ2UiLCJvbmVycm9yIiwib25jbG9zZSIsIm5vdGlmeUhhbmRsZXIiLCJ0eXBlIiwiaGFzIiwic2V0IiwiZ2V0Iiwib2ZmIiwiaGFuZGxlcnMiLCJoYW5kbGVyIiwic2VuZCIsIm1lc3NhZ2UiLCJyZWFkeVN0YXRlIiwiT1BFTiIsImpvaW5RdWV1ZSIsImxlYXZlUXVldWUiLCJzZW5kUGxheWVyTW92ZSIsIngiLCJ5IiwiZmxpcFgiLCJhbmltS2V5Iiwic2VuZENyeXN0YWxDb2xsZWN0IiwiY3J5c3RhbFR5cGUiLCJzZW5kUG9ydGFsVG91Y2giLCJvblBvcnRhbCIsInNlbmRHYW1lT3ZlciIsInJlYXNvbiIsImRpc2Nvbm5lY3QiLCJjbGVhciIsImdldFBsYXllclJvbGUiLCJzZXRQbGF5ZXJSb2xlIiwicm9sZSIsIkdhbWVTY2VuZSIsImluaXQiLCJpc1BhdXNlZCIsImVzY1dhc0Rvd24iLCJuaXZpYUhhc01vb25DcnlzdGFsIiwic29sZW5uZUhhc1N1bkNyeXN0YWwiLCJuaXZpYU9uUG9ydGFsIiwic29sZW5uZU9uUG9ydGFsIiwiaXNOaXZpYVdhbGtpbmciLCJpc1NvbGVubmVXYWxraW5nIiwiaXNIYW5kbGluZ0Rpc2Nvbm5lY3Rpb24iLCJsYXN0RGlzY29ubmVjdGlvblRpbWUiLCJkaXNjb25uZWN0aW9uQ29vbGRvd24iLCJpc011bHRpcGxheWVyIiwibG9jYWxQbGF5ZXIiLCJyZW1vdGVQbGF5ZXIiLCJsYXN0U3luY1RpbWUiLCJzeW5jSW50ZXJ2YWwiLCJjaGFyYWN0ZXJOYW1lIiwiYW5ub3VuY2VtZW50VGV4dCIsImNhbWVyYXMiLCJtYWluIiwiZm9udFN0eWxlIiwiYWxpZ24iLCJiYWNrZ3JvdW5kQ29sb3IiLCJwYWRkaW5nIiwic2V0U2Nyb2xsRmFjdG9yIiwidHdlZW5zIiwidGFyZ2V0cyIsImFscGhhIiwiZHVyYXRpb24iLCJkZWxheSIsIm9uQ29tcGxldGUiLCJsZWF2ZUJ1dHRvbiIsInNldFN0eWxlIiwiY29uZmlybSIsInN0b3BBbGwiLCJzdG9wIiwic3RhcnQiLCJhdGxhcyIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0Iiwib25Db25uZWN0aW9uTG9zdCIsImV2ZW50cyIsInBoeXNpY3MiLCJyZXN1bWUiLCJwYXVzZSIsIm1hcFdpZHRoSW5QaXhlbHMiLCJtYXBIZWlnaHRJblBpeGVscyIsImNhY2hlIiwiZXhpc3RzIiwic3RhdGljU3ByaXRlIiwid29ybGQiLCJncmF2aXR5Iiwic2V0VXBQbGF5ZXJzIiwiZ3JvdW5kIiwicmVjdGFuZ2xlIiwiZXhpc3RpbmciLCJwbGF0YWZvcm1hMSIsInBsYXRhZm9ybWEyIiwicGxhdGFmb3JtYTMiLCJwbGF0YWZvcm1hNCIsInBsYXRhZm9ybWE1IiwicGFyZWQxIiwicGFyZWQyIiwiZXhpdFBvcnRhbCIsInNldFZpc2libGUiLCJlbmFibGUiLCJkYXJrRG9vcjEiLCJsaWdodERvb3IxIiwiZGFya0Rvb3IxSGl0Ym94IiwibGlnaHREb29yMUhpdGJveCIsInRyYW1wYSIsImRhbWFnZSIsImNvbGxpZGVyIiwibml2aWEiLCJzb2xlbm5lIiwiY3JlYXRlQW5pbWF0aW9ucyIsImNyeXN0YWxzIiwiZ3JvdXAiLCJhbGxvd0dyYXZpdHkiLCJpbW1vdmFibGUiLCJtb29uQ3J5c3RhbCIsInNldEJvZHlTaXplIiwic3VuQ3J5c3RhbCIsImFuaW1zIiwia2V5IiwiZnJhbWVzIiwiZ2VuZXJhdGVGcmFtZU51bWJlcnMiLCJlbmQiLCJmcmFtZVJhdGUiLCJyZXBlYXQiLCJtb29uSFVEIiwic3ByaXRlIiwiY2VudGVyWCIsInN1bkhVRCIsIm92ZXJsYXAiLCJjb2xsZWN0TW9vbkNyeXN0YWwiLCJjb2xsZWN0U3VuQ3J5c3RhbCIsInNldEJvdW5kcyIsImVzY0tleSIsImlucHV0Iiwia2V5Ym9hcmQiLCJhZGRLZXkiLCJLZXlib2FyZCIsIktleUNvZGVzIiwiRVNDIiwiY2hlY2tMZXZlbENvbXBsZXRlIiwicGF1c2VCdXR0b24iLCJ0b2dnbGVQYXVzZSIsInNldHRpbmdzQnV0dG9uIiwib3JpZ2luYWxTY2VuZSIsInNldHVwTXVsdGlwbGF5ZXIiLCJwbGF5ZXJNb3ZlSGFuZGxlciIsImhhbmRsZVJlbW90ZVBsYXllck1vdmUiLCJiaW5kIiwiY3J5c3RhbENvbGxlY3RlZEhhbmRsZXIiLCJoYW5kbGVSZW1vdGVDcnlzdGFsQ29sbGVjdGVkIiwicG9ydGFsU3Bhd25lZEhhbmRsZXIiLCJoYW5kbGVSZW1vdGVQb3J0YWxTcGF3bmVkIiwidmljdG9yeUhhbmRsZXIiLCJoYW5kbGVSZW1vdGVWaWN0b3J5IiwiZ2FtZU92ZXJIYW5kbGVyIiwiaGFuZGxlUmVtb3RlR2FtZU92ZXIiLCJwbGF5ZXJEaXNjb25uZWN0ZWRIYW5kbGVyIiwiaGFuZGxlUGxheWVyRGlzY29ubmVjdGVkIiwic3luY0xvY2FsUGxheWVyUG9zaXRpb24iLCJjdXJyZW50QW5pbSIsInNldFBvc2l0aW9uIiwic2V0RmxpcFgiLCJkaXNhYmxlQm9keSIsImRhcmtEb29yVW5sb2NrZWQiLCJ1bmxvY2tEYXJrRG9vciIsImxpZ2h0RG9vclVubG9ja2VkIiwidW5sb2NrTGlnaHREb29yIiwidmlzaWJsZSIsImJhY2tCdG4iLCJwcmV2aW91c1NjZW5lIiwic2V0Qm91bmNlIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwic2V0U2l6ZSIsInNldE9mZnNldCIsIm5pdmlhQ29udHJvbHMiLCJhZGRLZXlzIiwibGVmdCIsInJpZ2h0IiwidXAiLCJpbnRlcmFjdCIsInNvbGVubmVDb250cm9scyIsImdlbmVyYXRlRnJhbWVOYW1lcyIsInByZWZpeCIsInNldFBhdXNlZFN0YXRlIiwibmV3UGF1c2VkU3RhdGUiLCJ0b2dnbGVTZXR0aW5ncyIsInVwZGF0ZSIsImlzRG93biIsImhhbmRsZVBsYXllck1vdmVtZW50IiwiaGFuZGxlQ2FtZXJhQW5kQ29uc3RyYWludHMiLCJuaXZpYVkiLCJzb2xlbm5lWSIsImRlc2lyZWRDYW1lcmFZIiwiY2FtZXJhSGVpZ2h0Iiwic2Nyb2xsWSIsIkxpbmVhciIsIm1heFZlcnRpY2FsR2FwIiwiYWJzIiwiZmFzdGVyUGxheWVyIiwic2xvd2VyUGxheWVyIiwiYmxvY2tlZCIsImRvd24iLCJ2ZWxvY2l0eSIsInBsYXllclNwcml0ZSIsImNvbnRyb2xzIiwidGV4dHVyZSIsImlzTW92aW5nIiwiaXNHcm91bmRlZCIsImFuaW1rZXkiLCJzZXRWZWxvY2l0eVgiLCJzZXRWZWxvY2l0eVkiLCJKdXN0RG93biIsInBsYXllciIsImNyeXN0YWwiLCJjaGVja1BvcnRhbFNwYXduIiwiaXNPdmVybGFwcGluZyIsInByZXZpb3VzU3RhdGUiLCJlbmRnYW1lIiwiY2VudGVyWSIsImZpbGwiLCJyZXN0YXJ0YnRuIiwib3JpZ2luYWxTY2VuZUtleSIsInNldHRpbmdzIiwiUGF1c2VTY2VuZSIsInciLCJoIiwiYmFja2dyb3VuZCIsIkV4aXRCdG4iLCJvcmlnaW5hbCIsInR1dG9yaWFsYnRuIiwibWVudWJ0biIsInNjZW5lcyIsImdhbWUiLCJrZXlzIiwiVHV0b3JpYWxTY2VuZSIsImJyaW5nVG9Ub3AiLCJDcmVkaXRzU2NlbmUiLCJTZXR0aW5nc1NjZW5lIiwidm9sdW1lQmFyMSIsInZvbHVtZUJhcjIiLCJ2b2x1bWVCYXIzIiwidm9sdW1lQmFyNCIsInZvbHVtZUJhcjUiLCJwbHVzVm9sdW1lQnRuIiwic2V0Vm9sdW1lIiwibWludXNWb2x1bWVCdG4iLCJMZXZlbFNlbGVjdFNjZW5lIiwiTHZsVW5vQnRuIiwiTHZsRG9zQnRuIiwiUGxhY2VIb2xkZXJTY2VuZSIsIlZpY3RvcnlTY2VuZSIsIm5leHRMZXZlbGJ0biIsIkdhbWVPdmVyU2NlbmUiLCJMZXZlbDJTY2VuZSIsInBvcnRhbFNwcml0ZSIsImRhcmtEb29yMiIsImxpZ2h0RG9vcjIiLCJsaWdodERvb3IzIiwiZGFya0Rvb3IySGl0Ym94IiwibGlnaHREb29yMkhpdGJveCIsImxpZ2h0RG9vcjNIaXRib3giLCJzZXRJbW1vdmFibGUiLCJzZXRBbGxvd0dyYXZpdHkiLCJzZXRBbmdsZSIsImRvb3JzIiwiaGl0Ym94IiwiZGFtYWdlR3JvdXAiLCJzdGF0aWNHcm91cCIsImRhbWFnZTEiLCJkYW1hZ2UyIiwiZGFtYWdlMyIsImRhbWFnZTQiLCJzZXREYXRhIiwibW9vbkNyeXN0YWwyIiwic3VuQ3J5c3RhbDIiLCJvbkRhbWFnZSIsInVubG9ja0Rvb3IiLCJnZXREYXRhIiwiZG9vcktleSIsImRvb3IiLCJwb3J0YWwiLCJDb25uZWN0aW9uTG9zdFNjZW5lIiwicmVjb25uZWN0Q2hlY2tUaW1lciIsImlzQ2hlY2tpbmciLCJzdGF0dXNUZXh0IiwiYXR0ZW1wdENvdW50IiwiYXR0ZW1wdFRleHQiLCJkb3RDb3VudCIsInRpbWUiLCJhZGRFdmVudCIsImRvdHMiLCJvblJlY29ubmVjdGVkIiwiYXR0ZW1wdFJlY29ubmVjdCIsImNhbGxiYWNrU2NvcGUiLCJyZW1vdmUiLCJkZWxheWVkQ2FsbCIsImdhbWVTY2VuZSIsIkdhbWVNb2RlU2NlbmUiLCJvbmxpbmVCdG4iLCJkZXN0aW5hdGlvbiIsIkxvYmJ5U2NlbmUiLCJ1c2VybmFtZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwbGF5ZXJDb3VudFRleHQiLCJsb2FkaW5nRG90cyIsImxlbmd0aCIsImluY2x1ZGVzIiwiQ2FuY2VsQnRuIiwiY29ubmVjdFRvU2VydmVyIiwic2V0Rm9udEZhbWlseSIsInF1ZXVlU3RhdHVzSGFuZGxlciIsImhhbmRsZVF1ZXVlU3RhdHVzIiwiZ2FtZVN0YXJ0SGFuZGxlciIsImhhbmRsZUdhbWVTdGFydCIsImNvbm5lY3Rpb25Mb3N0SGFuZGxlciIsImhhbmRsZUNvbm5lY3Rpb25Mb3N0IiwicmV0cnlCdXR0b24iLCJwb3NpdGlvbiIsIlJhbmtpbmdTY2VuZSIsImZldGNoUmFua2luZyIsInBsYXllcnMiLCJ5UG9zIiwiYmVzdFRpbWUiLCJHYW1lTG9jYWxTY2VuZSIsIkxldmVsMlNjZW5lTG9jYWwiLCJBdXRoU2NlbmUiLCJ1c2VybmFtZUlucHV0IiwiY3JlYXRlSFRNTElucHV0IiwicGFzc3dvcmRJbnB1dCIsIm1lc3NhZ2VUZXh0Iiwid29yZFdyYXAiLCJsb2dpbkJ0biIsImhhbmRsZUxvZ2luIiwicmVnaXN0ZXJCdG4iLCJoYW5kbGVSZWdpc3RlciIsImNsZWFudXBJbnB1dHMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsIm91dGxpbmUiLCJyZWN0IiwiY2FudmFzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiYXBwZW5kQ2hpbGQiLCJ2YWx1ZSIsInRyaW0iLCJwYXNzd29yZCIsInNob3dNZXNzYWdlIiwic2V0SXRlbSIsImlkIiwiY29sb3JzIiwiaW5mbyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImNvbmZpZyIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJkZWJ1ZyIsImZvbnRzIiwicmVhZHkiLCJ0aGVuIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=