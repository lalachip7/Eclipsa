(()=>{"use strict";const e=Phaser,t=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}getIsConnected(){return this.isConnected}getConnectedUsers(){return this.connectedCount}};class s extends e.Scene{constructor(){super("MenuScene")}preload(){this.load.audio("MenuMusic","assets/sonido/inicio.mp3"),this.load.image("Pantalla_de_inicio","assets/fondo_pantalla_inicio.png"),this.load.image("LocalPlayButton","assets/jugar.png"),this.load.image("LocalPlayButtonHover","assets/jugarHover.png"),this.load.image("TutorialButton","assets/tutorial.png"),this.load.image("TutorialButtonHover","assets/tutorialHover.png"),this.load.image("CreditosButton","assets/creditos.png"),this.load.image("CreditosButtonHover","assets/creditosHover.png"),this.load.image("ExitButton","assets/salir.png"),this.load.image("ExitButtonHover","assets/salirHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RankingButton","assets/ranking.png"),this.load.image("RankingButtonHover","assets/rankingHover.png")}create(){this.sound.stopByKey("GameMusic"),this.sound.play("MenuMusic",{loop:!0,volume:this.sound.volume});const e=this.add.image(0,0,"Pantalla_de_inicio").setOrigin(0);e.setDisplaySize(this.scale.width,this.scale.height),e.setDepth(-1);let s=null;const i=this.add.image(305,340,"LocalPlayButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(305,340,"LocalPlayButtonHover").setOrigin(.5).setScale(.75).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.launch("GameModeScene")});const a=this.add.image(312,450,"TutorialButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(312,450,"TutorialButtonHover").setOrigin(.5).setScale(.75).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.launch("TutorialScene")});const n=this.add.image(305,560,"CreditosButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(312,555,"CreditosButtonHover").setOrigin(.5).setScale(.75).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{this.scene.launch("CreditsScene")});const o=this.add.image(1200,75,"RankingButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0}).on("pointerdown",()=>this.scene.launch("RankingScene"));o.on("pointerover",()=>{s||(s=this.add.image(1200,75,"RankingButtonHover").setOrigin(.5).setScale(.75).setDepth(o.depth+1))}),o.on("pointerout",()=>{s&&(s.destroy(),s=null)});const r=this.add.image(312,670,"ExitButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});r.on("pointerover",()=>{s||(s=this.add.image(312,670,"ExitButtonHover").setOrigin(.5).setScale(.75).setDepth(r.depth+1))}),r.on("pointerout",()=>{s&&(s.destroy(),s=null)}),r.on("pointerdown",()=>{window.close()});const l=this.add.image(1330,75,"SettingsButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});l.on("pointerover",()=>{s||(s=this.add.image(1335,75,"SettingsButtonHover").setOrigin(.5).setScale(.7).setDepth(l.depth+1))}),l.on("pointerout",()=>{s&&(s.destroy(),s=null)}),l.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.connectionDot=this.add.circle(70,50,10,16711680).setDepth(1e3),this.connectionCountText=this.add.text(85,40,"0",{fontSize:"18px",fontFamily:'"Caudex", serif',color:"#da8181ff"}).setDepth(1e3),this.connectionListener=e=>{this.updateConnectionDisplay(e)},t.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionDot&&this.connectionCountText&&this.scene&&this.scene.isActive("MenuScene"))try{if(e.connected){const t=10607521;this.connectionDot.setFillStyle(t),this.connectionCountText.setText(String(e.count)),this.connectionCountText.setColor("#a1dba1")}else{const e=14320001;this.connectionDot.setFillStyle(e),this.connectionCountText.setText("--"),this.connectionCountText.setColor(e)}}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener)}}const i=new class{constructor(){this.ws=null,this.connected=!1,this.roomId=null,this.playerRole=null,this.messageHandlers=new Map}connect(){return new Promise((e,t)=>{try{const s=`ws://${window.location.hostname}:3000`;console.log("ðŸ”Œ Conectando a WebSocket:",s),this.ws=new WebSocket(s),this.ws.onopen=()=>{console.log("âœ… WebSocket conectado"),this.connected=!0,e()},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleMessage(t)}catch(e){console.error("âŒ Error parseando mensaje:",e)}},this.ws.onerror=e=>{console.error("âŒ Error en WebSocket:",e),this.connected=!1,t(e)},this.ws.onclose=()=>{console.log("ðŸ”Œ WebSocket desconectado"),this.connected=!1,this.notifyHandler("connectionLost")}}catch(e){t(e)}})}handleMessage(e){console.log("ðŸ“¨ Mensaje recibido:",e.type),this.notifyHandler(e.type,e)}on(e,t){this.messageHandlers.has(e)||this.messageHandlers.set(e,[]),this.messageHandlers.get(e).push(t)}off(e,t){if(this.messageHandlers.has(e)){const s=this.messageHandlers.get(e),i=s.indexOf(t);i>-1&&s.splice(i,1)}}notifyHandler(e,t={}){this.messageHandlers.has(e)&&this.messageHandlers.get(e).forEach(e=>e(t))}send(e){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify(e)):console.error("âŒ WebSocket no estÃ¡ conectado")}joinQueue(){this.send({type:"joinQueue"}),console.log("ðŸ“¥ UniÃ©ndose a la cola...")}leaveQueue(){this.send({type:"leaveQueue"}),console.log("ðŸ“¤ Saliendo de la cola...")}sendPlayerMove(e,t,s,i){this.send({type:"playerMove",x:e,y:t,flipX:s,animKey:i})}sendCrystalCollect(e){this.send({type:"crystalCollect",crystalType:e}),console.log(`ðŸ’Ž Cristal ${e} recogido`)}sendPortalTouch(e){this.send({type:"portalTouch",onPortal:e})}sendGameOver(e="trap"){this.send({type:"gameOver",reason:e})}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.connected=!1,this.roomId=null,this.playerRole=null,this.messageHandlers.clear()}isConnected(){return this.connected&&this.ws&&this.ws.readyState===WebSocket.OPEN}getPlayerRole(){return this.playerRole}setPlayerRole(e){this.playerRole=e,console.log(`ðŸŽ® Rol asignado: ${e}`)}};class a extends e.Scene{constructor(){super("GameScene")}init(e){if(this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=!1,this.solenneHasSunCrystal=!1,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null,this.isHandlingDisconnection=!1,this.lastDisconnectionTime=0,this.disconnectionCooldown=1e3,this.isMultiplayer=e.isMultiplayer||!1,this.playerRole=e.playerRole||null,this.roomId=e.roomId||null,this.localPlayer=null,this.remotePlayer=null,this.lastSyncTime=0,this.syncInterval=50,console.log("ðŸŽ® GameScene iniciado"),this.isMultiplayer){console.log(`ðŸ‘¤ Rol: ${this.playerRole} | ðŸšª Sala: ${this.roomId}`);const e="nivia"===this.playerRole?"ðŸŒ™ NIVIA (Luna)":"â˜€ï¸ SOLENNE (Sol)",t=this.add.text(this.cameras.main.width/2,this.cameras.main.height/2,`Â¡Eres ${e}!`,{fontSize:"48px",fontStyle:"bold",color:"nivia"===this.playerRole?"#87CEEB":"#FFD700",align:"center",backgroundColor:"#000000",padding:{x:20,y:10}}).setOrigin(.5).setScrollFactor(0).setDepth(1e3);this.tweens.add({targets:t,alpha:0,duration:3e3,delay:1500,onComplete:()=>{t.destroy()}})}if(this.isMultiplayer){const e=this.add.text(this.cameras.main.width/2,40,"ðŸšª Abandonar",{fontSize:"18px",color:"#ff6666",backgroundColor:"#000000",padding:{x:10,y:5}}).setOrigin(.5).setScrollFactor(0).setInteractive({useHandCursor:!0}).setDepth(100);e.on("pointerover",()=>{e.setStyle({backgroundColor:"#333333",color:"#ff0000"})}),e.on("pointerout",()=>{e.setStyle({backgroundColor:"#000000",color:"#ff6666"})}),e.on("pointerdown",()=>{confirm("Â¿Seguro que quieres abandonar la partida?\n\nEl otro jugador serÃ¡ notificado.")&&(i.sendGameOver("disconnect"),i.disconnect(),this.sound.stopAll(),this.scene.stop(),this.scene.start("MenuScene"))})}}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo","assets/Escenario/Nivel1/fondo_abajo.png"),this.load.image("plataformas","assets/Escenario/Nivel1/plataformas_abajo.png"),this.load.image("puertaClaraNivel1","assets/Escenario/Nivel1/puerta_clara.png"),this.load.image("puertaOscuraNivel1","assets/Escenario/Nivel1/puerta_oscura.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonClaroNivel1","assets/Escenario/Nivel1/boton_claro.png"),this.load.image("botonOscuro1Nivel1","assets/Escenario/Nivel1/boton_oscuro.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal","assets/trampas/puertaFinal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage","assets/trampas/lianas_plataformas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){this.connectionListener=e=>{const t=Date.now();e.connected||!this.scene.isActive("GameScene")||this.isHandlingDisconnection?e.connected&&this.isHandlingDisconnection&&(this.isHandlingDisconnection=!1,console.log("âœ… ReconexiÃ³n detectada")):t-this.lastDisconnectionTime>this.disconnectionCooldown&&(console.log("âŒ ConexiÃ³n perdida durante el juego"),this.isHandlingDisconnection=!0,this.lastDisconnectionTime=t,this.onConnectionLost())},t.addListener(this.connectionListener),this.events.on("resume",()=>{console.log("GameScene reanudada"),this.isPaused=!1,this.physics.resume()}),this.events.on("pause",()=>{console.log("GameScene pausada"),this.physics.pause()});const s=1420,a=800;let n=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.1}),this.physics.add.staticSprite(0,0,"fondo").setOrigin(0,0).setDisplaySize(s,a),this.physics.add.staticSprite(0,0,"plataformas").setOrigin(0,0).setDisplaySize(s,a),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,a,s,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,480,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(575,480,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1e3,550,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(300,150,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,275,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(400,50,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.pared2=this.add.rectangle(900,700,200,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared2,!0),this.exitPortal=this.physics.add.staticSprite(1e3,10,"portal").setScale(1),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(700,400,"puertaOscuraNivel1").setScale(.7),this.lightDoor1=this.physics.add.staticSprite(750,400,"puertaClaraNivel1").setScale(.7),this.darkDoor1Hitbox=this.add.rectangle(250,375,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(920,400,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.trampa=this.physics.add.staticSprite(450,150,"damage").setScale(.5),this.damage=this.add.rectangle(480,100,100,60,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage,!0),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.pared2),this.physics.add.collider(this.solenne,this.pared2),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1100,400,"moondrop_sheet").setBodySize(32,32).setScale(.5),this.sunCrystal=this.crystals.create(100,100,"sundrop_sheet").setBodySize(32,32).setScale(.5),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,s,a),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{n||(n=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{n&&(n.destroy(),n=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{n||(n=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{n&&(n.destroy(),n=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.isMultiplayer||this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)}),this.physics.add.overlap(this.nivia,this.damage,()=>{this.isMultiplayer&&i.isConnected()?i.sendGameOver("trap"):(this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause())}),this.physics.add.overlap(this.solenne,this.damage,()=>{this.isMultiplayer&&i.isConnected()?i.sendGameOver("trap"):(this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause())}),this.isMultiplayer&&this.setupMultiplayer()}setupMultiplayer(){"nivia"===this.playerRole?(this.localPlayer=this.nivia,this.remotePlayer=this.solenne):"solenne"===this.playerRole&&(this.localPlayer=this.solenne,this.remotePlayer=this.nivia),this.playerMoveHandler=this.handleRemotePlayerMove.bind(this),this.crystalCollectedHandler=this.handleRemoteCrystalCollected.bind(this),this.portalSpawnedHandler=this.handleRemotePortalSpawned.bind(this),this.victoryHandler=this.handleRemoteVictory.bind(this),this.gameOverHandler=this.handleRemoteGameOver.bind(this),this.playerDisconnectedHandler=this.handlePlayerDisconnected.bind(this),i.on("playerMove",this.playerMoveHandler),i.on("crystalCollected",this.crystalCollectedHandler),i.on("portalSpawned",this.portalSpawnedHandler),i.on("victory",this.victoryHandler),i.on("gameOver",this.gameOverHandler),i.on("playerDisconnected",this.playerDisconnectedHandler)}syncLocalPlayerPosition(){const e=Date.now();e-this.lastSyncTime<this.syncInterval||(this.lastSyncTime=e,this.localPlayer&&i.isConnected()&&i.sendPlayerMove(this.localPlayer.x,this.localPlayer.y,this.localPlayer.flipX,this.localPlayer.anims.currentAnim?.key||"idle"))}handleRemotePlayerMove(e){this.remotePlayer&&(this.remotePlayer.setPosition(e.x,e.y),this.remotePlayer.setFlipX(e.flipX),e.animKey&&this.remotePlayer.anims.currentAnim?.key!==e.animKey&&this.remotePlayer.anims.play(e.animKey,!0))}handleRemoteCrystalCollected(e){console.log(`ðŸ’Ž Cristal ${e.crystalType} recogido por el otro jugador`),"moon"===e.crystalType?(this.moonCrystal.disableBody(!0,!0),this.niviaHasMoonCrystal=!0,this.moonHUD.setVisible(!0),e.darkDoorUnlocked&&this.unlockDarkDoor()):"sun"===e.crystalType&&(this.sunCrystal.disableBody(!0,!0),this.solenneHasSunCrystal=!0,this.sunHUD.setVisible(!0),e.lightDoorUnlocked&&this.unlockLightDoor())}handleRemotePortalSpawned(e){console.log("ðŸšª Portal activado por el servidor"),this.exitPortal.visible||(this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}handleRemoteVictory(e){console.log("ðŸŽ‰ Â¡VICTORIA MULTIJUGADOR!"),this.scene.launch("VictoryScene",{originalScene:this.scene.key,isMultiplayer:!0}),this.scene.pause()}handleRemoteGameOver(e){console.log("ðŸ’€ Game Over recibido del servidor:",e.reason),this.physics.pause(),this.scene.launch("GameOverScene",{originalScene:this.scene.key,isMultiplayer:!0,reason:e.reason}),this.scene.pause()}handlePlayerDisconnected(){console.log("âŒ El otro jugador se desconectÃ³"),this.physics.pause(),this.scene.pause();const e=this.cameras.main.width,t=this.cameras.main.height,s=(this.add.rectangle(0,0,e,t,0,.9).setOrigin(0).setScrollFactor(0).setDepth(2e3),this.add.text(e/2,t/2-80,"âš ï¸ PARTIDA TERMINADA",{fontSize:"48px",color:"#ff6666",align:"center",fontStyle:"bold"}).setOrigin(.5).setScrollFactor(0).setDepth(2001),this.add.text(e/2,t/2,"El otro jugador abandonÃ³ la partida",{fontSize:"24px",color:"#ffffff",align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(2001),this.add.text(e/2,t/2+100,"ðŸ  Volver al MenÃº",{fontSize:"28px",color:"#ffffff",backgroundColor:"#444444",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0}).setScrollFactor(0).setDepth(2001));s.on("pointerover",()=>{s.setStyle({backgroundColor:"#666666"})}),s.on("pointerout",()=>{s.setStyle({backgroundColor:"#444444"})}),s.on("pointerdown",()=>{i.disconnect(),this.sound.stopAll(),this.scene.stop(),this.scene.start("MenuScene")})}onConnectionLost(){this.isPaused=!0,this.connectionListener&&t.removeListener(this.connectionListener),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"}),this.scene.pause()}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(100,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1,this.isHandlingDisconnection=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.isMultiplayer?"nivia"===this.playerRole?(this.handlePlayerMovement(this.nivia,this.niviaControls),this.syncLocalPlayerPosition()):"solenne"===this.playerRole&&(this.handlePlayerMovement(this.solenne,this.solenneControls),this.syncLocalPlayerPosition()):(this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls)),this.handleCameraAndConstraints(),this.exitPortal&&this.exitPortal.visible&&this.exitPortal.body.enable&&this.checkLevelComplete()}handleCameraAndConstraints(){const t=this.nivia.y,s=this.solenne.y;let i=(t+s)/2;const a=this.cameras.main.height;this.cameras.main.scrollY=e.Math.Linear(this.cameras.main.scrollY,i-a/2,.05);const n=.7*a;if(Math.abs(t-s)>n){const e=t<s?this.nivia:this.solenne,i=t<s?this.solenne:this.nivia;(i.body.blocked.down||i.y>e.y+n)&&(e.body.velocity.y<0&&(e.body.velocity.y=0),console.log("Movimiento vertical restringido por el jugador rezagado."))}}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal=!0,this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDarkDoor(),this.isMultiplayer&&i.isConnected()&&i.sendCrystalCollect("moon")}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal=!0,this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockLightDoor(),this.isMultiplayer&&i.isConnected()&&i.sendCrystalCollect("sun")}unlockDarkDoor(){this.darkDoor1Hitbox.body.enable=!1,this.darkDoor1Hitbox.setVisible(!1),this.darkDoor1.setVisible(!1),console.log("Puerta Oscura desbloqueada"),this.checkPortalSpawn()}unlockLightDoor(){this.lightDoor1Hitbox.body.enable=!1,this.lightDoor1Hitbox.setVisible(!1),this.lightDoor1.setVisible(!1),console.log("Puerta Clara desbloqueada"),this.checkPortalSpawn()}checkPortalSpawn(){this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&(console.log("Ambos cristales recogidos. El portal aparece."),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(){try{if(!this.isMultiplayer){const e=this.physics.overlap(this.nivia,this.exitPortal),t=this.physics.overlap(this.solenne,this.exitPortal);return void(e&&t&&this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&(console.log("Â¡NIVEL COMPLETADO!"),this.scene.launch("VictoryScene",{originalScene:this.scene.key}),this.scene.pause()))}if(!this.exitPortal||!this.exitPortal.visible||!this.localPlayer)return;const e=this.physics.overlap(this.localPlayer,this.exitPortal);let t=!1;"nivia"===this.playerRole?t=this.niviaOnPortal:"solenne"===this.playerRole&&(t=this.solenneOnPortal),"nivia"===this.playerRole?this.niviaOnPortal=e:"solenne"===this.playerRole&&(this.solenneOnPortal=e),i.isConnected()&&i.sendPortalTouch(e),console.log(`ðŸšª ${this.playerRole} en portal: ${e}`)}catch(e){console.error("Error en checkLevelComplete:",e)}}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener),this.isMultiplayer&&(i.off("playerMove",this.playerMoveHandler),i.off("crystalCollected",this.crystalCollectedHandler),i.off("portalSpawned",this.portalSpawnedHandler),i.off("victory",this.victoryHandler),i.off("gameOver",this.gameOverHandler),i.off("playerDisconnected",this.playerDisconnectedHandler))}}class n extends e.Scene{constructor(){super("PauseScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("PauseText","assets/texto_pausa.PNG"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("TutorialButton","assets/tutorial.png"),this.load.image("TutorialButtonHover","assets/tutorialHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("RetMenuButton","assets/menu.PNG"),this.load.image("RetMenuButtonHover","assets/menuHover.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1),this.add.image(700,210,"PauseText").setOrigin(.5).setScale(1);const i=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()});const a=this.add.image(700,320,"TutorialButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(700,320,"TutorialButtonHover").setOrigin(.5).setScale(.7).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.launch("TutorialScene",{originalScene:"PauseScene"}),this.scene.pause()});const n=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start(e)});const o=this.add.image(700,515,"RetMenuButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});o.on("pointerover",()=>{s||(s=this.add.image(698,515,"RetMenuButtonHover").setOrigin(.5).setScale(.7).setDepth(o.depth+1))}),o.on("pointerout",()=>{s&&(s.destroy(),s=null)}),o.on("pointerdown",()=>{const e=this.game.scene.keys;for(let t in e)"MenuScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("MenuScene")})}}class o extends e.Scene{constructor(){super("TutorialScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("keys","assets/teclas.png"),this.load.image("solenneIcon","assets/personajeSolenne.png"),this.load.image("niviaIcon","assets/personajeNivia.png"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.image("trampa","assets/trampas/lianas_plataformas.png"),this.load.image("puertaClara","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("portalFinal","assets/Escenario/Nivel1/portal1.png"),this.load.image("NextPageButton","assets/flechaDerecha.png"),this.load.image("NextPageButtonOff","assets/flechaDerechaOscura.png"),this.load.image("PrevPageButton","assets/flechaIzquierda.png"),this.load.image("PrevPageButtonOff","assets/flechaIzquierdaOscura.png"),this.load.image("imageTutorial","assets/pantalla_tutorial.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("TutorialText","assets/texto_tutorial.PNG")}create(){const e=this.scale.width,t=this.scale.height;this.scene.bringToTop(),this.hoverImg=null,this.currentPage=1,this.newPage=!0,this.timer=0,this.initTime=0,this.lag=0,this.crystals=this.physics.add.staticGroup(),this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1),this.prevPageButtonOff=this.add.image(650,625,"PrevPageButtonOff").setOrigin(.5).setScale(.7),this.nextPageButtonOff=this.add.image(750,625,"NextPageButtonOff").setOrigin(.5).setScale(.7),this.ExitBtn=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0}),this.ExitBtn.on("pointerover",()=>{this.hoverImg||(this.hoverImg=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(this.ExitBtn.depth+1))}),this.ExitBtn.on("pointerout",()=>{this.hoverImg&&(this.hoverImg.destroy(),this.hoverImg=null)}),this.ExitBtn.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()}),this.add.image(700,210,"TutorialText").setOrigin(.5).setScale(1)}update(e){0==this.initTime&&(this.initTime=e),this.timer=e-this.initTime+this.lag,this.lag=0,1==this.currentPage?1==this.newPage&&(this.keysImg=this.add.image(700,380,"keys").setOrigin(.5).setScale(1),this.niviaImg=this.add.image(515,580,"niviaIcon").setOrigin(.5).setScale(.75),this.solenneImg=this.add.image(885,580,"solenneIcon").setOrigin(.5).setScale(.75),this.nextPageBtn1=this.add.image(750,625,"NextPageButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0}),this.nextPageBtn1.on("pointerdown",()=>{this.keysImg.destroy(),this.niviaImg.destroy(),this.solenneImg.destroy(),this.nextPageBtn1.destroy(),this.hoverImg.destroy(),this.currentPage+=1,this.newPage=!0}),this.nextPageBtn1.on("pointerover",()=>{this.hoverImg||(this.hoverImg=this.add.image(750,625,"NextPageButton").setOrigin(.5).setScale(.75).setDepth(this.nextPageBtn1.depth+1))}),this.nextPageBtn1.on("pointerout",()=>{this.hoverImg&&(this.hoverImg.destroy(),this.hoverImg=null)}),this.newPage=!1):2==this.currentPage?(1==this.newPage&&(this.puertaClara=this.add.image(700,200,"puertaClara").setOrigin(.5).setScale(.6),this.puertaOscura=this.add.image(800,200,"puertaOscura").setOrigin(.5).setScale(.6),this.moonCrystal=this.crystals.create(600,380,"moondrop_sheet").setBodySize(32,32).setScale(.5),this.sunCrystal=this.crystals.create(815,465,"sundrop_sheet").setBodySize(32,32).setScale(.5),this.niviaImg=this.add.image(350,380,"niviaIcon").setOrigin(.5).setScale(.6),this.solenneImg=this.add.image(350,465,"solenneIcon").setOrigin(.5).setScale(.6),this.nextPageBtn2=this.add.image(750,625,"NextPageButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0}),this.nextPageBtn2.on("pointerdown",()=>{this.puertaClara&&this.puertaClara.destroy(),this.puertaOscura&&this.puertaOscura.destroy(),this.moonCrystal&&this.moonCrystal.destroy(),this.sunCrystal&&this.sunCrystal.destroy(),this.niviaImg&&this.niviaImg.destroy(),this.solenneImg&&this.solenneImg.destroy(),this.prevPageBtn2.destroy(),this.nextPageBtn2.destroy(),this.hoverImg.destroy(),this.prevPageButtonOff.destroy(),this.nextPageButtonOff.destroy(),this.currentPage+=1,this.newPage=!0}),this.nextPageBtn2.on("pointerover",()=>{this.hoverImg||(this.hoverImg=this.add.image(750,625,"NextPageButton").setOrigin(.5).setScale(.75).setDepth(this.nextPageBtn2.depth+1))}),this.nextPageBtn2.on("pointerout",()=>{this.hoverImg&&(this.hoverImg.destroy(),this.hoverImg=null)}),this.prevPageBtn2=this.add.image(650,625,"PrevPageButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0}),this.prevPageBtn2.on("pointerdown",()=>{this.puertaClara&&this.puertaClara.destroy(),this.puertaOscura&&this.puertaOscura.destroy(),this.moonCrystal&&this.moonCrystal.destroy(),this.sunCrystal&&this.sunCrystal.destroy(),this.niviaImg&&this.niviaImg.destroy(),this.solenneImg&&this.solenneImg.destroy(),this.prevPageBtn2.destroy(),this.nextPageBtn2.destroy(),this.hoverImg.destroy(),this.currentPage-=1,this.newPage=!0}),this.prevPageBtn2.on("pointerover",()=>{this.hoverImg||(this.hoverImg=this.add.image(650,625,"PrevPageButton").setOrigin(.5).setScale(.75).setDepth(this.prevPageBtn2.depth+1))}),this.prevPageBtn2.on("pointerout",()=>{this.hoverImg&&(this.hoverImg.destroy(),this.hoverImg=null)}),this.newPage=!1,this.initTime=e),this.timer<50&&this.add.tween({targets:this.niviaImg,ease:"Linear",duration:600,x:600}),this.timer>600&&this.timer<650&&(this.puertaOscura.destroy(),this.moonCrystal.destroy()),this.timer>1e3&&this.timer<1050&&this.add.tween({targets:this.solenneImg,ease:"Linear",duration:1e3,x:815}),this.timer>2e3&&this.timer<2050&&!this.puertaFinal&&(this.puertaFinal=this.add.image(1e3,420,"portalFinal").setOrigin(.5).setScale(.6),this.puertaClara.destroy(),this.sunCrystal.destroy(),this.lag=50),this.timer>2300&&this.timer<2350&&this.add.tween({targets:this.niviaImg,ease:"Linear",duration:1200,x:1e3}),this.timer>2900&&this.timer<2950&&this.add.tween({targets:this.solenneImg,ease:"Linear",duration:600,x:1e3}),this.timer>3900&&this.timer<3950&&(this.add.tween({targets:[this.solenneImg,this.niviaImg],ease:"Linear",duration:0,x:350}),this.initTime=e,this.puertaFinal.destroy(),this.puertaFinal=null,this.puertaClara=this.add.image(700,200,"puertaClara").setOrigin(.5).setScale(.6),this.puertaOscura=this.add.image(800,200,"puertaOscura").setOrigin(.5).setScale(.6),this.moonCrystal=this.crystals.create(600,380,"moondrop_sheet").setBodySize(32,32).setScale(.5),this.sunCrystal=this.crystals.create(815,465,"sundrop_sheet").setBodySize(32,32).setScale(.5))):3==this.currentPage?(1==this.newPage&&(this.trampaImg1=this.add.image(285,595,"trampa").setOrigin(.5).setScale(.3).setFlipY(!0),this.trampaImg2=this.add.image(1030,290,"trampa").setOrigin(.5).setScale(.3).setAngle(90),this.niviaImg=this.add.image(340,330,"niviaIcon").setOrigin(.5).setScale(.6),this.solenneImg=this.add.image(1060,615,"solenneIcon").setOrigin(.5).setScale(.6),this.prevPageBtn3=this.add.image(650,625,"PrevPageButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0}),this.prevPageBtn3.on("pointerdown",()=>{this.trampaImg1.destroy(),this.trampaImg2.destroy(),this.niviaImg.destroy(),this.solenneImg.destroy(),this.prevPageBtn3.destroy(),this.hoverImg.destroy(),this.currentPage-=1,this.newPage=!0}),this.prevPageBtn3.on("pointerover",()=>{this.hoverImg||(this.hoverImg=this.add.image(650,625,"PrevPageButton").setOrigin(.5).setScale(.75).setDepth(this.prevPageBtn3.depth+1))}),this.prevPageBtn3.on("pointerout",()=>{this.hoverImg&&(this.hoverImg.destroy(),this.hoverImg=null)}),this.nextPageBtn3=this.add.image(750,625,"NextPageButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0}),this.nextPageBtn3.on("pointerdown",()=>{this.trampaImg1.destroy(),this.trampaImg2.destroy(),this.niviaImg.destroy(),this.solenneImg.destroy(),this.prevPageBtn3.destroy(),this.hoverImg.destroy(),this.prevPageBtn3.destroy(),this.nextPageBtn3.destroy(),this.currentPage+=1,this.newPage=!0}),this.nextPageBtn3.on("pointerover",()=>{this.hoverImg||(this.hoverImg=this.add.image(750,625,"NextPageButton").setOrigin(.5).setScale(.75).setDepth(this.nextPageBtn3.depth+1))}),this.nextPageBtn3.on("pointerout",()=>{this.hoverImg&&(this.hoverImg.destroy(),this.hoverImg=null)}),this.newPage=!1,this.initTime=e),this.timer<150&&(this.add.tween({targets:this.niviaImg,ease:"Linear",duration:800,y:615}),this.add.tween({targets:this.solenneImg,ease:"Linear",duration:800,y:460,x:700})),this.timer>950&&this.timer<1e3&&(null!=this.solenneImg&&null!=this.niviaImg&&(this.solenneImg.destroy(),this.niviaImg.destroy(),this.niviaImg=null,this.solenneImg=null),this.niviaImg=this.add.image(340,330,"niviaIcon").setOrigin(.5).setScale(.6),this.solenneImg=this.add.image(1060,615,"solenneIcon").setOrigin(.5).setScale(.6),this.lag=50),this.timer>1400&&this.timer<1450&&(this.add.tween({targets:this.niviaImg,ease:"Linear",duration:800,y:526,x:634}),this.add.tween({targets:this.solenneImg,ease:"Linear",duration:800,y:340})),this.timer>2250&&this.timer<2300&&(null!=this.solenneImg&&null!=this.niviaImg&&(this.solenneImg.destroy(),this.niviaImg.destroy(),this.niviaImg=null,this.solenneImg=null),this.niviaImg=this.add.image(340,330,"niviaIcon").setOrigin(.5).setScale(.6),this.solenneImg=this.add.image(1060,615,"solenneIcon").setOrigin(.5).setScale(.6)),this.timer>3e3&&this.timer<3200&&(this.initTime=e)):4==this.currentPage&&1==this.newPage&&(this.imageTutorial=this.add.image(700,400,"imageTutorial").setOrigin(.5).setScale(.7),this.ExitBtn.setDepth(this.imageTutorial.depth+1))}}class r extends e.Scene{constructor(){super("CreditsScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("CreditsText","assets/texto_creditos.PNG"),this.load.image("MembersText","assets/nombres.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1);const i=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.stop(),this.scene.resume(this.scene.settings.data.originalScene)}),this.add.image(700,210,"CreditsText").setOrigin(.5).setScale(1),this.add.image(710,460,"MembersText").setOrigin(.5).setScale(.65)}}class l extends e.Scene{constructor(){super("SettingsScene")}preload(){this.load.image("settingsBox","assets/caja.png"),this.load.image("PlusVolumeButton","assets/mas.png"),this.load.image("PlusVolumeButtonHover","assets/masHover.png"),this.load.image("MinusVolumeButton","assets/menos.png"),this.load.image("MinusVolumeButtonHover","assets/menosHover.png"),this.load.image("VolumeBarOff","assets/boton_oscuro.png"),this.load.image("VolumeBarOn","assets/boton_claro.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("SettingsText","assets/texto_ajustes.png")}create(){const e=this.scale.width,t=this.scale.height;let s,i,a,n,o,r=100*this.sound.volume,l=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"settingsBox").setOrigin(.5).setScale(1),this.add.image(700,210,"SettingsText").setOrigin(.5).setScale(1),this.add.image(433,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(566,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(700,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(833,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(966,500,"VolumeBarOff").setOrigin(.5).setScale(1),s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1),s.destroy(),i.destroy(),a.destroy(),n.destroy(),o.destroy(),0==r&&null!=s?s.destroy():r<=20?s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1):r<=40?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=60?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=80?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1)):100==r&&(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1));const h=this.add.image(1069,500,"PlusVolumeButton").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0});h.on("pointerover",()=>{l||(l=this.add.image(1069,500,"PlusVolumeButtonHover").setOrigin(.5).setScale(.4).setDepth(h.depth+1))}),h.on("pointerout",()=>{l&&(l.destroy(),l=null)}),h.on("pointerdown",()=>{r+=20,r>100?r=100:r<0&&(r=0),this.sound.setVolume(r/100),s.destroy(),i.destroy(),a.destroy(),n.destroy(),o.destroy(),0==r&&null!=s?s.destroy():r<=20?s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1):r<=40?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=60?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=80?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1)):100==r&&(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1))});const d=this.add.image(330,500,"MinusVolumeButton").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0});d.on("pointerover",()=>{l||(l=this.add.image(335,500,"MinusVolumeButtonHover").setOrigin(.5).setScale(.4))}),d.on("pointerout",()=>{l&&(l.destroy(),l=null)}),d.on("pointerdown",()=>{r-=20,r>100?r=100:r<0&&(r=0),this.sound.setVolume(r/100),s.destroy(),i.destroy(),a.destroy(),n.destroy(),o.destroy(),0==r&&null!=s?s.destroy():r<=20?s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1):r<=40?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=60?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=80?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1)):100==r&&(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1))});const c=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});c.on("pointerover",()=>{l||(l=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(c.depth+1))}),c.on("pointerout",()=>{l&&(l.destroy(),l=null)}),c.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()})}}class h extends e.Scene{constructor(){super("LevelSelectScene")}preload(){this.load.image("LevelBox","assets/caja.png"),this.load.image("LevelsText","assets/texto_niveles.png"),this.load.image("Level1Button","assets/nivel1.png"),this.load.image("Level1ButtonHover","assets/nivel1Hover.png"),this.load.image("Level2Button","assets/Nivel2.png"),this.load.image("Level2ButtonHover","assets/Nivel2Hover.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"LevelBox").setOrigin(.5).setScale(1),this.add.image(700,210,"LevelsText").setOrigin(.5).setScale(1);const i=this.add.image(510,500,"Level1Button").setOrigin(.5).setScale(1).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(520,505,"Level1ButtonHover").setOrigin(.5).setScale(1).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.stop("MenuScene"),this.scene.stop(),this.scene.start("GameLocalScene")});const a=this.add.image(880,500,"Level2Button").setOrigin(.5).setScale(1).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(880,500,"Level2ButtonHover").setOrigin(.5).setScale(1.05).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.stop("MenuScene"),this.scene.stop(),this.scene.start("Level2SceneLocal")});const n=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()})}}class d extends e.Scene{constructor(){super("PlaceHolderScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("ExitButton","assets/salir.png"),this.load.image("ExitButtonHover","assets/salirHover.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1);const i=this.add.image(700,670,"ExitButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(700,670,"ExitButtonHover").setOrigin(.5).setScale(.75).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.start("MenuScene")}),this.add.text(700,180,"Nada que ver aqui",{fontSize:"48px",fill:"#d4eaf1ff"}).setOrigin(.5)}}class c extends e.Scene{constructor(){super("VictoryScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("VictoryText","assets/texto_victoria.png"),this.load.image("NextLevelButton","assets/siguienteNivel.png"),this.load.image("NextLevelButtonHover","assets/siguienteNivelHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("RetMenuButton","assets/menu.PNG"),this.load.image("RetMenuButtonHover","assets/menuHover.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1),this.add.image(700,210,"VictoryText").setOrigin(.5).setScale(1);const i=this.add.image(700,320,"NextLevelButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(700,325,"NextLevelButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;console.log("Original scene being removed:",e),this.scene.stop(e),this.scene.stop(),this.scene.start("Level2Scene")});const a=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start(e)});const n=this.add.image(700,515,"RetMenuButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(698,515,"RetMenuButtonHover").setOrigin(.5).setScale(.7).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{const e=this.game.scene.keys;for(let t in e)"MenuScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("MenuScene")})}}class g extends e.Scene{constructor(){super("GameOverScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("GameOverText","assets/texto_derrota.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("RetMenuButton","assets/menu.PNG"),this.load.image("RetMenuButtonHover","assets/menuHover.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1),this.add.image(700,240,"GameOverText").setOrigin(.5).setScale(1);const i=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.stop(),this.scene.start(e)});const a=this.add.image(700,515,"RetMenuButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(698,515,"RetMenuButtonHover").setOrigin(.5).setScale(.7).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{const e=this.game.scene.keys;for(let t in e)"MenuScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("MenuScene")})}}class u extends e.Scene{constructor(){super("Level2Scene")}init(){this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=0,this.solenneHasSunCrystal=0,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo1","assets/Escenario/Nivel2/fondo_arriba.png"),this.load.image("plataformas1","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("plataformasNivel2","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal1","assets/Escenario/Nivel2/portal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage1","assets/trampas/trampas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){const t=1420,s=800;let i=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.2}),this.physics.add.staticSprite(0,0,"fondo1").setOrigin(0,0).setDisplaySize(t,s),this.physics.add.staticSprite(0,0,"plataformas1").setOrigin(0,0).setDisplaySize(t,s),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,s,t,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(750,550,160,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1250,425,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(525,325,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,225,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(715,425,80,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.portalSprite=this.physics.add.staticSprite(710,400,"portal1").setScale(.75),this.portalSprite.setVisible(!1),this.exitPortal=this.add.rectangle(200,200,200,200).setScale(.75),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(710,400,"puertaOscura1Nivel2").setScale(.75),this.darkDoor2=this.physics.add.staticSprite(710,400,"puertaOscura2Nivel2").setScale(.75),this.lightDoor1=this.physics.add.staticSprite(710,400,"puertaClara1Nivel2").setScale(.75),this.lightDoor2=this.physics.add.staticSprite(710,400,"puertaClara2Nivel2").setScale(.75),this.lightDoor3=this.physics.add.staticSprite(710,400,"puertaClara3Nivel2").setScale(.75),this.darkDoor1Hitbox=this.add.rectangle(325,700,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.darkDoor2Hitbox=this.add.rectangle(500,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor2Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(700,100,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.lightDoor2Hitbox=this.add.rectangle(750,700,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor2Hitbox,!0),this.lightDoor3Hitbox=this.add.rectangle(925,500,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor3Hitbox),this.lightDoor3Hitbox.body.setImmovable(!0).setAllowGravity(!1),this.lightDoor3Hitbox.setAngle(135),this.doors={darkDoor1:{sprite:this.darkDoor1,hitbox:this.darkDoor1Hitbox},darkDoor2:{sprite:this.darkDoor2,hitbox:this.darkDoor2Hitbox},lightDoor1:{sprite:this.lightDoor1,hitbox:this.lightDoor1Hitbox},lightDoor2:{sprite:this.lightDoor3,hitbox:this.lightDoor2Hitbox},lightDoor3:{sprite:this.lightDoor2,hitbox:this.lightDoor3Hitbox}},this.damageGroup=this.physics.add.staticGroup(),this.trampa=this.physics.add.staticSprite(710,400,"damage1").setScale(.75),this.damage1=this.add.rectangle(1350,100,200,100,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage1,!0),this.damage2=this.add.rectangle(100,530,100,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage2,!0),this.damage3=this.add.rectangle(125,800,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage3,!0),this.damage4=this.add.rectangle(600,300,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage4,!0),this.damageGroup.add(this.damage1),this.damageGroup.add(this.damage2),this.damageGroup.add(this.damage3),this.damageGroup.add(this.damage4),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.nivia,this.lightDoor2Hitbox),this.physics.add.collider(this.nivia,this.lightDoor3Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor2Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1300,300,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor1"),this.moonCrystal2=this.crystals.create(550,200,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor2"),this.sunCrystal=this.crystals.create(550,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor3"),this.sunCrystal2=this.crystals.create(200,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor1"),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.physics.add.overlap(this.nivia,this.moonCrystal2,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal2,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,t,s),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)});const a=()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()};this.physics.add.overlap(this.nivia,this.damageGroup,a),this.physics.add.overlap(this.solenne,this.damageGroup,a)}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(1200,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls),this.exitPortal.visible&&this.checkLevelComplete(this.exitPortal)}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal+=1,2==this.niviaHasMoonCrystal&&this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDoor(t.getData("doorKey"))}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal+=1,2==this.solenneHasSunCrystal&&this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockDoor(t.getData("doorKey"))}unlockDoor(e){const t=this.doors[e];t.hitbox.body.enable=!1,t.hitbox.setVisible(!1),t.sprite.setVisible(!1),this.checkPortalSpawn()}checkPortalSpawn(){2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.portalSprite.setVisible(!0),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(e,t){this.niviaOnPortal&&this.solenneOnPortal&&2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.scene.launch("VictoryScene",{originalScene:this.scene.key}),this.scene.pause())}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}}class p extends e.Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckTimer=null,this.connectionListener=null,this.isChecking=!1}init(e){this.previousScene=e?.previousScene}create(){this.add.rectangle(400,300,800,600,0,.8),this.add.text(400,200,"CONEXIÃ“N PERDIDA",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,loop:!0,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)}}),this.connectionListener=e=>{e.connected&&this.onReconnected()},t.addListener(this.connectionListener),this.reconnectCheckTimer=this.time.addEvent({delay:2e3,loop:!0,callback:this.attemptReconnect,callbackScope:this}),this.attemptReconnect()}async attemptReconnect(){if(!this.isChecking){this.isChecking=!0,this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`);try{await t.checkConnection()}finally{this.isChecking=!1}}}onReconnected(){this.reconnectCheckTimer&&(this.reconnectCheckTimer.remove(),this.reconnectCheckTimer=null),this.connectionListener&&(t.removeListener(this.connectionListener),this.connectionListener=null),this.statusText.setText("Â¡ConexiÃ³n restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{if(this.previousScene){const e=this.scene.get(this.previousScene);e&&e.connectionListener&&t.addListener(e.connectionListener),this.scene.resume(this.previousScene)}this.scene.stop()})}shutdown(){this.reconnectCheckTimer&&this.reconnectCheckTimer.remove(),this.connectionListener&&t.removeListener(this.connectionListener)}}class m extends e.Scene{constructor(){super("GameModeScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("ExitButton","assets/salir.png"),this.load.image("ExitButtonHover","assets/salirHover.png"),this.load.image("LocalButton","assets/jugarLocal.png"),this.load.image("LocalButtonHover","assets/jugarLocalHover.png"),this.load.image("OnlineButton","assets/jugarOnline.png"),this.load.image("OnlineButtonHover","assets/jugarOnlineHover.png"),this.load.image("GameModeText","assets/texto_modoDeJuego.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1);const i=this.add.image(700,570,"ExitButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(700,570,"ExitButtonHover").setOrigin(.5).setScale(.75).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.start("MenuScene")}),this.add.image(700,210,"GameModeText").setOrigin(.5).setScale(1);const a=this.add.image(500,340,"LocalButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(500,340,"LocalButtonHover").setOrigin(.5).setScale(.75).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.launch("LevelSelectScene"),this.scene.stop()});const n=this.add.image(900,340,"OnlineButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(900,340,"OnlineButtonHover").setOrigin(.5).setScale(.75).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{this.scene.start("AuthScene",{destination:"LobbyScene"})})}}class y extends e.Scene{constructor(){super("LobbyScene")}preload(){this.load.image("CancelButton","assets/cancelar.png"),this.load.image("CancelButtonHover","assets/cancelarHover.png"),this.load.image("MultiplayerText","assets/texto_multijugador.png")}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,110,"MultiplayerText").setOrigin(.5).setScale(1);const s=localStorage.getItem("username");s&&this.add.text(e/2,250,`Jugador: ${s}`,{fontSize:"20px",color:"#a1dba1",fontFamily:"Caudex",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(e/2,t/2-50,"Conectando al servidor...",{fontSize:"28px",color:"#ffff00",fontFamily:"Caudex"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontSize:"22px",color:"#00ff00",fontFamily:"Caudex"}).setOrigin(.5),this.loadingDots="",this.time.addEvent({delay:500,callback:()=>{this.scene.isActive("LobbyScene")&&(this.loadingDots=this.loadingDots.length>=3?"":this.loadingDots+".",this.statusText.text.includes("Esperando")&&this.statusText.setText(`Esperando oponente${this.loadingDots}`))},loop:!0});const i=this.add.image(e/2,t-100,"CancelButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{hoverImg||(hoverImg=this.add.image(1068,170,"CancelButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{hoverImg&&(hoverImg.destroy(),hoverImg=null)}),i.on("pointerdown",()=>{this.leaveQueue()}),this.connectToServer()}async connectToServer(){try{await i.connect(),this.statusText.setText("Esperando oponente"),this.statusText.setColor("#00ff00"),this.statusText.setFontFamily("Caudex"),this.queueStatusHandler=this.handleQueueStatus.bind(this),this.gameStartHandler=this.handleGameStart.bind(this),this.connectionLostHandler=this.handleConnectionLost.bind(this),i.on("queueStatus",this.queueStatusHandler),i.on("gameStart",this.gameStartHandler),i.on("connectionLost",this.connectionLostHandler),i.joinQueue()}catch(e){console.error("âŒ Error conectando al servidor:",e),this.statusText.setText("Error de conexiÃ³n"),this.statusText.setColor("#ff0000"),this.statusText.setFontFamily("Caudex");const t=this.add.text(this.cameras.main.width/2,this.cameras.main.height/2+100,"ðŸ”„ Reintentar",{fontSize:"24px",color:"#ffffff",backgroundColor:"#4444ff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0});t.on("pointerdown",()=>{t.destroy(),this.connectToServer()})}}handleQueueStatus(e){this.playerCountText.setText(`Jugadores en cola: ${e.position}/2`)}handleGameStart(e){console.log("ðŸŽ® Â¡Partida encontrada!",e),i.setPlayerRole(e.role),this.statusText.setText("Â¡Partida encontrada!"),this.statusText.setColor("#00ff00"),this.playerCountText.setText("Iniciando juego..."),this.statusText.setFontFamily("Caudex"),this.playerCountText.setFontFamily("Caudex"),this.time.delayedCall(1e3,()=>{this.scene.start("GameScene",{isMultiplayer:!0,playerRole:e.role,roomId:e.roomId})})}handleConnectionLost(){console.log("âŒ ConexiÃ³n perdida en Lobby"),this.statusText.setText("ConexiÃ³n perdida"),this.statusText.setColor("#ff0000"),this.playerCountText.setText(""),this.statusText.setFontFamily("Caudex"),this.playerCountText.setFontFamily("Caudex"),this.time.delayedCall(2e3,()=>{this.leaveQueue()})}leaveQueue(){this.queueStatusHandler&&i.off("queueStatus",this.queueStatusHandler),this.gameStartHandler&&i.off("gameStart",this.gameStartHandler),this.connectionLostHandler&&i.off("connectionLost",this.connectionLostHandler),i.leaveQueue(),i.disconnect(),this.scene.start("MenuScene")}shutdown(){this.leaveQueue()}}class v extends e.Scene{constructor(){super("RankingScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("RankingText","assets/texto_ranking.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1),this.add.image(700,210,"RankingText").setOrigin(.5).setScale(1),this.fetchRanking();const i=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.stop(),this.scene.resume(this.scene.settings.data.originalScene)})}async fetchRanking(){try{const e=await fetch("/api/users/ranking"),t=await e.json(),s=this.scale.width;t.forEach((e,t)=>{const i=270+50*t,a=t<3?"#ffc875ff":"#ffffff";this.add.text(.3*s,i,`${t+1}. ${e.username}`,{fontSize:"32px",fill:a,fontFamily:"Caudex"}),this.add.text(.7*s,i,`${e.bestTime}s`,{fontSize:"32px",fill:a,fontFamily:"Caudex"}).setOrigin(1,0)})}catch(e){console.error("Error al obtener ranking:",e),this.add.text(this.scale.width/2,300,"Error al conectar con el bosque...",{fontSize:"24px",fill:"#ff0000"}).setOrigin(.5)}}}class S extends e.Scene{constructor(){super("GameLocalScene")}init(){this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=!1,this.solenneHasSunCrystal=!1,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo","assets/Escenario/Nivel1/fondo_abajo.png"),this.load.image("plataformas","assets/Escenario/Nivel1/plataformas_abajo.png"),this.load.image("puertaClaraNivel1","assets/Escenario/Nivel1/puerta_clara.png"),this.load.image("puertaOscuraNivel1","assets/Escenario/Nivel1/puerta_oscura.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonClaroNivel1","assets/Escenario/Nivel1/boton_claro.png"),this.load.image("botonOscuro1Nivel1","assets/Escenario/Nivel1/boton_oscuro.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal","assets/trampas/puertaFinal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage","assets/trampas/lianas_plataformas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){const t=1420,s=800;let i=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.1}),this.physics.add.staticSprite(0,0,"fondo").setOrigin(0,0).setDisplaySize(t,s),this.physics.add.staticSprite(0,0,"plataformas").setOrigin(0,0).setDisplaySize(t,s),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,s,t,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,480,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(575,480,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1e3,550,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(300,150,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,275,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(400,50,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.pared2=this.add.rectangle(900,700,200,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared2,!0),this.exitPortal=this.physics.add.staticSprite(1e3,10,"portal").setScale(1),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(700,400,"puertaOscuraNivel1").setScale(.7),this.lightDoor1=this.physics.add.staticSprite(750,400,"puertaClaraNivel1").setScale(.7),this.darkDoor1Hitbox=this.add.rectangle(250,375,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(920,400,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.trampa=this.physics.add.staticSprite(450,150,"damage").setScale(.5),this.damage=this.add.rectangle(480,100,100,60,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage,!0),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.pared2),this.physics.add.collider(this.solenne,this.pared2),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1100,400,"moondrop_sheet").setBodySize(32,32).setScale(.5),this.sunCrystal=this.crystals.create(100,100,"sundrop_sheet").setBodySize(32,32).setScale(.5),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,t,s),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)}),this.physics.add.overlap(this.nivia,this.damage,()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()}),this.physics.add.overlap(this.solenne,this.damage,()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()})}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(100,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls),this.handleCameraAndConstraints(),this.exitPortal.visible&&this.checkLevelComplete(this.exitPortal)}handleCameraAndConstraints(){const t=this.nivia.y,s=this.solenne.y;let i=(t+s)/2;const a=this.cameras.main.height;this.cameras.main.scrollY=e.Math.Linear(this.cameras.main.scrollY,i-a/2,.05);const n=.7*a;if(Math.abs(t-s)>n){const e=t<s?this.nivia:this.solenne,i=t<s?this.solenne:this.nivia;(i.body.blocked.down||i.y>e.y+n)&&(e.body.velocity.y<0&&(e.body.velocity.y=0),console.log("Movimiento vertical restringido por el jugador rezagado."))}}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal=!0,this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDarkDoor()}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal=!0,this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockLightDoor()}unlockDarkDoor(){this.darkDoor1Hitbox.body.enable=!1,this.darkDoor1Hitbox.setVisible(!1),this.darkDoor1.setVisible(!1),console.log("Puerta Oscura desbloqueada"),this.checkPortalSpawn()}unlockLightDoor(){this.lightDoor1Hitbox.body.enable=!1,this.lightDoor1Hitbox.setVisible(!1),this.lightDoor1.setVisible(!1),console.log("Puerta Clara desbloqueada"),this.checkPortalSpawn()}checkPortalSpawn(){this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&(console.log("Ambos cristales recogidos. El portal aparece."),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(e,t){this.niviaOnPortal&&this.solenneOnPortal&&this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&this.scene.launch("VictoryScene",{originalScene:this.scene.key})}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}}class f extends e.Scene{constructor(){super("Level2SceneLocal")}init(){this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=0,this.solenneHasSunCrystal=0,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo1","assets/Escenario/Nivel2/fondo_arriba.png"),this.load.image("plataformas1","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("plataformasNivel2","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal1","assets/Escenario/Nivel2/portal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage1","assets/trampas/trampas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){const t=1420,s=800;let i=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.2}),this.physics.add.staticSprite(0,0,"fondo1").setOrigin(0,0).setDisplaySize(t,s),this.physics.add.staticSprite(0,0,"plataformas1").setOrigin(0,0).setDisplaySize(t,s),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,s,t,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(750,550,160,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1250,425,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(525,325,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,225,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(715,425,80,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.portalSprite=this.physics.add.staticSprite(710,400,"portal1").setScale(.75),this.portalSprite.setVisible(!1),this.exitPortal=this.add.rectangle(200,200,200,200).setScale(.75),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(710,400,"puertaOscura1Nivel2").setScale(.75),this.darkDoor2=this.physics.add.staticSprite(710,400,"puertaOscura2Nivel2").setScale(.75),this.lightDoor1=this.physics.add.staticSprite(710,400,"puertaClara1Nivel2").setScale(.75),this.lightDoor2=this.physics.add.staticSprite(710,400,"puertaClara2Nivel2").setScale(.75),this.lightDoor3=this.physics.add.staticSprite(710,400,"puertaClara3Nivel2").setScale(.75),this.darkDoor1Hitbox=this.add.rectangle(325,700,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.darkDoor2Hitbox=this.add.rectangle(500,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor2Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(700,100,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.lightDoor2Hitbox=this.add.rectangle(750,700,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor2Hitbox,!0),this.lightDoor3Hitbox=this.add.rectangle(925,500,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor3Hitbox),this.lightDoor3Hitbox.body.setImmovable(!0).setAllowGravity(!1),this.lightDoor3Hitbox.setAngle(135),this.doors={darkDoor1:{sprite:this.darkDoor1,hitbox:this.darkDoor1Hitbox},darkDoor2:{sprite:this.darkDoor2,hitbox:this.darkDoor2Hitbox},lightDoor1:{sprite:this.lightDoor1,hitbox:this.lightDoor1Hitbox},lightDoor2:{sprite:this.lightDoor3,hitbox:this.lightDoor2Hitbox},lightDoor3:{sprite:this.lightDoor2,hitbox:this.lightDoor3Hitbox}},this.damageGroup=this.physics.add.staticGroup(),this.trampa=this.physics.add.staticSprite(710,400,"damage1").setScale(.75),this.damage1=this.add.rectangle(1350,100,200,100,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage1,!0),this.damage2=this.add.rectangle(100,530,100,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage2,!0),this.damage3=this.add.rectangle(125,800,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage3,!0),this.damage4=this.add.rectangle(600,300,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage4,!0),this.damageGroup.add(this.damage1),this.damageGroup.add(this.damage2),this.damageGroup.add(this.damage3),this.damageGroup.add(this.damage4),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.nivia,this.lightDoor2Hitbox),this.physics.add.collider(this.nivia,this.lightDoor3Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor2Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1300,300,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor1"),this.moonCrystal2=this.crystals.create(550,200,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor2"),this.sunCrystal=this.crystals.create(550,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor3"),this.sunCrystal2=this.crystals.create(200,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor1"),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.physics.add.overlap(this.nivia,this.moonCrystal2,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal2,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,t,s),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)});const a=()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()};this.physics.add.overlap(this.nivia,this.damageGroup,a),this.physics.add.overlap(this.solenne,this.damageGroup,a)}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(1200,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls),this.exitPortal.visible&&this.checkLevelComplete(this.exitPortal)}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal+=1,2==this.niviaHasMoonCrystal&&this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDoor(t.getData("doorKey"))}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal+=1,2==this.solenneHasSunCrystal&&this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockDoor(t.getData("doorKey"))}unlockDoor(e){const t=this.doors[e];t.hitbox.body.enable=!1,t.hitbox.setVisible(!1),t.sprite.setVisible(!1),this.checkPortalSpawn()}checkPortalSpawn(){2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.portalSprite.setVisible(!0),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(e,t){this.niviaOnPortal&&this.solenneOnPortal&&2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.scene.launch("VictoryScene",{originalScene:this.scene.key}),this.scene.pause())}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}}class x extends e.Scene{constructor(){super("AuthScene")}init(e){this.destination=e.destination||"LobbyScene"}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("ExitButton","assets/cancelar.png"),this.load.image("ExitButtonHover","assets/cancelarHover.png"),this.load.image("LoginButton","assets/entrar.png"),this.load.image("LoginButtonHover","assets/entrarHover.png"),this.load.image("RegisterButton","assets/registro.png"),this.load.image("RegisterButtonHover","assets/registroHover.png")}create(){const e=this.scale.width,t=this.scale.height;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1),this.add.text(700,180,"INICIAR SESIÃ“N",{fontSize:"42px",color:"#ffffff",fontFamily:"Caudex",fontStyle:"bold"}).setOrigin(.5),this.add.text(400,250,"Usuario:",{fontSize:"22px",color:"#ffffff",fontFamily:"Caudex"}),this.usernameInput=this.createHTMLInput(550,240,300,"text"),this.add.text(400,315,"ContraseÃ±a:",{fontSize:"22px",color:"#ffffff",fontFamily:"Caudex"}),this.passwordInput=this.createHTMLInput(550,305,300,"password"),this.messageText=this.add.text(700,380,"",{fontSize:"18px",color:"#ff0000",fontFamily:"Caudex",align:"center",wordWrap:{width:400}}).setOrigin(.5);let s=null;const i=this.add.image(550,480,"LoginButton").setOrigin(.5).setScale(.6).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(550,480,"LoginButtonHover").setOrigin(.5).setScale(.6).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.handleLogin()});const a=this.add.image(850,480,"RegisterButton").setOrigin(.5).setScale(.6).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(850,480,"RegisterButtonHover").setOrigin(.5).setScale(.6).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.handleRegister()});const n=this.add.image(700,570,"ExitButton").setOrigin(.5).setScale(.6).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(700,570,"ExitButtonHover").setOrigin(.5).setScale(.6).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{this.cleanupInputs(),this.scene.start("MenuScene")}),this.input.keyboard.on("keydown-ENTER",()=>{this.handleLogin()})}createHTMLInput(e,t,s,i="text"){const a=document.createElement("input");a.type=i,a.style.position="absolute",a.style.width=`${s}px`,a.style.height="35px",a.style.fontSize="18px",a.style.fontFamily="Caudex",a.style.padding="5px 10px",a.style.border="2px solid #ffffff",a.style.borderRadius="5px",a.style.backgroundColor="#1a1a2e",a.style.color="#ffffff",a.style.outline="none",a.style.zIndex="1000";const n=this.game.canvas.getBoundingClientRect();return a.style.left=`${n.left+e}px`,a.style.top=`${n.top+t}px`,document.body.appendChild(a),a}async handleLogin(){const e=this.usernameInput.value.trim(),t=this.passwordInput.value;if(e&&t){this.showMessage("Iniciando sesiÃ³n...","info");try{const s=await fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),i=await s.json();s.ok?(console.log("âœ… Login exitoso:",i),localStorage.setItem("userId",i.id),localStorage.setItem("username",i.username),this.showMessage("Â¡Bienvenido "+i.username+"!","success"),this.time.delayedCall(1e3,()=>{this.cleanupInputs(),this.scene.start(this.destination)})):this.showMessage(i.error||"Usuario o contraseÃ±a incorrectos","error")}catch(e){console.error("Error en login:",e),this.showMessage("Error de conexiÃ³n. IntÃ©ntalo de nuevo.","error")}}else this.showMessage("Por favor completa todos los campos","error")}async handleRegister(){const e=this.usernameInput.value.trim(),t=this.passwordInput.value;if(e&&t)if(e.length<3)this.showMessage("El usuario debe tener al menos 3 caracteres","error");else if(t.length<4)this.showMessage("La contraseÃ±a debe tener al menos 4 caracteres","error");else{this.showMessage("Creando cuenta...","info");try{const s=await fetch("/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),i=await s.json();s.ok?(console.log("âœ… Registro exitoso:",i),localStorage.setItem("userId",i.id),localStorage.setItem("username",i.username),this.showMessage("Â¡Cuenta creada! Bienvenido "+i.username,"success"),this.time.delayedCall(1500,()=>{this.cleanupInputs(),this.scene.start(this.destination)})):this.showMessage(i.error||"No se pudo crear la cuenta","error")}catch(e){console.error("Error en registro:",e),this.showMessage("Error de conexiÃ³n. IntÃ©ntalo de nuevo.","error")}}else this.showMessage("Por favor completa todos los campos","error")}showMessage(e,t="info"){const s={error:"#ff4444",success:"#44ff44",info:"#ffff44"};this.messageText.setText(e),this.messageText.setColor(s[t]||s.info)}cleanupInputs(){this.usernameInput&&this.usernameInput.parentNode&&this.usernameInput.parentNode.removeChild(this.usernameInput),this.passwordInput&&this.passwordInput.parentNode&&this.passwordInput.parentNode.removeChild(this.passwordInput)}shutdown(){this.cleanupInputs(),this.input.keyboard.off("keydown-ENTER")}}const O={type:e.AUTO,width:1420,height:800,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[s,x,a,S,u,f,o,r,n,l,h,d,c,g,y,p,m,v],backgroundColor:"#021410ff"};document.fonts.ready.then(()=>{new e.Game(O)})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUttTixRQUMzQ25OLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUttTixRQUM3Q25OLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUtzTixhQUMzQ3ROLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUtzTixhQUM3Q3ROLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUt1TixhQUMzQ3ZOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUt1TixhQUM3Q3ZOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUt3TixhQUMzQ3hOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUt3TixhQUM3Q3hOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUt5TixhQUMzQ3pOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUt5TixhQUM3Q3pOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUswTixhQUMzQzFOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUswTixhQUM3QzFOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUsyTixRQUMzQzNOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUsyTixRQUM3QzNOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLdU8sTUFBT3ZPLEtBQUs0TixRQUMzQzVOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFLd08sUUFBU3hPLEtBQUs0TixRQUM3QzVOLEtBQUt3TSxRQUFRMUksSUFBSXdLLFNBQVN0TyxLQUFL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WCxFQUFPQyxLQUNyRCxDQUtBLGFBQUFwQixHQUNRcGUsS0FBSzJkLGVBQWlCM2QsS0FBSzJkLGNBQWM4QixZQUN6Q3pmLEtBQUsyZCxjQUFjOEIsV0FBV0MsWUFBWTFmLEtBQUsyZCxlQUUvQzNkLEtBQUs2ZCxlQUFpQjdkLEtBQUs2ZCxjQUFjNEIsWUFDekN6ZixLQUFLNmQsY0FBYzRCLFdBQVdDLFlBQVkxZixLQUFLNmQsY0FFdkQsQ0FFQSxRQUFBdlgsR0FDSXRHLEtBQUtvZSxnQkFDTHBlLEtBQUtpUSxNQUFNQyxTQUFTaEksSUFBSSxnQkFDNUIsRUNoVUosTUFBTXlYLEVBQVMsQ0FDWDdYLEtBQU0sT0FDTjVELE1BQU8sS0FDUEMsT0FBUSxJQUNSeWIsT0FBUSxpQkFDUnBULFFBQVMsQ0FDTHFULFFBQVMsU0FDVEMsT0FBUSxDQUNKN1MsUUFBUyxDQUFFcEUsRUFBRyxHQUNka1gsT0FBTyxJQUlmbGIsTUFBTyxDQUFFNUIsRUFBV3lhLEVBQVcvVCxFQUFXNlQsRUFBZ0JwRSxFQUFhcUUsRUFBa0JuSCxFQUFlNkIsRUFBZXhDLEVBQVl5QyxFQUFlUyxFQUFrQkcsRUFBa0JDLEVBQWNFLEVBQWU2QyxFQUFZbEIsRUFBcUJlLEVBQWVzQixHQUNuUWhTLGdCQUFpQixhQUdyQmtULFNBQVMyQixNQUFNQyxNQUFNQyxLQUFLLEtBQ1gsSUFBSSxPQUFZUCxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWNsaXBzYS9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvTWVudVNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NlcnZpY2VzL1dlYlNvY2tldFNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvUGF1c2VTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvVHV0b3JpYWxTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvQ3JlZGl0c1NjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9TZXR0aW5nc1NjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9MZXZlbFNlbGVjdFNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9QbGFjZUhvbGRlclNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9WaWN0b3J5U2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVPdmVyU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL0xldmVsMlNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9Db25uZWN0aW9uTG9zdFNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lTW9kZVNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9Mb2JieVNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9SYW5raW5nU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVMb2NhbFNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9MZXZlbDJTY2VuZUxvY2FsLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9BdXRoU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsIi8qKlxyXG4gKiBTZXJ2aWNpbyBwYXJhIGdlc3Rpb25hciBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIE1hbmVqYSBlbCBwb2xsaW5nIGFsIGVuZHBvaW50IC9hcGkvY29ubmVjdGVkIHkgZGV0ZWN0YSBww6lyZGlkYXMgZGUgY29uZXhpw7NuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbk1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSAwO1xyXG4gICAgdGhpcy5jaGVja0ludGVydmFsID0gMjAwMDsgLy8gQ29tcHJvYmFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpO1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmFyIHVuIElEIMO6bmljbyBkZSBzZXNpw7NuIHBhcmEgZXN0ZSBjbGllbnRlXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZW5lcmF0ZVNlc3Npb25JZCgpIHtcclxuICAgIHJldHVybiBgc2Vzc2lvbl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wcm9iYXIgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtjb25uZWN0ZWQ6IG51bWJlciwgc3VjY2VzczogYm9vbGVhbn0+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGNoZWNrQ29ubmVjdGlvbigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY29ubmVjdGVkJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWRcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IGRhdGEuY29ubmVjdGVkO1xyXG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubGFzdENoZWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmaWNhciBhIGxvcyBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogdHJ1ZSwgY291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogdGhpcy5jb25uZWN0ZWRDb3VudCwgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgY29ubmVjdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYW5lamFyIGRlc2NvbmV4acOzblxyXG4gICAqL1xyXG4gIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcclxuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiBmYWxzZSwgY291bnQ6IDAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYXIgdW4gbGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gcXVlIHNlIGxsYW1hcsOhIGN1YW5kbyBjYW1iaWUgZWwgZXN0YWRvXHJcbiAgICovXHJcbiAgYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRWxpbWluYXIgdW4gbGlzdGVuZXJcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIGEgZWxpbWluYXJcclxuICAgKi9cclxuICByZW1vdmVMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOb3RpZmljYXIgYSB0b2RvcyBsb3MgbGlzdGVuZXJzXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBEYXRvcyBkZWwgZXN0YWRvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIG5vdGlmeUxpc3RlbmVycyhkYXRhKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGRhdGEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbCBkZSBjb25leGnDs25cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGdldFN0YXR1cygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmlzQ29ubmVjdGVkLFxyXG4gICAgICBjb25uZWN0ZWRDb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCxcclxuICAgICAgbGFzdENoZWNrVGltZTogdGhpcy5sYXN0Q2hlY2tUaW1lXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIHN0YXJ0UG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgcmV0dXJuOyAvLyBZYSBlc3TDoSBjb3JyaWVuZG9cclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcm9iYXIgaW5tZWRpYXRhbWVudGVcclxuICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcblxyXG4gICAgLy8gTHVlZ28gY29tcHJvYmFyIGNhZGEgWCBzZWd1bmRvc1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfSwgdGhpcy5jaGVja0ludGVydmFsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVuZXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xyXG4gICAqL1xyXG4gIHN0b3BQb2xsaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XHJcbiAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBWZXJpZmljYXIgc2kgaGF5IGNvbmV4acOzbiAow7p0aWwgcGFyYSBvdHJhcyBlc2NlbmFzKVxyXG4gICAqL1xyXG4gIGdldElzQ29ubmVjdGVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNDb25uZWN0ZWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPYnRlbmVyIG7Dum1lcm8gZGUgdXN1YXJpb3MgY29uZWN0YWRvc1xyXG4gICAqL1xyXG4gIGdldENvbm5lY3RlZFVzZXJzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGVkQ291bnQ7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDcmVhciBpbnN0YW5jaWEgc2luZ2xldG9uXHJcbmV4cG9ydCBjb25zdCBjb25uZWN0aW9uTWFuYWdlciA9IG5ldyBDb25uZWN0aW9uTWFuYWdlcigpO1xyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7ICAvL2ltcG9ydGFtb3MgaW5zdGFuY2lhIGRlbCBvYmpldG9cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTWVudVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNZW51U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIE3DunNpY2EgZGUgZm9uZG8gZGVsIG1lbsO6XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdNZW51TXVzaWMnLCAnYXNzZXRzL3Nvbmlkby9pbmljaW8ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIGZvbmRvIGRlbCBtZW7DulxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGFudGFsbGFfZGVfaW5pY2lvJywgJ2Fzc2V0cy9mb25kb19wYW50YWxsYV9pbmljaW8ucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBkZSBqdWVnbyBsb2NhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTG9jYWxQbGF5QnV0dG9uJywgJ2Fzc2V0cy9qdWdhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xvY2FsUGxheUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9qdWdhckhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gZGUgdHV0b3JpYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1R1dG9yaWFsQnV0dG9uJywgJ2Fzc2V0cy90dXRvcmlhbC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1R1dG9yaWFsQnV0dG9uSG92ZXInLCAnYXNzZXRzL3R1dG9yaWFsSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBkZSBjcsOpZGl0b3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NyZWRpdG9zQnV0dG9uJywgJ2Fzc2V0cy9jcmVkaXRvcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NyZWRpdG9zQnV0dG9uSG92ZXInLCAnYXNzZXRzL2NyZWRpdG9zSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBkZSBzYWxpciBkZSBqdWVnb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdEJ1dHRvbicsICdhc3NldHMvc2FsaXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0QnV0dG9uSG92ZXInLCAnYXNzZXRzL3NhbGlySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBkZSBhanVzdGVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc0J1dHRvbicsICdhc3NldHMvYWp1c3Rlcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzQnV0dG9uSG92ZXInLCAnYXNzZXRzL2FqdXN0ZXNIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIGRlIHJhbmtpbmdcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JhbmtpbmdCdXR0b24nLCAnYXNzZXRzL3JhbmtpbmcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSYW5raW5nQnV0dG9uSG92ZXInLCAnYXNzZXRzL3JhbmtpbmdIb3Zlci5wbmcnKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBEZXRlbmVyIGxhIG3DunNpY2EgZGVsIGp1ZWdvIHNpIGVzdMOhIHNvbmFuZG9cclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BCeUtleSgnR2FtZU11c2ljJyk7XHJcblxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbcO6c2ljYSBkZWwgbWVuw7pcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ01lbnVNdXNpYycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiB0aGlzLnNvdW5kLnZvbHVtZSB9KTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG8gZGVsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnUGFudGFsbGFfZGVfaW5pY2lvJykuc2V0T3JpZ2luKDApO1xyXG4gICAgICAgIGJnLnNldERpc3BsYXlTaXplKHRoaXMuc2NhbGUud2lkdGgsIHRoaXMuc2NhbGUuaGVpZ2h0KTtcclxuICAgICAgICBiZy5zZXREZXB0aCgtMSk7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgLy8gQm90w7NuIGRlIGp1ZWdvIGxvY2FsXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC5pbWFnZSgzMDUsIDM0MCwgJ0xvY2FsUGxheUJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgbG9jYWxCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDMwNSwgMzQwLCAnTG9jYWxQbGF5QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChsb2NhbEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxvY2FsQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsb2NhbEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdHYW1lTW9kZVNjZW5lJyk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSB0dXRvcmlhbFxyXG4gICAgICAgIGNvbnN0IHR1dG9yaWFsQnRuID0gdGhpcy5hZGQuaW1hZ2UoMzEyLCA0NTAsICdUdXRvcmlhbEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgdHV0b3JpYWxCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDMxMiwgNDUwLCAnVHV0b3JpYWxCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHR1dG9yaWFsQnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdHV0b3JpYWxCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHR1dG9yaWFsQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1R1dG9yaWFsU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIGNyw6lkaXRvc1xyXG4gICAgICAgIGNvbnN0IGNyZWRpdG9zQnRuID0gdGhpcy5hZGQuaW1hZ2UoMzA1LCA1NjAsICdDcmVkaXRvc0J1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY3JlZGl0b3NCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDMxMiwgNTU1LCAnQ3JlZGl0b3NCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKGNyZWRpdG9zQnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY3JlZGl0b3NCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNyZWRpdG9zQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0NyZWRpdHNTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgcGFudGFsbGEgZGUgcmFua2luZ1xyXG4gICAgICAgIGNvbnN0IHJhbmtpbmdCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMjAwLCA3NSwgJ1JhbmtpbmdCdXR0b24nKSBcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpICAgIFxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gdGhpcy5zY2VuZS5sYXVuY2goJ1JhbmtpbmdTY2VuZScpKTtcclxuXHJcbiAgICAgICAgcmFua2luZ0J0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMTIwMCwgNzUsICdSYW5raW5nQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyYW5raW5nQnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmFua2luZ0J0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyIGRlIGp1ZWdvXHJcbiAgICAgICAgY29uc3QgZXhpdEJ0biA9IHRoaXMuYWRkLmltYWdlKDMxMiwgNjcwLCAnRXhpdEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMzEyLCA2NzAsICdFeGl0QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChleGl0QnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIENpZXJyYSBsYSB2ZW50YW5hIGRlbCBuYXZlZ2Fkb3IgbyBwZXN0YcOxYVxyXG4gICAgICAgICAgICB3aW5kb3cuY2xvc2UoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIGFqdXN0ZXNcclxuICAgICAgICBjb25zdCBzZXR0aW5nc0J0biA9IHRoaXMuYWRkLmltYWdlKDEzMzAsIDc1LCAnU2V0dGluZ3NCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgc2V0dGluZ3NCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEzMzUsIDc1LCAnU2V0dGluZ3NCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoc2V0dGluZ3NCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzZXR0aW5nc0J0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2V0dGluZ3NCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnU2V0dGluZ3NTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vID09PSBJbmRpY2Fkb3IgZGUgY29uZXhpw7NuID09PVxyXG4gICAgLy8gUHVudGl0byBkZSBlc3RhZG9cclxuICAgIHRoaXMuY29ubmVjdGlvbkRvdCA9IHRoaXMuYWRkLmNpcmNsZSg3MCwgNTAsIDEwLCAweGZmMDAwMClcclxuICAgICAgICAuc2V0RGVwdGgoMTAwMCk7XHJcblxyXG4gICAgLy8gVGV4dG8gY29uIG7Dum1lcm8gZGUgdXN1YXJpb3NcclxuICAgIHRoaXMuY29ubmVjdGlvbkNvdW50VGV4dCA9IHRoaXMuYWRkLnRleHQoODUsIDQwLCAnMCcsIHtcclxuICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgIGZvbnRGYW1pbHk6ICdcIkNhdWRleFwiLCBzZXJpZicsXHJcbiAgICAgICAgY29sb3I6ICcjZGE4MTgxZmYnXHJcbiAgICB9KS5zZXREZXB0aCgxMDAwKTtcclxuXHJcbiAgICAvLyBMaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuICAtLSAgdXN1YXJpb3MgY29uZWN0YWRvc1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhdGhpcy5jb25uZWN0aW9uRG90IHx8XHJcbiAgICAgICAgICAgICF0aGlzLmNvbm5lY3Rpb25Db3VudFRleHQgfHxcclxuICAgICAgICAgICAgIXRoaXMuc2NlbmUgfHxcclxuICAgICAgICAgICAgIXRoaXMuc2NlbmUuaXNBY3RpdmUoJ01lbnVTY2VuZScpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gVmVyZGVcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyZWVuQ29sb3IgPSAweGExZGJhMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkRvdC5zZXRGaWxsU3R5bGUoZ3JlZW5Db2xvcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25Db3VudFRleHQuc2V0VGV4dChTdHJpbmcoZGF0YS5jb3VudCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uQ291bnRUZXh0LnNldENvbG9yKCcjYTFkYmExJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSb2pvXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWRDb2xvciA9IDB4ZGE4MTgxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uRG90LnNldEZpbGxTdHlsZShyZWRDb2xvcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25Db3VudFRleHQuc2V0VGV4dCgnLS0nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbkNvdW50VGV4dC5zZXRDb2xvcihyZWRDb2xvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbTWVudVNjZW5lXSBFcnJvciB1cGRhdGluZyBjb25uZWN0aW9uIGRpc3BsYXk6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgV2ViU29ja2V0U2VydmljZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLndzID0gbnVsbDtcclxuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLnJvb21JZCA9IG51bGw7XHJcbiAgICB0aGlzLnBsYXllclJvbGUgPSBudWxsOyAvLyAnbml2aWEnIG8gJ3NvbGVubmUnXHJcbiAgICB0aGlzLm1lc3NhZ2VIYW5kbGVycyA9IG5ldyBNYXAoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbmVjdGFyIGFsIHNlcnZpZG9yIFdlYlNvY2tldFxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxyXG4gICAqL1xyXG4gIGNvbm5lY3QoKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHdzVXJsID0gYHdzOi8vJHt3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9OjMwMDBgO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SMIENvbmVjdGFuZG8gYSBXZWJTb2NrZXQ6Jywgd3NVcmwpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHdzVXJsKTtcclxuXHJcbiAgICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFdlYlNvY2tldCBjb25lY3RhZG8nKTtcclxuICAgICAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTWVzc2FnZShkYXRhKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBwYXJzZWFuZG8gbWVuc2FqZTonLCBlcnJvcik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZW4gV2ViU29ja2V0OicsIGVycm9yKTtcclxuICAgICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SMIFdlYlNvY2tldCBkZXNjb25lY3RhZG8nKTtcclxuICAgICAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzLm5vdGlmeUhhbmRsZXIoJ2Nvbm5lY3Rpb25Mb3N0Jyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYW5lamFyIG1lbnNhamVzIGRlbCBzZXJ2aWRvclxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gRGF0b3MgcmVjaWJpZG9zXHJcbiAgICovXHJcbiAgaGFuZGxlTWVzc2FnZShkYXRhKSB7XHJcbiAgICBjb25zb2xlLmxvZygn8J+TqCBNZW5zYWplIHJlY2liaWRvOicsIGRhdGEudHlwZSk7XHJcbiAgICB0aGlzLm5vdGlmeUhhbmRsZXIoZGF0YS50eXBlLCBkYXRhKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdHJhciB1biBoYW5kbGVyIHBhcmEgdW4gdGlwbyBkZSBtZW5zYWplXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaXBvIGRlIG1lbnNhamVcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIGEgbGxhbWFyXHJcbiAgICovXHJcbiAgb24odHlwZSwgY2FsbGJhY2spIHtcclxuICAgIGlmICghdGhpcy5tZXNzYWdlSGFuZGxlcnMuaGFzKHR5cGUpKSB7XHJcbiAgICAgIHRoaXMubWVzc2FnZUhhbmRsZXJzLnNldCh0eXBlLCBbXSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm1lc3NhZ2VIYW5kbGVycy5nZXQodHlwZSkucHVzaChjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmVyIHVuIGhhbmRsZXJcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRpcG8gZGUgbWVuc2FqZVxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gYSByZW1vdmVyXHJcbiAgICovXHJcbiAgb2ZmKHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAodGhpcy5tZXNzYWdlSGFuZGxlcnMuaGFzKHR5cGUpKSB7XHJcbiAgICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpcy5tZXNzYWdlSGFuZGxlcnMuZ2V0KHR5cGUpO1xyXG4gICAgICBjb25zdCBpbmRleCA9IGhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgIGhhbmRsZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE5vdGlmaWNhciBhIGxvcyBoYW5kbGVycyByZWdpc3RyYWRvc1xyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGlwbyBkZSBtZW5zYWplXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBEYXRvcyBkZWwgbWVuc2FqZVxyXG4gICAqL1xyXG4gIG5vdGlmeUhhbmRsZXIodHlwZSwgZGF0YSA9IHt9KSB7XHJcbiAgICBpZiAodGhpcy5tZXNzYWdlSGFuZGxlcnMuaGFzKHR5cGUpKSB7XHJcbiAgICAgIHRoaXMubWVzc2FnZUhhbmRsZXJzLmdldCh0eXBlKS5mb3JFYWNoKGhhbmRsZXIgPT4gaGFuZGxlcihkYXRhKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbnZpYXIgbWVuc2FqZSBhbCBzZXJ2aWRvclxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtZXNzYWdlIC0gTWVuc2FqZSBhIGVudmlhclxyXG4gICAqL1xyXG4gIHNlbmQobWVzc2FnZSkge1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFdlYlNvY2tldCBubyBlc3TDoSBjb25lY3RhZG8nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vID09PT09PT09PT09PT09PT09PT09IE3DiVRPRE9TIEVTUEVDw41GSUNPUyBERUwgSlVFR08gPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgLyoqXHJcbiAgICogVW5pcnNlIGEgbGEgY29sYSBkZSBtYXRjaG1ha2luZ1xyXG4gICAqL1xyXG4gIGpvaW5RdWV1ZSgpIHtcclxuICAgIHRoaXMuc2VuZCh7IHR5cGU6ICdqb2luUXVldWUnIH0pO1xyXG4gICAgY29uc29sZS5sb2coJ/Cfk6UgVW5pw6luZG9zZSBhIGxhIGNvbGEuLi4nKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNhbGlyIGRlIGxhIGNvbGFcclxuICAgKi9cclxuICBsZWF2ZVF1ZXVlKCkge1xyXG4gICAgdGhpcy5zZW5kKHsgdHlwZTogJ2xlYXZlUXVldWUnIH0pO1xyXG4gICAgY29uc29sZS5sb2coJ/Cfk6QgU2FsaWVuZG8gZGUgbGEgY29sYS4uLicpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRW52aWFyIG1vdmltaWVudG8gZGVsIGp1Z2Fkb3JcclxuICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFBvc2ljacOzbiBYXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBQb3NpY2nDs24gWVxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmxpcFggLSBPcmllbnRhY2nDs24gZGVsIHNwcml0ZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhbmltS2V5IC0gQ2xhdmUgZGUgbGEgYW5pbWFjacOzbiBhY3R1YWxcclxuICAgKi9cclxuICBzZW5kUGxheWVyTW92ZSh4LCB5LCBmbGlwWCwgYW5pbUtleSkge1xyXG4gICAgdGhpcy5zZW5kKHtcclxuICAgICAgdHlwZTogJ3BsYXllck1vdmUnLFxyXG4gICAgICB4LFxyXG4gICAgICB5LFxyXG4gICAgICBmbGlwWCxcclxuICAgICAgYW5pbUtleVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOb3RpZmljYXIgcmVjb2xlY2Npw7NuIGRlIGNyaXN0YWxcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gY3J5c3RhbFR5cGUgLSAnbW9vbicgbyAnc3VuJ1xyXG4gICAqL1xyXG4gIHNlbmRDcnlzdGFsQ29sbGVjdChjcnlzdGFsVHlwZSkge1xyXG4gICAgdGhpcy5zZW5kKHtcclxuICAgICAgdHlwZTogJ2NyeXN0YWxDb2xsZWN0JyxcclxuICAgICAgY3J5c3RhbFR5cGVcclxuICAgIH0pO1xyXG4gICAgY29uc29sZS5sb2coYPCfko4gQ3Jpc3RhbCAke2NyeXN0YWxUeXBlfSByZWNvZ2lkb2ApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTm90aWZpY2FyIGNvbnRhY3RvIGNvbiBwb3J0YWxcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9uUG9ydGFsIC0gU2kgZXN0w6EgdG9jYW5kbyBlbCBwb3J0YWxcclxuICAgKi9cclxuICBzZW5kUG9ydGFsVG91Y2gob25Qb3J0YWwpIHtcclxuICAgIHRoaXMuc2VuZCh7XHJcbiAgICAgIHR5cGU6ICdwb3J0YWxUb3VjaCcsXHJcbiAgICAgIG9uUG9ydGFsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE5vdGlmaWNhciBnYW1lIG92ZXIgKHRyYW1wYSB0b2NhZGEsIGV0YylcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uIC0gUmF6w7NuIGRlbCBnYW1lIG92ZXJcclxuICAgKi9cclxuICBzZW5kR2FtZU92ZXIocmVhc29uID0gJ3RyYXAnKSB7XHJcbiAgICB0aGlzLnNlbmQoe1xyXG4gICAgICB0eXBlOiAnZ2FtZU92ZXInLFxyXG4gICAgICByZWFzb25cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGVzY29uZWN0YXJcclxuICAgKi9cclxuICBkaXNjb25uZWN0KCkge1xyXG4gICAgaWYgKHRoaXMud3MpIHtcclxuICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICB0aGlzLndzID0gbnVsbDtcclxuICAgIH1cclxuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLnJvb21JZCA9IG51bGw7XHJcbiAgICB0aGlzLnBsYXllclJvbGUgPSBudWxsO1xyXG4gICAgdGhpcy5tZXNzYWdlSGFuZGxlcnMuY2xlYXIoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFZlcmlmaWNhciBzaSBlc3TDoSBjb25lY3RhZG9cclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgKi9cclxuICBpc0Nvbm5lY3RlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbm5lY3RlZCAmJiB0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPYnRlbmVyIHJvbCBkZWwganVnYWRvclxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH1cclxuICAgKi9cclxuICBnZXRQbGF5ZXJSb2xlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucGxheWVyUm9sZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVzdGFibGVjZXIgcm9sIGRlbCBqdWdhZG9yXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJvbGUgLSAnbml2aWEnIG8gJ3NvbGVubmUnXHJcbiAgICovXHJcbiAgc2V0UGxheWVyUm9sZShyb2xlKSB7XHJcbiAgICB0aGlzLnBsYXllclJvbGUgPSByb2xlO1xyXG4gICAgY29uc29sZS5sb2coYPCfjq4gUm9sIGFzaWduYWRvOiAke3JvbGV9YCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBFeHBvcnRhciBpbnN0YW5jaWEgc2luZ2xldG9uXHJcbmV4cG9ydCBjb25zdCB3c1NlcnZpY2UgPSBuZXcgV2ViU29ja2V0U2VydmljZSgpOyIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gXCIuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlclwiO1xyXG5pbXBvcnQgeyB3c1NlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvV2ViU29ja2V0U2VydmljZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDb250cm9sIGRlIGRlc2NvbmV4acOzbiBwYXJhIGV2aXRhciBsb29wc1xyXG4gICAgICAgIHRoaXMuaXNIYW5kbGluZ0Rpc2Nvbm5lY3Rpb24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxhc3REaXNjb25uZWN0aW9uVGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0aW9uQ29vbGRvd24gPSAxMDAwOyAvLyAxIHNlZ3VuZG8gZGUgZXNwZXJhIGVudHJlIGRldGVjY2lvbmVzXHJcbiAgICBcclxuICAgICAgICAvLyBEYXRvcyBtdWx0aWp1Z2Fkb3JcclxuICAgICAgICB0aGlzLmlzTXVsdGlwbGF5ZXIgPSBkYXRhLmlzTXVsdGlwbGF5ZXIgfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJSb2xlID0gZGF0YS5wbGF5ZXJSb2xlIHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZCB8fCBudWxsO1xyXG5cclxuICAgICAgICAvLyBDb250cm9sIGRlIHBlcnNvbmFqZXMgZW4gbXVsdGlqdWdhZG9yXHJcbiAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IG51bGw7ICAvLyBFbCBxdWUgY29udHJvbGFzIHTDulxyXG4gICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gbnVsbDsgLy8gRWwgcXVlIGNvbnRyb2xhIGVsIG90cm8ganVnYWRvclxyXG5cclxuICAgICAgICAvLyBTaW5jcm9uaXphY2nDs24gZGUgcmVkXHJcbiAgICAgICAgdGhpcy5sYXN0U3luY1RpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuc3luY0ludGVydmFsID0gNTA7IC8vIEVudmlhciBwb3NpY2nDs24gY2FkYSA1MG1zXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn46uIEdhbWVTY2VuZSBpbmljaWFkb2ApO1xyXG4gICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGF5ZXIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYPCfkaQgUm9sOiAke3RoaXMucGxheWVyUm9sZX0gfCDwn5qqIFNhbGE6ICR7dGhpcy5yb29tSWR9YCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBNb3N0cmFyIGFudW5jaW8gZGUgcXXDqSBwZXJzb25hamUgZXNcclxuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyTmFtZSA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ25pdmlhJyA/ICfwn4yZIE5JVklBIChMdW5hKScgOiAn4piA77iPIFNPTEVOTkUgKFNvbCknO1xyXG4gICAgICAgICAgICBjb25zdCBhbm5vdW5jZW1lbnRUZXh0ID0gdGhpcy5hZGQudGV4dChcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC8gMixcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgICAgICBgwqFFcmVzICR7Y2hhcmFjdGVyTmFtZX0hYCxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLnBsYXllclJvbGUgPT09ICduaXZpYScgPyAnIzg3Q0VFQicgOiAnI0ZGRDcwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IHsgeDogMjAsIHk6IDEwIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwMCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBbmltYXIgZWwgdGV4dG8geSBsdWVnbyBkZXNhcGFyZWNlcmxvXHJcbiAgICAgICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiBhbm5vdW5jZW1lbnRUZXh0LFxyXG4gICAgICAgICAgICAgICAgYWxwaGE6IDAsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMCxcclxuICAgICAgICAgICAgICAgIGRlbGF5OiAxNTAwLFxyXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFubm91bmNlbWVudFRleHQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGF5ZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgbGVhdmVCdXR0b24gPSB0aGlzLmFkZC50ZXh0KHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC8gMiwgNDAsICfwn5qqIEFiYW5kb25hcicsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNmZjY2NjYnLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiB7IHg6IDEwLCB5OiA1IH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTtcclxuXHJcbiAgICAgICAgICAgIGxlYXZlQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxlYXZlQnV0dG9uLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzMzMzMzMycsIGNvbG9yOiAnI2ZmMDAwMCcgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbGVhdmVCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZWF2ZUJ1dHRvbi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnLCBjb2xvcjogJyNmZjY2NjYnIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxlYXZlQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIENvbmZpcm1hciBhbnRlcyBkZSBhYmFuZG9uYXJcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1MZWF2ZSA9IGNvbmZpcm0oJ8K/U2VndXJvIHF1ZSBxdWllcmVzIGFiYW5kb25hciBsYSBwYXJ0aWRhP1xcblxcbkVsIG90cm8ganVnYWRvciBzZXLDoSBub3RpZmljYWRvLicpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlybUxlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90aWZpY2FyIGFsIHNlcnZpZG9yIHF1ZSBhYmFuZG9uYXNcclxuICAgICAgICAgICAgICAgICAgICB3c1NlcnZpY2Uuc2VuZEdhbWVPdmVyKCdkaXNjb25uZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVzY29uZWN0YXJcclxuICAgICAgICAgICAgICAgICAgICB3c1NlcnZpY2UuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9ICAgXHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubG9hZC5hdGxhcygnbml2aWEnLCAnYXNzZXRzL25pdmlhL25pdmlhX3NoZWV0LnBuZycsICdhc3NldHMvbml2aWEvbml2aWFfc2hlZXQuanNvbicpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdGxhcygnc29sZW5uZScsICdhc3NldHMvc29sZW5uZS9zb2xlbm5lX3NoZWV0LnBuZycsICdhc3NldHMvc29sZW5uZS9zb2xlbm5lX3NoZWV0Lmpzb24nKTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGNyaXN0YWxlc1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnc3VuZHJvcF9zaGVldCcsICdhc3NldHMvaXRlbXMvc3VuZHJvcC5wbmcnLCB7IGZyYW1lV2lkdGg6IDIxNCwgZnJhbWVIZWlnaHQ6IDIwNiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ21vb25kcm9wX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9tb29uZHJvcC5wbmcnLCB7IGZyYW1lV2lkdGg6IDIxNCwgZnJhbWVIZWlnaHQ6IDIwNiB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdzdW5fc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL3N1bi5wbmcnLCB7IGZyYW1lV2lkdGg6IDM0NywgZnJhbWVIZWlnaHQ6IDMyOSB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ21vb25fc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL21vb24ucG5nJywgeyBmcmFtZVdpZHRoOiAzNDcsIGZyYW1lSGVpZ2h0OiAzMjkgfSk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlbCBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvZm9uZG9fYWJham8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGF0YWZvcm1hcycsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9wbGF0YWZvcm1hc19hYmFqby5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGVsZW1lbnRvcyBkZWwgZXNjZW5hcmlvXHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmFOaXZlbDEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvcHVlcnRhX2NsYXJhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhT3NjdXJhTml2ZWwxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwxL3B1ZXJ0YV9vc2N1cmEucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmExTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhM05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmEzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhT3NjdXJhMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfb3NjdXJhMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX29zY3VyYTIucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25DbGFyb05pdmVsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9ib3Rvbl9jbGFyby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uT3NjdXJvMU5pdmVsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9ib3Rvbl9vc2N1cm8ucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25OaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNsYXJvTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX2NsYXJvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Pc2N1cm8xTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX29zY3VybzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk9zY3VybzJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b25fb3NjdXJvMi5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb3J0YWwnLCAnYXNzZXRzL3RyYW1wYXMvcHVlcnRhRmluYWwucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBib3RvbmVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYXVzZUJ1dHRvbicsICdhc3NldHMvcGF1c2EucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYXVzZUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9wYXVzYUhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzQnV0dG9uJywgJ2Fzc2V0cy9hanVzdGVzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU2V0dGluZ3NCdXR0b25Ib3ZlcicsICdhc3NldHMvYWp1c3Rlc0hvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgcmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uJywgJ2Fzc2V0cy9yZWluaWNpYXIuUE5HJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uSG92ZXInLCAnYXNzZXRzL3JlaW5pY2lhckhvdmVyLlBORycpO1xyXG5cclxuICAgICAgICAvL0Rhw7FvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkYW1hZ2UnLCAnYXNzZXRzL3RyYW1wYXMvbGlhbmFzX3BsYXRhZm9ybWFzLnBuZycpXHJcblxyXG4gICAgICAgIC8vIEVmZWN0b3MgZGUgc29uaWRvIHkgbcO6c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2Fsa1NvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY2FtaW5hci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2NvbGxlY3RTdW5DcnlzdGFsU291bmQnLCAnYXNzZXRzL3Nvbmlkby9jcmlzdGFsQ2xhcm8ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0TW9vbkNyeXN0YWxTb3VuZCcsICdhc3NldHMvc29uaWRvL2NyaXN0YWxPc2N1cm8ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIE3DmlNJQ0EgRVNQRUPDjUZJQ0EgREVMIEpVRUdPXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdHYW1lTXVzaWMnLCAnYXNzZXRzL3Nvbmlkby9qdWVnby5tcDMnKTsgLy8gYWp1c3RhIHJ1dGEgc2kgaGFjZSBmYWx0YVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgLy8gRGV0ZWN0YSBww6lyZGlkYSBkZSBjb25leGnDs25cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEV2aXRhciBtw7psdGlwbGVzIGRpc3Bhcm9zIGRlbCBtaXNtbyBldmVudG9cclxuICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgaWYgKCFkYXRhLmNvbm5lY3RlZCAmJiB0aGlzLnNjZW5lLmlzQWN0aXZlKCdHYW1lU2NlbmUnKSAmJiAhdGhpcy5pc0hhbmRsaW5nRGlzY29ubmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vdyAtIHRoaXMubGFzdERpc2Nvbm5lY3Rpb25UaW1lID4gdGhpcy5kaXNjb25uZWN0aW9uQ29vbGRvd24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIENvbmV4acOzbiBwZXJkaWRhIGR1cmFudGUgZWwganVlZ28nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzSGFuZGxpbmdEaXNjb25uZWN0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REaXNjb25uZWN0aW9uVGltZSA9IG5vdztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGlvbkxvc3QoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLmNvbm5lY3RlZCAmJiB0aGlzLmlzSGFuZGxpbmdEaXNjb25uZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZWNvbmV4acOzbiBkZXRlY3RhZGFcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNIYW5kbGluZ0Rpc2Nvbm5lY3Rpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgUmVjb25leGnDs24gZGV0ZWN0YWRhJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFdmVudCBsaXN0ZW5lciBwYXJhIGN1YW5kbyBsYSBlc2NlbmEgc2UgcmVhbnVkYVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHYW1lU2NlbmUgcmVhbnVkYWRhJyk7XHJcbiAgICAgICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLnJlc3VtZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEV2ZW50IGxpc3RlbmVyIHBhcmEgY3VhbmRvIGxhIGVzY2VuYSBzZSBwYXVzYVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdwYXVzZScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0dhbWVTY2VuZSBwYXVzYWRhJyk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBtYXBXaWR0aEluUGl4ZWxzID0gMTQyMDtcclxuICAgICAgICBjb25zdCBtYXBIZWlnaHRJblBpeGVscyA9IDgwMDtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gRGV0ZW5lciBzb2xvIGxhIG3DunNpY2EgZGVsIG1lbsO6IHNpIGVzdMOhIHNvbmFuZG9cclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BCeUtleSgnTWVudU11c2ljJyk7XHJcblxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbGEgbcO6c2ljYSBkZWwganVlZ29cclxuICAgICAgICBpZiAodGhpcy5jYWNoZS5hdWRpby5leGlzdHMoJ0dhbWVNdXNpYycpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnR2FtZU11c2ljJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMX0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWdyZWdhciBmb25kb1xyXG4gICAgICAgIC8vY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8xJykuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIC8vYmcuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xyXG5cclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDAsIDAsICdmb25kbycpLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICBiZy5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBsYXRhZm9ybWEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgwLCAwLCAncGxhdGFmb3JtYXMnKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgcGxhdGFmb3JtYS5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGxhIGbDrXNpY2EgZGVsIG11bmRvXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLmdyYXZpdHkueSA9IDE1MDA7XHJcblxyXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcblxyXG5cclxuICAgICAgICAvLyBURU1QT1JBTDogQ3JlYXIgdW4gc3VlbG8gc2ltcGxlIHBhcmEgcXVlIHB1ZWRhbiBzYWx0YXIgeSBjYWVyXHJcbiAgICAgICAgdGhpcy5ncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgbWFwSGVpZ2h0SW5QaXhlbHMsIG1hcFdpZHRoSW5QaXhlbHMsIDEwLCAweDAwRkYwMCwgMCkuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5ncm91bmQsIHRydWUpOyAvLyB0cnVlID0gZXN0w6F0aWNvXHJcblxyXG4gICAgICAgIC8vQ3JlYWNpw7NuIGRlIGxhcyBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMjAwLCA0ODAsIDMwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNTc1LCA0ODAsIDE1MCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTMgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTAwMCwgNTUwLCA0MDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTMsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDMwMCwgMTUwLCAyMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTQsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE1ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDg3NSwgMjc1LCAxNTAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTUsIHRydWUpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5wYXJlZDEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNDAwLCA1MCwgMjAsIDIwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBhcmVkMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGFyZWQyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDkwMCwgNzAwLCAyMDAsIDMwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBhcmVkMiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbCA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDEwMDAsIDEwLCAncG9ydGFsJykuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5leGl0UG9ydGFsLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gcHVlcnRhc1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoNzAwLCA0MDAsICdwdWVydGFPc2N1cmFOaXZlbDEnKS5zZXRTY2FsZSgwLjcpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yMSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDc1MCwgNDAwLCAncHVlcnRhQ2xhcmFOaXZlbDEnKS5zZXRTY2FsZSgwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLmRhcmtEb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyNTAsIDM3NSwgMjAsIDMwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhcmtEb29yMUhpdGJveCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIHRoaXMubGlnaHREb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg5MjAsIDQwMCwgMjAsIDI4MCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjFIaXRib3gsIHRydWUpO1xyXG5cclxuICAgICAgICAvLyBkYcOxbyBwbGFjZWhvbGRlclxyXG4gICAgICAgIHRoaXMudHJhbXBhID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoNDUwLCAxNTAsICdkYW1hZ2UnKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMuZGFtYWdlID0gdGhpcy5hZGQucmVjdGFuZ2xlKDQ4MCwgMTAwLCAxMDAsIDYwLCAweDMzZmYwMCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFtYWdlLCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgc3VlbG8geSBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5ncm91bmQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmdyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWExKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE0KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE1KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBhcmVkMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGFyZWQxKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGFyZWQyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wYXJlZDIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5saWdodERvb3IxSGl0Ym94KTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmxpZ2h0RG9vcjFIaXRib3gpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmRhcmtEb29yMUhpdGJveCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMuZGFya0Rvb3IxSGl0Ym94KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCduaXZpYScpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygnc29sZW5uZScpO1xyXG5cclxuICAgICAgICAvLyBJbmljaWFyIGxhIGFuaW1hY2nDs24gJ3J1bicgcGFyYSBwcm9iYXIgKHNlIGNvcnJlZ2lyw6EgZW4gdXBkYXRlKVxyXG4gICAgICAgIHRoaXMubml2aWEucGxheSgnbml2aWFfaWRsZScpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZS5wbGF5KCdzb2xlbm5lX2lkbGUnKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYWNpw7NuIGRlIGxvcyBvYmpldG9zXHJcbiAgICAgICAgdGhpcy5jcnlzdGFscyA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoe2FsbG93R3Jhdml0eTogZmFsc2UsIGltbW92YWJsZTogdHJ1ZX0pO1xyXG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSgxMTAwLCA0MDAsICdtb29uZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLnN1bkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSgxMDAsIDEwMCwgJ3N1bmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgLy90aGlzLnN1bkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZShtYXAud2lkdGhJblBpeGVscyAtIDIwMCwgMzAwLCAnc3VuQ3J5c3RhbCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAvL3RoaXMubWV0YVBvcnRhbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMgLyAyLCA1MCwgJ21ldGFQb3J0YWwnKS5zZXRJbW1vdmFibGUodHJ1ZSkuc2V0Qm9keVNpemUoNjQsIDY0KTtcclxuXHJcblxyXG5cclxuICAgICAgICAvLyBBbmltYWNpb25lcyBkZSBsb3Mgb2JqZXRvc1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnc3VuZHJvcF9pZGxlJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdzdW5kcm9wX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiA3IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbW9vbmRyb3BfaWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbW9vbmRyb3Bfc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDcgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tb29uQ3J5c3RhbC5wbGF5KCdtb29uZHJvcF9pZGxlJyk7XHJcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsLnBsYXkoJ3N1bmRyb3BfaWRsZScpO1xyXG5cclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlbCBJY29ubyBkZWwgU29sIChIVUQpXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdzdW5faHVkX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3N1bl9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZWwgSWNvbm8gZGUgbGEgTHVuYSAoSFVEKVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbW9vbl9odWRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbW9vbl9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIEx1bmEgKE5pdmlhKSAtIEl6cXVpZXJkYVxyXG4gICAgICAgIHRoaXMubW9vbkhVRCA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYIC0gMjAsIDQwLCAnbW9vbl9zaGVldCcpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMTUpIC8vIEVzY2FsYSBNVVkgcmVkdWNpZGEsIHlhIHF1ZSBsb3Mgc3ByaXRlc2hlZXRzIHNvbiBncmFuZGVzICgzNDd4MzI5KVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgICAgIC5wbGF5KCdtb29uX2h1ZF9hbmltJyk7IC8vIEluaWNpYSBsYSBhbmltYWNpw7NuXHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBkZSBTb2wgKFNvbGVubmUpIC0gRGVyZWNoYVxyXG4gICAgICAgIHRoaXMuc3VuSFVEID0gdGhpcy5hZGQuc3ByaXRlKHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclggKyAyMCwgNDAsICdzdW5fc2hlZXQnKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjE1KSAvLyBFc2NhbGEgTVVZIHJlZHVjaWRhXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKSBcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMClcclxuICAgICAgICAgICAgLnBsYXkoJ3N1bl9odWRfYW5pbScpOyAvLyBJbmljaWEgbGEgYW5pbWFjacOzblxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGxhIHJlY29sZWNjacOzbiBkZSBjcmlzdGFsZXNcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5tb29uQ3J5c3RhbCwgdGhpcy5jb2xsZWN0TW9vbkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuc3VuQ3J5c3RhbCwgdGhpcy5jb2xsZWN0U3VuQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgZmluIGRlIG5pdmVsIChPdmVybGFwIGRlbCBwb3J0YWwpXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5tZXRhUG9ydGFsLCB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSwgbnVsbCwgdGhpcyk7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLm1ldGFQb3J0YWwsIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlLCBudWxsLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgbml2ZWxcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgZ2VvbWV0cnlMYXllcik7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgZ2VvbWV0cnlMYXllcik7XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGxhIGPDoW1hcmFcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRCb3VuZHMoMCwgMCwgbWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpOyAgXHJcblxyXG4gICAgICAgIC8vIENvbnRyb2wgZGUgcGF1c2FcclxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmV4aXRQb3J0YWwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5leGl0UG9ydGFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHBhdXNhXHJcbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApIFxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTsgXHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5wYXVzZUJ1dHRvbi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7IFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgYWp1c3Rlc1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDEyMCwgNDAsICdTZXR0aW5nc0J1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMCkgXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApOyBcclxuXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAxMjAsIDQwLCAnU2V0dGluZ3NCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5zZXR0aW5nc0J1dHRvbi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdTZXR0aW5nc1NjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pc011bHRpcGxheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKCd1cGRhdGUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZXhpdFBvcnRhbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5waHlzaWNzLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLmV4aXRQb3J0YWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5kYW1hZ2UsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNNdWx0aXBsYXllciAmJiB3c1NlcnZpY2UuaXNDb25uZWN0ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgd3NTZXJ2aWNlLnNlbmRHYW1lT3ZlcigndHJhcCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gTW9kbyBsb2NhbFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0dhbWVPdmVyU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZGFtYWdlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGF5ZXIgJiYgd3NTZXJ2aWNlLmlzQ29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIHdzU2VydmljZS5zZW5kR2FtZU92ZXIoJ3RyYXAnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIE1vZG8gbG9jYWxcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdHYW1lT3ZlclNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc011bHRpcGxheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dXBNdWx0aXBsYXllcigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXR1cE11bHRpcGxheWVyKCkgeyAgICBcclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAnbml2aWEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSB0aGlzLm5pdmlhO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllciA9IHRoaXMuc29sZW5uZTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3NvbGVubmUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSB0aGlzLnNvbGVubmU7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gdGhpcy5uaXZpYTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYXIgbG9zIGhhbmRsZXJzIHBhcmEgZXZlbnRvcyBkZSByZWRcclxuICAgICAgICB0aGlzLnBsYXllck1vdmVIYW5kbGVyID0gdGhpcy5oYW5kbGVSZW1vdGVQbGF5ZXJNb3ZlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jcnlzdGFsQ29sbGVjdGVkSGFuZGxlciA9IHRoaXMuaGFuZGxlUmVtb3RlQ3J5c3RhbENvbGxlY3RlZC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMucG9ydGFsU3Bhd25lZEhhbmRsZXIgPSB0aGlzLmhhbmRsZVJlbW90ZVBvcnRhbFNwYXduZWQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnZpY3RvcnlIYW5kbGVyID0gdGhpcy5oYW5kbGVSZW1vdGVWaWN0b3J5LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5nYW1lT3ZlckhhbmRsZXIgPSB0aGlzLmhhbmRsZVJlbW90ZUdhbWVPdmVyLmJpbmQodGhpcyk7ICBcclxuICAgICAgICB0aGlzLnBsYXllckRpc2Nvbm5lY3RlZEhhbmRsZXIgPSB0aGlzLmhhbmRsZVBsYXllckRpc2Nvbm5lY3RlZC5iaW5kKHRoaXMpO1xyXG4gICAgXHJcbiAgICAgICAgd3NTZXJ2aWNlLm9uKCdwbGF5ZXJNb3ZlJywgdGhpcy5wbGF5ZXJNb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgd3NTZXJ2aWNlLm9uKCdjcnlzdGFsQ29sbGVjdGVkJywgdGhpcy5jcnlzdGFsQ29sbGVjdGVkSGFuZGxlcik7XHJcbiAgICAgICAgd3NTZXJ2aWNlLm9uKCdwb3J0YWxTcGF3bmVkJywgdGhpcy5wb3J0YWxTcGF3bmVkSGFuZGxlcik7XHJcbiAgICAgICAgd3NTZXJ2aWNlLm9uKCd2aWN0b3J5JywgdGhpcy52aWN0b3J5SGFuZGxlcik7XHJcbiAgICAgICAgd3NTZXJ2aWNlLm9uKCdnYW1lT3ZlcicsIHRoaXMuZ2FtZU92ZXJIYW5kbGVyKTtcclxuICAgICAgICB3c1NlcnZpY2Uub24oJ3BsYXllckRpc2Nvbm5lY3RlZCcsIHRoaXMucGxheWVyRGlzY29ubmVjdGVkSGFuZGxlcik7XHJcbiAgICBcclxuICAgIH1cclxuXHJcbiAgICBzeW5jTG9jYWxQbGF5ZXJQb3NpdGlvbigpIHtcclxuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNvbG8gZW52aWFyIGNhZGEgWCBtaWxpc2VndW5kb3MgcGFyYSBubyBzYXR1cmFyIGxhIHJlZFxyXG4gICAgICAgIGlmIChub3cgLSB0aGlzLmxhc3RTeW5jVGltZSA8IHRoaXMuc3luY0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sYXN0U3luY1RpbWUgPSBub3c7XHJcblxyXG4gICAgICAgIC8vIEVudmlhciBwb3NpY2nDs24gZGVsIGp1Z2Fkb3IgbG9jYWxcclxuICAgICAgICBpZiAodGhpcy5sb2NhbFBsYXllciAmJiB3c1NlcnZpY2UuaXNDb25uZWN0ZWQoKSkge1xyXG4gICAgICAgICAgICB3c1NlcnZpY2Uuc2VuZFBsYXllck1vdmUoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLngsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLnksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyLmZsaXBYLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci5hbmltcy5jdXJyZW50QW5pbT8ua2V5IHx8ICdpZGxlJ1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PSBIQU5ETEVSUyBERSBSRUQgPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1hbmVqYXIgbW92aW1pZW50byBkZWwganVnYWRvciByZW1vdG9cclxuICAgICAqL1xyXG4gICAgaGFuZGxlUmVtb3RlUGxheWVyTW92ZShkYXRhKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnJlbW90ZVBsYXllcikgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBBY3R1YWxpemFyIHBvc2ljacOzbiBkZWwgb3RybyBqdWdhZG9yXHJcbiAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuc2V0UG9zaXRpb24oZGF0YS54LCBkYXRhLnkpO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGxheWVyLnNldEZsaXBYKGRhdGEuZmxpcFgpO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIGFuaW1hY2nDs25cclxuICAgICAgICBpZiAoZGF0YS5hbmltS2V5ICYmIHRoaXMucmVtb3RlUGxheWVyLmFuaW1zLmN1cnJlbnRBbmltPy5rZXkgIT09IGRhdGEuYW5pbUtleSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5hbmltcy5wbGF5KGRhdGEuYW5pbUtleSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFuZWphciByZWNvbGVjY2nDs24gZGUgY3Jpc3RhbCBwb3IgZWwgb3RybyBqdWdhZG9yXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZVJlbW90ZUNyeXN0YWxDb2xsZWN0ZWQoZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5KOIENyaXN0YWwgJHtkYXRhLmNyeXN0YWxUeXBlfSByZWNvZ2lkbyBwb3IgZWwgb3RybyBqdWdhZG9yYCk7XHJcblxyXG4gICAgICAgIGlmIChkYXRhLmNyeXN0YWxUeXBlID09PSAnbW9vbicpIHtcclxuICAgICAgICAgICAgLy8gRGVzYWN0aXZhciBjcmlzdGFsIGRlIGx1bmFcclxuICAgICAgICAgICAgdGhpcy5tb29uQ3J5c3RhbC5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5tb29uSFVELnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBEZXNibG9xdWVhciBwdWVydGEgb3NjdXJhXHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhcmtEb29yVW5sb2NrZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5sb2NrRGFya0Rvb3IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5jcnlzdGFsVHlwZSA9PT0gJ3N1bicpIHtcclxuICAgICAgICAgICAgLy8gRGVzYWN0aXZhciBjcmlzdGFsIGRlIHNvbFxyXG4gICAgICAgICAgICB0aGlzLnN1bkNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnN1bkhVRC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRGVzYmxvcXVlYXIgcHVlcnRhIGNsYXJhXHJcbiAgICAgICAgICAgIGlmIChkYXRhLmxpZ2h0RG9vclVubG9ja2VkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVubG9ja0xpZ2h0RG9vcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFuZWphciBhcGFyaWNpw7NuIGRlbCBwb3J0YWxcclxuICAgICAqL1xyXG4gICAgaGFuZGxlUmVtb3RlUG9ydGFsU3Bhd25lZChkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfmqogUG9ydGFsIGFjdGl2YWRvIHBvciBlbCBzZXJ2aWRvcicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghdGhpcy5leGl0UG9ydGFsLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5leGl0UG9ydGFsLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5ib2R5LmVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFuZWphciB2aWN0b3JpYVxyXG4gICAgICovXHJcbiAgICBoYW5kbGVSZW1vdGVWaWN0b3J5KGRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+OiSDCoVZJQ1RPUklBIE1VTFRJSlVHQURPUiEnKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBMYW56YXIgZXNjZW5hIGRlIHZpY3RvcmlhXHJcbiAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1ZpY3RvcnlTY2VuZScsIHsgXHJcbiAgICAgICAgICAgIG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5LFxyXG4gICAgICAgICAgICBpc011bHRpcGxheWVyOiB0cnVlIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1hbmVqYXIgZ2FtZSBvdmVyIHNpbmNyb25pemFkb1xyXG4gICAgICovXHJcbiAgICBoYW5kbGVSZW1vdGVHYW1lT3ZlcihkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkoAgR2FtZSBPdmVyIHJlY2liaWRvIGRlbCBzZXJ2aWRvcjonLCBkYXRhLnJlYXNvbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUGF1c2FyIGbDrXNpY2FcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBMYW56YXIgZXNjZW5hIGRlIEdhbWUgT3ZlclxyXG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdHYW1lT3ZlclNjZW5lJywgeyBcclxuICAgICAgICAgICAgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXksXHJcbiAgICAgICAgICAgIGlzTXVsdGlwbGF5ZXI6IHRydWUsXHJcbiAgICAgICAgICAgIHJlYXNvbjogZGF0YS5yZWFzb25cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYW5lamFyIGRlc2NvbmV4acOzbiBkZWwgb3RybyBqdWdhZG9yXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZVBsYXllckRpc2Nvbm5lY3RlZCgpIHtcclxuICAgIGNvbnNvbGUubG9nKCfinYwgRWwgb3RybyBqdWdhZG9yIHNlIGRlc2NvbmVjdMOzJyk7XHJcbiAgICBcclxuICAgIC8vIFBhdXNhciBmw61zaWNhXHJcbiAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuICAgIFxyXG4gICAgLy8gUGF1c2FyIGVzY2VuYVxyXG4gICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgXHJcbiAgICAvLyBNb3N0cmFyIG1lbnNhamUgY29uIGZvbmRvIG9zY3Vyb1xyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuICAgIFxyXG4gICAgY29uc3QgYmcgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgwMDAwMDAsIDAuOSlcclxuICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgIC5zZXREZXB0aCgyMDAwKTtcclxuICAgIFxyXG4gICAgY29uc3QgdGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyIC0gODAsIFxyXG4gICAgICAgICfimqDvuI8gUEFSVElEQSBURVJNSU5BREEnLCB7XHJcbiAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICBjb2xvcjogJyNmZjY2NjYnLFxyXG4gICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0U2Nyb2xsRmFjdG9yKDApLnNldERlcHRoKDIwMDEpO1xyXG5cclxuICAgIGNvbnN0IHJlYXNvblRleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiwgXHJcbiAgICAgICAgJ0VsIG90cm8ganVnYWRvciBhYmFuZG9uw7MgbGEgcGFydGlkYScsIHtcclxuICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgYWxpZ246ICdjZW50ZXInXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRTY3JvbGxGYWN0b3IoMCkuc2V0RGVwdGgoMjAwMSk7XHJcblxyXG4gICAgY29uc3QgYmFja0J0biA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyICsgMTAwLFxyXG4gICAgICAgICfwn4+gIFZvbHZlciBhbCBNZW7DuicsIHtcclxuICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzQ0NDQ0NCcsXHJcbiAgICAgICAgcGFkZGluZzogeyB4OiAyMCwgeTogMTAgfVxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgyMDAxKTtcclxuXHJcbiAgICBiYWNrQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICBiYWNrQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzY2NjY2NicgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBiYWNrQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgIGJhY2tCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNDQ0NDQ0JyB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGJhY2tCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIC8vIERlc2NvbmVjdGFyIFdlYlNvY2tldFxyXG4gICAgICAgIHdzU2VydmljZS5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRGV0ZW5lciBtw7pzaWNhXHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVm9sdmVyIGFsIG1lbsO6XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuICAgIG9uQ29ubmVjdGlvbkxvc3QoKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gUmVtb3ZlciBsaXN0ZW5lciBwYXJhIGV2aXRhciBxdWUgc2UgZGlzcGFyZSBtaWVudHJhcyBDb25uZWN0aW9uTG9zdFNjZW5lIGVzdMOhIGFjdGl2YVxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdDb25uZWN0aW9uTG9zdFNjZW5lJywge3ByZXZpb3VzU2NlbmU6ICdHYW1lU2NlbmUnfSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgICBjb25zdCBpbml0aWFsWSA9IDE1MDA7XHJcblxyXG4gICAgICAgICAvLyBDcmVhY2nDs24gcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubml2aWEgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxMzAwLCBpbml0aWFsWSwgJ25pdmlhJykuc2V0Qm91bmNlKDAuMikuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZSA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDEwMCwgaW5pdGlhbFksICdzb2xlbm5lJykuc2V0Qm91bmNlKDAuMikuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLm5pdmlhLnNldFNpemUoMTIwLCAyNDApO1xyXG4gICAgICAgIHRoaXMubml2aWEuc2V0T2Zmc2V0KDExMCwgNTApO1xyXG5cclxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0U2l6ZSgxMjAsIDI0MCk7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldE9mZnNldCgxMTAsIDUwKTtcclxuXHJcbiAgICAgICAgLy8gRXNjYWxhZG8gZGUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLm5pdmlhLnNldFNjYWxlKDAuNSk7IFxyXG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRTY2FsZSgwLjUpO1xyXG5cclxuICAgICAgICAvLyBDb250cm9sZXMgZGUgTml2aWEgKFRlY2xhcyBXQVNEKVxyXG4gICAgICAgIHRoaXMubml2aWFDb250cm9scyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7XHJcbiAgICAgICAgICAgIGxlZnQ6ICdBJyxcclxuICAgICAgICAgICAgcmlnaHQ6ICdEJyxcclxuICAgICAgICAgICAgdXA6ICdXJywgICAgLy8gc2FsdG9cclxuICAgICAgICAgICAgaW50ZXJhY3Q6ICdFJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBDb250cm9sZXMgZGUgU29sZW5uZSAoRmxlY2hhcylcclxuICAgICAgICB0aGlzLnNvbGVubmVDb250cm9scyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7XHJcbiAgICAgICAgICAgIGxlZnQ6ICdMRUZUJyxcclxuICAgICAgICAgICAgcmlnaHQ6ICdSSUdIVCcsXHJcbiAgICAgICAgICAgIHVwOiAnVVAnLCAgIC8vIHNhbHRvXHJcbiAgICAgICAgICAgIGludGVyYWN0OiAnU1BBQ0UnXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNyZWF0ZUFuaW1hdGlvbnMoa2V5KSB7XHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBjb3JyZXJcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9ydW5gLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBwcmVmaXg6ICdydW5fJywgc3RhcnQ6IDEsIGVuZDogNCB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBzYWx0b1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBgJHtrZXl9X2p1bXBgLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBwcmVmaXg6ICdqdW1wXycsIHN0YXJ0OiAxLCBlbmQ6IDYgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlIGlkbGVcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9pZGxlYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgZnJhbWVzOiBbJ2lkbGVfMSddIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBhdXNlZFN0YXRlKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJywge29yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5fSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lKCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzSGFuZGxpbmdEaXNjb25uZWN0aW9uID0gZmFsc2U7IC8vIFJlc2V0IGRlbCBmbGFnIGRlIGRlc2NvbmV4acOzblxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVBhdXNlKCkge1xyXG4gICAgICAgIGNvbnN0IG5ld1BhdXNlZFN0YXRlID0gIXRoaXMuaXNQYXVzZWQ7XHJcbiAgICAgICAgdGhpcy5zZXRQYXVzZWRTdGF0ZShuZXdQYXVzZWRTdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1NldHRpbmdzU2NlbmUnKTsgXHJcbiAgICAgICAgLy90aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICAvLyBMw7NnaWNhIGRlIHBhdXNhIGNvbiB0ZWNsYSBFU0NcclxuICAgICAgICBpZiAodGhpcy5lc2NLZXkuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGF5ZXIpIHtcclxuICAgICAgICAgICAgLy8gU29sbyBjb250cm9sYXMgVFUgcGVyc29uYWplXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICduaXZpYScpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUGxheWVyTW92ZW1lbnQodGhpcy5uaXZpYSwgdGhpcy5uaXZpYUNvbnRyb2xzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3luY0xvY2FsUGxheWVyUG9zaXRpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdzb2xlbm5lJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQbGF5ZXJNb3ZlbWVudCh0aGlzLnNvbGVubmUsIHRoaXMuc29sZW5uZUNvbnRyb2xzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3luY0xvY2FsUGxheWVyUG9zaXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE1PRE8gTE9DQUxcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVQbGF5ZXJNb3ZlbWVudCh0aGlzLm5pdmlhLCB0aGlzLm5pdmlhQ29udHJvbHMpO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZVBsYXllck1vdmVtZW50KHRoaXMuc29sZW5uZSwgdGhpcy5zb2xlbm5lQ29udHJvbHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5oYW5kbGVDYW1lcmFBbmRDb25zdHJhaW50cygpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5leGl0UG9ydGFsICYmIHRoaXMuZXhpdFBvcnRhbC52aXNpYmxlICYmIHRoaXMuZXhpdFBvcnRhbC5ib2R5LmVuYWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDYW1lcmFBbmRDb25zdHJhaW50cygpIHtcclxuICAgICAgICBjb25zdCBuaXZpYVkgPSB0aGlzLm5pdmlhLnk7XHJcbiAgICAgICAgY29uc3Qgc29sZW5uZVkgPSB0aGlzLnNvbGVubmUueTtcclxuXHJcbiAgICAgICAgLy8gQ2VudHJhciBsYSBjw6FtYXJhIGVudHJlIGFtYm9zIHBlcnNvbmFqZXNcclxuICAgICAgICBjb25zdCBtaWRZID0gKG5pdmlhWSArIHNvbGVubmVZKSAvIDI7XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGFyIGxhIHBvc2ljacOzbiBtZWRpYSBlbiBZXHJcbiAgICAgICAgbGV0IGRlc2lyZWRDYW1lcmFZID0gbWlkWTtcclxuXHJcbiAgICAgICAgLy8gRGVzcGxhemFyIGxhIGPDoW1hcmEgc3VhdmVtZW50ZVxyXG4gICAgICAgIGNvbnN0IGxlcnBGYWN0b3IgPSAwLjA1O1xyXG4gICAgICAgIGNvbnN0IGNhbWVyYUhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2Nyb2xsWSA9IFBoYXNlci5NYXRoLkxpbmVhcihcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2Nyb2xsWSwgXHJcbiAgICAgICAgICAgIGRlc2lyZWRDYW1lcmFZIC0gY2FtZXJhSGVpZ2h0IC8gMiwgXHJcbiAgICAgICAgICAgIGxlcnBGYWN0b3JcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBWaWV3cG9ydCBjb25zdHJhaW50XHJcbiAgICAgICAgY29uc3QgbWF4VmVydGljYWxHYXAgPSBjYW1lcmFIZWlnaHQgKiAwLjc7IC8vIGRpc3RhbmNpYSBtw6F4aW1hIHBlcm1pdGlkYSBlbnRyZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlWSA9IE1hdGguYWJzKG5pdmlhWSAtIHNvbGVubmVZKTtcclxuXHJcbiAgICAgICAgaWYgKGRpc3RhbmNlWSA+IG1heFZlcnRpY2FsR2FwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZhc3RlclBsYXllciA9IChuaXZpYVkgPCBzb2xlbm5lWSkgPyB0aGlzLm5pdmlhIDogdGhpcy5zb2xlbm5lO1xyXG4gICAgICAgICAgICBjb25zdCBzbG93ZXJQbGF5ZXIgPSAobml2aWFZIDwgc29sZW5uZVkpID8gdGhpcy5zb2xlbm5lIDogdGhpcy5uaXZpYTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzbG93ZXJQbGF5ZXIuYm9keS5ibG9ja2VkLmRvd24gfHwgc2xvd2VyUGxheWVyLnkgPiBmYXN0ZXJQbGF5ZXIueSArIG1heFZlcnRpY2FsR2FwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZXRlbmVyIGVsIGF2YW5jZSB2ZXJ0aWNhbCAoaGFjaWEgYXJyaWJhKSBkZWwganVnYWRvciBtw6FzIHLDoXBpZG9cclxuICAgICAgICAgICAgICAgIGlmIChmYXN0ZXJQbGF5ZXIuYm9keS52ZWxvY2l0eS55IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZhc3RlclBsYXllci5ib2R5LnZlbG9jaXR5LnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJNb3ZpbWllbnRvIHZlcnRpY2FsIHJlc3RyaW5naWRvIHBvciBlbCBqdWdhZG9yIHJlemFnYWRvLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVQbGF5ZXJNb3ZlbWVudChwbGF5ZXJTcHJpdGUsIGNvbnRyb2xzKSB7XHJcbiAgICAgICAgLy8gVmVsb2NpZGFkIGRlbCBtb3ZpbWllbnRvXHJcbiAgICAgICAgY29uc3Qgc3BlZWQgPSA0MDA7XHJcbiAgICAgICAgY29uc3QganVtcFZlbG9jaXR5ID0gOTAwO1xyXG4gICAgICAgIGNvbnN0IGtleSA9IHBsYXllclNwcml0ZS50ZXh0dXJlLmtleTtcclxuICAgICAgICBjb25zdCBpc01vdmluZyA9IGNvbnRyb2xzLmxlZnQuaXNEb3duIHx8IGNvbnRyb2xzLnJpZ2h0LmlzRG93bjtcclxuICAgICAgICBjb25zdCBpc0dyb3VuZGVkID0gcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xyXG4gICAgICAgIGxldCBhbmlta2V5ID0gJyc7XHJcblxyXG4gICAgICAgIC8vIEzDs2dpY2EgcGFyYSByZXByb2R1Y2lyIGVsIHNvbmlkbyBkZSBjYW1pbmFyXHJcbiAgICAgICBpZiAoaXNNb3ZpbmcgJiYgaXNHcm91bmRlZCkge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbml2aWEnICYmIHRoaXMuaXNOaXZpYVdhbGtpbmcgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcgPSB0aGlzLnNvdW5kLmFkZCgnd2Fsa1NvdW5kJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDEgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nLnBsYXkoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdzb2xlbm5lJyAmJiB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9IHRoaXMuc291bmQuYWRkKCd3YWxrU291bmQnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZy5wbGF5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBEZXRlbmVyIGVsIHNvbmlkbyBzaSBubyBzZSBlc3TDoSBtb3ZpZW5kbyBvIGVzdMOhIHNhbHRhbmRvXHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICduaXZpYScgJiYgdGhpcy5pc05pdmlhV2Fsa2luZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gbnVsbDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdzb2xlbm5lJyAmJiB0aGlzLmlzU29sZW5uZVdhbGtpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNb3ZpbWllbnRvIGhvcml6b250YWxcclxuICAgICAgICBpZiAoY29udHJvbHMubGVmdC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WCgtc3BlZWQpO1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0RmxpcFgoZmFsc2UpOyAvLyBNaXJhciBhIGxhIGl6cXVpZXJkYVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY29udHJvbHMucmlnaHQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVgoc3BlZWQpO1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0RmxpcFgodHJ1ZSk7IC8vIE1pcmFyIGEgbGEgZGVyZWNoYVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTYWx0byAoc29sbyBzaSBlc3TDoSB0b2NhbmRvIGVsIHN1ZWxvKVxyXG4gICAgICAgIGNvbnN0IGlzSnVtcGluZyA9IGNvbnRyb2xzLnVwLmlzRG93biAmJiBwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd247XHJcblxyXG4gICAgICAgIGlmIChpc0p1bXBpbmcpIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WSgtanVtcFZlbG9jaXR5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgYW5pbWFjaW9uZXNcclxuICAgICAgICBpZiAoIXBsYXllclNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bikge1xyXG4gICAgICAgICAgICAvLyBFbiBlbCBhaXJlXHJcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X2p1bXBgO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY29udHJvbHMubGVmdC5pc0Rvd24gfHwgY29udHJvbHMucmlnaHQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIC8vIENvcnJpZW5kb1xyXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9ydW5gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIElkbGVcclxuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1faWRsZWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbGEgYW5pbWFjacOzbiBzb2xvIHNpIGVzIGRpZmVyZW50ZSBhIGxhIGFjdHVhbFxyXG4gICAgICAgIGlmIChwbGF5ZXJTcHJpdGUuYW5pbXMuY3VycmVudEFuaW0/LmtleSAhPT0gYW5pbWtleSkge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuYW5pbXMucGxheShhbmlta2V5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgaW50ZXJhY2Npw7NuXHJcbiAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bihjb250cm9scy5pbnRlcmFjdCkpIHtcclxuICAgICAgICAgICAgLy8gQXF1w60gdmEgbGEgbMOzZ2ljYSBkZSBpbnRlcmFjY2nDs24gKHBvciBlamVtcGxvLCBhYnJpciBwdWVydGFzLCByZWNvZ2VyIG9iamV0b3MsIGV0Yy4pXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbnRlcmFjY2nDs24gcmVhbGl6YWRhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbGxlY3RNb29uQ3J5c3RhbChwbGF5ZXIsIGNyeXN0YWwpIHtcclxuICAgICAgICBjcnlzdGFsLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5tb29uSFVELnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdjb2xsZWN0TW9vbkNyeXN0YWxTb3VuZCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ05pdmlhIGhhIHJlY29naWRvIGVsIENyaXN0YWwgZGUgbGEgTHVuYScpO1xyXG4gICAgICAgIHRoaXMudW5sb2NrRGFya0Rvb3IoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNNdWx0aXBsYXllciAmJiB3c1NlcnZpY2UuaXNDb25uZWN0ZWQoKSkge1xyXG4gICAgICAgICAgICB3c1NlcnZpY2Uuc2VuZENyeXN0YWxDb2xsZWN0KCdtb29uJyk7XHJcbiAgICAgICAgfSAgIFxyXG4gICAgfVxyXG5cclxuICAgIGNvbGxlY3RTdW5DcnlzdGFsKHBsYXllciwgY3J5c3RhbCkge1xyXG4gICAgICAgIGNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zdW5IVUQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2NvbGxlY3RTdW5DcnlzdGFsU291bmQnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTb2xlbm5lIGhhIHJlY29naWRvIGVsIENyaXN0YWwgZGVsIFNvbCcpO1xyXG4gICAgICAgIHRoaXMudW5sb2NrTGlnaHREb29yKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGF5ZXIgJiYgd3NTZXJ2aWNlLmlzQ29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLnNlbmRDcnlzdGFsQ29sbGVjdCgnc3VuJyk7XHJcbiAgICAgICAgfSAgIFxyXG4gICAgfVxyXG5cclxuICAgIHVubG9ja0RhcmtEb29yKCkge1xyXG4gICAgICAgIC8vIEzDs2dpY2EgcGFyYSBkZXNibG9xdWVhciBsYSBwdWVydGEgb3NjdXJhXHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjFIaXRib3guYm9keS5lbmFibGUgPSBmYWxzZTsgICBcclxuICAgICAgICB0aGlzLmRhcmtEb29yMUhpdGJveC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLmRhcmtEb29yMS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnUHVlcnRhIE9zY3VyYSBkZXNibG9xdWVhZGEnKTtcclxuICAgICAgICB0aGlzLmNoZWNrUG9ydGFsU3Bhd24oKTtcclxuICAgIH1cclxuXHJcbiAgICB1bmxvY2tMaWdodERvb3IoKSB7XHJcbiAgICAgICAgLy8gTMOzZ2ljYSBwYXJhIGRlc2Jsb3F1ZWFyIGxhIHB1ZXJ0YSBjbGFyYVxyXG4gICAgICAgIHRoaXMubGlnaHREb29yMUhpdGJveC5ib2R5LmVuYWJsZSA9IGZhbHNlOyAgIFxyXG4gICAgICAgIHRoaXMubGlnaHREb29yMUhpdGJveC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjEuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1B1ZXJ0YSBDbGFyYSBkZXNibG9xdWVhZGEnKTtcclxuICAgICAgICB0aGlzLmNoZWNrUG9ydGFsU3Bhd24oKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1BvcnRhbFNwYXduKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgJiYgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQW1ib3MgY3Jpc3RhbGVzIHJlY29naWRvcy4gRWwgcG9ydGFsIGFwYXJlY2UuJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGVja0xldmVsQ29tcGxldGUoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIE1PRE8gTE9DQUxcclxuICAgICAgICBpZiAoIXRoaXMuaXNNdWx0aXBsYXllcikge1xyXG4gICAgICAgICAgICAvLyBWZXJpZmljYXIgb3ZlcmxhcCBtYW51YWxtZW50ZVxyXG4gICAgICAgICAgICBjb25zdCBuaXZpYU9uUG9ydGFsID0gdGhpcy5waHlzaWNzLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5leGl0UG9ydGFsKTtcclxuICAgICAgICAgICAgY29uc3Qgc29sZW5uZU9uUG9ydGFsID0gdGhpcy5waHlzaWNzLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLmV4aXRQb3J0YWwpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5pdmlhT25Qb3J0YWwgJiYgc29sZW5uZU9uUG9ydGFsICYmIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsICYmIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfCoU5JVkVMIENPTVBMRVRBRE8hJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnVmljdG9yeVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNT0RPIE1VTFRJSlVHQURPUlxyXG4gICAgICAgIGlmICghdGhpcy5leGl0UG9ydGFsIHx8ICF0aGlzLmV4aXRQb3J0YWwudmlzaWJsZSB8fCAhdGhpcy5sb2NhbFBsYXllcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBWZXJpZmljYXIgb3ZlcmxhcCBkZWwganVnYWRvciBsb2NhbCBjb24gZWwgcG9ydGFsXHJcbiAgICAgICAgY29uc3QgaXNPdmVybGFwcGluZyA9IHRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMubG9jYWxQbGF5ZXIsIHRoaXMuZXhpdFBvcnRhbCk7XHJcblxyXG4gICAgICAgIC8vIERldGVybWluYXIgZWwgZXN0YWRvIGFudGVyaW9yIHNlZ8O6biBlbCByb2xcclxuICAgICAgICBsZXQgcHJldmlvdXNTdGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICduaXZpYScpIHtcclxuICAgICAgICAgICAgcHJldmlvdXNTdGF0ZSA9IHRoaXMubml2aWFPblBvcnRhbDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3NvbGVubmUnKSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzU3RhdGUgPSB0aGlzLnNvbGVubmVPblBvcnRhbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFjdHVhbGl6YXIgZXN0YWRvIGxvY2FsIHNpZW1wcmVcclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAnbml2aWEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IGlzT3ZlcmxhcHBpbmc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdzb2xlbm5lJykge1xyXG4gICAgICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IGlzT3ZlcmxhcHBpbmc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBFbnZpYXIgZXN0YWRvIGFsIHNlcnZpZG9yIGNhZGEgZnJhbWUgKHBhcmEgYXNlZ3VyYXIgc2luY3Jvbml6YWNpw7NuKVxyXG4gICAgICAgIGlmICh3c1NlcnZpY2UuaXNDb25uZWN0ZWQoKSkge1xyXG4gICAgICAgICAgICB3c1NlcnZpY2Uuc2VuZFBvcnRhbFRvdWNoKGlzT3ZlcmxhcHBpbmcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYPCfmqogJHt0aGlzLnBsYXllclJvbGV9IGVuIHBvcnRhbDogJHtpc092ZXJsYXBwaW5nfWApO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gY2hlY2tMZXZlbENvbXBsZXRlOicsIGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuICAgIGVuZGdhbWUoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJKdWVnbyBUZXJtaW5hZG9cIik7XHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZlcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCwgdGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWSAtIDEwMCwgXCLCoU5pdmVsIENvbXBsZXRhZG8hXCIsIHsgXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsIGZpbGw6ICcjRkZGRkZGJyB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgICAgIC8vIFJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIGNvbnN0IHJlc3RhcnRidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDUsIDQxNSwgJ1Jlc3RhcnRCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjkzLCA0MjUsICdSZXN0YXJ0QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHJlc3RhcnRidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTY2VuZUtleSA9IHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aob3JpZ2luYWxTY2VuZUtleSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNNdWx0aXBsYXllcikge1xyXG4gICAgICAgICAgICB3c1NlcnZpY2Uub2ZmKCdwbGF5ZXJNb3ZlJywgdGhpcy5wbGF5ZXJNb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIHdzU2VydmljZS5vZmYoJ2NyeXN0YWxDb2xsZWN0ZWQnLCB0aGlzLmNyeXN0YWxDb2xsZWN0ZWRIYW5kbGVyKTtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLm9mZigncG9ydGFsU3Bhd25lZCcsIHRoaXMucG9ydGFsU3Bhd25lZEhhbmRsZXIpO1xyXG4gICAgICAgICAgICB3c1NlcnZpY2Uub2ZmKCd2aWN0b3J5JywgdGhpcy52aWN0b3J5SGFuZGxlcik7XHJcbiAgICAgICAgICAgIHdzU2VydmljZS5vZmYoJ2dhbWVPdmVyJywgdGhpcy5nYW1lT3ZlckhhbmRsZXIpO1xyXG4gICAgICAgICAgICB3c1NlcnZpY2Uub2ZmKCdwbGF5ZXJEaXNjb25uZWN0ZWQnLCB0aGlzLnBsYXllckRpc2Nvbm5lY3RlZEhhbmRsZXIpOyBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdDcmVkaXRzQm94JywgJ2Fzc2V0cy9jYWphLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBQYXVzYVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGF1c2VUZXh0JywgJ2Fzc2V0cy90ZXh0b19wYXVzYS5QTkcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdE1pbkJ1dHRvbicsICdhc3NldHMvY2VycmFyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdE1pbkJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9jZXJyYXJIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHR1dG9yaWFsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUdXRvcmlhbEJ1dHRvbicsICdhc3NldHMvdHV0b3JpYWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdUdXRvcmlhbEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy90dXRvcmlhbEhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgcmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uJywgJ2Fzc2V0cy9yZWluaWNpYXIuUE5HJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uSG92ZXInLCAnYXNzZXRzL3JlaW5pY2lhckhvdmVyLlBORycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSB2b2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXRNZW51QnV0dG9uJywgJ2Fzc2V0cy9tZW51LlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmV0TWVudUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9tZW51SG92ZXIuUE5HJyk7XHJcblxyXG4gICAgfVxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gZGltZW5zaW9uZXMgZGUgbGEgcGFudGFsbGFcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmZXJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgICAvLyBSZWN0w6FuZ3VsbyBxdWUgY3VicmUgdG9kYSBsYSBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoLCAweDA3MDcyMiwgMC45KS5zZXRPcmlnaW4oMCk7XHJcblxyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDQwMCwgJ0NyZWRpdHNCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBQYXVzYVxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgMjEwLCAnUGF1c2VUZXh0JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIGNvbnN0IEV4aXRCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMDY5LCAxNzAsICdFeGl0TWluQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEwNjgsIDE3MCwgJ0V4aXRNaW5CdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoRXhpdEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFJlZ3Jlc2FyIGEgbGEgZXNjZW5hIG9yaWdpbmFsXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbCkgdGhpcy5zY2VuZS5yZXN1bWUob3JpZ2luYWwpOyAvLyByZWFudWRhIHByaW1lcm8gbGEgZXNjZW5hIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpOyAvLyBsdWVnbyBkZXRpZW5lIFBhdXNlU2NlbmVcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIFR1dG9yaWFsIFxyXG4gICAgICAgIGNvbnN0IHR1dG9yaWFsYnRuID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCAzMjAsICdUdXRvcmlhbEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICB0dXRvcmlhbGJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCAzMjAsICdUdXRvcmlhbEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCh0dXRvcmlhbGJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHR1dG9yaWFsYnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBJciBhIGxhIGVzY2VuYSBkZSB0dXRvcmlhbFxyXG4gICAgICAgIHR1dG9yaWFsYnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gbGFuemFyIFR1dG9yaWFsU2NlbmUgeSBwYXVzYXIgUGF1c2VTY2VuZSBwYXJhIHBvZGVyIHJlYW51ZGFybGEgZGVzcHXDqXNcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1R1dG9yaWFsU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdQYXVzZVNjZW5lJyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSZWluaWNpYXIgbml2ZWxcclxuICAgICAgICBjb25zdCByZXN0YXJ0YnRuID0gdGhpcy5hZGQuaW1hZ2UoNzA1LCA0MTUsICdSZXN0YXJ0QnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDY5MywgNDI1LCAnUmVzdGFydEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyZXN0YXJ0YnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2NlbmVLZXkgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBWb2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgY29uc3QgbWVudWJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTE1LCAnUmV0TWVudUJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBtZW51YnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg2OTgsIDUxNSwgJ1JldE1lbnVCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgobWVudWJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbWVudWJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEdldCBhbGwgc2NlbmVzXHJcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lcyA9IHRoaXMuZ2FtZS5zY2VuZS5rZXlzO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHNjZW5lcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ01lbnVTY2VuZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aoa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVHV0b3JpYWxTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignVHV0b3JpYWxTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICNyZWdpb24gUHJlbG9hZFxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXRvcmlhbEJveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gSW1hZ2VuZXMgZGUgdGVjbGFzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdrZXlzJywgJ2Fzc2V0cy90ZWNsYXMucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NvbGVubmVJY29uJywgJ2Fzc2V0cy9wZXJzb25hamVTb2xlbm5lLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbml2aWFJY29uJywgJ2Fzc2V0cy9wZXJzb25hamVOaXZpYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gTGxhdmVzXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdzdW5kcm9wX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9zdW5kcm9wLnBuZycsIHsgZnJhbWVXaWR0aDogMjE0LCBmcmFtZUhlaWdodDogMjA2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnbW9vbmRyb3Bfc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL21vb25kcm9wLnBuZycsIHsgZnJhbWVXaWR0aDogMjE0LCBmcmFtZUhlaWdodDogMjA2IH0pO1xyXG5cclxuICAgICAgICAvLyBUcmFtcGFcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3RyYW1wYScsICdhc3NldHMvdHJhbXBhcy9saWFuYXNfcGxhdGFmb3JtYXMucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFB1ZXJ0YXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFPc2N1cmEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX29zY3VyYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb3J0YWxGaW5hbCcsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9wb3J0YWwxLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3RvbiBzaWd1aWVudGUgcGFnaW5hXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdOZXh0UGFnZUJ1dHRvbicsICdhc3NldHMvZmxlY2hhRGVyZWNoYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ05leHRQYWdlQnV0dG9uT2ZmJywgJ2Fzc2V0cy9mbGVjaGFEZXJlY2hhT3NjdXJhLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3RvbiBwYWdpbmEgYW50ZXJpb3JcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1ByZXZQYWdlQnV0dG9uJywgJ2Fzc2V0cy9mbGVjaGFJenF1aWVyZGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQcmV2UGFnZUJ1dHRvbk9mZicsICdhc3NldHMvZmxlY2hhSXpxdWllcmRhT3NjdXJhLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBJbWFnZW4gdHV0b3JpYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ltYWdlVHV0b3JpYWwnLCAnYXNzZXRzL3BhbnRhbGxhX3R1dG9yaWFsLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uJywgJ2Fzc2V0cy9jZXJyYXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uSG92ZXInLCAnYXNzZXRzL2NlcnJhckhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBkZWwgdHV0b3JpYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1R1dG9yaWFsVGV4dCcsICdhc3NldHMvdGV4dG9fdHV0b3JpYWwuUE5HJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gI3JlZ2lvbiBDcmVhdGVcclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIGRpbWVuc2lvbmVzIGRlIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XHJcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuc2NhbGUuaGVpZ2h0O1xyXG4gICAgICAgIC8vIGFzZWd1cmFyIHF1ZSBlc3RhIGVzY2VuYSBzZSBtdWVzdHJlIHBvciBlbmNpbWEgYWwgY3JlYXJsYVxyXG4gICAgICAgIHRoaXMuc2NlbmUuYnJpbmdUb1RvcCgpO1xyXG4gICAgICAgIHRoaXMuaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZnJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgICAvLyB2YXJpYWJsZXMgZGUgY29udHJvbCBkZSBwYWdpbmFzXHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgdGhpcy5uZXdQYWdlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gdGllbXBvXHJcbiAgICAgICAgdGhpcy50aW1lciA9IDA7XHJcbiAgICAgICAgdGhpcy5pbml0VGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5sYWcgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmNyeXN0YWxzID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cCgpO1xyXG5cclxuICAgICAgICAvLyBSZWN0w6FuZ3VsbyBxdWUgY3VicmUgdG9kYSBsYSBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoLCAweDA3MDcyMiwgMC45KS5zZXRPcmlnaW4oMCk7XHJcbiBcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAndHV0b3JpYWxCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBCb3RvbmVzIGRlIHBhZ2luYXMgZGVzYWN0aXZhZG9zXHJcbiAgICAgICAgdGhpcy5wcmV2UGFnZUJ1dHRvbk9mZiA9IHRoaXMuYWRkLmltYWdlKDY1MCwgNjI1LCAnUHJldlBhZ2VCdXR0b25PZmYnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgwLjcpO1xyXG4gICAgICAgIHRoaXMubmV4dFBhZ2VCdXR0b25PZmYgPSB0aGlzLmFkZC5pbWFnZSg3NTAsIDYyNSwgJ05leHRQYWdlQnV0dG9uT2ZmJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMC43KTtcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgdGhpcy5FeGl0QnRuID0gdGhpcy5hZGQuaW1hZ2UoMTA2OSwgMTcwLCAnRXhpdE1pbkJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICB0aGlzLkV4aXRCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDY4LCAxNzAsICdFeGl0TWluQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMuRXhpdEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuRXhpdEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmVncmVzYXIgYSBsYSBlc2NlbmEgb3JpZ2luYWxcclxuICAgICAgICB0aGlzLkV4aXRCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lO1xyXG4gICAgICAgICAgICBpZiAob3JpZ2luYWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKG9yaWdpbmFsKTsgLy8gcmVhbnVkYSBQYXVzZVNjZW5lIHNpIGZ1ZSBsYSBvcmlnaW5hbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpOyAvLyBjaWVycmEgVHV0b3JpYWxTY2VuZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDIxMCwgJ1R1dG9yaWFsVGV4dCcpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDEpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyAjcmVnaW9uIFVwZGF0ZVxyXG4gICAgdXBkYXRlKHRpbWUpIHtcclxuICAgICAgICBpZiAodGhpcy5pbml0VGltZSA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdFRpbWUgPSB0aW1lO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRpbWVyID0gdGltZSAtIHRoaXMuaW5pdFRpbWUgKyB0aGlzLmxhZztcclxuICAgICAgICB0aGlzLmxhZyA9IDA7XHJcblxyXG4gICAgICAgIC8vICNyZWdpb24gUGFnaW5hIFR1dG9yaWFsIDFcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA9PSAxICkge1xyXG4gICAgICAgICAgICAvLyBjYXJnYXIgcGFnaW5hIDFcclxuICAgICAgICAgICAgaWYodGhpcy5uZXdQYWdlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMua2V5c0ltZyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgMzgwLCAna2V5cycpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubml2aWFJbWcgPSB0aGlzLmFkZC5pbWFnZSg1MTUsIDU4MCwgJ25pdmlhSWNvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc29sZW5uZUltZyA9IHRoaXMuYWRkLmltYWdlKDg4NSwgNTgwLCAnc29sZW5uZUljb24nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBCb3TDs24gcGFnaW5hIHNpZ3VpZW50ZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRQYWdlQnRuMSA9IHRoaXMuYWRkLmltYWdlKDc1MCwgNjI1LCAnTmV4dFBhZ2VCdXR0b24nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRQYWdlQnRuMS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZWxpbWluYXIgYXNzZXRzIHBhZ2luYSAxXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rZXlzSW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5pdmlhSW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvbGVubmVJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4xLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWN0dWFsaXphciBwYWdpbmFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdQYWdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4xLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5ob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg3NTAsIDYyNSwgJ05leHRQYWdlQnV0dG9uJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5uZXh0UGFnZUJ0bjEuZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4xLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5ld1BhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAjcmVnaW9uIFBhZ2luYSBUdXRvcmlhbCAyXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRQYWdlID09IDIpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5uZXdQYWdlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHVlcnRhQ2xhcmEgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDIwMCwgJ3B1ZXJ0YUNsYXJhJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnB1ZXJ0YU9zY3VyYSA9IHRoaXMuYWRkLmltYWdlKDgwMCwgMjAwLCAncHVlcnRhT3NjdXJhJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC42KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vb25DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoNjAwLCAzODAsICdtb29uZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3VuQ3J5c3RhbCA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKDgxNSwgNDY1LCAnc3VuZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubml2aWFJbWcgPSB0aGlzLmFkZC5pbWFnZSgzNTAsIDM4MCwgJ25pdmlhSWNvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lSW1nID0gdGhpcy5hZGQuaW1hZ2UoMzUwLCA0NjUsICdzb2xlbm5lSWNvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQm90w7NuIHBhZ2luYSBzaWd1aWVudGVcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4yID0gdGhpcy5hZGQuaW1hZ2UoNzUwLCA2MjUsICdOZXh0UGFnZUJ1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4yLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlbGltaW5hciBhc3NldHMgcGFnaW5hIDJcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wdWVydGFDbGFyYSl7dGhpcy5wdWVydGFDbGFyYS5kZXN0cm95KCk7fVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnB1ZXJ0YU9zY3VyYSl7dGhpcy5wdWVydGFPc2N1cmEuZGVzdHJveSgpO31cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb29uQ3J5c3RhbCl7dGhpcy5tb29uQ3J5c3RhbC5kZXN0cm95KCk7fVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1bkNyeXN0YWwpe3RoaXMuc3VuQ3J5c3RhbC5kZXN0cm95KCk7fVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5pdmlhSW1nKXt0aGlzLm5pdmlhSW1nLmRlc3Ryb3koKTt9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc29sZW5uZUltZyl7dGhpcy5zb2xlbm5lSW1nLmRlc3Ryb3koKTt9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2UGFnZUJ0bjIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4yLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZQYWdlQnV0dG9uT2ZmLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRQYWdlQnV0dG9uT2ZmLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWN0dWFsaXphciBwYWdpbmFcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdQYWdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4yLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDc1MCwgNjI1LCAnTmV4dFBhZ2VCdXR0b24nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aCh0aGlzLm5leHRQYWdlQnRuMi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4yLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEJvdMOzbiBwYWdpbmEgYW50ZXJpb3JcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJldlBhZ2VCdG4yID0gdGhpcy5hZGQuaW1hZ2UoNjUwLCA2MjUsICdQcmV2UGFnZUJ1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJldlBhZ2VCdG4yLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlbGltaW5hciBhc3NldHMgcGFnaW5hIDJcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wdWVydGFDbGFyYSl7dGhpcy5wdWVydGFDbGFyYS5kZXN0cm95KCk7fVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnB1ZXJ0YU9zY3VyYSl7dGhpcy5wdWVydGFPc2N1cmEuZGVzdHJveSgpO31cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb29uQ3J5c3RhbCl7dGhpcy5tb29uQ3J5c3RhbC5kZXN0cm95KCk7fVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1bkNyeXN0YWwpe3RoaXMuc3VuQ3J5c3RhbC5kZXN0cm95KCk7fVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5pdmlhSW1nKXt0aGlzLm5pdmlhSW1nLmRlc3Ryb3koKTt9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc29sZW5uZUltZyl7dGhpcy5zb2xlbm5lSW1nLmRlc3Ryb3koKTt9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2UGFnZUJ0bjIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2VCdG4yLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBhY3R1YWxpemFyIHBhZ2luYVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgLT0gMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld1BhZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2UGFnZUJ0bjIub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5ob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjUwLCA2MjUsICdQcmV2UGFnZUJ1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMucHJldlBhZ2VCdG4yLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2UGFnZUJ0bjIub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV3UGFnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0VGltZSA9IHRpbWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vICNyZWdpb24gUGFnaW5hIDIgYW5pbWFjaW9uZXNcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lciA8IDUwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC50d2Vlbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5uaXZpYUltZyxcclxuICAgICAgICAgICAgICAgICAgICBlYXNlOiAnTGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNjAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHg6IDYwMCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyID4gNjAwICYmIHRoaXMudGltZXIgPCA2NTApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHVlcnRhT3NjdXJhLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9vbkNyeXN0YWwuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyID4gMTAwMCAmJiB0aGlzLnRpbWVyIDwgMTA1MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudHdlZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuc29sZW5uZUltZyxcclxuICAgICAgICAgICAgICAgICAgICBlYXNlOiAnTGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICB4OiA4MTUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lciA+IDIwMDAgJiYgdGhpcy50aW1lciA8IDIwNTAgJiYgIXRoaXMucHVlcnRhRmluYWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHVlcnRhRmluYWwgPSB0aGlzLmFkZC5pbWFnZSgxMDAwLCA0MjAsICdwb3J0YWxGaW5hbCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnB1ZXJ0YUNsYXJhLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3VuQ3J5c3RhbC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhZyA9IDUwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyID4gMjMwMCAmJiB0aGlzLnRpbWVyIDwgMjM1MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudHdlZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMubml2aWFJbWcsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogJ0xpbmVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEyMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgeDogMTAwMCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyID4gMjkwMCAmJiB0aGlzLnRpbWVyIDwgMjk1MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudHdlZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuc29sZW5uZUltZyxcclxuICAgICAgICAgICAgICAgICAgICBlYXNlOiAnTGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNjAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHg6IDEwMDAsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcmVpbmljaWFyIHBhZ2luYSAyXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyID4gMzkwMCAmJiB0aGlzLnRpbWVyIDwgMzk1MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudHdlZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IFt0aGlzLnNvbGVubmVJbWcsIHRoaXMubml2aWFJbWddLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2U6ICdMaW5lYXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHg6IDM1MCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdFRpbWUgPSB0aW1lO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnB1ZXJ0YUZpbmFsLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHVlcnRhRmluYWwgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHVlcnRhQ2xhcmEgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDIwMCwgJ3B1ZXJ0YUNsYXJhJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMucHVlcnRhT3NjdXJhID0gdGhpcy5hZGQuaW1hZ2UoODAwLCAyMDAsICdwdWVydGFPc2N1cmEnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjYpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubW9vbkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSg2MDAsIDM4MCwgJ21vb25kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdW5DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoODE1LCA0NjUsICdzdW5kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAjcmVnaW9uIFBhZ2luYSBUdXRvcmlhbCAzXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRQYWdlID09IDMpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5uZXdQYWdlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbXBhSW1nMSA9IHRoaXMuYWRkLmltYWdlKDI4NSwgNTk1LCAndHJhbXBhJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRGbGlwWSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFtcGFJbWcyID0gdGhpcy5hZGQuaW1hZ2UoMTAzMCwgMjkwLCAndHJhbXBhJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC4zKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRBbmdsZSg5MCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5uaXZpYUltZyA9IHRoaXMuYWRkLmltYWdlKDM0MCwgMzMwLCAnbml2aWFJY29uJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC42KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvbGVubmVJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDYwLCA2MTUsICdzb2xlbm5lSWNvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQm90w7NuIHBhZ2luYSBhbnRlcmlvclxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2UGFnZUJ0bjMgPSB0aGlzLmFkZC5pbWFnZSg2NTAsIDYyNSwgJ1ByZXZQYWdlQnV0dG9uJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2UGFnZUJ0bjMub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVsaW1pbmFyIGFzc2V0cyBwYWdpbmEgM1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbXBhSW1nMS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFtcGFJbWcyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5pdmlhSW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvbGVubmVJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldlBhZ2VCdG4zLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBhY3R1YWxpemFyIHBhZ2luYVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgLT0gMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld1BhZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2UGFnZUJ0bjMub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5ob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjUwLCA2MjUsICdQcmV2UGFnZUJ1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMucHJldlBhZ2VCdG4zLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2UGFnZUJ0bjMub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEJvdMOzbiBwYWdpbmEgc2lndWllbnRlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRQYWdlQnRuMyA9IHRoaXMuYWRkLmltYWdlKDc1MCwgNjI1LCAnTmV4dFBhZ2VCdXR0b24nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRQYWdlQnRuMy5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZWxpbWluYXIgYXNzZXRzIHBhZ2luYSAyXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFtcGFJbWcxLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW1wYUltZzIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubml2aWFJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc29sZW5uZUltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2UGFnZUJ0bjMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldlBhZ2VCdG4zLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRQYWdlQnRuMy5kZXN0cm95KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBhY3R1YWxpemFyIHBhZ2luYVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5ld1BhZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0UGFnZUJ0bjMub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5ob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNzUwLCA2MjUsICdOZXh0UGFnZUJ1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMubmV4dFBhZ2VCdG4zLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0UGFnZUJ0bjMub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubmV3UGFnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0VGltZSA9IHRpbWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vICNyZWdpb24gUGFnaW5hIDMgYW5pbWFjaW9uZXNcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lciA8IDE1MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudHdlZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMubml2aWFJbWcsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogJ0xpbmVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDgwMCxcclxuICAgICAgICAgICAgICAgICAgICB5OiA2MTUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLnR3ZWVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnNvbGVubmVJbWcsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogJ0xpbmVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDgwMCxcclxuICAgICAgICAgICAgICAgICAgICB5OiA0NjAsXHJcbiAgICAgICAgICAgICAgICAgICAgeDogNzAwLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMudGltZXIgPiA5NTAgJiYgdGhpcy50aW1lciA8IDEwMDApIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuc29sZW5uZUltZyAhPSBudWxsICYmIHRoaXMubml2aWFJbWcgIT0gbnVsbCl7IFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc29sZW5uZUltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uaXZpYUltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uaXZpYUltZyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lSW1nID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubml2aWFJbWcgPSB0aGlzLmFkZC5pbWFnZSgzNDAsIDMzMCwgJ25pdmlhSWNvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lSW1nID0gdGhpcy5hZGQuaW1hZ2UoMTA2MCwgNjE1LCAnc29sZW5uZUljb24nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjYpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYWcgPSA1MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lciA+IDE0MDAgJiYgdGhpcy50aW1lciA8IDE0NTApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLnR3ZWVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLm5pdmlhSW1nLFxyXG4gICAgICAgICAgICAgICAgICAgIGVhc2U6ICdMaW5lYXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA4MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogNTI2LFxyXG4gICAgICAgICAgICAgICAgICAgIHg6IDYzNCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudHdlZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuc29sZW5uZUltZyxcclxuICAgICAgICAgICAgICAgICAgICBlYXNlOiAnTGluZWFyJyxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogODAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IDM0MCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyID4gMjI1MCAmJiB0aGlzLnRpbWVyIDwgMjMwMCkge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5zb2xlbm5lSW1nICE9IG51bGwgJiYgdGhpcy5uaXZpYUltZyAhPSBudWxsKXsgXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lSW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5pdmlhSW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5pdmlhSW1nID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvbGVubmVJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5uaXZpYUltZyA9IHRoaXMuYWRkLmltYWdlKDM0MCwgMzMwLCAnbml2aWFJY29uJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC42KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvbGVubmVJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDYwLCA2MTUsICdzb2xlbm5lSWNvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMudGltZXIgPiAzMDAwICYmIHRoaXMudGltZXIgPCAzMjAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRUaW1lID0gdGltZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudFBhZ2UgPT0gNCkge1xyXG4gICAgICAgICAgICBpZih0aGlzLm5ld1BhZ2UgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZVR1dG9yaWFsID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICdpbWFnZVR1dG9yaWFsJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5FeGl0QnRuLnNldERlcHRoKHRoaXMuaW1hZ2VUdXRvcmlhbC5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlZGl0c1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRzU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NyZWRpdHNCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b24nLCAnYXNzZXRzL2NlcnJhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b25Ib3ZlcicsICdhc3NldHMvY2VycmFySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIGRlIGNyw6lkaXRvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQ3JlZGl0c1RleHQnLCAnYXNzZXRzL3RleHRvX2NyZWRpdG9zLlBORycpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBkZSBtaWVtYnJvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTWVtYmVyc1RleHQnLCAnYXNzZXRzL25vbWJyZXMuUE5HJyk7XHJcblxyXG4gICAgfVxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gZGltZW5zaW9uZXMgZGUgbGEgcGFudGFsbGFcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAnQ3JlZGl0c0JveCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICBjb25zdCBFeGl0QnRuID0gdGhpcy5hZGQuaW1hZ2UoMTA2OSwgMTcwLCAnRXhpdE1pbkJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDY4LCAxNzAsICdFeGl0TWluQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKEV4aXRCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSZWdyZXNhciBhIGxhIGVzY2VuYSBvcmlnaW5hbFxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgMjEwLCAnQ3JlZGl0c1RleHQnKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KS5cclxuICAgICAgICBzZXRTY2FsZSgxKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MTAsIDQ2MCwgJ01lbWJlcnNUZXh0JylcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0U2NhbGUoMC42NSk7XHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignU2V0dGluZ3NTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc2V0dGluZ3NCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIFZvbHVtZW4gKCsvLSlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BsdXNWb2x1bWVCdXR0b24nLCAnYXNzZXRzL21hcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BsdXNWb2x1bWVCdXR0b25Ib3ZlcicsICdhc3NldHMvbWFzSG92ZXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdNaW51c1ZvbHVtZUJ1dHRvbicsICdhc3NldHMvbWVub3MucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdNaW51c1ZvbHVtZUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9tZW5vc0hvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCYXJyYXMgVm9sdW1lbiAocmVjdGFuZ3Vsb3MgdW5vIG9zY3Vyby9hcGFnYWRvcyB5IG90cm8gY2xhcm8vZW5jZW5kaWRvcylcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1ZvbHVtZUJhck9mZicsICdhc3NldHMvYm90b25fb3NjdXJvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVm9sdW1lQmFyT24nLCAnYXNzZXRzL2JvdG9uX2NsYXJvLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uJywgJ2Fzc2V0cy9jZXJyYXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uSG92ZXInLCAnYXNzZXRzL2NlcnJhckhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBBanVzdGVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc1RleHQnLCAnYXNzZXRzL3RleHRvX2FqdXN0ZXMucG5nJyk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvLyBkaW1lbnNpb25lcyBkZSBsYSBwYW50YWxsYVxyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuXHJcbiAgICAgICAgLy8gVm9sdW1lblxyXG4gICAgICAgIGxldCB2b2x1bWUgPSB0aGlzLnNvdW5kLnZvbHVtZSAqIDEwMDsgLy8gQ29udmVydGlyIGRlIDAtMSBhIDAtMTAwXHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcbiAgICAgICAgbGV0IHZvbHVtZUJhcjEsIHZvbHVtZUJhcjIsIHZvbHVtZUJhcjMsIHZvbHVtZUJhcjQsIHZvbHVtZUJhcjU7XHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAnc2V0dGluZ3NCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBBanVzdGVzXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAyMTAsICdTZXR0aW5nc1RleHQnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBCYXJyYXMgZGUgdm9sdW1lbiBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT2ZmJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9mZicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPZmYnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDgzMywgNTAwLCAnVm9sdW1lQmFyT2ZmJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg5NjYsIDUwMCwgJ1ZvbHVtZUJhck9mZicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIEJhcnJhcyBkZSB2b2x1bWVuIGFjdGl2YXMgXHJcbiAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgdm9sdW1lQmFyNCA9IHRoaXMuYWRkLmltYWdlKDgzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIHZvbHVtZUJhcjUgPSB0aGlzLmFkZC5pbWFnZSg5NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgIFxyXG4gICAgICAgIC8vIEFjdHVhbGl6YXIgYmFycmFzIGRlIHZvbHVtZW4gXHJcbiAgICAgICAgdm9sdW1lQmFyMS5kZXN0cm95KCk7XHJcbiAgICAgICAgdm9sdW1lQmFyMi5kZXN0cm95KCk7XHJcbiAgICAgICAgdm9sdW1lQmFyMy5kZXN0cm95KCk7XHJcbiAgICAgICAgdm9sdW1lQmFyNC5kZXN0cm95KCk7XHJcbiAgICAgICAgdm9sdW1lQmFyNS5kZXN0cm95KCk7XHJcbiAgICAgICAgaWYodm9sdW1lID09IDAgJiYgdm9sdW1lQmFyMSAhPSBudWxsKXtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMS5kZXN0cm95KCk7XHJcbiAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDIwKXtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSA0MCl7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSA2MCl7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDgwKXtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjMgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyNCA9IHRoaXMuYWRkLmltYWdlKDgzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIH1lbHNlIGlmKHZvbHVtZSA9PSAxMDApe1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXI0ID0gdGhpcy5hZGQuaW1hZ2UoODMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjUgPSB0aGlzLmFkZC5pbWFnZSg5NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQm90b24gdm9sdW1lbiBhdW1lbnRhZG9cclxuICAgICAgICBjb25zdCBwbHVzVm9sdW1lQnRuID0gdGhpcy5hZGQuaW1hZ2UoMTA2OSwgNTAwLCAnUGx1c1ZvbHVtZUJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC40KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBwbHVzVm9sdW1lQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDY5LCA1MDAsICdQbHVzVm9sdW1lQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHBsdXNWb2x1bWVCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHBsdXNWb2x1bWVCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGx1c1ZvbHVtZUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZvbHVtZSArPSAyMDtcclxuICAgICAgICAgICAgaWYodm9sdW1lID4gMTAwKSB2b2x1bWUgPSAxMDA7XHJcbiAgICAgICAgICAgIGVsc2UgaWYodm9sdW1lIDwgMCkgdm9sdW1lID0gMDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuc2V0Vm9sdW1lKHZvbHVtZSAvIDEwMCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2b2x1bWVCYXIxLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMi5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXI0LmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyNS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIGlmKHZvbHVtZSA9PSAwICYmIHZvbHVtZUJhcjEgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDIwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPD0gNDApe1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDYwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDgwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjQgPSB0aGlzLmFkZC5pbWFnZSg4MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPT0gMTAwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjQgPSB0aGlzLmFkZC5pbWFnZSg4MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyNSA9IHRoaXMuYWRkLmltYWdlKDk2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90b24gdm9sdW1lbiBkaXNtaW51aWRvXHJcbiAgICAgICAgY29uc3QgbWludXNWb2x1bWVCdG4gPSB0aGlzLmFkZC5pbWFnZSgzMzAsIDUwMCwgJ01pbnVzVm9sdW1lQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjQpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbWludXNWb2x1bWVCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDMzNSwgNTAwLCAnTWludXNWb2x1bWVCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtaW51c1ZvbHVtZUJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbWludXNWb2x1bWVCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB2b2x1bWUgLT0gMjA7XHJcbiAgICAgICAgICAgIGlmKHZvbHVtZSA+IDEwMCkgdm9sdW1lID0gMTAwO1xyXG4gICAgICAgICAgICBlbHNlIGlmKHZvbHVtZSA8IDApIHZvbHVtZSA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnNldFZvbHVtZSh2b2x1bWUgLyAxMDApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdm9sdW1lQmFyMS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIzLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyNC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBpZih2b2x1bWUgPT0gMCAmJiB2b2x1bWVCYXIxICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSAyMCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDQwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSA2MCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSA4MCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXI0ID0gdGhpcy5hZGQuaW1hZ2UoODMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lID09IDEwMCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXI0ID0gdGhpcy5hZGQuaW1hZ2UoODMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjUgPSB0aGlzLmFkZC5pbWFnZSg5NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICBjb25zdCBFeGl0QnRuID0gdGhpcy5hZGQuaW1hZ2UoMTA2OSwgMTcwLCAnRXhpdE1pbkJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDY4LCAxNzAsICdFeGl0TWluQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKEV4aXRCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShvcmlnaW5hbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMZXZlbFNlbGVjdFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMZXZlbFNlbGVjdFNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMZXZlbEJveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gTml2ZWxlc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTGV2ZWxzVGV4dCcsICdhc3NldHMvdGV4dG9fbml2ZWxlcy5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90b24gZGUgbml2ZWxlc1xyXG4gICAgICAgIC8vIG5pdmVsIDFcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xldmVsMUJ1dHRvbicsICdhc3NldHMvbml2ZWwxLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTGV2ZWwxQnV0dG9uSG92ZXInLCAnYXNzZXRzL25pdmVsMUhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBuaXZlbCAyXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMZXZlbDJCdXR0b24nLCAnYXNzZXRzL05pdmVsMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xldmVsMkJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9OaXZlbDJIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdE1pbkJ1dHRvbicsICdhc3NldHMvY2VycmFyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdE1pbkJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9jZXJyYXJIb3Zlci5wbmcnKTtcclxuXHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvLyBkaW1lbnNpb25lcyBkZSBsYSBwYW50YWxsYVxyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcclxuXHJcbiAgICAgICAgLy8gUmVjdMOhbmd1bG8gcXVlIGN1YnJlIHRvZGEgbGEgcGFudGFsbGFcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgdywgaCwgMHgwNzA3MjIsIDAuOSkuc2V0T3JpZ2luKDApO1xyXG5cclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICdMZXZlbEJveCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIE5pdmVsZXNcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDIxMCwgJ0xldmVsc1RleHQnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBTZWxlY2Npw7NuIGRlIE5pdmVsZXNcclxuICAgICAgICAgICAgLy9OaXZlbCAxXHJcbiAgICAgICAgY29uc3QgTHZsVW5vQnRuID0gdGhpcy5hZGQuaW1hZ2UoNTEwLCA1MDAsICdMZXZlbDFCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIEx2bFVub0J0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNTIwLCA1MDUsICdMZXZlbDFCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKEx2bFVub0J0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEx2bFVub0J0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSW5pY2lvIE5pdmVsIDFcclxuICAgICAgICBMdmxVbm9CdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZUxvY2FsU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9QbGFjZWhvbGRlclxyXG4gICAgICAgIGNvbnN0IEx2bERvc0J0biA9IHRoaXMuYWRkLmltYWdlKDg4MCwgNTAwLCAnTGV2ZWwyQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBMdmxEb3NCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDg4MCwgNTAwLCAnTGV2ZWwyQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxLjA1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChMdmxEb3NCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBMdmxEb3NCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEx2bDJcclxuICAgICAgICBMdmxEb3NCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTGV2ZWwyU2NlbmVMb2NhbCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgY29uc3QgRXhpdEJ0biA9IHRoaXMuYWRkLmltYWdlKDEwNjksIDE3MCwgJ0V4aXRNaW5CdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMTA2OCwgMTcwLCAnRXhpdE1pbkJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChFeGl0QnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmVncmVzYXIgYSBsYSBlc2NlbmEgb3JpZ2luYWxcclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShvcmlnaW5hbCk7IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpOyBcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYWNlSG9sZGVyU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1BsYWNlSG9sZGVyU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dG9yaWFsQm94JywgJ2Fzc2V0cy9jYWphLnBuZycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRCdXR0b24nLCAnYXNzZXRzL3NhbGlyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9zYWxpckhvdmVyLnBuZycpO1xyXG4gIFxyXG4gICAgfVxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gZGltZW5zaW9uZXMgZGUgbGEgcGFudGFsbGFcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAndHV0b3JpYWxCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgY29uc3QgZXhpdEJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNjcwLCAnRXhpdEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA2NzAsICdFeGl0QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChleGl0QnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIENpZXJyYSBsYSB2ZW50YW5hIGRlbCBuYXZlZ2Fkb3IgbyBwZXN0YcOxYVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDcwMCwgMTgwLCAnTmFkYSBxdWUgdmVyIGFxdWknLHsgXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsIGZpbGw6ICcjZDRlYWYxZmYnfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVmljdG9yeVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdWaWN0b3J5U2NlbmUnKTtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQ3JlZGl0c0JveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gVmljdG9yaWFcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1ZpY3RvcnlUZXh0JywgJ2Fzc2V0cy90ZXh0b192aWN0b3JpYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHR1dG9yaWFsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdOZXh0TGV2ZWxCdXR0b24nLCAnYXNzZXRzL3NpZ3VpZW50ZU5pdmVsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTmV4dExldmVsQnV0dG9uSG92ZXInLCAnYXNzZXRzL3NpZ3VpZW50ZU5pdmVsSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSByZWluaWNpYXIgbml2ZWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1Jlc3RhcnRCdXR0b24nLCAnYXNzZXRzL3JlaW5pY2lhci5QTkcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1Jlc3RhcnRCdXR0b25Ib3ZlcicsICdhc3NldHMvcmVpbmljaWFySG92ZXIuUE5HJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JldE1lbnVCdXR0b24nLCAnYXNzZXRzL21lbnUuUE5HJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXRNZW51QnV0dG9uSG92ZXInLCAnYXNzZXRzL21lbnVIb3Zlci5QTkcnKTtcclxuXHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvLyBkaW1lbnNpb25lcyBkZSBsYSBwYW50YWxsYVxyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZlcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAnQ3JlZGl0c0JveCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIFZpY3RvcmlhXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAyMTAsICdWaWN0b3J5VGV4dCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIFNpZ3VpZW50ZSBuaXZlbFxyXG4gICAgICAgIGNvbnN0IG5leHRMZXZlbGJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgMzIwLCAnTmV4dExldmVsQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIG5leHRMZXZlbGJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCAzMjUsICdOZXh0TGV2ZWxCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgobmV4dExldmVsYnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV4dExldmVsYnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBJciBhbCBzZWd1bmRvIG5pdmVsXHJcbiAgICAgICAgbmV4dExldmVsYnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTY2VuZUtleSA9IHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk9yaWdpbmFsIHNjZW5lIGJlaW5nIHJlbW92ZWQ6XCIsIG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aob3JpZ2luYWxTY2VuZUtleSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdMZXZlbDJTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSZWluaWNpYXIgbml2ZWxcclxuICAgICAgICBjb25zdCByZXN0YXJ0YnRuID0gdGhpcy5hZGQuaW1hZ2UoNzA1LCA0MTUsICdSZXN0YXJ0QnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDY5MywgNDI1LCAnUmVzdGFydEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyZXN0YXJ0YnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2NlbmVLZXkgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBWb2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgY29uc3QgbWVudWJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTE1LCAnUmV0TWVudUJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBtZW51YnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg2OTgsIDUxNSwgJ1JldE1lbnVCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgobWVudWJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbWVudWJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEdldCBhbGwgc2NlbmVzXHJcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lcyA9IHRoaXMuZ2FtZS5zY2VuZS5rZXlzO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHNjZW5lcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ01lbnVTY2VuZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aoa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZU92ZXJTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZU92ZXJTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQ3JlZGl0c0JveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gR2FtZSBPdmVyXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdHYW1lT3ZlclRleHQnLCAnYXNzZXRzL3RleHRvX2RlcnJvdGEucG5nJyk7XHJcblxyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgcmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uJywgJ2Fzc2V0cy9yZWluaWNpYXIuUE5HJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uSG92ZXInLCAnYXNzZXRzL3JlaW5pY2lhckhvdmVyLlBORycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSB2b2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXRNZW51QnV0dG9uJywgJ2Fzc2V0cy9tZW51LlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmV0TWVudUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9tZW51SG92ZXIuUE5HJyk7XHJcblxyXG4gICAgfVxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gZGltZW5zaW9uZXMgZGUgbGEgcGFudGFsbGFcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmZXJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgICAvLyBSZWN0w6FuZ3VsbyBxdWUgY3VicmUgdG9kYSBsYSBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoLCAweDA3MDcyMiwgMC45KS5zZXRPcmlnaW4oMCk7XHJcblxyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDQwMCwgJ0NyZWRpdHNCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBnYW1lIG92ZXJcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDI0MCwgJ0dhbWVPdmVyVGV4dCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG5cclxuICAgICAgICAvLyBSZWluaWNpYXIgbml2ZWxcclxuICAgICAgICBjb25zdCByZXN0YXJ0YnRuID0gdGhpcy5hZGQuaW1hZ2UoNzA1LCA0MTUsICdSZXN0YXJ0QnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDY5MywgNDI1LCAnUmVzdGFydEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyZXN0YXJ0YnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2NlbmVLZXkgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydChvcmlnaW5hbFNjZW5lS2V5KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIGNvbnN0IG1lbnVidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUxNSwgJ1JldE1lbnVCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgbWVudWJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjk4LCA1MTUsICdSZXRNZW51QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKG1lbnVidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZW51YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBHZXQgYWxsIHNjZW5lc1xyXG4gICAgICAgICAgICBjb25zdCBzY2VuZXMgPSB0aGlzLmdhbWUuc2NlbmUua2V5cztcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBzY2VuZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICdNZW51U2NlbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGV2ZWwyU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xldmVsMlNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9IDA7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9IDA7XHJcbiAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBwZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmF0bGFzKCduaXZpYScsICdhc3NldHMvbml2aWEvbml2aWFfc2hlZXQucG5nJywgJ2Fzc2V0cy9uaXZpYS9uaXZpYV9zaGVldC5qc29uJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF0bGFzKCdzb2xlbm5lJywgJ2Fzc2V0cy9zb2xlbm5lL3NvbGVubmVfc2hlZXQucG5nJywgJ2Fzc2V0cy9zb2xlbm5lL3NvbGVubmVfc2hlZXQuanNvbicpO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgY3Jpc3RhbGVzXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdzdW5kcm9wX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9zdW5kcm9wLnBuZycsIHsgZnJhbWVXaWR0aDogMjE0LCBmcmFtZUhlaWdodDogMjA2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnbW9vbmRyb3Bfc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL21vb25kcm9wLnBuZycsIHsgZnJhbWVXaWR0aDogMjE0LCBmcmFtZUhlaWdodDogMjA2IH0pO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3N1bl9zaGVldCcsICdhc3NldHMvaXRlbXMvc3VuLnBuZycsIHsgZnJhbWVXaWR0aDogMzQ3LCBmcmFtZUhlaWdodDogMzI5IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnbW9vbl9zaGVldCcsICdhc3NldHMvaXRlbXMvbW9vbi5wbmcnLCB7IGZyYW1lV2lkdGg6IDM0NywgZnJhbWVIZWlnaHQ6IDMyOSB9KTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGVsIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbzEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvZm9uZG9fYXJyaWJhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhdGFmb3JtYXMxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3BsYXRhZm9ybWFzX2FycmliYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGVsZW1lbnRvcyBkZWwgZXNjZW5hcmlvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGF0YWZvcm1hc05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wbGF0YWZvcm1hc19hcnJpYmEucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmExTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhM05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmEzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhT3NjdXJhMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfb3NjdXJhMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX29zY3VyYTIucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25OaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNsYXJvTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX2NsYXJvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Pc2N1cm8xTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX29zY3VybzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk9zY3VybzJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b25fb3NjdXJvMi5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb3J0YWwxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3BvcnRhbC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGJvdG9uZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhdXNlQnV0dG9uJywgJ2Fzc2V0cy9wYXVzYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhdXNlQnV0dG9uSG92ZXInLCAnYXNzZXRzL3BhdXNhSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU2V0dGluZ3NCdXR0b24nLCAnYXNzZXRzL2FqdXN0ZXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc0J1dHRvbkhvdmVyJywgJ2Fzc2V0cy9hanVzdGVzSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSByZWluaWNpYXIgbml2ZWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1Jlc3RhcnRCdXR0b24nLCAnYXNzZXRzL3JlaW5pY2lhci5QTkcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1Jlc3RhcnRCdXR0b25Ib3ZlcicsICdhc3NldHMvcmVpbmljaWFySG92ZXIuUE5HJyk7XHJcblxyXG4gICAgICAgIC8vRGHDsW9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2RhbWFnZTEnLCAnYXNzZXRzL3RyYW1wYXMvdHJhbXBhcy5wbmcnKVxyXG5cclxuICAgICAgICAvLyBFZmVjdG9zIGRlIHNvbmlkbyB5IG3DunNpY2EgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3dhbGtTb3VuZCcsICdhc3NldHMvc29uaWRvL2NhbWluYXIubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0U3VuQ3J5c3RhbFNvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY3Jpc3RhbENsYXJvLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnY29sbGVjdE1vb25DcnlzdGFsU291bmQnLCAnYXNzZXRzL3Nvbmlkby9jcmlzdGFsT3NjdXJvLm1wMycpO1xyXG5cclxuICAgICAgICAvLyBNw5pTSUNBIEVTUEVDw41GSUNBIERFTCBKVUVHT1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnR2FtZU11c2ljJywgJ2Fzc2V0cy9zb25pZG8vanVlZ28ubXAzJyk7IC8vIGFqdXN0YSBydXRhIHNpIGhhY2UgZmFsdGFcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgbWFwV2lkdGhJblBpeGVscyA9IDE0MjA7XHJcbiAgICAgICAgY29uc3QgbWFwSGVpZ2h0SW5QaXhlbHMgPSA4MDA7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIERldGVuZXIgc29sbyBsYSBtw7pzaWNhIGRlbCBtZW7DuiBzaSBlc3TDoSBzb25hbmRvXHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ01lbnVNdXNpYycpO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIGxhIG3DunNpY2EgZGVsIGp1ZWdvXHJcbiAgICAgICAgaWYgKHRoaXMuY2FjaGUuYXVkaW8uZXhpc3RzKCdHYW1lTXVzaWMnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ0dhbWVNdXNpYycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjJ9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFncmVnYXIgZm9uZG9cclxuICAgICAgICAvL2NvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvMScpLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICAvL2JnLnNldERpc3BsYXlTaXplKG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgwLCAwLCAnZm9uZG8xJykuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIGJnLnNldERpc3BsYXlTaXplKG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGxhdGFmb3JtYSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDAsIDAsICdwbGF0YWZvcm1hczEnKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgcGxhdGFmb3JtYS5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGxhIGbDrXNpY2EgZGVsIG11bmRvXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLmdyYXZpdHkueSA9IDE1MDA7XHJcblxyXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcblxyXG5cclxuICAgICAgICAvLyBURU1QT1JBTDogQ3JlYXIgdW4gc3VlbG8gc2ltcGxlIHBhcmEgcXVlIHB1ZWRhbiBzYWx0YXIgeSBjYWVyXHJcbiAgICAgICAgdGhpcy5ncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgbWFwSGVpZ2h0SW5QaXhlbHMsIG1hcFdpZHRoSW5QaXhlbHMsIDEwLCAweDAwRkYwMCwgMCkuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5ncm91bmQsIHRydWUpOyAvLyB0cnVlID0gZXN0w6F0aWNvXHJcblxyXG4gICAgICAgIC8vQ3JlYWNpw7NuIGRlIGxhcyBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMjAwLCA1NzUsIDMwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNzUwLCA1NTAsIDE2MCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTMgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTI1MCwgNDI1LCA0MDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTMsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDUyNSwgMzI1LCA0MDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTQsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE1ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDg3NSwgMjI1LCAzMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTUsIHRydWUpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5wYXJlZDEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNzE1LCA0MjUsIDgwLCAyMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wYXJlZDEsIHRydWUpO1xyXG5cclxuICAgICAgICAvL3RoaXMucGFyZWQyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDkwMCwgNzAwLCAyMDAsIDMwMCwgMHgzMjJiMWQpLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGFyZWQyLCB0cnVlKTtcclxuICAgICAgICB0aGlzLnBvcnRhbFNwcml0ZSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwb3J0YWwxJykuc2V0U2NhbGUoMC43NSk7XHJcbiAgICAgICAgdGhpcy5wb3J0YWxTcHJpdGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyMDAsIDIwMCwgMjAwLCAyMDApLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZXhpdFBvcnRhbCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsLmJvZHkuZW5hYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHB1ZXJ0YXMgKHNwcml0ZXMpXHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncHVlcnRhT3NjdXJhMU5pdmVsMicpLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IyID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3B1ZXJ0YU9zY3VyYTJOaXZlbDInKS5zZXRTY2FsZSgwLjc1KTtcclxuXHJcbiAgICAgICAgdGhpcy5saWdodERvb3IxID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3B1ZXJ0YUNsYXJhMU5pdmVsMicpLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yMiA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwdWVydGFDbGFyYTJOaXZlbDInKS5zZXRTY2FsZSgwLjc1KTtcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncHVlcnRhQ2xhcmEzTml2ZWwyJykuc2V0U2NhbGUoMC43NSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcHVlcnRhcyBoaXRib3hlc1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxSGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDMyNSwgNzAwLCAyMCwgMzAwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFya0Rvb3IxSGl0Ym94LCB0cnVlKTtcclxuICAgICAgICB0aGlzLmRhcmtEb29yMkhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDU3NSwgMzAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhcmtEb29yMkhpdGJveCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMubGlnaHREb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg3MDAsIDEwMCwgMjAsIDI4MCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjFIaXRib3gsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yMkhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg3NTAsIDcwMCwgMjAsIDIwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjJIaXRib3gsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yM0hpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg5MjUsIDUwMCwgMjAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjNIaXRib3gpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yM0hpdGJveC5ib2R5LnNldEltbW92YWJsZSh0cnVlKS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yM0hpdGJveC5zZXRBbmdsZSgxMzUpO1xyXG5cclxuICAgICAgICAvL3B1ZXJ0YXMgKGxpc3RhKVxyXG4gICAgICAgIHRoaXMuZG9vcnMgPSB7XHJcbiAgICAgICAgICAgIGRhcmtEb29yMToge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmRhcmtEb29yMSxcclxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5kYXJrRG9vcjFIaXRib3hcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGFya0Rvb3IyOiB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHRoaXMuZGFya0Rvb3IyLFxyXG4gICAgICAgICAgICAgICAgaGl0Ym94OiB0aGlzLmRhcmtEb29yMkhpdGJveFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaWdodERvb3IxOiB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHRoaXMubGlnaHREb29yMSxcclxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5saWdodERvb3IxSGl0Ym94XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpZ2h0RG9vcjI6IHtcclxuICAgICAgICAgICAgICAgIHNwcml0ZTogdGhpcy5saWdodERvb3IzLFxyXG4gICAgICAgICAgICAgICAgaGl0Ym94OiB0aGlzLmxpZ2h0RG9vcjJIaXRib3hcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGlnaHREb29yMzoge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmxpZ2h0RG9vcjIsXHJcbiAgICAgICAgICAgICAgICBoaXRib3g6IHRoaXMubGlnaHREb29yM0hpdGJveFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gZGHDsW8gaGl0Ym94ZXNcclxuICAgICAgICB0aGlzLmRhbWFnZUdyb3VwID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cCgpO1xyXG4gICAgICAgIHRoaXMudHJhbXBhID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ2RhbWFnZTEnKS5zZXRTY2FsZSgwLjc1KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmRhbWFnZTEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTM1MCwgMTAwLCAyMDAsIDEwMCwgMHgzM2ZmMDAsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZTEsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmRhbWFnZTIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTAwLCA1MzAsIDEwMCwgMzAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYW1hZ2UyLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYW1hZ2UzID0gdGhpcy5hZGQucmVjdGFuZ2xlKDEyNSwgODAwLCA2MCwgMzAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYW1hZ2UzLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYW1hZ2U0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDYwMCwgMzAwLCA2MCwgMzAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYW1hZ2U0LCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cC5hZGQodGhpcy5kYW1hZ2UxKTtcclxuICAgICAgICB0aGlzLmRhbWFnZUdyb3VwLmFkZCh0aGlzLmRhbWFnZTIpO1xyXG4gICAgICAgIHRoaXMuZGFtYWdlR3JvdXAuYWRkKHRoaXMuZGFtYWdlMyk7XHJcbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cC5hZGQodGhpcy5kYW1hZ2U0KTtcclxuXHJcbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgc3VlbG8geSBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5ncm91bmQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmdyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWExKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE0KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE1KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBhcmVkMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGFyZWQxKTtcclxuXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGFyZWQyKTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBhcmVkMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmxpZ2h0RG9vcjFIaXRib3gpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5saWdodERvb3IySGl0Ym94KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMubGlnaHREb29yM0hpdGJveCk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMubGlnaHREb29yMUhpdGJveCk7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMuZGFya0Rvb3IxSGl0Ym94KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5kYXJrRG9vcjFIaXRib3gpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmRhcmtEb29yMkhpdGJveCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygnbml2aWEnKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUFuaW1hdGlvbnMoJ3NvbGVubmUnKTtcclxuXHJcbiAgICAgICAgLy8gSW5pY2lhciBsYSBhbmltYWNpw7NuICdydW4nIHBhcmEgcHJvYmFyIChzZSBjb3JyZWdpcsOhIGVuIHVwZGF0ZSlcclxuICAgICAgICB0aGlzLm5pdmlhLnBsYXkoJ25pdmlhX2lkbGUnKTtcclxuICAgICAgICB0aGlzLnNvbGVubmUucGxheSgnc29sZW5uZV9pZGxlJyk7XHJcblxyXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3Mgb2JqZXRvc1xyXG4gICAgICAgIHRoaXMuY3J5c3RhbHMgPSB0aGlzLnBoeXNpY3MuYWRkLmdyb3VwKHthbGxvd0dyYXZpdHk6IGZhbHNlLCBpbW1vdmFibGU6IHRydWV9KTtcclxuICAgICAgICB0aGlzLm1vb25DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoMTMwMCwgMzAwLCAnbW9vbmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAuc2V0RGF0YSgnZG9vcktleScsICdkYXJrRG9vcjEnKTtcclxuICAgICAgICB0aGlzLm1vb25DcnlzdGFsMiA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKDU1MCwgMjAwLCAnbW9vbmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAuc2V0RGF0YSgnZG9vcktleScsICdkYXJrRG9vcjInKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoNTUwLCA3MDAsICdzdW5kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgLnNldERhdGEoJ2Rvb3JLZXknLCAnbGlnaHREb29yMycpO1xyXG4gICAgICAgIHRoaXMuc3VuQ3J5c3RhbDIgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSgyMDAsIDcwMCwgJ3N1bmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAuc2V0RGF0YSgnZG9vcktleScsICdsaWdodERvb3IxJyk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5zdW5DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUobWFwLndpZHRoSW5QaXhlbHMgLSAyMDAsIDMwMCwgJ3N1bkNyeXN0YWwnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgLy90aGlzLm1ldGFQb3J0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZShtYXBXaWR0aEluUGl4ZWxzIC8gMiwgNTAsICdtZXRhUG9ydGFsJykuc2V0SW1tb3ZhYmxlKHRydWUpLnNldEJvZHlTaXplKDY0LCA2NCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gQW5pbWFjaW9uZXMgZGUgbG9zIG9iamV0b3NcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3N1bmRyb3BfaWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnc3VuZHJvcF9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogNyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ21vb25kcm9wX2lkbGUnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ21vb25kcm9wX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiA3IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwucGxheSgnbW9vbmRyb3BfaWRsZScpO1xyXG4gICAgICAgIHRoaXMuc3VuQ3J5c3RhbC5wbGF5KCdzdW5kcm9wX2lkbGUnKTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZWwgSWNvbm8gZGVsIFNvbCAoSFVEKVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnc3VuX2h1ZF9hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdzdW5fc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGVsIEljb25vIGRlIGxhIEx1bmEgKEhVRClcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ21vb25faHVkX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ21vb25fc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBkZSBMdW5hIChOaXZpYSkgLSBJenF1aWVyZGFcclxuICAgICAgICB0aGlzLm1vb25IVUQgPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCAtIDIwLCA0MCwgJ21vb25fc2hlZXQnKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjE1KSAvLyBFc2NhbGEgTVVZIHJlZHVjaWRhLCB5YSBxdWUgbG9zIHNwcml0ZXNoZWV0cyBzb24gZ3JhbmRlcyAoMzQ3eDMyOSlcclxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKVxyXG4gICAgICAgICAgICAucGxheSgnbW9vbl9odWRfYW5pbScpOyAvLyBJbmljaWEgbGEgYW5pbWFjacOzblxyXG5cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgZGUgU29sIChTb2xlbm5lKSAtIERlcmVjaGFcclxuICAgICAgICB0aGlzLnN1bkhVRCA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYICsgMjAsIDQwLCAnc3VuX3NoZWV0JylcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4xNSkgLy8gRXNjYWxhIE1VWSByZWR1Y2lkYVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgICAgIC5wbGF5KCdzdW5faHVkX2FuaW0nKTsgLy8gSW5pY2lhIGxhIGFuaW1hY2nDs25cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBsYSByZWNvbGVjY2nDs24gZGUgY3Jpc3RhbGVzXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubW9vbkNyeXN0YWwsIHRoaXMuY29sbGVjdE1vb25DcnlzdGFsLCBudWxsLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLnN1bkNyeXN0YWwsIHRoaXMuY29sbGVjdFN1bkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLm1vb25DcnlzdGFsMiwgdGhpcy5jb2xsZWN0TW9vbkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuc3VuQ3J5c3RhbDIsIHRoaXMuY29sbGVjdFN1bkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGZpbiBkZSBuaXZlbCAoT3ZlcmxhcCBkZWwgcG9ydGFsKVxyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubWV0YVBvcnRhbCwgdGhpcy5jaGVja0xldmVsQ29tcGxldGUsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5tZXRhUG9ydGFsLCB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSwgbnVsbCwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIENvbGlzaW9uZXMgZW50cmUgcGVyc29uYWplcyB5IGVsIG5pdmVsXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIGdlb21ldHJ5TGF5ZXIpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIGdlb21ldHJ5TGF5ZXIpO1xyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFjacOzbiBkZSBsYSBjw6FtYXJhXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0Qm91bmRzKDAsIDAsIG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTsgIFxyXG5cclxuICAgICAgICAvLyBDb250cm9sIGRlIHBhdXNhXHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5leGl0UG9ydGFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZXhpdFBvcnRhbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBwYXVzYVxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDQwLCA0MCwgJ1BhdXNlQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKSBcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC41KSBcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMCk7IFxyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDQwLCA0MCwgJ1BhdXNlQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMucGF1c2VCdXR0b24uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpOyBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIGFqdXN0ZXNcclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAxMjAsIDQwLCAnU2V0dGluZ3NCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApIFxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTsgXHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gMTIwLCA0MCwgJ1NldHRpbmdzQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMuc2V0dGluZ3NCdXR0b24uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnU2V0dGluZ3NTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3VwZGF0ZScsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBoeXNpY3Mub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmV4aXRQb3J0YWwpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5leGl0UG9ydGFsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IG9uRGFtYWdlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnR2FtZU92ZXJTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5kYW1hZ2VHcm91cCwgb25EYW1hZ2UpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZGFtYWdlR3JvdXAsIG9uRGFtYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbFkgPSAxNTAwO1xyXG5cclxuICAgICAgICAgLy8gQ3JlYWNpw7NuIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLm5pdmlhID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTMwMCwgaW5pdGlhbFksICduaXZpYScpLnNldEJvdW5jZSgwLjIpLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNvbGVubmUgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxMjAwLCBpbml0aWFsWSwgJ3NvbGVubmUnKS5zZXRCb3VuY2UoMC4yKS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMubml2aWEuc2V0U2l6ZSgxMjAsIDI0MCk7XHJcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRPZmZzZXQoMTEwLCA1MCk7XHJcblxyXG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRTaXplKDEyMCwgMjQwKTtcclxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0T2Zmc2V0KDExMCwgNTApO1xyXG5cclxuICAgICAgICAvLyBFc2NhbGFkbyBkZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubml2aWEuc2V0U2NhbGUoMC41KTsgXHJcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldFNjYWxlKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENvbnRyb2xlcyBkZSBOaXZpYSAoVGVjbGFzIFdBU0QpXHJcbiAgICAgICAgdGhpcy5uaXZpYUNvbnRyb2xzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHtcclxuICAgICAgICAgICAgbGVmdDogJ0EnLFxyXG4gICAgICAgICAgICByaWdodDogJ0QnLFxyXG4gICAgICAgICAgICB1cDogJ1cnLCAgICAvLyBzYWx0b1xyXG4gICAgICAgICAgICBpbnRlcmFjdDogJ0UnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENvbnRyb2xlcyBkZSBTb2xlbm5lIChGbGVjaGFzKVxyXG4gICAgICAgIHRoaXMuc29sZW5uZUNvbnRyb2xzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHtcclxuICAgICAgICAgICAgbGVmdDogJ0xFRlQnLFxyXG4gICAgICAgICAgICByaWdodDogJ1JJR0hUJyxcclxuICAgICAgICAgICAgdXA6ICdVUCcsICAgLy8gc2FsdG9cclxuICAgICAgICAgICAgaW50ZXJhY3Q6ICdTUEFDRSdcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY3JlYXRlQW5pbWF0aW9ucyhrZXkpIHtcclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlIGNvcnJlclxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBgJHtrZXl9X3J1bmAsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IHByZWZpeDogJ3J1bl8nLCBzdGFydDogMSwgZW5kOiA0IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlIHNhbHRvXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1fanVtcGAsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IHByZWZpeDogJ2p1bXBfJywgc3RhcnQ6IDEsIGVuZDogNiB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgaWRsZVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBgJHtrZXl9X2lkbGVgLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBmcmFtZXM6IFsnaWRsZV8xJ10gfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMSxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGF1c2VkU3RhdGUoaXNQYXVzZWQpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7b3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXl9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVBhdXNlKCkge1xyXG4gICAgICAgIGNvbnN0IG5ld1BhdXNlZFN0YXRlID0gIXRoaXMuaXNQYXVzZWQ7XHJcbiAgICAgICAgdGhpcy5zZXRQYXVzZWRTdGF0ZShuZXdQYXVzZWRTdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1NldHRpbmdzU2NlbmUnKTsgXHJcbiAgICAgICAgLy90aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZSgpe1xyXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgcGF1c2EgY29uIHRlY2xhIEVTQ1xyXG4gICAgICAgIGlmKHRoaXMuZXNjS2V5LmlzRG93bil7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1vdmltaWVudG8gZGUgTml2aWFcclxuICAgICAgICB0aGlzLmhhbmRsZVBsYXllck1vdmVtZW50KHRoaXMubml2aWEsIHRoaXMubml2aWFDb250cm9scyk7XHJcblxyXG4gICAgICAgIC8vIE1vdmltaWVudG8gZGUgU29sZW5uZVxyXG4gICAgICAgIHRoaXMuaGFuZGxlUGxheWVyTW92ZW1lbnQodGhpcy5zb2xlbm5lLCB0aGlzLnNvbGVubmVDb250cm9scyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5leGl0UG9ydGFsLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUodGhpcy5leGl0UG9ydGFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhhbmRsZVBsYXllck1vdmVtZW50KHBsYXllclNwcml0ZSwgY29udHJvbHMpIHtcclxuICAgICAgICAvLyBWZWxvY2lkYWQgZGVsIG1vdmltaWVudG9cclxuICAgICAgICBjb25zdCBzcGVlZCA9IDQwMDtcclxuICAgICAgICBjb25zdCBqdW1wVmVsb2NpdHkgPSA5MDA7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gcGxheWVyU3ByaXRlLnRleHR1cmUua2V5O1xyXG4gICAgICAgIGNvbnN0IGlzTW92aW5nID0gY29udHJvbHMubGVmdC5pc0Rvd24gfHwgY29udHJvbHMucmlnaHQuaXNEb3duO1xyXG4gICAgICAgIGNvbnN0IGlzR3JvdW5kZWQgPSBwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd247XHJcbiAgICAgICAgbGV0IGFuaW1rZXkgPSAnJztcclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBwYXJhIHJlcHJvZHVjaXIgZWwgc29uaWRvIGRlIGNhbWluYXJcclxuICAgICAgIGlmIChpc01vdmluZyAmJiBpc0dyb3VuZGVkKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICduaXZpYScgJiYgdGhpcy5pc05pdmlhV2Fsa2luZyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IHRoaXMuc291bmQuYWRkKCd3YWxrU291bmQnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcucGxheSgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NvbGVubmUnICYmIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gdGhpcy5zb3VuZC5hZGQoJ3dhbGtTb3VuZCcsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAxIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIERldGVuZXIgZWwgc29uaWRvIHNpIG5vIHNlIGVzdMOhIG1vdmllbmRvIG8gZXN0w6Egc2FsdGFuZG9cclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25pdmlhJyAmJiB0aGlzLmlzTml2aWFXYWxraW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NvbGVubmUnICYmIHRoaXMuaXNTb2xlbm5lV2Fsa2luZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1vdmltaWVudG8gaG9yaXpvbnRhbFxyXG4gICAgICAgIGlmIChjb250cm9scy5sZWZ0LmlzRG93bikge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKC1zcGVlZCk7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRGbGlwWChmYWxzZSk7IC8vIE1pcmFyIGEgbGEgaXpxdWllcmRhXHJcbiAgICAgICAgfSBlbHNlIGlmIChjb250cm9scy5yaWdodC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WChzcGVlZCk7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRGbGlwWCh0cnVlKTsgLy8gTWlyYXIgYSBsYSBkZXJlY2hhXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNhbHRvIChzb2xvIHNpIGVzdMOhIHRvY2FuZG8gZWwgc3VlbG8pXHJcbiAgICAgICAgY29uc3QgaXNKdW1waW5nID0gY29udHJvbHMudXAuaXNEb3duICYmIHBsYXllclNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bjtcclxuXHJcbiAgICAgICAgaWYgKGlzSnVtcGluZykge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlZKC1qdW1wVmVsb2NpdHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBhbmltYWNpb25lc1xyXG4gICAgICAgIGlmICghcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duKSB7XHJcbiAgICAgICAgICAgIC8vIEVuIGVsIGFpcmVcclxuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1fanVtcGA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb250cm9scy5sZWZ0LmlzRG93biB8fCBjb250cm9scy5yaWdodC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgLy8gQ29ycmllbmRvXHJcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X3J1bmA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSWRsZVxyXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9pZGxlYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVwcm9kdWNpciBsYSBhbmltYWNpw7NuIHNvbG8gc2kgZXMgZGlmZXJlbnRlIGEgbGEgYWN0dWFsXHJcbiAgICAgICAgaWYgKHBsYXllclNwcml0ZS5hbmltcy5jdXJyZW50QW5pbT8ua2V5ICE9PSBhbmlta2V5KSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5hbmltcy5wbGF5KGFuaW1rZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBpbnRlcmFjY2nDs25cclxuICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKGNvbnRyb2xzLmludGVyYWN0KSkge1xyXG4gICAgICAgICAgICAvLyBBcXXDrSB2YSBsYSBsw7NnaWNhIGRlIGludGVyYWNjacOzbiAocG9yIGVqZW1wbG8sIGFicmlyIHB1ZXJ0YXMsIHJlY29nZXIgb2JqZXRvcywgZXRjLilcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ludGVyYWNjacOzbiByZWFsaXphZGEnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29sbGVjdE1vb25DcnlzdGFsKHBsYXllciwgY3J5c3RhbCkge1xyXG4gICAgICAgIGNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsICs9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9PSAyKSB0aGlzLm1vb25IVUQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2NvbGxlY3RNb29uQ3J5c3RhbFNvdW5kJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygnTml2aWEgaGEgcmVjb2dpZG8gZWwgQ3Jpc3RhbCBkZSBsYSBMdW5hJyk7XHJcbiAgICAgICAgdGhpcy51bmxvY2tEb29yKGNyeXN0YWwuZ2V0RGF0YSgnZG9vcktleScpKTtcclxuICAgIH1cclxuXHJcbiAgICBjb2xsZWN0U3VuQ3J5c3RhbChwbGF5ZXIsIGNyeXN0YWwpIHtcclxuICAgICAgICBjcnlzdGFsLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgKz0gMTtcclxuICAgICAgICBpZiAodGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9PSAyKSB0aGlzLnN1bkhVRC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnY29sbGVjdFN1bkNyeXN0YWxTb3VuZCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NvbGVubmUgaGEgcmVjb2dpZG8gZWwgQ3Jpc3RhbCBkZWwgU29sJyk7XHJcbiAgICAgICAgdGhpcy51bmxvY2tEb29yKGNyeXN0YWwuZ2V0RGF0YSgnZG9vcktleScpKTtcclxuICAgIH1cclxuXHJcbiAgICB1bmxvY2tEb29yKGRvb3JLZXkpIHtcclxuICAgICAgICBjb25zdCBkb29yID0gdGhpcy5kb29yc1tkb29yS2V5XTtcclxuXHJcbiAgICAgICAgZG9vci5oaXRib3guYm9keS5lbmFibGUgPSBmYWxzZTtcclxuICAgICAgICBkb29yLmhpdGJveC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBkb29yLnNwcml0ZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGVja1BvcnRhbFNwYXduKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tQb3J0YWxTcGF3bigpIHtcclxuICAgICAgICBpZiAodGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID09IDIgJiYgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9ydGFsU3ByaXRlLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGVja0xldmVsQ29tcGxldGUocGxheWVyLCBwb3J0YWwpIHtcclxuICAgICAgICAvLyBMb3MgZG9zIGRlYmVuIHRvY2FyIGVsIHBvcnRhbCB5IHRlbmVyIHN1cyByZXNwZWN0aXZvcyBjcmlzdGFsZXNcclxuICAgICAgICBpZiAodGhpcy5uaXZpYU9uUG9ydGFsICYmIHRoaXMuc29sZW5uZU9uUG9ydGFsICYmIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9PSAyICYmIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPT0gMikge1xyXG4gICAgICAgICAgICAvLyBMYW56YXIgZXNjZW5hIGRlIHZpY3RvcmlhIHkgcGF1c2FyIGVzdGEgZXNjZW5hXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdWaWN0b3J5U2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVuZGdhbWUoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJKdWVnbyBUZXJtaW5hZG9cIik7XHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZlcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCwgdGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWSAtIDEwMCwgXCLCoU5pdmVsIENvbXBsZXRhZG8hXCIsIHsgXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsIGZpbGw6ICcjRkZGRkZGJyB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgICAgIC8vIFJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIGNvbnN0IHJlc3RhcnRidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDUsIDQxNSwgJ1Jlc3RhcnRCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjkzLCA0MjUsICdSZXN0YXJ0QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHJlc3RhcnRidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTY2VuZUtleSA9IHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aob3JpZ2luYWxTY2VuZUtleSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbi8qKlxyXG4gKiBFc2NlbmEgcXVlIHNlIG11ZXN0cmEgY3VhbmRvIHNlIHBpZXJkZSBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIFBhdXNhIGVsIHJlc3RvIGRlIGVzY2VuYXMgeSBjb21wcnVlYmEgY29udGludWFtZW50ZSBoYXN0YSBxdWUgc2UgcmVzdGFibGV6Y2FcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTG9zdFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDb25uZWN0aW9uTG9zdFNjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja1RpbWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pc0NoZWNraW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgLy8gR3VhcmRhciBsYSBlc2NlbmEgcXVlIGVzdGFiYSBhY3RpdmEgY3VhbmRvIHNlIHBlcmRpw7MgbGEgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1NjZW5lID0gZGF0YT8ucHJldmlvdXNTY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gTm8gcGF1c2FyIGxhIGVzY2VuYSBhbnRlcmlvciBudWV2YW1lbnRlLCB5YSBlc3TDoSBwYXVzYWRhXHJcbiAgICAgICAgLy8gU29sbyBtb3N0cmFyIGxhIGVzY2VuYSBkZSBjb25leGnDs24gcGVyZGlkYVxyXG5cclxuICAgICAgICAvLyBGb25kbyBzZW1pLXRyYW5zcGFyZW50ZVxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIDMwMCwgODAwLCA2MDAsIDB4MDAwMDAwLCAwLjgpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDIwMCwgJ0NPTkVYScOTTiBQRVJESURBJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBNZW5zYWplIGRlIGVzdGFkb1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoNDAwLCAzMDAsICdJbnRlbnRhbmRvIHJlY29uZWN0YXIuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmYwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udGFkb3IgZGUgaW50ZW50b3NcclxuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dCA9IHRoaXMuYWRkLnRleHQoNDAwLCAzNTAsICdJbnRlbnRvczogMCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgcGFycGFkZWFudGUgKC4uLilcclxuICAgICAgICB0aGlzLmRvdENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogMjAwMCxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG90Q291bnQgPSAodGhpcy5kb3RDb3VudCArIDEpICUgNDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvdHMgPSAnLicucmVwZWF0KHRoaXMuZG90Q291bnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoYEludGVudGFuZG8gcmVjb25lY3RhciR7ZG90c31gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBMaXN0ZW5lciBkZSByZWNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVjb25uZWN0ZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBJbnRlbnRvcyBkZSByZWNvbmV4acOzbiBcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrVGltZXIgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogMjAwMCxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMuYXR0ZW1wdFJlY29ubmVjdCxcclxuICAgICAgICAgICAgY2FsbGJhY2tTY29wZTogdGhpc1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQcmltZXIgaW50ZW50byBpbm1lZGlhdG9cclxuICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhdHRlbXB0UmVjb25uZWN0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQ2hlY2tpbmcpIHJldHVybjtcclxuICAgICAgICB0aGlzLmlzQ2hlY2tpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCsrO1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQuc2V0VGV4dChgSW50ZW50b3M6ICR7dGhpcy5hdHRlbXB0Q291bnR9YCk7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IGNvbm5lY3Rpb25NYW5hZ2VyLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNDaGVja2luZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblJlY29ubmVjdGVkKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgdGltZXJzXHJcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0Q2hlY2tUaW1lcikge1xyXG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrVGltZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tUaW1lciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmVyIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZSBkZSDDqXhpdG9cclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnwqFDb25leGnDs24gcmVzdGFibGVjaWRhIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG5cclxuICAgICAgICAvLyBSZWFudWRhciBlc2NlbmEgYW50ZXJpb3IgeSBkZXRlbmVyIGxhIGFjdHVhbFxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIC8vIE9idGVuZXIgbGEgZXNjZW5hIGFudGVyaW9yIHkgcmUtYWdyZWdhciBzdSBsaXN0ZW5lclxyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZVNjZW5lID0gdGhpcy5zY2VuZS5nZXQodGhpcy5wcmV2aW91c1NjZW5lKTtcclxuICAgICAgICAgICAgICAgIGlmIChnYW1lU2NlbmUgJiYgZ2FtZVNjZW5lLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKGdhbWVTY2VuZS5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5wcmV2aW91c1NjZW5lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBMaW1waWV6YSBleHRyYSBwb3Igc2VndXJpZGFkXHJcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0Q2hlY2tUaW1lcikge1xyXG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrVGltZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8vIGRlc3B1ZXMgZGUgaGFjZXIgY2xpY2sgZW4gXCJKdWdhclwiIC0gc2VsZWNjaW9uIGRlIG1vZG8gbG9jYWwgdSBvbmxpbmVcclxuaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZU1vZGVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZU1vZGVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0b3JpYWxCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdEJ1dHRvbicsICdhc3NldHMvc2FsaXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0QnV0dG9uSG92ZXInLCAnYXNzZXRzL3NhbGlySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBqdWdhciBlbiBsb2NhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTG9jYWxCdXR0b24nLCAnYXNzZXRzL2p1Z2FyTG9jYWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMb2NhbEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9qdWdhckxvY2FsSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBqdWdhciBlbiBvbmxpbmVcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ09ubGluZUJ1dHRvbicsICdhc3NldHMvanVnYXJPbmxpbmUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdPbmxpbmVCdXR0b25Ib3ZlcicsICdhc3NldHMvanVnYXJPbmxpbmVIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgIC8vIFRleHRvIGRlIG1vZG8gZGUganVlZ29cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0dhbWVNb2RlVGV4dCcsICdhc3NldHMvdGV4dG9fbW9kb0RlSnVlZ28ucG5nJyk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvLyBkaW1lbnNpb25lcyBkZSBsYSBwYW50YWxsYVxyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcclxuXHJcbiAgICAgICAgLy8gUmVjdMOhbmd1bG8gcXVlIGN1YnJlIHRvZGEgbGEgcGFudGFsbGFcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgdywgaCwgMHgwNzA3MjIsIDAuOSkuc2V0T3JpZ2luKDApO1xyXG5cclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICd0dXRvcmlhbEJveCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICBjb25zdCBleGl0QnRuID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1NzAsICdFeGl0QnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBleGl0QnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDU3MCwgJ0V4aXRCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKGV4aXRCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBleGl0QnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBleGl0QnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gQ2llcnJhIGxhIHZlbnRhbmEgZGVsIG5hdmVnYWRvciBvIHBlc3Rhw7FhXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFTDrXR1bG8gXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAyMTAsICdHYW1lTW9kZVRleHQnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAvLyBCb3TDs24gZGUganVlZ28gbG9jYWxcclxuICAgICAgICBjb25zdCBsb2NhbEJ0biA9IHRoaXMuYWRkLmltYWdlKDUwMCwgMzQwLCAnTG9jYWxCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGxvY2FsQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg1MDAsIDM0MCwgJ0xvY2FsQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChsb2NhbEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxvY2FsQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsb2NhbEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdMZXZlbFNlbGVjdFNjZW5lJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpOyAvLyBjaWVycmEgbGEgZXNjZW5hIGRlIHNlbGVjY2lvbiBkZSBtb2RvIGRlIGp1ZWdvXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIEp1ZWdvIE9ubGluZVxyXG4gICAgICAgIGNvbnN0IG9ubGluZUJ0biA9IHRoaXMuYWRkLmltYWdlKDkwMCwgMzQwLCAnT25saW5lQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBvbmxpbmVCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDkwMCwgMzQwLCAnT25saW5lQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChvbmxpbmVCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBvbmxpbmVCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG9ubGluZUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIElyIGEgQXV0aFNjZW5lIGNvbiBkZXN0aW5vIGEgTG9iYnlTY2VuZSBkZXNwdcOpcyBkZSBsb2dpblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdBdXRoU2NlbmUnLCB7IGRlc3RpbmF0aW9uOiAnTG9iYnlTY2VuZScgfSk7IFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiLy8gc3JjL2NsaWVudC9zY2VuZXMvTG9iYnlTY2VuZS5qc1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgd3NTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvV2ViU29ja2V0U2VydmljZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2JieVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCdMb2JieVNjZW5lJyk7XHJcbiAgfVxyXG5cclxuICBwcmVsb2FkKCkge1xyXG4gICAgLy8gQm90w7NuIGRlIGNhbmNlbGFyXHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NhbmNlbEJ1dHRvbicsICdhc3NldHMvY2FuY2VsYXIucG5nJyk7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NhbmNlbEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9jYW5jZWxhckhvdmVyLnBuZycpO1xyXG5cclxuICAgIC8vIFRleHRvIGRlIG11bHRpanVnYWRvclxyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdNdWx0aXBsYXllclRleHQnLCAnYXNzZXRzL3RleHRvX211bHRpanVnYWRvci5wbmcnKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcblxyXG4gICAgLy8gRm9uZG9cclxuICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0LCAweDA3MDcyMiwgMC45KS5zZXRPcmlnaW4oMCk7XHJcblxyXG4gICAgLy8gVMOtdHVsb1xyXG4gICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAxMTAsICdNdWx0aXBsYXllclRleHQnKVxyXG4gICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgIC8vIE1vc3RyYXIgdXN1YXJpbyBsb2d1ZWFkb1xyXG4gICAgY29uc3QgdXNlcm5hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKTtcclxuICAgIGlmICh1c2VybmFtZSkge1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAyNTAsIGBKdWdhZG9yOiAke3VzZXJuYW1lfWAsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjYTFkYmExJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhdWRleCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXN0YWRvIGRlIGNvbmV4acOzblxyXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgLSA1MCwgJ0NvbmVjdGFuZG8gYWwgc2Vydmlkb3IuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmYwMCcsXHJcbiAgICAgIGZvbnRGYW1pbHk6ICdDYXVkZXgnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBDb250YWRvciBkZSBqdWdhZG9yZXNcclxuICAgIHRoaXMucGxheWVyQ291bnRUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgKyAyMCwgJycsIHtcclxuICAgICAgZm9udFNpemU6ICcyMnB4JyxcclxuICAgICAgY29sb3I6ICcjMDBmZjAwJyxcclxuICAgICAgZm9udEZhbWlseTogJ0NhdWRleCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIEluZGljYWRvciBkZSBjYXJnYSAocHVudG9zIGFuaW1hZG9zKVxyXG4gICAgdGhpcy5sb2FkaW5nRG90cyA9ICcnO1xyXG4gICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgZGVsYXk6IDUwMCxcclxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS5pc0FjdGl2ZSgnTG9iYnlTY2VuZScpKSB7XHJcbiAgICAgICAgICB0aGlzLmxvYWRpbmdEb3RzID0gKHRoaXMubG9hZGluZ0RvdHMubGVuZ3RoID49IDMpID8gJycgOiB0aGlzLmxvYWRpbmdEb3RzICsgJy4nO1xyXG4gICAgICAgICAgaWYgKHRoaXMuc3RhdHVzVGV4dC50ZXh0LmluY2x1ZGVzKCdFc3BlcmFuZG8nKSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgRXNwZXJhbmRvIG9wb25lbnRlJHt0aGlzLmxvYWRpbmdEb3RzfWApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQm90w7NuIGRlIGNhbmNlbGFyXHJcbiAgICBjb25zdCBDYW5jZWxCdG4gPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIGhlaWdodCAtIDEwMCwgJ0NhbmNlbEJ1dHRvbicpXHJcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgIENhbmNlbEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEwNjgsIDE3MCwgJ0NhbmNlbEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgIC5zZXREZXB0aChDYW5jZWxCdG4uZGVwdGggKyAxKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgQ2FuY2VsQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBDYW5jZWxCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENvbmVjdGFyIGFsIHNlcnZpZG9yIFdlYlNvY2tldFxyXG4gICAgdGhpcy5jb25uZWN0VG9TZXJ2ZXIoKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGNvbm5lY3RUb1NlcnZlcigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIENvbmVjdGFyIGFsIFdlYlNvY2tldFxyXG4gICAgICBhd2FpdCB3c1NlcnZpY2UuY29ubmVjdCgpO1xyXG5cclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0VzcGVyYW5kbyBvcG9uZW50ZScpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldEZvbnRGYW1pbHkoJ0NhdWRleCcpO1xyXG5cclxuICAgICAgLy8gUmVnaXN0cmFyIGhhbmRsZXJzIGRlIG1lbnNhamVzXHJcbiAgICAgIHRoaXMucXVldWVTdGF0dXNIYW5kbGVyID0gdGhpcy5oYW5kbGVRdWV1ZVN0YXR1cy5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLmdhbWVTdGFydEhhbmRsZXIgPSB0aGlzLmhhbmRsZUdhbWVTdGFydC5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLmNvbm5lY3Rpb25Mb3N0SGFuZGxlciA9IHRoaXMuaGFuZGxlQ29ubmVjdGlvbkxvc3QuYmluZCh0aGlzKTtcclxuXHJcbiAgICAgIHdzU2VydmljZS5vbigncXVldWVTdGF0dXMnLCB0aGlzLnF1ZXVlU3RhdHVzSGFuZGxlcik7XHJcbiAgICAgIHdzU2VydmljZS5vbignZ2FtZVN0YXJ0JywgdGhpcy5nYW1lU3RhcnRIYW5kbGVyKTtcclxuICAgICAgd3NTZXJ2aWNlLm9uKCdjb25uZWN0aW9uTG9zdCcsIHRoaXMuY29ubmVjdGlvbkxvc3RIYW5kbGVyKTtcclxuXHJcbiAgICAgIC8vIFVuaXJzZSBhIGxhIGNvbGFcclxuICAgICAgd3NTZXJ2aWNlLmpvaW5RdWV1ZSgpO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBjb25lY3RhbmRvIGFsIHNlcnZpZG9yOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Vycm9yIGRlIGNvbmV4acOzbicpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldEZvbnRGYW1pbHkoJ0NhdWRleCcpO1xyXG5cclxuICAgICAgLy8gQm90w7NuIGRlIHJlaW50ZW50YXJcclxuICAgICAgY29uc3QgcmV0cnlCdXR0b24gPSB0aGlzLmFkZC50ZXh0KHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC8gMiwgdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0IC8gMiArIDEwMCxcclxuICAgICAgICAn8J+UhCBSZWludGVudGFyJywge1xyXG4gICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjNDQ0NGZmJyxcclxuICAgICAgICBwYWRkaW5nOiB7IHg6IDIwLCB5OiAxMCB9XHJcbiAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgIHJldHJ5QnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICByZXRyeUJ1dHRvbi5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0VG9TZXJ2ZXIoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVRdWV1ZVN0YXR1cyhkYXRhKSB7XHJcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dC5zZXRUZXh0KGBKdWdhZG9yZXMgZW4gY29sYTogJHtkYXRhLnBvc2l0aW9ufS8yYCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVHYW1lU3RhcnQoZGF0YSkge1xyXG4gICAgY29uc29sZS5sb2coJ/Cfjq4gwqFQYXJ0aWRhIGVuY29udHJhZGEhJywgZGF0YSk7XHJcblxyXG4gICAgLy8gR3VhcmRhciBlbCByb2wgZGVsIGp1Z2Fkb3JcclxuICAgIHdzU2VydmljZS5zZXRQbGF5ZXJSb2xlKGRhdGEucm9sZSk7XHJcblxyXG4gICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ8KhUGFydGlkYSBlbmNvbnRyYWRhIScpO1xyXG4gICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dC5zZXRUZXh0KCdJbmljaWFuZG8ganVlZ28uLi4nKTtcclxuICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRGb250RmFtaWx5KCdDYXVkZXgnKTtcclxuICAgIHRoaXMucGxheWVyQ291bnRUZXh0LnNldEZvbnRGYW1pbHkoJ0NhdWRleCcpO1xyXG5cclxuICAgIC8vIFRyYW5zaWNpw7NuIGEgbGEgZXNjZW5hIGRlIGp1ZWdvIGRlc3B1w6lzIGRlIDEgc2VndW5kb1xyXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgLy8gUGFzYXIgZWwgcm9sIGFsIEdhbWVTY2VuZVxyXG4gICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnLCB7XHJcbiAgICAgICAgaXNNdWx0aXBsYXllcjogdHJ1ZSxcclxuICAgICAgICBwbGF5ZXJSb2xlOiBkYXRhLnJvbGUsXHJcbiAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZFxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ29ubmVjdGlvbkxvc3QoKSB7XHJcbiAgICBjb25zb2xlLmxvZygn4p2MIENvbmV4acOzbiBwZXJkaWRhIGVuIExvYmJ5Jyk7XHJcbiAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29uZXhpw7NuIHBlcmRpZGEnKTtcclxuICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgdGhpcy5wbGF5ZXJDb3VudFRleHQuc2V0VGV4dCgnJyk7XHJcbiAgICB0aGlzLnN0YXR1c1RleHQuc2V0Rm9udEZhbWlseSgnQ2F1ZGV4Jyk7XHJcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dC5zZXRGb250RmFtaWx5KCdDYXVkZXgnKTtcclxuXHJcbiAgICAvLyBWb2x2ZXIgYWwgbWVuw7ogZGVzcHXDqXMgZGUgMiBzZWd1bmRvc1xyXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGxlYXZlUXVldWUoKSB7XHJcbiAgICAvLyBMaW1waWFyIGhhbmRsZXJzXHJcbiAgICBpZiAodGhpcy5xdWV1ZVN0YXR1c0hhbmRsZXIpIHtcclxuICAgICAgd3NTZXJ2aWNlLm9mZigncXVldWVTdGF0dXMnLCB0aGlzLnF1ZXVlU3RhdHVzSGFuZGxlcik7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5nYW1lU3RhcnRIYW5kbGVyKSB7XHJcbiAgICAgIHdzU2VydmljZS5vZmYoJ2dhbWVTdGFydCcsIHRoaXMuZ2FtZVN0YXJ0SGFuZGxlcik7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5jb25uZWN0aW9uTG9zdEhhbmRsZXIpIHtcclxuICAgICAgd3NTZXJ2aWNlLm9mZignY29ubmVjdGlvbkxvc3QnLCB0aGlzLmNvbm5lY3Rpb25Mb3N0SGFuZGxlcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2FsaXIgZGUgbGEgY29sYSB5IGRlc2NvbmVjdGFyXHJcbiAgICB3c1NlcnZpY2UubGVhdmVRdWV1ZSgpO1xyXG4gICAgd3NTZXJ2aWNlLmRpc2Nvbm5lY3QoKTtcclxuXHJcbiAgICAvLyBWb2x2ZXIgYWwgbWVuw7pcclxuICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gIH1cclxuXHJcbiAgc2h1dGRvd24oKSB7XHJcbiAgICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBSYW5raW5nU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1JhbmtpbmdTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0b3JpYWxCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b24nLCAnYXNzZXRzL2NlcnJhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b25Ib3ZlcicsICdhc3NldHMvY2VycmFySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIGRlIHJhbmtpbmdcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JhbmtpbmdUZXh0JywgJ2Fzc2V0cy90ZXh0b19yYW5raW5nLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAndHV0b3JpYWxCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvIFxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgMjEwLCAnUmFua2luZ1RleHQnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gQ29udGVuZWRvciBwYXJhIGxhIGxpc3RhXHJcbiAgICAgICAgdGhpcy5mZXRjaFJhbmtpbmcoKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIGNvbnN0IEV4aXRCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMDY5LCAxNzAsICdFeGl0TWluQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEwNjgsIDE3MCwgJ0V4aXRNaW5CdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoRXhpdEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFJlZ3Jlc2FyIGEgbGEgZXNjZW5hIG9yaWdpbmFsXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZSh0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZmV0Y2hSYW5raW5nKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIExsYW1hZGEgYWwgZW5kcG9pbnQgZGUgdXNlclJvdXRlcy5qc1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3VzZXJzL3JhbmtpbmcnKTtcclxuICAgICAgICAgICAgY29uc3QgcGxheWVycyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XHJcblxyXG4gICAgICAgICAgICBwbGF5ZXJzLmZvckVhY2goKHBsYXllciwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHlQb3MgPSAyNzAgKyAoaW5kZXggKiA1MCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvciA9IGluZGV4IDwgMyA/ICcjZmZjODc1ZmYnIDogJyNmZmZmZmYnOyAvLyBUb3AgMyBlbiBkb3JhZG9cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudGV4dCh3ICogMC4zLCB5UG9zLCBgJHtpbmRleCArIDF9LiAke3BsYXllci51c2VybmFtZX1gLCB7IFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsIGZpbGw6IGNvbG9yLCBcclxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnQ2F1ZGV4J1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIEZvcm1hdGVhciBlbCB0aWVtcG9cclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLnRleHQodyAqIDAuNywgeVBvcywgYCR7cGxheWVyLmJlc3RUaW1lfXNgLCB7IFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsIGZpbGw6IGNvbG9yLCBcclxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnQ2F1ZGV4J1xyXG4gICAgICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDEsIDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYWwgb2J0ZW5lciByYW5raW5nOlwiLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQodGhpcy5zY2FsZS53aWR0aCAvIDIsIDMwMCwgJ0Vycm9yIGFsIGNvbmVjdGFyIGNvbiBlbCBib3NxdWUuLi4nLCB7IFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JywgZmlsbDogJyNmZjAwMDAnIFxyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lTG9jYWxTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZUxvY2FsU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubG9hZC5hdGxhcygnbml2aWEnLCAnYXNzZXRzL25pdmlhL25pdmlhX3NoZWV0LnBuZycsICdhc3NldHMvbml2aWEvbml2aWFfc2hlZXQuanNvbicpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdGxhcygnc29sZW5uZScsICdhc3NldHMvc29sZW5uZS9zb2xlbm5lX3NoZWV0LnBuZycsICdhc3NldHMvc29sZW5uZS9zb2xlbm5lX3NoZWV0Lmpzb24nKTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGNyaXN0YWxlc1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnc3VuZHJvcF9zaGVldCcsICdhc3NldHMvaXRlbXMvc3VuZHJvcC5wbmcnLCB7IGZyYW1lV2lkdGg6IDIxNCwgZnJhbWVIZWlnaHQ6IDIwNiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ21vb25kcm9wX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9tb29uZHJvcC5wbmcnLCB7IGZyYW1lV2lkdGg6IDIxNCwgZnJhbWVIZWlnaHQ6IDIwNiB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdzdW5fc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL3N1bi5wbmcnLCB7IGZyYW1lV2lkdGg6IDM0NywgZnJhbWVIZWlnaHQ6IDMyOSB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ21vb25fc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL21vb24ucG5nJywgeyBmcmFtZVdpZHRoOiAzNDcsIGZyYW1lSGVpZ2h0OiAzMjkgfSk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlbCBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvZm9uZG9fYWJham8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGF0YWZvcm1hcycsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9wbGF0YWZvcm1hc19hYmFqby5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGVsZW1lbnRvcyBkZWwgZXNjZW5hcmlvXHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmFOaXZlbDEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvcHVlcnRhX2NsYXJhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhT3NjdXJhTml2ZWwxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwxL3B1ZXJ0YV9vc2N1cmEucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmExTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhM05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmEzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhT3NjdXJhMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfb3NjdXJhMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX29zY3VyYTIucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25DbGFyb05pdmVsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9ib3Rvbl9jbGFyby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uT3NjdXJvMU5pdmVsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9ib3Rvbl9vc2N1cm8ucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25OaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNsYXJvTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX2NsYXJvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Pc2N1cm8xTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX29zY3VybzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk9zY3VybzJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b25fb3NjdXJvMi5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb3J0YWwnLCAnYXNzZXRzL3RyYW1wYXMvcHVlcnRhRmluYWwucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBib3RvbmVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYXVzZUJ1dHRvbicsICdhc3NldHMvcGF1c2EucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYXVzZUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9wYXVzYUhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzQnV0dG9uJywgJ2Fzc2V0cy9hanVzdGVzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU2V0dGluZ3NCdXR0b25Ib3ZlcicsICdhc3NldHMvYWp1c3Rlc0hvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgcmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uJywgJ2Fzc2V0cy9yZWluaWNpYXIuUE5HJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uSG92ZXInLCAnYXNzZXRzL3JlaW5pY2lhckhvdmVyLlBORycpO1xyXG5cclxuICAgICAgICAvL0Rhw7FvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkYW1hZ2UnLCAnYXNzZXRzL3RyYW1wYXMvbGlhbmFzX3BsYXRhZm9ybWFzLnBuZycpXHJcblxyXG4gICAgICAgIC8vIEVmZWN0b3MgZGUgc29uaWRvIHkgbcO6c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2Fsa1NvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY2FtaW5hci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2NvbGxlY3RTdW5DcnlzdGFsU291bmQnLCAnYXNzZXRzL3Nvbmlkby9jcmlzdGFsQ2xhcm8ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0TW9vbkNyeXN0YWxTb3VuZCcsICdhc3NldHMvc29uaWRvL2NyaXN0YWxPc2N1cm8ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIE3DmlNJQ0EgRVNQRUPDjUZJQ0EgREVMIEpVRUdPXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdHYW1lTXVzaWMnLCAnYXNzZXRzL3Nvbmlkby9qdWVnby5tcDMnKTsgLy8gYWp1c3RhIHJ1dGEgc2kgaGFjZSBmYWx0YVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBtYXBXaWR0aEluUGl4ZWxzID0gMTQyMDtcclxuICAgICAgICBjb25zdCBtYXBIZWlnaHRJblBpeGVscyA9IDgwMDtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gRGV0ZW5lciBzb2xvIGxhIG3DunNpY2EgZGVsIG1lbsO6IHNpIGVzdMOhIHNvbmFuZG9cclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BCeUtleSgnTWVudU11c2ljJyk7XHJcblxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbGEgbcO6c2ljYSBkZWwganVlZ29cclxuICAgICAgICBpZiAodGhpcy5jYWNoZS5hdWRpby5leGlzdHMoJ0dhbWVNdXNpYycpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnR2FtZU11c2ljJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMX0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWdyZWdhciBmb25kb1xyXG4gICAgICAgIC8vY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8xJykuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIC8vYmcuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xyXG5cclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDAsIDAsICdmb25kbycpLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICBiZy5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBsYXRhZm9ybWEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgwLCAwLCAncGxhdGFmb3JtYXMnKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgcGxhdGFmb3JtYS5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGxhIGbDrXNpY2EgZGVsIG11bmRvXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLmdyYXZpdHkueSA9IDE1MDA7XHJcblxyXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcblxyXG5cclxuICAgICAgICAvLyBURU1QT1JBTDogQ3JlYXIgdW4gc3VlbG8gc2ltcGxlIHBhcmEgcXVlIHB1ZWRhbiBzYWx0YXIgeSBjYWVyXHJcbiAgICAgICAgdGhpcy5ncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgbWFwSGVpZ2h0SW5QaXhlbHMsIG1hcFdpZHRoSW5QaXhlbHMsIDEwLCAweDAwRkYwMCwgMCkuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5ncm91bmQsIHRydWUpOyAvLyB0cnVlID0gZXN0w6F0aWNvXHJcblxyXG4gICAgICAgIC8vQ3JlYWNpw7NuIGRlIGxhcyBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMjAwLCA0ODAsIDMwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNTc1LCA0ODAsIDE1MCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTMgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTAwMCwgNTUwLCA0MDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTMsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDMwMCwgMTUwLCAyMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTQsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE1ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDg3NSwgMjc1LCAxNTAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTUsIHRydWUpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5wYXJlZDEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNDAwLCA1MCwgMjAsIDIwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBhcmVkMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGFyZWQyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDkwMCwgNzAwLCAyMDAsIDMwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBhcmVkMiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbCA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDEwMDAsIDEwLCAncG9ydGFsJykuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5leGl0UG9ydGFsLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gcHVlcnRhc1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoNzAwLCA0MDAsICdwdWVydGFPc2N1cmFOaXZlbDEnKS5zZXRTY2FsZSgwLjcpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yMSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDc1MCwgNDAwLCAncHVlcnRhQ2xhcmFOaXZlbDEnKS5zZXRTY2FsZSgwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLmRhcmtEb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyNTAsIDM3NSwgMjAsIDMwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhcmtEb29yMUhpdGJveCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIHRoaXMubGlnaHREb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg5MjAsIDQwMCwgMjAsIDI4MCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjFIaXRib3gsIHRydWUpO1xyXG5cclxuICAgICAgICAvLyBkYcOxbyBwbGFjZWhvbGRlclxyXG4gICAgICAgIHRoaXMudHJhbXBhID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoNDUwLCAxNTAsICdkYW1hZ2UnKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMuZGFtYWdlID0gdGhpcy5hZGQucmVjdGFuZ2xlKDQ4MCwgMTAwLCAxMDAsIDYwLCAweDMzZmYwMCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFtYWdlLCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgc3VlbG8geSBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5ncm91bmQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmdyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWExKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE0KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE1KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBhcmVkMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGFyZWQxKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGFyZWQyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wYXJlZDIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5saWdodERvb3IxSGl0Ym94KTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmxpZ2h0RG9vcjFIaXRib3gpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmRhcmtEb29yMUhpdGJveCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMuZGFya0Rvb3IxSGl0Ym94KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCduaXZpYScpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygnc29sZW5uZScpO1xyXG5cclxuICAgICAgICAvLyBJbmljaWFyIGxhIGFuaW1hY2nDs24gJ3J1bicgcGFyYSBwcm9iYXIgKHNlIGNvcnJlZ2lyw6EgZW4gdXBkYXRlKVxyXG4gICAgICAgIHRoaXMubml2aWEucGxheSgnbml2aWFfaWRsZScpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZS5wbGF5KCdzb2xlbm5lX2lkbGUnKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYWNpw7NuIGRlIGxvcyBvYmpldG9zXHJcbiAgICAgICAgdGhpcy5jcnlzdGFscyA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoe2FsbG93R3Jhdml0eTogZmFsc2UsIGltbW92YWJsZTogdHJ1ZX0pO1xyXG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSgxMTAwLCA0MDAsICdtb29uZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLnN1bkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSgxMDAsIDEwMCwgJ3N1bmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgLy90aGlzLnN1bkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZShtYXAud2lkdGhJblBpeGVscyAtIDIwMCwgMzAwLCAnc3VuQ3J5c3RhbCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAvL3RoaXMubWV0YVBvcnRhbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMgLyAyLCA1MCwgJ21ldGFQb3J0YWwnKS5zZXRJbW1vdmFibGUodHJ1ZSkuc2V0Qm9keVNpemUoNjQsIDY0KTtcclxuXHJcblxyXG5cclxuICAgICAgICAvLyBBbmltYWNpb25lcyBkZSBsb3Mgb2JqZXRvc1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnc3VuZHJvcF9pZGxlJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdzdW5kcm9wX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiA3IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbW9vbmRyb3BfaWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbW9vbmRyb3Bfc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDcgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tb29uQ3J5c3RhbC5wbGF5KCdtb29uZHJvcF9pZGxlJyk7XHJcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsLnBsYXkoJ3N1bmRyb3BfaWRsZScpO1xyXG5cclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlbCBJY29ubyBkZWwgU29sIChIVUQpXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdzdW5faHVkX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3N1bl9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZWwgSWNvbm8gZGUgbGEgTHVuYSAoSFVEKVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbW9vbl9odWRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbW9vbl9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIEx1bmEgKE5pdmlhKSAtIEl6cXVpZXJkYVxyXG4gICAgICAgIHRoaXMubW9vbkhVRCA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYIC0gMjAsIDQwLCAnbW9vbl9zaGVldCcpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMTUpIC8vIEVzY2FsYSBNVVkgcmVkdWNpZGEsIHlhIHF1ZSBsb3Mgc3ByaXRlc2hlZXRzIHNvbiBncmFuZGVzICgzNDd4MzI5KVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgICAgIC5wbGF5KCdtb29uX2h1ZF9hbmltJyk7IC8vIEluaWNpYSBsYSBhbmltYWNpw7NuXHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBkZSBTb2wgKFNvbGVubmUpIC0gRGVyZWNoYVxyXG4gICAgICAgIHRoaXMuc3VuSFVEID0gdGhpcy5hZGQuc3ByaXRlKHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclggKyAyMCwgNDAsICdzdW5fc2hlZXQnKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjE1KSAvLyBFc2NhbGEgTVVZIHJlZHVjaWRhXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKSBcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMClcclxuICAgICAgICAgICAgLnBsYXkoJ3N1bl9odWRfYW5pbScpOyAvLyBJbmljaWEgbGEgYW5pbWFjacOzblxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGxhIHJlY29sZWNjacOzbiBkZSBjcmlzdGFsZXNcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5tb29uQ3J5c3RhbCwgdGhpcy5jb2xsZWN0TW9vbkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuc3VuQ3J5c3RhbCwgdGhpcy5jb2xsZWN0U3VuQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgZmluIGRlIG5pdmVsIChPdmVybGFwIGRlbCBwb3J0YWwpXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5tZXRhUG9ydGFsLCB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSwgbnVsbCwgdGhpcyk7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLm1ldGFQb3J0YWwsIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlLCBudWxsLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgbml2ZWxcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgZ2VvbWV0cnlMYXllcik7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgZ2VvbWV0cnlMYXllcik7XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGxhIGPDoW1hcmFcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRCb3VuZHMoMCwgMCwgbWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpOyAgXHJcblxyXG4gICAgICAgIC8vIENvbnRyb2wgZGUgcGF1c2FcclxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmV4aXRQb3J0YWwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5leGl0UG9ydGFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHBhdXNhXHJcbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApIFxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTsgXHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5wYXVzZUJ1dHRvbi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7IFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgYWp1c3Rlc1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDEyMCwgNDAsICdTZXR0aW5nc0J1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMCkgXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApOyBcclxuXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAxMjAsIDQwLCAnU2V0dGluZ3NCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5zZXR0aW5nc0J1dHRvbi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdTZXR0aW5nc1NjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigndXBkYXRlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZXhpdFBvcnRhbCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5waHlzaWNzLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLmV4aXRQb3J0YWwpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZGFtYWdlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdHYW1lT3ZlclNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZGFtYWdlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdHYW1lT3ZlclNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgICBjb25zdCBpbml0aWFsWSA9IDE1MDA7XHJcblxyXG4gICAgICAgICAvLyBDcmVhY2nDs24gcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubml2aWEgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxMzAwLCBpbml0aWFsWSwgJ25pdmlhJykuc2V0Qm91bmNlKDAuMikuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZSA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDEwMCwgaW5pdGlhbFksICdzb2xlbm5lJykuc2V0Qm91bmNlKDAuMikuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLm5pdmlhLnNldFNpemUoMTIwLCAyNDApO1xyXG4gICAgICAgIHRoaXMubml2aWEuc2V0T2Zmc2V0KDExMCwgNTApO1xyXG5cclxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0U2l6ZSgxMjAsIDI0MCk7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldE9mZnNldCgxMTAsIDUwKTtcclxuXHJcbiAgICAgICAgLy8gRXNjYWxhZG8gZGUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLm5pdmlhLnNldFNjYWxlKDAuNSk7IFxyXG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRTY2FsZSgwLjUpO1xyXG5cclxuICAgICAgICAvLyBDb250cm9sZXMgZGUgTml2aWEgKFRlY2xhcyBXQVNEKVxyXG4gICAgICAgIHRoaXMubml2aWFDb250cm9scyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7XHJcbiAgICAgICAgICAgIGxlZnQ6ICdBJyxcclxuICAgICAgICAgICAgcmlnaHQ6ICdEJyxcclxuICAgICAgICAgICAgdXA6ICdXJywgICAgLy8gc2FsdG9cclxuICAgICAgICAgICAgaW50ZXJhY3Q6ICdFJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBDb250cm9sZXMgZGUgU29sZW5uZSAoRmxlY2hhcylcclxuICAgICAgICB0aGlzLnNvbGVubmVDb250cm9scyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7XHJcbiAgICAgICAgICAgIGxlZnQ6ICdMRUZUJyxcclxuICAgICAgICAgICAgcmlnaHQ6ICdSSUdIVCcsXHJcbiAgICAgICAgICAgIHVwOiAnVVAnLCAgIC8vIHNhbHRvXHJcbiAgICAgICAgICAgIGludGVyYWN0OiAnU1BBQ0UnXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNyZWF0ZUFuaW1hdGlvbnMoa2V5KSB7XHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBjb3JyZXJcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9ydW5gLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBwcmVmaXg6ICdydW5fJywgc3RhcnQ6IDEsIGVuZDogNCB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBzYWx0b1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBgJHtrZXl9X2p1bXBgLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBwcmVmaXg6ICdqdW1wXycsIHN0YXJ0OiAxLCBlbmQ6IDYgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlIGlkbGVcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9pZGxlYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgZnJhbWVzOiBbJ2lkbGVfMSddIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBhdXNlZFN0YXRlKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJywge29yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5fSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lKCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVQYXVzZSgpIHtcclxuICAgICAgICBjb25zdCBuZXdQYXVzZWRTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgIHRoaXMuc2V0UGF1c2VkU3RhdGUobmV3UGF1c2VkU3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVNldHRpbmdzKCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdTZXR0aW5nc1NjZW5lJyk7IFxyXG4gICAgICAgIC8vdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGUoKXtcclxuICAgICAgICAvLyBMw7NnaWNhIGRlIHBhdXNhIGNvbiB0ZWNsYSBFU0NcclxuICAgICAgICBpZih0aGlzLmVzY0tleS5pc0Rvd24pe1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNb3ZpbWllbnRvIGRlIE5pdmlhXHJcbiAgICAgICAgdGhpcy5oYW5kbGVQbGF5ZXJNb3ZlbWVudCh0aGlzLm5pdmlhLCB0aGlzLm5pdmlhQ29udHJvbHMpO1xyXG5cclxuICAgICAgICAvLyBNb3ZpbWllbnRvIGRlIFNvbGVubmVcclxuICAgICAgICB0aGlzLmhhbmRsZVBsYXllck1vdmVtZW50KHRoaXMuc29sZW5uZSwgdGhpcy5zb2xlbm5lQ29udHJvbHMpO1xyXG5cclxuICAgICAgICB0aGlzLmhhbmRsZUNhbWVyYUFuZENvbnN0cmFpbnRzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5leGl0UG9ydGFsLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUodGhpcy5leGl0UG9ydGFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2FtZXJhQW5kQ29uc3RyYWludHMoKSB7XHJcbiAgICAgICAgY29uc3Qgbml2aWFZID0gdGhpcy5uaXZpYS55O1xyXG4gICAgICAgIGNvbnN0IHNvbGVubmVZID0gdGhpcy5zb2xlbm5lLnk7XHJcblxyXG4gICAgICAgIC8vIENlbnRyYXIgbGEgY8OhbWFyYSBlbnRyZSBhbWJvcyBwZXJzb25hamVzXHJcbiAgICAgICAgY29uc3QgbWlkWSA9IChuaXZpYVkgKyBzb2xlbm5lWSkgLyAyO1xyXG5cclxuICAgICAgICAvLyBDYWxjdWxhciBsYSBwb3NpY2nDs24gbWVkaWEgZW4gWVxyXG4gICAgICAgIGxldCBkZXNpcmVkQ2FtZXJhWSA9IG1pZFk7XHJcblxyXG4gICAgICAgIC8vIERlc3BsYXphciBsYSBjw6FtYXJhIHN1YXZlbWVudGVcclxuICAgICAgICBjb25zdCBsZXJwRmFjdG9yID0gMC4wNTtcclxuICAgICAgICBjb25zdCBjYW1lcmFIZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNjcm9sbFkgPSBQaGFzZXIuTWF0aC5MaW5lYXIoXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNjcm9sbFksIFxyXG4gICAgICAgICAgICBkZXNpcmVkQ2FtZXJhWSAtIGNhbWVyYUhlaWdodCAvIDIsIFxyXG4gICAgICAgICAgICBsZXJwRmFjdG9yXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gVmlld3BvcnQgY29uc3RyYWludFxyXG4gICAgICAgIGNvbnN0IG1heFZlcnRpY2FsR2FwID0gY2FtZXJhSGVpZ2h0ICogMC43OyAvLyBkaXN0YW5jaWEgbcOheGltYSBwZXJtaXRpZGEgZW50cmUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICBjb25zdCBkaXN0YW5jZVkgPSBNYXRoLmFicyhuaXZpYVkgLSBzb2xlbm5lWSk7XHJcblxyXG4gICAgICAgIGlmIChkaXN0YW5jZVkgPiBtYXhWZXJ0aWNhbEdhcCkge1xyXG4gICAgICAgICAgICBjb25zdCBmYXN0ZXJQbGF5ZXIgPSAobml2aWFZIDwgc29sZW5uZVkpID8gdGhpcy5uaXZpYSA6IHRoaXMuc29sZW5uZTtcclxuICAgICAgICAgICAgY29uc3Qgc2xvd2VyUGxheWVyID0gKG5pdmlhWSA8IHNvbGVubmVZKSA/IHRoaXMuc29sZW5uZSA6IHRoaXMubml2aWE7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2xvd2VyUGxheWVyLmJvZHkuYmxvY2tlZC5kb3duIHx8IHNsb3dlclBsYXllci55ID4gZmFzdGVyUGxheWVyLnkgKyBtYXhWZXJ0aWNhbEdhcCkge1xyXG4gICAgICAgICAgICAgICAgLy8gRGV0ZW5lciBlbCBhdmFuY2UgdmVydGljYWwgKGhhY2lhIGFycmliYSkgZGVsIGp1Z2Fkb3IgbcOhcyByw6FwaWRvXHJcbiAgICAgICAgICAgICAgICBpZiAoZmFzdGVyUGxheWVyLmJvZHkudmVsb2NpdHkueSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmYXN0ZXJQbGF5ZXIuYm9keS52ZWxvY2l0eS55ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTW92aW1pZW50byB2ZXJ0aWNhbCByZXN0cmluZ2lkbyBwb3IgZWwganVnYWRvciByZXphZ2Fkby5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlUGxheWVyTW92ZW1lbnQocGxheWVyU3ByaXRlLCBjb250cm9scykge1xyXG4gICAgICAgIC8vIFZlbG9jaWRhZCBkZWwgbW92aW1pZW50b1xyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gNDAwO1xyXG4gICAgICAgIGNvbnN0IGp1bXBWZWxvY2l0eSA9IDkwMDtcclxuICAgICAgICBjb25zdCBrZXkgPSBwbGF5ZXJTcHJpdGUudGV4dHVyZS5rZXk7XHJcbiAgICAgICAgY29uc3QgaXNNb3ZpbmcgPSBjb250cm9scy5sZWZ0LmlzRG93biB8fCBjb250cm9scy5yaWdodC5pc0Rvd247XHJcbiAgICAgICAgY29uc3QgaXNHcm91bmRlZCA9IHBsYXllclNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bjtcclxuICAgICAgICBsZXQgYW5pbWtleSA9ICcnO1xyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIHBhcmEgcmVwcm9kdWNpciBlbCBzb25pZG8gZGUgY2FtaW5hclxyXG4gICAgICAgaWYgKGlzTW92aW5nICYmIGlzR3JvdW5kZWQpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25pdmlhJyAmJiB0aGlzLmlzTml2aWFXYWxraW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gdGhpcy5zb3VuZC5hZGQoJ3dhbGtTb3VuZCcsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAxIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZy5wbGF5KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSB0aGlzLnNvdW5kLmFkZCgnd2Fsa1NvdW5kJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDEgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcucGxheSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRGV0ZW5lciBlbCBzb25pZG8gc2kgbm8gc2UgZXN0w6EgbW92aWVuZG8gbyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbml2aWEnICYmIHRoaXMuaXNOaXZpYVdhbGtpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTW92aW1pZW50byBob3Jpem9udGFsXHJcbiAgICAgICAgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVgoLXNwZWVkKTtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKGZhbHNlKTsgLy8gTWlyYXIgYSBsYSBpenF1aWVyZGFcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKHNwZWVkKTtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKHRydWUpOyAvLyBNaXJhciBhIGxhIGRlcmVjaGFcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2FsdG8gKHNvbG8gc2kgZXN0w6EgdG9jYW5kbyBlbCBzdWVsbylcclxuICAgICAgICBjb25zdCBpc0p1bXBpbmcgPSBjb250cm9scy51cC5pc0Rvd24gJiYgcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xyXG5cclxuICAgICAgICBpZiAoaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVkoLWp1bXBWZWxvY2l0eSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGFuaW1hY2lvbmVzXHJcbiAgICAgICAgaWYgKCFwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd24pIHtcclxuICAgICAgICAgICAgLy8gRW4gZWwgYWlyZVxyXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9qdW1wYDtcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duIHx8IGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xyXG4gICAgICAgICAgICAvLyBDb3JyaWVuZG9cclxuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1fcnVuYDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZGxlXHJcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X2lkbGVgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBSZXByb2R1Y2lyIGxhIGFuaW1hY2nDs24gc29sbyBzaSBlcyBkaWZlcmVudGUgYSBsYSBhY3R1YWxcclxuICAgICAgICBpZiAocGxheWVyU3ByaXRlLmFuaW1zLmN1cnJlbnRBbmltPy5rZXkgIT09IGFuaW1rZXkpIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLmFuaW1zLnBsYXkoYW5pbWtleSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGludGVyYWNjacOzblxyXG4gICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24oY29udHJvbHMuaW50ZXJhY3QpKSB7XHJcbiAgICAgICAgICAgIC8vIEFxdcOtIHZhIGxhIGzDs2dpY2EgZGUgaW50ZXJhY2Npw7NuIChwb3IgZWplbXBsbywgYWJyaXIgcHVlcnRhcywgcmVjb2dlciBvYmpldG9zLCBldGMuKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSW50ZXJhY2Npw7NuIHJlYWxpemFkYScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb2xsZWN0TW9vbkNyeXN0YWwocGxheWVyLCBjcnlzdGFsKSB7XHJcbiAgICAgICAgY3J5c3RhbC5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICB0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubW9vbkhVRC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnY29sbGVjdE1vb25DcnlzdGFsU291bmQnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdOaXZpYSBoYSByZWNvZ2lkbyBlbCBDcmlzdGFsIGRlIGxhIEx1bmEnKTtcclxuICAgICAgICB0aGlzLnVubG9ja0RhcmtEb29yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29sbGVjdFN1bkNyeXN0YWwocGxheWVyLCBjcnlzdGFsKSB7XHJcbiAgICAgICAgY3J5c3RhbC5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnN1bkhVRC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnY29sbGVjdFN1bkNyeXN0YWxTb3VuZCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NvbGVubmUgaGEgcmVjb2dpZG8gZWwgQ3Jpc3RhbCBkZWwgU29sJyk7XHJcbiAgICAgICAgdGhpcy51bmxvY2tMaWdodERvb3IoKTtcclxuICAgIH1cclxuXHJcbiAgICB1bmxvY2tEYXJrRG9vcigpIHtcclxuICAgICAgICAvLyBMw7NnaWNhIHBhcmEgZGVzYmxvcXVlYXIgbGEgcHVlcnRhIG9zY3VyYVxyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxSGl0Ym94LmJvZHkuZW5hYmxlID0gZmFsc2U7ICAgXHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjFIaXRib3guc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjEuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1B1ZXJ0YSBPc2N1cmEgZGVzYmxvcXVlYWRhJyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1BvcnRhbFNwYXduKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdW5sb2NrTGlnaHREb29yKCkge1xyXG4gICAgICAgIC8vIEzDs2dpY2EgcGFyYSBkZXNibG9xdWVhciBsYSBwdWVydGEgY2xhcmFcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjFIaXRib3guYm9keS5lbmFibGUgPSBmYWxzZTsgICBcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjFIaXRib3guc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IxLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdQdWVydGEgQ2xhcmEgZGVzYmxvcXVlYWRhJyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1BvcnRhbFNwYXduKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tQb3J0YWxTcGF3bigpIHtcclxuICAgICAgICBpZiAodGhpcy5uaXZpYUhhc01vb25DcnlzdGFsICYmIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FtYm9zIGNyaXN0YWxlcyByZWNvZ2lkb3MuIEVsIHBvcnRhbCBhcGFyZWNlLicpO1xyXG4gICAgICAgICAgICB0aGlzLmV4aXRQb3J0YWwuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5leGl0UG9ydGFsLmJvZHkuZW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tMZXZlbENvbXBsZXRlKHBsYXllciwgcG9ydGFsKSB7XHJcbiAgICAgICAgLy8gTG9zIGRvcyBkZWJlbiB0b2NhciBlbCBwb3J0YWwgeSB0ZW5lciBzdXMgcmVzcGVjdGl2b3MgY3Jpc3RhbGVzXHJcbiAgICAgICAgaWYgKHRoaXMubml2aWFPblBvcnRhbCAmJiB0aGlzLnNvbGVubmVPblBvcnRhbCAmJiB0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgJiYgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCkge1xyXG4gICAgICAgICAgICAvLyBMYW56YXIgZXNjZW5hIGRlIHZpY3RvcmlhIHkgcGF1c2FyIGVzdGEgZXNjZW5hXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdWaWN0b3J5U2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlbmRnYW1lKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSnVlZ28gVGVybWluYWRvXCIpO1xyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmZXJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclgsIHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclkgLSAxMDAsIFwiwqFOaXZlbCBDb21wbGV0YWRvIVwiLCB7IFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLCBmaWxsOiAnI0ZGRkZGRicgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAvLyBSZWluaWNpYXIgbml2ZWxcclxuICAgICAgICBjb25zdCByZXN0YXJ0YnRuID0gdGhpcy5hZGQuaW1hZ2UoNzA1LCA0MTUsICdSZXN0YXJ0QnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDY5MywgNDI1LCAnUmVzdGFydEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyZXN0YXJ0YnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2NlbmVLZXkgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExldmVsMlNjZW5lTG9jYWwgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xldmVsMlNjZW5lTG9jYWwnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID0gMDtcclxuICAgICAgICB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID0gMDtcclxuICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLmxvYWQuYXRsYXMoJ25pdmlhJywgJ2Fzc2V0cy9uaXZpYS9uaXZpYV9zaGVldC5wbmcnLCAnYXNzZXRzL25pdmlhL25pdmlhX3NoZWV0Lmpzb24nKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXRsYXMoJ3NvbGVubmUnLCAnYXNzZXRzL3NvbGVubmUvc29sZW5uZV9zaGVldC5wbmcnLCAnYXNzZXRzL3NvbGVubmUvc29sZW5uZV9zaGVldC5qc29uJyk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBjcmlzdGFsZXNcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3N1bmRyb3Bfc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL3N1bmRyb3AucG5nJywgeyBmcmFtZVdpZHRoOiAyMTQsIGZyYW1lSGVpZ2h0OiAyMDYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uZHJvcF9zaGVldCcsICdhc3NldHMvaXRlbXMvbW9vbmRyb3AucG5nJywgeyBmcmFtZVdpZHRoOiAyMTQsIGZyYW1lSGVpZ2h0OiAyMDYgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnc3VuX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9zdW4ucG5nJywgeyBmcmFtZVdpZHRoOiAzNDcsIGZyYW1lSGVpZ2h0OiAzMjkgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9tb29uLnBuZycsIHsgZnJhbWVXaWR0aDogMzQ3LCBmcmFtZUhlaWdodDogMzI5IH0pO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZWwgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9mb25kb19hcnJpYmEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGF0YWZvcm1hczEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcGxhdGFmb3JtYXNfYXJyaWJhLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgZWxlbWVudG9zIGRlbCBlc2NlbmFyaW9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BsYXRhZm9ybWFzTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3BsYXRhZm9ybWFzX2FycmliYS5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTFOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhMk5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmEyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmEzTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFPc2N1cmExTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9vc2N1cmExLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhT3NjdXJhMk5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfb3NjdXJhMi5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uQ2xhcm9OaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b25fY2xhcm8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk9zY3VybzFOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b25fb3NjdXJvMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uT3NjdXJvMk5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9vc2N1cm8yLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvcnRhbDEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcG9ydGFsLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgYm90b25lc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGF1c2VCdXR0b24nLCAnYXNzZXRzL3BhdXNhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGF1c2VCdXR0b25Ib3ZlcicsICdhc3NldHMvcGF1c2FIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc0J1dHRvbicsICdhc3NldHMvYWp1c3Rlcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzQnV0dG9uSG92ZXInLCAnYXNzZXRzL2FqdXN0ZXNIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbicsICdhc3NldHMvcmVpbmljaWFyLlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9yZWluaWNpYXJIb3Zlci5QTkcnKTtcclxuXHJcbiAgICAgICAgLy9EYcOxb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZGFtYWdlMScsICdhc3NldHMvdHJhbXBhcy90cmFtcGFzLnBuZycpXHJcblxyXG4gICAgICAgIC8vIEVmZWN0b3MgZGUgc29uaWRvIHkgbcO6c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2Fsa1NvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY2FtaW5hci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2NvbGxlY3RTdW5DcnlzdGFsU291bmQnLCAnYXNzZXRzL3Nvbmlkby9jcmlzdGFsQ2xhcm8ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0TW9vbkNyeXN0YWxTb3VuZCcsICdhc3NldHMvc29uaWRvL2NyaXN0YWxPc2N1cm8ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIE3DmlNJQ0EgRVNQRUPDjUZJQ0EgREVMIEpVRUdPXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdHYW1lTXVzaWMnLCAnYXNzZXRzL3Nvbmlkby9qdWVnby5tcDMnKTsgLy8gYWp1c3RhIHJ1dGEgc2kgaGFjZSBmYWx0YVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBtYXBXaWR0aEluUGl4ZWxzID0gMTQyMDtcclxuICAgICAgICBjb25zdCBtYXBIZWlnaHRJblBpeGVscyA9IDgwMDtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gRGV0ZW5lciBzb2xvIGxhIG3DunNpY2EgZGVsIG1lbsO6IHNpIGVzdMOhIHNvbmFuZG9cclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BCeUtleSgnTWVudU11c2ljJyk7XHJcblxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbGEgbcO6c2ljYSBkZWwganVlZ29cclxuICAgICAgICBpZiAodGhpcy5jYWNoZS5hdWRpby5leGlzdHMoJ0dhbWVNdXNpYycpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnR2FtZU11c2ljJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMn0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWdyZWdhciBmb25kb1xyXG4gICAgICAgIC8vY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8xJykuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIC8vYmcuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xyXG5cclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDAsIDAsICdmb25kbzEnKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgYmcuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xyXG5cclxuICAgICAgICBjb25zdCBwbGF0YWZvcm1hID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoMCwgMCwgJ3BsYXRhZm9ybWFzMScpLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICBwbGF0YWZvcm1hLnNldERpc3BsYXlTaXplKG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcclxuXHJcbiAgICAgICAgLy8gQ29uZmlndXJhY2nDs24gZGUgbGEgZsOtc2ljYSBkZWwgbXVuZG9cclxuICAgICAgICB0aGlzLnBoeXNpY3Mud29ybGQuZ3Jhdml0eS55ID0gMTUwMDtcclxuXHJcbiAgICAgICAgLy8gQ3JlYWNpw7NuIGRlIGxvcyBwZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcclxuXHJcblxyXG4gICAgICAgIC8vIFRFTVBPUkFMOiBDcmVhciB1biBzdWVsbyBzaW1wbGUgcGFyYSBxdWUgcHVlZGFuIHNhbHRhciB5IGNhZXJcclxuICAgICAgICB0aGlzLmdyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCBtYXBIZWlnaHRJblBpeGVscywgbWFwV2lkdGhJblBpeGVscywgMTAsIDB4MDBGRjAwLCAwKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmdyb3VuZCwgdHJ1ZSk7IC8vIHRydWUgPSBlc3TDoXRpY29cclxuXHJcbiAgICAgICAgLy9DcmVhY2nDs24gZGUgbGFzIHBsYXRhZm9ybWFzXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hMSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyMDAsIDU3NSwgMzAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWExLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hMiA9IHRoaXMuYWRkLnJlY3RhbmdsZSg3NTAsIDU1MCwgMTYwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWEyLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hMyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgxMjUwLCA0MjUsIDQwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMywgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNTI1LCAzMjUsIDQwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hNCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTUgPSB0aGlzLmFkZC5yZWN0YW5nbGUoODc1LCAyMjUsIDMwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hNSwgdHJ1ZSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnBhcmVkMSA9IHRoaXMuYWRkLnJlY3RhbmdsZSg3MTUsIDQyNSwgODAsIDIwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBhcmVkMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5wYXJlZDIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoOTAwLCA3MDAsIDIwMCwgMzAwLCAweDMyMmIxZCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wYXJlZDIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9ydGFsU3ByaXRlID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3BvcnRhbDEnKS5zZXRTY2FsZSgwLjc1KTtcclxuICAgICAgICB0aGlzLnBvcnRhbFNwcml0ZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsID0gdGhpcy5hZGQucmVjdGFuZ2xlKDIwMCwgMjAwLCAyMDAsIDIwMCkuc2V0U2NhbGUoMC43NSk7XHJcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5leGl0UG9ydGFsLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gcHVlcnRhcyAoc3ByaXRlcylcclxuICAgICAgICB0aGlzLmRhcmtEb29yMSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwdWVydGFPc2N1cmExTml2ZWwyJykuc2V0U2NhbGUoMC43NSk7XHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjIgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncHVlcnRhT3NjdXJhMk5pdmVsMicpLnNldFNjYWxlKDAuNzUpO1xyXG5cclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncHVlcnRhQ2xhcmExTml2ZWwyJykuc2V0U2NhbGUoMC43NSk7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IyID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3B1ZXJ0YUNsYXJhMk5pdmVsMicpLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yMyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwdWVydGFDbGFyYTNOaXZlbDInKS5zZXRTY2FsZSgwLjc1KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBwdWVydGFzIGhpdGJveGVzXHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjFIaXRib3ggPSB0aGlzLmFkZC5yZWN0YW5nbGUoMzI1LCA3MDAsIDIwLCAzMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYXJrRG9vcjFIaXRib3gsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IySGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgNTc1LCAzMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFya0Rvb3IySGl0Ym94LCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5saWdodERvb3IxSGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDcwMCwgMTAwLCAyMCwgMjgwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMubGlnaHREb29yMUhpdGJveCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IySGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDc1MCwgNzAwLCAyMCwgMjAwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMubGlnaHREb29yMkhpdGJveCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IzSGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDkyNSwgNTAwLCAyMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMubGlnaHREb29yM0hpdGJveCk7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IzSGl0Ym94LmJvZHkuc2V0SW1tb3ZhYmxlKHRydWUpLnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IzSGl0Ym94LnNldEFuZ2xlKDEzNSk7XHJcblxyXG4gICAgICAgIC8vcHVlcnRhcyAobGlzdGEpXHJcbiAgICAgICAgdGhpcy5kb29ycyA9IHtcclxuICAgICAgICAgICAgZGFya0Rvb3IxOiB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHRoaXMuZGFya0Rvb3IxLFxyXG4gICAgICAgICAgICAgICAgaGl0Ym94OiB0aGlzLmRhcmtEb29yMUhpdGJveFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkYXJrRG9vcjI6IHtcclxuICAgICAgICAgICAgICAgIHNwcml0ZTogdGhpcy5kYXJrRG9vcjIsXHJcbiAgICAgICAgICAgICAgICBoaXRib3g6IHRoaXMuZGFya0Rvb3IySGl0Ym94XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpZ2h0RG9vcjE6IHtcclxuICAgICAgICAgICAgICAgIHNwcml0ZTogdGhpcy5saWdodERvb3IxLFxyXG4gICAgICAgICAgICAgICAgaGl0Ym94OiB0aGlzLmxpZ2h0RG9vcjFIaXRib3hcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGlnaHREb29yMjoge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmxpZ2h0RG9vcjMsXHJcbiAgICAgICAgICAgICAgICBoaXRib3g6IHRoaXMubGlnaHREb29yMkhpdGJveFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaWdodERvb3IzOiB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHRoaXMubGlnaHREb29yMixcclxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5saWdodERvb3IzSGl0Ym94XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBkYcOxbyBoaXRib3hlc1xyXG4gICAgICAgIHRoaXMuZGFtYWdlR3JvdXAgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0dyb3VwKCk7XHJcbiAgICAgICAgdGhpcy50cmFtcGEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAnZGFtYWdlMScpLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZGFtYWdlMSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgxMzUwLCAxMDAsIDIwMCwgMTAwLCAweDMzZmYwMCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFtYWdlMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZGFtYWdlMiA9IHRoaXMuYWRkLnJlY3RhbmdsZSgxMDAsIDUzMCwgMTAwLCAzMCwgMHgzM2ZmMDAsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZTIsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmRhbWFnZTMgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTI1LCA4MDAsIDYwLCAzMCwgMHgzM2ZmMDAsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZTMsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmRhbWFnZTQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNjAwLCAzMDAsIDYwLCAzMCwgMHgzM2ZmMDAsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZTQsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmRhbWFnZUdyb3VwLmFkZCh0aGlzLmRhbWFnZTEpO1xyXG4gICAgICAgIHRoaXMuZGFtYWdlR3JvdXAuYWRkKHRoaXMuZGFtYWdlMik7XHJcbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cC5hZGQodGhpcy5kYW1hZ2UzKTtcclxuICAgICAgICB0aGlzLmRhbWFnZUdyb3VwLmFkZCh0aGlzLmRhbWFnZTQpO1xyXG5cclxuICAgICAgICAvLyBDb2xpc2lvbmVzIGVudHJlIHBlcnNvbmFqZXMgeSBlbCBzdWVsbyB5IHBsYXRhZm9ybWFzXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmdyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMuZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTEpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWExKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWEyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWEzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWE0KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWE1KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGFyZWQxKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wYXJlZDEpO1xyXG5cclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wYXJlZDIpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGFyZWQyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMubGlnaHREb29yMUhpdGJveCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmxpZ2h0RG9vcjJIaXRib3gpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5saWdodERvb3IzSGl0Ym94KTtcclxuXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5saWdodERvb3IxSGl0Ym94KTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5kYXJrRG9vcjFIaXRib3gpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmRhcmtEb29yMUhpdGJveCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMuZGFya0Rvb3IySGl0Ym94KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCduaXZpYScpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygnc29sZW5uZScpO1xyXG5cclxuICAgICAgICAvLyBJbmljaWFyIGxhIGFuaW1hY2nDs24gJ3J1bicgcGFyYSBwcm9iYXIgKHNlIGNvcnJlZ2lyw6EgZW4gdXBkYXRlKVxyXG4gICAgICAgIHRoaXMubml2aWEucGxheSgnbml2aWFfaWRsZScpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZS5wbGF5KCdzb2xlbm5lX2lkbGUnKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYWNpw7NuIGRlIGxvcyBvYmpldG9zXHJcbiAgICAgICAgdGhpcy5jcnlzdGFscyA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoe2FsbG93R3Jhdml0eTogZmFsc2UsIGltbW92YWJsZTogdHJ1ZX0pO1xyXG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSgxMzAwLCAzMDAsICdtb29uZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KVxyXG4gICAgICAgIC5zZXREYXRhKCdkb29yS2V5JywgJ2RhcmtEb29yMScpO1xyXG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwyID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoNTUwLCAyMDAsICdtb29uZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KVxyXG4gICAgICAgIC5zZXREYXRhKCdkb29yS2V5JywgJ2RhcmtEb29yMicpO1xyXG5cclxuICAgICAgICB0aGlzLnN1bkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSg1NTAsIDcwMCwgJ3N1bmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAuc2V0RGF0YSgnZG9vcktleScsICdsaWdodERvb3IzJyk7XHJcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsMiA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKDIwMCwgNzAwLCAnc3VuZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KVxyXG4gICAgICAgIC5zZXREYXRhKCdkb29yS2V5JywgJ2xpZ2h0RG9vcjEnKTtcclxuXHJcbiAgICAgICAgLy90aGlzLnN1bkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZShtYXAud2lkdGhJblBpeGVscyAtIDIwMCwgMzAwLCAnc3VuQ3J5c3RhbCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAvL3RoaXMubWV0YVBvcnRhbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMgLyAyLCA1MCwgJ21ldGFQb3J0YWwnKS5zZXRJbW1vdmFibGUodHJ1ZSkuc2V0Qm9keVNpemUoNjQsIDY0KTtcclxuXHJcblxyXG5cclxuICAgICAgICAvLyBBbmltYWNpb25lcyBkZSBsb3Mgb2JqZXRvc1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnc3VuZHJvcF9pZGxlJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdzdW5kcm9wX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiA3IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbW9vbmRyb3BfaWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbW9vbmRyb3Bfc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDcgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tb29uQ3J5c3RhbC5wbGF5KCdtb29uZHJvcF9pZGxlJyk7XHJcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsLnBsYXkoJ3N1bmRyb3BfaWRsZScpO1xyXG5cclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlbCBJY29ubyBkZWwgU29sIChIVUQpXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdzdW5faHVkX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3N1bl9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZWwgSWNvbm8gZGUgbGEgTHVuYSAoSFVEKVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbW9vbl9odWRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbW9vbl9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIEx1bmEgKE5pdmlhKSAtIEl6cXVpZXJkYVxyXG4gICAgICAgIHRoaXMubW9vbkhVRCA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYIC0gMjAsIDQwLCAnbW9vbl9zaGVldCcpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMTUpIC8vIEVzY2FsYSBNVVkgcmVkdWNpZGEsIHlhIHF1ZSBsb3Mgc3ByaXRlc2hlZXRzIHNvbiBncmFuZGVzICgzNDd4MzI5KVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgICAgIC5wbGF5KCdtb29uX2h1ZF9hbmltJyk7IC8vIEluaWNpYSBsYSBhbmltYWNpw7NuXHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBkZSBTb2wgKFNvbGVubmUpIC0gRGVyZWNoYVxyXG4gICAgICAgIHRoaXMuc3VuSFVEID0gdGhpcy5hZGQuc3ByaXRlKHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclggKyAyMCwgNDAsICdzdW5fc2hlZXQnKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjE1KSAvLyBFc2NhbGEgTVVZIHJlZHVjaWRhXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKSBcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMClcclxuICAgICAgICAgICAgLnBsYXkoJ3N1bl9odWRfYW5pbScpOyAvLyBJbmljaWEgbGEgYW5pbWFjacOzblxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGxhIHJlY29sZWNjacOzbiBkZSBjcmlzdGFsZXNcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5tb29uQ3J5c3RhbCwgdGhpcy5jb2xsZWN0TW9vbkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuc3VuQ3J5c3RhbCwgdGhpcy5jb2xsZWN0U3VuQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubW9vbkNyeXN0YWwyLCB0aGlzLmNvbGxlY3RNb29uQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5zdW5DcnlzdGFsMiwgdGhpcy5jb2xsZWN0U3VuQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgZmluIGRlIG5pdmVsIChPdmVybGFwIGRlbCBwb3J0YWwpXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5tZXRhUG9ydGFsLCB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSwgbnVsbCwgdGhpcyk7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLm1ldGFQb3J0YWwsIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlLCBudWxsLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgbml2ZWxcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgZ2VvbWV0cnlMYXllcik7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgZ2VvbWV0cnlMYXllcik7XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGxhIGPDoW1hcmFcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRCb3VuZHMoMCwgMCwgbWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpOyAgXHJcblxyXG4gICAgICAgIC8vIENvbnRyb2wgZGUgcGF1c2FcclxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmV4aXRQb3J0YWwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5leGl0UG9ydGFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHBhdXNhXHJcbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApIFxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTsgXHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5wYXVzZUJ1dHRvbi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7IFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgYWp1c3Rlc1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDEyMCwgNDAsICdTZXR0aW5nc0J1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMCkgXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApOyBcclxuXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAxMjAsIDQwLCAnU2V0dGluZ3NCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5zZXR0aW5nc0J1dHRvbi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdTZXR0aW5nc1NjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigndXBkYXRlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZXhpdFBvcnRhbCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5waHlzaWNzLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLmV4aXRQb3J0YWwpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgb25EYW1hZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdHYW1lT3ZlclNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmRhbWFnZUdyb3VwLCBvbkRhbWFnZSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5kYW1hZ2VHcm91cCwgb25EYW1hZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgICBjb25zdCBpbml0aWFsWSA9IDE1MDA7XHJcblxyXG4gICAgICAgICAvLyBDcmVhY2nDs24gcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubml2aWEgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxMzAwLCBpbml0aWFsWSwgJ25pdmlhJykuc2V0Qm91bmNlKDAuMikuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZSA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDEyMDAsIGluaXRpYWxZLCAnc29sZW5uZScpLnNldEJvdW5jZSgwLjIpLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRTaXplKDEyMCwgMjQwKTtcclxuICAgICAgICB0aGlzLm5pdmlhLnNldE9mZnNldCgxMTAsIDUwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldFNpemUoMTIwLCAyNDApO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRPZmZzZXQoMTEwLCA1MCk7XHJcblxyXG4gICAgICAgIC8vIEVzY2FsYWRvIGRlIGxvcyBwZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRTY2FsZSgwLjUpOyBcclxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0U2NhbGUoMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbGVzIGRlIE5pdmlhIChUZWNsYXMgV0FTRClcclxuICAgICAgICB0aGlzLm5pdmlhQ29udHJvbHMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoe1xyXG4gICAgICAgICAgICBsZWZ0OiAnQScsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAnRCcsXHJcbiAgICAgICAgICAgIHVwOiAnVycsICAgIC8vIHNhbHRvXHJcbiAgICAgICAgICAgIGludGVyYWN0OiAnRSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbGVzIGRlIFNvbGVubmUgKEZsZWNoYXMpXHJcbiAgICAgICAgdGhpcy5zb2xlbm5lQ29udHJvbHMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoe1xyXG4gICAgICAgICAgICBsZWZ0OiAnTEVGVCcsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAnUklHSFQnLFxyXG4gICAgICAgICAgICB1cDogJ1VQJywgICAvLyBzYWx0b1xyXG4gICAgICAgICAgICBpbnRlcmFjdDogJ1NQQUNFJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjcmVhdGVBbmltYXRpb25zKGtleSkge1xyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgY29ycmVyXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1fcnVuYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgcHJlZml4OiAncnVuXycsIHN0YXJ0OiAxLCBlbmQ6IDQgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgc2FsdG9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9qdW1wYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgcHJlZml4OiAnanVtcF8nLCBzdGFydDogMSwgZW5kOiA2IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBpZGxlXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1faWRsZWAsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IGZyYW1lczogWydpZGxlXzEnXSB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxLFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQYXVzZWRTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAodGhpcy5pc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHtvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICAgICAgY29uc3QgbmV3UGF1c2VkU3RhdGUgPSAhdGhpcy5pc1BhdXNlZDtcclxuICAgICAgICB0aGlzLnNldFBhdXNlZFN0YXRlKG5ld1BhdXNlZFN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVTZXR0aW5ncygpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnU2V0dGluZ3NTY2VuZScpOyBcclxuICAgICAgICAvL3RoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlKCl7XHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBwYXVzYSBjb24gdGVjbGEgRVNDXHJcbiAgICAgICAgaWYodGhpcy5lc2NLZXkuaXNEb3duKXtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTW92aW1pZW50byBkZSBOaXZpYVxyXG4gICAgICAgIHRoaXMuaGFuZGxlUGxheWVyTW92ZW1lbnQodGhpcy5uaXZpYSwgdGhpcy5uaXZpYUNvbnRyb2xzKTtcclxuXHJcbiAgICAgICAgLy8gTW92aW1pZW50byBkZSBTb2xlbm5lXHJcbiAgICAgICAgdGhpcy5oYW5kbGVQbGF5ZXJNb3ZlbWVudCh0aGlzLnNvbGVubmUsIHRoaXMuc29sZW5uZUNvbnRyb2xzKTtcclxuICAgICAgICBcclxuICAgICAgICBpZih0aGlzLmV4aXRQb3J0YWwudmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSh0aGlzLmV4aXRQb3J0YWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgaGFuZGxlUGxheWVyTW92ZW1lbnQocGxheWVyU3ByaXRlLCBjb250cm9scykge1xyXG4gICAgICAgIC8vIFZlbG9jaWRhZCBkZWwgbW92aW1pZW50b1xyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gNDAwO1xyXG4gICAgICAgIGNvbnN0IGp1bXBWZWxvY2l0eSA9IDkwMDtcclxuICAgICAgICBjb25zdCBrZXkgPSBwbGF5ZXJTcHJpdGUudGV4dHVyZS5rZXk7XHJcbiAgICAgICAgY29uc3QgaXNNb3ZpbmcgPSBjb250cm9scy5sZWZ0LmlzRG93biB8fCBjb250cm9scy5yaWdodC5pc0Rvd247XHJcbiAgICAgICAgY29uc3QgaXNHcm91bmRlZCA9IHBsYXllclNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bjtcclxuICAgICAgICBsZXQgYW5pbWtleSA9ICcnO1xyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIHBhcmEgcmVwcm9kdWNpciBlbCBzb25pZG8gZGUgY2FtaW5hclxyXG4gICAgICAgaWYgKGlzTW92aW5nICYmIGlzR3JvdW5kZWQpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25pdmlhJyAmJiB0aGlzLmlzTml2aWFXYWxraW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gdGhpcy5zb3VuZC5hZGQoJ3dhbGtTb3VuZCcsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAxIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZy5wbGF5KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSB0aGlzLnNvdW5kLmFkZCgnd2Fsa1NvdW5kJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDEgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcucGxheSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRGV0ZW5lciBlbCBzb25pZG8gc2kgbm8gc2UgZXN0w6EgbW92aWVuZG8gbyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbml2aWEnICYmIHRoaXMuaXNOaXZpYVdhbGtpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTW92aW1pZW50byBob3Jpem9udGFsXHJcbiAgICAgICAgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVgoLXNwZWVkKTtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKGZhbHNlKTsgLy8gTWlyYXIgYSBsYSBpenF1aWVyZGFcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKHNwZWVkKTtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKHRydWUpOyAvLyBNaXJhciBhIGxhIGRlcmVjaGFcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2FsdG8gKHNvbG8gc2kgZXN0w6EgdG9jYW5kbyBlbCBzdWVsbylcclxuICAgICAgICBjb25zdCBpc0p1bXBpbmcgPSBjb250cm9scy51cC5pc0Rvd24gJiYgcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xyXG5cclxuICAgICAgICBpZiAoaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVkoLWp1bXBWZWxvY2l0eSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGFuaW1hY2lvbmVzXHJcbiAgICAgICAgaWYgKCFwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd24pIHtcclxuICAgICAgICAgICAgLy8gRW4gZWwgYWlyZVxyXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9qdW1wYDtcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duIHx8IGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xyXG4gICAgICAgICAgICAvLyBDb3JyaWVuZG9cclxuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1fcnVuYDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZGxlXHJcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X2lkbGVgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBSZXByb2R1Y2lyIGxhIGFuaW1hY2nDs24gc29sbyBzaSBlcyBkaWZlcmVudGUgYSBsYSBhY3R1YWxcclxuICAgICAgICBpZiAocGxheWVyU3ByaXRlLmFuaW1zLmN1cnJlbnRBbmltPy5rZXkgIT09IGFuaW1rZXkpIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLmFuaW1zLnBsYXkoYW5pbWtleSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGludGVyYWNjacOzblxyXG4gICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24oY29udHJvbHMuaW50ZXJhY3QpKSB7XHJcbiAgICAgICAgICAgIC8vIEFxdcOtIHZhIGxhIGzDs2dpY2EgZGUgaW50ZXJhY2Npw7NuIChwb3IgZWplbXBsbywgYWJyaXIgcHVlcnRhcywgcmVjb2dlciBvYmpldG9zLCBldGMuKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSW50ZXJhY2Npw7NuIHJlYWxpemFkYScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb2xsZWN0TW9vbkNyeXN0YWwocGxheWVyLCBjcnlzdGFsKSB7XHJcbiAgICAgICAgY3J5c3RhbC5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICB0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgKz0gMTtcclxuICAgICAgICBpZiAodGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID09IDIpIHRoaXMubW9vbkhVRC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnY29sbGVjdE1vb25DcnlzdGFsU291bmQnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdOaXZpYSBoYSByZWNvZ2lkbyBlbCBDcmlzdGFsIGRlIGxhIEx1bmEnKTtcclxuICAgICAgICB0aGlzLnVubG9ja0Rvb3IoY3J5c3RhbC5nZXREYXRhKCdkb29yS2V5JykpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbGxlY3RTdW5DcnlzdGFsKHBsYXllciwgY3J5c3RhbCkge1xyXG4gICAgICAgIGNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCArPSAxO1xyXG4gICAgICAgIGlmICh0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID09IDIpIHRoaXMuc3VuSFVELnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdjb2xsZWN0U3VuQ3J5c3RhbFNvdW5kJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygnU29sZW5uZSBoYSByZWNvZ2lkbyBlbCBDcmlzdGFsIGRlbCBTb2wnKTtcclxuICAgICAgICB0aGlzLnVubG9ja0Rvb3IoY3J5c3RhbC5nZXREYXRhKCdkb29yS2V5JykpO1xyXG4gICAgfVxyXG5cclxuICAgIHVubG9ja0Rvb3IoZG9vcktleSkge1xyXG4gICAgICAgIGNvbnN0IGRvb3IgPSB0aGlzLmRvb3JzW2Rvb3JLZXldO1xyXG5cclxuICAgICAgICBkb29yLmhpdGJveC5ib2R5LmVuYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIGRvb3IuaGl0Ym94LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIGRvb3Iuc3ByaXRlLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICB0aGlzLmNoZWNrUG9ydGFsU3Bhd24oKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1BvcnRhbFNwYXduKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgPT0gMiAmJiB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID09IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5wb3J0YWxTcHJpdGUuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5leGl0UG9ydGFsLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5ib2R5LmVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrTGV2ZWxDb21wbGV0ZShwbGF5ZXIsIHBvcnRhbCkge1xyXG4gICAgICAgIC8vIExvcyBkb3MgZGViZW4gdG9jYXIgZWwgcG9ydGFsIHkgdGVuZXIgc3VzIHJlc3BlY3Rpdm9zIGNyaXN0YWxlc1xyXG4gICAgICAgIGlmICh0aGlzLm5pdmlhT25Qb3J0YWwgJiYgdGhpcy5zb2xlbm5lT25Qb3J0YWwgJiYgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID09IDIgJiYgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9PSAyKSB7XHJcbiAgICAgICAgICAgIC8vIExhbnphciBlc2NlbmEgZGUgdmljdG9yaWEgeSBwYXVzYXIgZXN0YSBlc2NlbmFcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1ZpY3RvcnlTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZW5kZ2FtZSgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkp1ZWdvIFRlcm1pbmFkb1wiKTtcclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZmVyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYLCB0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJZIC0gMTAwLCBcIsKhTml2ZWwgQ29tcGxldGFkbyFcIiwgeyBcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JywgZmlsbDogJyNGRkZGRkYnIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgICAgICAgICAgLy8gUmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgY29uc3QgcmVzdGFydGJ0biA9IHRoaXMuYWRkLmltYWdlKDcwNSwgNDE1LCAnUmVzdGFydEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg2OTMsIDQyNSwgJ1Jlc3RhcnRCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgocmVzdGFydGJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFNjZW5lS2V5ID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChvcmlnaW5hbFNjZW5lS2V5KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCIvLyBzcmMvY2xpZW50L3NjZW5lcy9BdXRoU2NlbmUuanNcclxuaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXV0aFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdBdXRoU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICAvLyBEZXN0aW5vIGRlc3B1w6lzIGRlbCBsb2dpbiBleGl0b3NvIChwb3IgZGVmZWN0byBMb2JieVNjZW5lKVxyXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBkYXRhLmRlc3RpbmF0aW9uIHx8ICdMb2JieVNjZW5lJztcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dG9yaWFsQm94JywgJ2Fzc2V0cy9jYWphLnBuZycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRCdXR0b24nLCAnYXNzZXRzL2NhbmNlbGFyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9jYW5jZWxhckhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgbG9naW5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xvZ2luQnV0dG9uJywgJ2Fzc2V0cy9lbnRyYXIucG5nJyk7IFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTG9naW5CdXR0b25Ib3ZlcicsICdhc3NldHMvZW50cmFySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSByZWdpc3RlclxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVnaXN0ZXJCdXR0b24nLCAnYXNzZXRzL3JlZ2lzdHJvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVnaXN0ZXJCdXR0b25Ib3ZlcicsICdhc3NldHMvcmVnaXN0cm9Ib3Zlci5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XHJcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuc2NhbGUuaGVpZ2h0O1xyXG5cclxuICAgICAgICAvLyBGb25kbyBvc2N1cm9cclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgdywgaCwgMHgwNzA3MjIsIDAuOSkuc2V0T3JpZ2luKDApO1xyXG5cclxuICAgICAgICAvLyBDYWphIGNlbnRyYWxcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDQwMCwgJ3R1dG9yaWFsQm94JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNzAwLCAxODAsICdJTklDSUFSIFNFU0nDk04nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYXVkZXgnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyA9PT0gQ0FNUE9TIERFIFRFWFRPID09PVxyXG5cclxuICAgICAgICAvLyBMYWJlbCBVc2VybmFtZSAtIOKchSBNw4FTIEEgTEEgSVpRVUlFUkRBIFkgTcOBUyBBUlJJQkFcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjUwLCAnVXN1YXJpbzonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYXVkZXgnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIElucHV0IFVzZXJuYW1lIChIVE1MKSAtIOKchSBNw4FTIEFSUklCQVxyXG4gICAgICAgIHRoaXMudXNlcm5hbWVJbnB1dCA9IHRoaXMuY3JlYXRlSFRNTElucHV0KDU1MCwgMjQwLCAzMDAsICd0ZXh0Jyk7XHJcblxyXG4gICAgICAgIC8vIExhYmVsIFBhc3N3b3JkIC0g4pyFIE3DgVMgQSBMQSBJWlFVSUVSREEgWSBNw4FTIEFSUklCQVxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAzMTUsICdDb250cmFzZcOxYTonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYXVkZXgnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIElucHV0IFBhc3N3b3JkIChIVE1MKSAtIOKchSBNw4FTIEFSUklCQVxyXG4gICAgICAgIHRoaXMucGFzc3dvcmRJbnB1dCA9IHRoaXMuY3JlYXRlSFRNTElucHV0KDU1MCwgMzA1LCAzMDAsICdwYXNzd29yZCcpO1xyXG5cclxuICAgICAgICAvLyA9PT0gTUVOU0FKRSBERSBFUlJPUi/DiVhJVE8gPT09XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlVGV4dCA9IHRoaXMuYWRkLnRleHQoNzAwLCAzODAsICcnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdDYXVkZXgnLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgIHdvcmRXcmFwOiB7IHdpZHRoOiA0MDAgfVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyA9PT0gQk9UT05FUyAoU0lOIENBTUJJT1MgRU4gSE9WRVIpID09PVxyXG5cclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gTE9HSU5cclxuICAgICAgICBjb25zdCBsb2dpbkJ0biA9IHRoaXMuYWRkLmltYWdlKDU1MCwgNDgwLCAnTG9naW5CdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNilcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgbG9naW5CdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDU1MCwgNDgwLCAnTG9naW5CdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNilcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgobG9naW5CdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsb2dpbkJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbG9naW5CdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUxvZ2luKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBSRUdJU1RFUlxyXG4gICAgICAgIGNvbnN0IHJlZ2lzdGVyQnRuID0gdGhpcy5hZGQuaW1hZ2UoODUwLCA0ODAsICdSZWdpc3RlckJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC42KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICByZWdpc3RlckJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoODUwLCA0ODAsICdSZWdpc3RlckJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC42KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyZWdpc3RlckJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlZ2lzdGVyQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZWdpc3RlckJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVnaXN0ZXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIFZPTFZFUlxyXG4gICAgICAgIGNvbnN0IGJhY2tCdG4gPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDU3MCwgJ0V4aXRCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNilcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgYmFja0J0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1NzAsICdFeGl0QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKGJhY2tCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBiYWNrQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhbnVwSW5wdXRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQZXJtaXRpciBFbnRlciBwYXJhIGxvZ2luXHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbigna2V5ZG93bi1FTlRFUicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVMb2dpbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXIgaW5wdXQgSFRNTCAoUGhhc2VyIERPTSBFbGVtZW50KVxyXG4gICAgICovXHJcbiAgICBjcmVhdGVIVE1MSW5wdXQoeCwgeSwgd2lkdGgsIHR5cGUgPSAndGV4dCcpIHtcclxuICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgaW5wdXQudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgaW5wdXQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgIGlucHV0LnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xyXG4gICAgICAgIGlucHV0LnN0eWxlLmhlaWdodCA9ICczNXB4JztcclxuICAgICAgICBpbnB1dC5zdHlsZS5mb250U2l6ZSA9ICcxOHB4JztcclxuICAgICAgICBpbnB1dC5zdHlsZS5mb250RmFtaWx5ID0gJ0NhdWRleCc7XHJcbiAgICAgICAgaW5wdXQuc3R5bGUucGFkZGluZyA9ICc1cHggMTBweCc7XHJcbiAgICAgICAgaW5wdXQuc3R5bGUuYm9yZGVyID0gJzJweCBzb2xpZCAjZmZmZmZmJztcclxuICAgICAgICBpbnB1dC5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNXB4JztcclxuICAgICAgICBpbnB1dC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnIzFhMWEyZSc7XHJcbiAgICAgICAgaW5wdXQuc3R5bGUuY29sb3IgPSAnI2ZmZmZmZic7XHJcbiAgICAgICAgaW5wdXQuc3R5bGUub3V0bGluZSA9ICdub25lJztcclxuICAgICAgICBpbnB1dC5zdHlsZS56SW5kZXggPSAnMTAwMCc7IC8vIOKchSBBc2VndXJhciBxdWUgZXN0w6kgZW5jaW1hXHJcblxyXG4gICAgICAgIC8vIFBvc2ljaW9uYXIgZW4gZWwgY2FudmFzXHJcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5nYW1lLmNhbnZhcztcclxuICAgICAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGlucHV0LnN0eWxlLmxlZnQgPSBgJHtyZWN0LmxlZnQgKyB4fXB4YDtcclxuICAgICAgICBpbnB1dC5zdHlsZS50b3AgPSBgJHtyZWN0LnRvcCArIHl9cHhgO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlucHV0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFuZWphciBMb2dpblxyXG4gICAgICovXHJcbiAgICBhc3luYyBoYW5kbGVMb2dpbigpIHtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRoaXMudXNlcm5hbWVJbnB1dC52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgY29uc3QgcGFzc3dvcmQgPSB0aGlzLnBhc3N3b3JkSW5wdXQudmFsdWU7XHJcblxyXG4gICAgICAgIC8vIFZhbGlkYWNpw7NuXHJcbiAgICAgICAgaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZSgnUG9yIGZhdm9yIGNvbXBsZXRhIHRvZG9zIGxvcyBjYW1wb3MnLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zaG93TWVzc2FnZSgnSW5pY2lhbmRvIHNlc2nDs24uLi4nLCAnaW5mbycpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3VzZXJzL2xvZ2luJywge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgLy8gTG9naW4gZXhpdG9zb1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBMb2dpbiBleGl0b3NvOicsIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEd1YXJkYXIgZGF0b3MgZGVsIHVzdWFyaW8gZW4gbG9jYWxTdG9yYWdlXHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcklkJywgZGF0YS5pZCk7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcm5hbWUnLCBkYXRhLnVzZXJuYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCfCoUJpZW52ZW5pZG8gJyArIGRhdGEudXNlcm5hbWUgKyAnIScsICdzdWNjZXNzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSXIgYWwgZGVzdGlubyBkZXNwdcOpcyBkZSAxIHNlZ3VuZG9cclxuICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhbnVwSW5wdXRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCh0aGlzLmRlc3RpbmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEVycm9yIGRlIGxvZ2luXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKGRhdGEuZXJyb3IgfHwgJ1VzdWFyaW8gbyBjb250cmFzZcOxYSBpbmNvcnJlY3RvcycsICdlcnJvcicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuIGxvZ2luOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZSgnRXJyb3IgZGUgY29uZXhpw7NuLiBJbnTDqW50YWxvIGRlIG51ZXZvLicsICdlcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1hbmVqYXIgUmVnaXN0cm9cclxuICAgICAqL1xyXG4gICAgYXN5bmMgaGFuZGxlUmVnaXN0ZXIoKSB7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSB0aGlzLnVzZXJuYW1lSW5wdXQudmFsdWUudHJpbSgpO1xyXG4gICAgICAgIGNvbnN0IHBhc3N3b3JkID0gdGhpcy5wYXNzd29yZElucHV0LnZhbHVlO1xyXG5cclxuICAgICAgICAvLyBWYWxpZGFjacOzblxyXG4gICAgICAgIGlmICghdXNlcm5hbWUgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ1BvciBmYXZvciBjb21wbGV0YSB0b2RvcyBsb3MgY2FtcG9zJywgJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh1c2VybmFtZS5sZW5ndGggPCAzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ0VsIHVzdWFyaW8gZGViZSB0ZW5lciBhbCBtZW5vcyAzIGNhcmFjdGVyZXMnLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBhc3N3b3JkLmxlbmd0aCA8IDQpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZSgnTGEgY29udHJhc2XDsWEgZGViZSB0ZW5lciBhbCBtZW5vcyA0IGNhcmFjdGVyZXMnLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zaG93TWVzc2FnZSgnQ3JlYW5kbyBjdWVudGEuLi4nLCAnaW5mbycpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3VzZXJzL3JlZ2lzdGVyJywge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVnaXN0cm8gZXhpdG9zb1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBSZWdpc3RybyBleGl0b3NvOicsIGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEd1YXJkYXIgZGF0b3MgZGVsIHVzdWFyaW9cclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCBkYXRhLmlkKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VybmFtZScsIGRhdGEudXNlcm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ8KhQ3VlbnRhIGNyZWFkYSEgQmllbnZlbmlkbyAnICsgZGF0YS51c2VybmFtZSwgJ3N1Y2Nlc3MnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJciBhbCBkZXN0aW5vIGRlc3B1w6lzIGRlIDEuNSBzZWd1bmRvc1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDE1MDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFudXBJbnB1dHMoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KHRoaXMuZGVzdGluYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gRXJyb3IgZGUgcmVnaXN0cm9cclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoZGF0YS5lcnJvciB8fCAnTm8gc2UgcHVkbyBjcmVhciBsYSBjdWVudGEnLCAnZXJyb3InKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbiByZWdpc3RybzonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ0Vycm9yIGRlIGNvbmV4acOzbi4gSW50w6ludGFsbyBkZSBudWV2by4nLCAnZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNb3N0cmFyIG1lbnNhamUgYWwgdXN1YXJpb1xyXG4gICAgICovXHJcbiAgICBzaG93TWVzc2FnZSh0ZXh0LCB0eXBlID0gJ2luZm8nKSB7XHJcbiAgICAgICAgY29uc3QgY29sb3JzID0ge1xyXG4gICAgICAgICAgICBlcnJvcjogJyNmZjQ0NDQnLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiAnIzQ0ZmY0NCcsXHJcbiAgICAgICAgICAgIGluZm86ICcjZmZmZjQ0J1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMubWVzc2FnZVRleHQuc2V0VGV4dCh0ZXh0KTtcclxuICAgICAgICB0aGlzLm1lc3NhZ2VUZXh0LnNldENvbG9yKGNvbG9yc1t0eXBlXSB8fCBjb2xvcnMuaW5mbyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMaW1waWFyIGlucHV0cyBIVE1MIGN1YW5kbyBzZSBzYWxlIGRlIGxhIGVzY2VuYVxyXG4gICAgICovXHJcbiAgICBjbGVhbnVwSW5wdXRzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnVzZXJuYW1lSW5wdXQgJiYgdGhpcy51c2VybmFtZUlucHV0LnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy51c2VybmFtZUlucHV0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy51c2VybmFtZUlucHV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucGFzc3dvcmRJbnB1dCAmJiB0aGlzLnBhc3N3b3JkSW5wdXQucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhc3N3b3JkSW5wdXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnBhc3N3b3JkSW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICB0aGlzLmNsZWFudXBJbnB1dHMoKTtcclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9mZigna2V5ZG93bi1FTlRFUicpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5pbXBvcnQgeyBNZW51U2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvTWVudVNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEdhbWVTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9HYW1lU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgUGF1c2VTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9QYXVzZVNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFR1dG9yaWFsU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvVHV0b3JpYWxTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBDcmVkaXRzU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvQ3JlZGl0c1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvU2V0dGluZ3NTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBMZXZlbFNlbGVjdFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0xldmVsU2VsZWN0U2NlbmUuanNcIjtcclxuaW1wb3J0IHsgUGxhY2VIb2xkZXJTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9QbGFjZUhvbGRlclNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFZpY3RvcnlTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9WaWN0b3J5U2NlbmUuanNcIjtcclxuaW1wb3J0IHsgR2FtZU92ZXJTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9HYW1lT3ZlclNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IExldmVsMlNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0xldmVsMlNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IENvbm5lY3Rpb25Mb3N0U2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBHYW1lTW9kZVNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0dhbWVNb2RlU2NlbmUuanNcIjtcclxuaW1wb3J0ICBMb2JieVNjZW5lICBmcm9tIFwiLi9zY2VuZXMvTG9iYnlTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBSYW5raW5nU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvUmFua2luZ1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEdhbWVMb2NhbFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0dhbWVMb2NhbFNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IExldmVsMlNjZW5lTG9jYWwgfSBmcm9tIFwiLi9zY2VuZXMvTGV2ZWwyU2NlbmVMb2NhbC5qc1wiO1xyXG5pbXBvcnQgeyBBdXRoU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvQXV0aFNjZW5lLmpzXCI7XHJcblxyXG4vLyBTZXJ2aWNpb3MgZGUgcmVkXHJcbmltcG9ydCAnLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyc7XHJcbmltcG9ydCAnLi9zZXJ2aWNlcy9XZWJTb2NrZXRTZXJ2aWNlLmpzJztcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgd2lkdGg6IDE0MjAsXHJcbiAgICBoZWlnaHQ6IDgwMCxcclxuICAgIHBhcmVudDogJ2dhbWUtY29udGFpbmVyJyxcclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eTogeyB5OiAwIH0sXHJcbiAgICAgICAgICAgIGRlYnVnOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgc2NlbmU6IFsgTWVudVNjZW5lLCBBdXRoU2NlbmUsIEdhbWVTY2VuZSwgR2FtZUxvY2FsU2NlbmUsIExldmVsMlNjZW5lLCBMZXZlbDJTY2VuZUxvY2FsLCBUdXRvcmlhbFNjZW5lLCBDcmVkaXRzU2NlbmUsICBQYXVzZVNjZW5lLCBTZXR0aW5nc1NjZW5lLCBMZXZlbFNlbGVjdFNjZW5lLCBQbGFjZUhvbGRlclNjZW5lLCBWaWN0b3J5U2NlbmUsIEdhbWVPdmVyU2NlbmUsIExvYmJ5U2NlbmUsIENvbm5lY3Rpb25Mb3N0U2NlbmUsIEdhbWVNb2RlU2NlbmUsIFJhbmtpbmdTY2VuZV0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDIxNDEwZmYnLFxyXG59ICAgIFxyXG5cclxuZG9jdW1lbnQuZm9udHMucmVhZHkudGhlbigoKSA9PiB7XHJcbiAgY29uc3QgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpO1xyXG59KTtcclxuXHJcbiJdLCJuYW1lcyI6WyJQaGFzZXIiLCJjb25uZWN0aW9uTWFuYWdlciIsImNvbnN0cnVjdG9yIiwidGhpcyIsImNvbm5lY3RlZENvdW50IiwiaXNDb25uZWN0ZWQiLCJsYXN0Q2hlY2tUaW1lIiwiY2hlY2tJbnRlcnZhbCIsImxpc3RlbmVycyIsInNlc3Npb25JZCIsImdlbmVyYXRlU2Vzc2lvbklkIiwiaW50ZXJ2YWxJZCIsInN0YXJ0UG9sbGluZyIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJjaGVja0Nvbm5lY3Rpb24iLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJkYXRhIiwianNvbiIsImNvbm5lY3RlZCIsIm5vdGlmeUxpc3RlbmVycyIsImNvdW50Iiwic3VjY2VzcyIsImhhbmRsZURpc2Nvbm5lY3Rpb24iLCJlcnJvciIsImNvbnNvbGUiLCJhZGRMaXN0ZW5lciIsImNhbGxiYWNrIiwicHVzaCIsInJlbW92ZUxpc3RlbmVyIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZm9yRWFjaCIsImxpc3RlbmVyIiwiZ2V0U3RhdHVzIiwic2V0SW50ZXJ2YWwiLCJzdG9wUG9sbGluZyIsImNsZWFySW50ZXJ2YWwiLCJnZXRJc0Nvbm5lY3RlZCIsImdldENvbm5lY3RlZFVzZXJzIiwiTWVudVNjZW5lIiwic3VwZXIiLCJwcmVsb2FkIiwibG9hZCIsImF1ZGlvIiwiaW1hZ2UiLCJjcmVhdGUiLCJzb3VuZCIsInN0b3BCeUtleSIsInBsYXkiLCJsb29wIiwidm9sdW1lIiwiYmciLCJhZGQiLCJzZXRPcmlnaW4iLCJzZXREaXNwbGF5U2l6ZSIsInNjYWxlIiwid2lkdGgiLCJoZWlnaHQiLCJzZXREZXB0aCIsImhvdmVySW1nIiwibG9jYWxCdG4iLCJzZXRTY2FsZSIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsIm9uIiwiZGVwdGgiLCJkZXN0cm95Iiwic2NlbmUiLCJsYXVuY2giLCJ0dXRvcmlhbEJ0biIsImNyZWRpdG9zQnRuIiwicmFua2luZ0J0biIsImV4aXRCdG4iLCJ3aW5kb3ciLCJjbG9zZSIsInNldHRpbmdzQnRuIiwiY29ubmVjdGlvbkRvdCIsImNpcmNsZSIsImNvbm5lY3Rpb25Db3VudFRleHQiLCJ0ZXh0IiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwiY29sb3IiLCJjb25uZWN0aW9uTGlzdGVuZXIiLCJ1cGRhdGVDb25uZWN0aW9uRGlzcGxheSIsImlzQWN0aXZlIiwiZ3JlZW5Db2xvciIsInNldEZpbGxTdHlsZSIsInNldFRleHQiLCJTdHJpbmciLCJzZXRDb2xvciIsInJlZENvbG9yIiwic2h1dGRvd24iLCJ3c1NlcnZpY2UiLCJ3cyIsInJvb21JZCIsInBsYXllclJvbGUiLCJtZXNzYWdlSGFuZGxlcnMiLCJNYXAiLCJjb25uZWN0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ3c1VybCIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJsb2ciLCJXZWJTb2NrZXQiLCJvbm9wZW4iLCJvbm1lc3NhZ2UiLCJldmVudCIsInBhcnNlIiwiaGFuZGxlTWVzc2FnZSIsIm9uZXJyb3IiLCJvbmNsb3NlIiwibm90aWZ5SGFuZGxlciIsInR5cGUiLCJoYXMiLCJzZXQiLCJnZXQiLCJvZmYiLCJoYW5kbGVycyIsImhhbmRsZXIiLCJzZW5kIiwibWVzc2FnZSIsInJlYWR5U3RhdGUiLCJPUEVOIiwiam9pblF1ZXVlIiwibGVhdmVRdWV1ZSIsInNlbmRQbGF5ZXJNb3ZlIiwieCIsInkiLCJmbGlwWCIsImFuaW1LZXkiLCJzZW5kQ3J5c3RhbENvbGxlY3QiLCJjcnlzdGFsVHlwZSIsInNlbmRQb3J0YWxUb3VjaCIsIm9uUG9ydGFsIiwic2VuZEdhbWVPdmVyIiwicmVhc29uIiwiZGlzY29ubmVjdCIsImNsZWFyIiwiZ2V0UGxheWVyUm9sZSIsInNldFBsYXllclJvbGUiLCJyb2xlIiwiR2FtZVNjZW5lIiwiaW5pdCIsImlzUGF1c2VkIiwiZXNjV2FzRG93biIsIm5pdmlhSGFzTW9vbkNyeXN0YWwiLCJzb2xlbm5lSGFzU3VuQ3J5c3RhbCIsIm5pdmlhT25Qb3J0YWwiLCJzb2xlbm5lT25Qb3J0YWwiLCJpc05pdmlhV2Fsa2luZyIsImlzU29sZW5uZVdhbGtpbmciLCJpc0hhbmRsaW5nRGlzY29ubmVjdGlvbiIsImxhc3REaXNjb25uZWN0aW9uVGltZSIsImRpc2Nvbm5lY3Rpb25Db29sZG93biIsImlzTXVsdGlwbGF5ZXIiLCJsb2NhbFBsYXllciIsInJlbW90ZVBsYXllciIsImxhc3RTeW5jVGltZSIsInN5bmNJbnRlcnZhbCIsImNoYXJhY3Rlck5hbWUiLCJhbm5vdW5jZW1lbnRUZXh0IiwiY2FtZXJhcyIsIm1haW4iLCJmb250U3R5bGUiLCJhbGlnbiIsImJhY2tncm91bmRDb2xvciIsInBhZGRpbmciLCJzZXRTY3JvbGxGYWN0b3IiLCJ0d2VlbnMiLCJ0YXJnZXRzIiwiYWxwaGEiLCJkdXJhdGlvbiIsImRlbGF5Iiwib25Db21wbGV0ZSIsImxlYXZlQnV0dG9uIiwic2V0U3R5bGUiLCJjb25maXJtIiwic3RvcEFsbCIsInN0b3AiLCJzdGFydCIsImF0bGFzIiwic3ByaXRlc2hlZXQiLCJmcmFtZVdpZHRoIiwiZnJhbWVIZWlnaHQiLCJvbkNvbm5lY3Rpb25Mb3N0IiwiZXZlbnRzIiwicGh5c2ljcyIsInJlc3VtZSIsInBhdXNlIiwibWFwV2lkdGhJblBpeGVscyIsIm1hcEhlaWdodEluUGl4ZWxzIiwiY2FjaGUiLCJleGlzdHMiLCJzdGF0aWNTcHJpdGUiLCJ3b3JsZCIsImdyYXZpdHkiLCJzZXRVcFBsYXllcnMiLCJncm91bmQiLCJyZWN0YW5nbGUiLCJleGlzdGluZyIsInBsYXRhZm9ybWExIiwicGxhdGFmb3JtYTIiLCJwbGF0YWZvcm1hMyIsInBsYXRhZm9ybWE0IiwicGxhdGFmb3JtYTUiLCJwYXJlZDEiLCJwYXJlZDIiLCJleGl0UG9ydGFsIiwic2V0VmlzaWJsZSIsImVuYWJsZSIsImRhcmtEb29yMSIsImxpZ2h0RG9vcjEiLCJkYXJrRG9vcjFIaXRib3giLCJsaWdodERvb3IxSGl0Ym94IiwidHJhbXBhIiwiZGFtYWdlIiwiY29sbGlkZXIiLCJuaXZpYSIsInNvbGVubmUiLCJjcmVhdGVBbmltYXRpb25zIiwiY3J5c3RhbHMiLCJncm91cCIsImFsbG93R3Jhdml0eSIsImltbW92YWJsZSIsIm1vb25DcnlzdGFsIiwic2V0Qm9keVNpemUiLCJzdW5DcnlzdGFsIiwiYW5pbXMiLCJrZXkiLCJmcmFtZXMiLCJnZW5lcmF0ZUZyYW1lTnVtYmVycyIsImVuZCIsImZyYW1lUmF0ZSIsInJlcGVhdCIsIm1vb25IVUQiLCJzcHJpdGUiLCJjZW50ZXJYIiwic3VuSFVEIiwib3ZlcmxhcCIsImNvbGxlY3RNb29uQ3J5c3RhbCIsImNvbGxlY3RTdW5DcnlzdGFsIiwic2V0Qm91bmRzIiwiZXNjS2V5IiwiaW5wdXQiLCJrZXlib2FyZCIsImFkZEtleSIsIktleWJvYXJkIiwiS2V5Q29kZXMiLCJFU0MiLCJjaGVja0xldmVsQ29tcGxldGUiLCJwYXVzZUJ1dHRvbiIsInRvZ2dsZVBhdXNlIiwic2V0dGluZ3NCdXR0b24iLCJvcmlnaW5hbFNjZW5lIiwic2V0dXBNdWx0aXBsYXllciIsInBsYXllck1vdmVIYW5kbGVyIiwiaGFuZGxlUmVtb3RlUGxheWVyTW92ZSIsImJpbmQiLCJjcnlzdGFsQ29sbGVjdGVkSGFuZGxlciIsImhhbmRsZVJlbW90ZUNyeXN0YWxDb2xsZWN0ZWQiLCJwb3J0YWxTcGF3bmVkSGFuZGxlciIsImhhbmRsZVJlbW90ZVBvcnRhbFNwYXduZWQiLCJ2aWN0b3J5SGFuZGxlciIsImhhbmRsZVJlbW90ZVZpY3RvcnkiLCJnYW1lT3ZlckhhbmRsZXIiLCJoYW5kbGVSZW1vdGVHYW1lT3ZlciIsInBsYXllckRpc2Nvbm5lY3RlZEhhbmRsZXIiLCJoYW5kbGVQbGF5ZXJEaXNjb25uZWN0ZWQiLCJzeW5jTG9jYWxQbGF5ZXJQb3NpdGlvbiIsImN1cnJlbnRBbmltIiwic2V0UG9zaXRpb24iLCJzZXRGbGlwWCIsImRpc2FibGVCb2R5IiwiZGFya0Rvb3JVbmxvY2tlZCIsInVubG9ja0RhcmtEb29yIiwibGlnaHREb29yVW5sb2NrZWQiLCJ1bmxvY2tMaWdodERvb3IiLCJ2aXNpYmxlIiwiYmFja0J0biIsInByZXZpb3VzU2NlbmUiLCJzZXRCb3VuY2UiLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJzZXRTaXplIiwic2V0T2Zmc2V0Iiwibml2aWFDb250cm9scyIsImFkZEtleXMiLCJsZWZ0IiwicmlnaHQiLCJ1cCIsImludGVyYWN0Iiwic29sZW5uZUNvbnRyb2xzIiwiZ2VuZXJhdGVGcmFtZU5hbWVzIiwicHJlZml4Iiwic2V0UGF1c2VkU3RhdGUiLCJuZXdQYXVzZWRTdGF0ZSIsInRvZ2dsZVNldHRpbmdzIiwidXBkYXRlIiwiaXNEb3duIiwiaGFuZGxlUGxheWVyTW92ZW1lbnQiLCJoYW5kbGVDYW1lcmFBbmRDb25zdHJhaW50cyIsIm5pdmlhWSIsInNvbGVubmVZIiwiZGVzaXJlZENhbWVyYVkiLCJjYW1lcmFIZWlnaHQiLCJzY3JvbGxZIiwiTGluZWFyIiwibWF4VmVydGljYWxHYXAiLCJhYnMiLCJmYXN0ZXJQbGF5ZXIiLCJzbG93ZXJQbGF5ZXIiLCJibG9ja2VkIiwiZG93biIsInZlbG9jaXR5IiwicGxheWVyU3ByaXRlIiwiY29udHJvbHMiLCJ0ZXh0dXJlIiwiaXNNb3ZpbmciLCJpc0dyb3VuZGVkIiwiYW5pbWtleSIsInNldFZlbG9jaXR5WCIsInNldFZlbG9jaXR5WSIsIkp1c3REb3duIiwicGxheWVyIiwiY3J5c3RhbCIsImNoZWNrUG9ydGFsU3Bhd24iLCJpc092ZXJsYXBwaW5nIiwicHJldmlvdXNTdGF0ZSIsImVuZGdhbWUiLCJjZW50ZXJZIiwiZmlsbCIsInJlc3RhcnRidG4iLCJvcmlnaW5hbFNjZW5lS2V5Iiwic2V0dGluZ3MiLCJQYXVzZVNjZW5lIiwidyIsImgiLCJiYWNrZ3JvdW5kIiwiRXhpdEJ0biIsIm9yaWdpbmFsIiwidHV0b3JpYWxidG4iLCJtZW51YnRuIiwic2NlbmVzIiwiZ2FtZSIsImtleXMiLCJUdXRvcmlhbFNjZW5lIiwiYnJpbmdUb1RvcCIsImN1cnJlbnRQYWdlIiwibmV3UGFnZSIsInRpbWVyIiwiaW5pdFRpbWUiLCJsYWciLCJzdGF0aWNHcm91cCIsInByZXZQYWdlQnV0dG9uT2ZmIiwibmV4dFBhZ2VCdXR0b25PZmYiLCJ0aW1lIiwia2V5c0ltZyIsIm5pdmlhSW1nIiwic29sZW5uZUltZyIsIm5leHRQYWdlQnRuMSIsInB1ZXJ0YUNsYXJhIiwicHVlcnRhT3NjdXJhIiwibmV4dFBhZ2VCdG4yIiwicHJldlBhZ2VCdG4yIiwidHdlZW4iLCJlYXNlIiwicHVlcnRhRmluYWwiLCJ0cmFtcGFJbWcxIiwic2V0RmxpcFkiLCJ0cmFtcGFJbWcyIiwic2V0QW5nbGUiLCJwcmV2UGFnZUJ0bjMiLCJuZXh0UGFnZUJ0bjMiLCJpbWFnZVR1dG9yaWFsIiwiQ3JlZGl0c1NjZW5lIiwiU2V0dGluZ3NTY2VuZSIsInZvbHVtZUJhcjEiLCJ2b2x1bWVCYXIyIiwidm9sdW1lQmFyMyIsInZvbHVtZUJhcjQiLCJ2b2x1bWVCYXI1IiwicGx1c1ZvbHVtZUJ0biIsInNldFZvbHVtZSIsIm1pbnVzVm9sdW1lQnRuIiwiTGV2ZWxTZWxlY3RTY2VuZSIsIkx2bFVub0J0biIsIkx2bERvc0J0biIsIlBsYWNlSG9sZGVyU2NlbmUiLCJWaWN0b3J5U2NlbmUiLCJuZXh0TGV2ZWxidG4iLCJHYW1lT3ZlclNjZW5lIiwiTGV2ZWwyU2NlbmUiLCJwb3J0YWxTcHJpdGUiLCJkYXJrRG9vcjIiLCJsaWdodERvb3IyIiwibGlnaHREb29yMyIsImRhcmtEb29yMkhpdGJveCIsImxpZ2h0RG9vcjJIaXRib3giLCJsaWdodERvb3IzSGl0Ym94Iiwic2V0SW1tb3ZhYmxlIiwic2V0QWxsb3dHcmF2aXR5IiwiZG9vcnMiLCJoaXRib3giLCJkYW1hZ2VHcm91cCIsImRhbWFnZTEiLCJkYW1hZ2UyIiwiZGFtYWdlMyIsImRhbWFnZTQiLCJzZXREYXRhIiwibW9vbkNyeXN0YWwyIiwic3VuQ3J5c3RhbDIiLCJvbkRhbWFnZSIsInVubG9ja0Rvb3IiLCJnZXREYXRhIiwiZG9vcktleSIsImRvb3IiLCJwb3J0YWwiLCJDb25uZWN0aW9uTG9zdFNjZW5lIiwicmVjb25uZWN0Q2hlY2tUaW1lciIsImlzQ2hlY2tpbmciLCJzdGF0dXNUZXh0IiwiYXR0ZW1wdENvdW50IiwiYXR0ZW1wdFRleHQiLCJkb3RDb3VudCIsImFkZEV2ZW50IiwiZG90cyIsIm9uUmVjb25uZWN0ZWQiLCJhdHRlbXB0UmVjb25uZWN0IiwiY2FsbGJhY2tTY29wZSIsInJlbW92ZSIsImRlbGF5ZWRDYWxsIiwiZ2FtZVNjZW5lIiwiR2FtZU1vZGVTY2VuZSIsIm9ubGluZUJ0biIsImRlc3RpbmF0aW9uIiwiTG9iYnlTY2VuZSIsInVzZXJuYW1lIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBsYXllckNvdW50VGV4dCIsImxvYWRpbmdEb3RzIiwibGVuZ3RoIiwiaW5jbHVkZXMiLCJDYW5jZWxCdG4iLCJjb25uZWN0VG9TZXJ2ZXIiLCJzZXRGb250RmFtaWx5IiwicXVldWVTdGF0dXNIYW5kbGVyIiwiaGFuZGxlUXVldWVTdGF0dXMiLCJnYW1lU3RhcnRIYW5kbGVyIiwiaGFuZGxlR2FtZVN0YXJ0IiwiY29ubmVjdGlvbkxvc3RIYW5kbGVyIiwiaGFuZGxlQ29ubmVjdGlvbkxvc3QiLCJyZXRyeUJ1dHRvbiIsInBvc2l0aW9uIiwiUmFua2luZ1NjZW5lIiwiZmV0Y2hSYW5raW5nIiwicGxheWVycyIsInlQb3MiLCJiZXN0VGltZSIsIkdhbWVMb2NhbFNjZW5lIiwiTGV2ZWwyU2NlbmVMb2NhbCIsIkF1dGhTY2VuZSIsInVzZXJuYW1lSW5wdXQiLCJjcmVhdGVIVE1MSW5wdXQiLCJwYXNzd29yZElucHV0IiwibWVzc2FnZVRleHQiLCJ3b3JkV3JhcCIsImxvZ2luQnRuIiwiaGFuZGxlTG9naW4iLCJyZWdpc3RlckJ0biIsImhhbmRsZVJlZ2lzdGVyIiwiY2xlYW51cElucHV0cyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwib3V0bGluZSIsInpJbmRleCIsInJlY3QiLCJjYW52YXMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJhcHBlbmRDaGlsZCIsInZhbHVlIiwidHJpbSIsInBhc3N3b3JkIiwic2hvd01lc3NhZ2UiLCJzZXRJdGVtIiwiaWQiLCJjb2xvcnMiLCJpbmZvIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiY29uZmlnIiwicGFyZW50IiwiZGVmYXVsdCIsImFyY2FkZSIsImRlYnVnIiwiZm9udHMiLCJyZWFkeSIsInRoZW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==