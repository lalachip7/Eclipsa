(()=>{"use strict";const e=Phaser,t=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}getIsConnected(){return this.isConnected}getConnectedUsers(){return this.connectedCount}};class s extends e.Scene{constructor(){super("MenuScene")}preload(){this.load.audio("MenuMusic","assets/sonido/inicio.mp3"),this.load.image("Pantalla_de_inicio","assets/fondo_pantalla_inicio.png"),this.load.image("LocalPlayButton","assets/jugar.png"),this.load.image("LocalPlayButtonHover","assets/jugarHover.png"),this.load.image("TutorialButton","assets/tutorial.png"),this.load.image("TutorialButtonHover","assets/tutorialHover.png"),this.load.image("CreditosButton","assets/creditos.png"),this.load.image("CreditosButtonHover","assets/creditosHover.png"),this.load.image("ExitButton","assets/salir.png"),this.load.image("ExitButtonHover","assets/salirHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RankingButton","assets/ranking.png"),this.load.image("RankingButtonHover","assets/rankingHover.png")}create(){this.sound.stopByKey("GameMusic"),this.sound.play("MenuMusic",{loop:!0,volume:this.sound.volume});const e=this.add.image(0,0,"Pantalla_de_inicio").setOrigin(0);e.setDisplaySize(this.scale.width,this.scale.height),e.setDepth(-1);let s=null;const i=this.add.image(305,340,"LocalPlayButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(305,340,"LocalPlayButtonHover").setOrigin(.5).setScale(.75).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.launch("GameModeScene")});const a=this.add.image(312,450,"TutorialButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(312,450,"TutorialButtonHover").setOrigin(.5).setScale(.75).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.launch("TutorialScene")});const n=this.add.image(305,560,"CreditosButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(312,555,"CreditosButtonHover").setOrigin(.5).setScale(.75).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{this.scene.launch("CreditsScene")});const o=this.add.image(1200,75,"RankingButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0}).on("pointerdown",()=>this.scene.launch("RankingScene"));o.on("pointerover",()=>{s||(s=this.add.image(1200,75,"RankingButtonHover").setOrigin(.5).setScale(.75).setDepth(o.depth+1))}),o.on("pointerout",()=>{s&&(s.destroy(),s=null)});const r=this.add.image(312,670,"ExitButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});r.on("pointerover",()=>{s||(s=this.add.image(312,670,"ExitButtonHover").setOrigin(.5).setScale(.75).setDepth(r.depth+1))}),r.on("pointerout",()=>{s&&(s.destroy(),s=null)}),r.on("pointerdown",()=>{window.close()});const l=this.add.image(1330,75,"SettingsButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});l.on("pointerover",()=>{s||(s=this.add.image(1335,75,"SettingsButtonHover").setOrigin(.5).setScale(.7).setDepth(l.depth+1))}),l.on("pointerout",()=>{s&&(s.destroy(),s=null)}),l.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.connectionText=this.add.text(400,500,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00",backgroundColor:"#000000",padding:{x:8,y:4}}).setOrigin(0).setDepth(1e3),this.connectionListener=e=>{this.updateConnectionDisplay(e)},t.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener)}}class i extends e.Scene{constructor(){super("AuthScene")}init(e){this.destination=e?.destination||"MenuScene"}preload(){this.load.html("form","assets/html/logininform.html"),this.load.image("background_auth","assets/fondo_pantalla_inicio.png")}create(){const{width:e,height:t}=this.scale;this.add.image(e/2,t/2,"background_auth").setDisplaySize(e,t),this.formElement=this.add.dom(e/2,t/2).createFromCache("form"),this.feedbackText=this.add.text(e/2,t/2+260,"",{fontSize:"22px",color:"#ffffff",stroke:"#000000",strokeThickness:4,fontFamily:"Cadex, Arial, sans-serif"}).setOrigin(.5),this.formElement.addListener("click"),this.formElement.on("click",e=>{const t=e.target.name;if(!t)return;if("backButton"===t)return void this.scene.start("GameModeScene");const s=this.formElement.getChildByName("username")?.value,i=this.formElement.getChildByName("password")?.value;"loginButton"===t&&(s&&i?this.doLogin(s,i):this.showMessage("Introduce usuario y contraseÃ±a","red")),"registerButton"===t&&(s&&i?this.doRegister(s,i):this.showMessage("Introduce usuario y contraseÃ±a","red"))})}async doLogin(e,t){this.showMessage("Conectando...","yellow");try{const s=await fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),i=await s.json();if(!s.ok)throw new Error(i.error||"Credenciales incorrectas");this.registry.set("user",i),this.showMessage(`Â¡Bienvenido, ${i.username}!`,"green"),this.time.delayedCall(800,()=>{this.scene.start(this.destination)})}catch(e){console.error(e),this.showMessage(e.message,"red")}}async doRegister(e,t){this.showMessage("Registrando...","yellow");try{const s=await fetch("/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),i=await s.json();if(!s.ok)throw new Error(i.error||"Error al registrar");this.showMessage("Cuenta creada. Iniciando sesiÃ³n...","green"),this.time.delayedCall(500,()=>{this.doLogin(e,t)})}catch(e){console.error(e),this.showMessage(e.message,"red")}}showMessage(e,t){const s={red:"#ff4444",green:"#44ff44",yellow:"#ffff44",white:"#ffffff"};this.feedbackText.setText(e),this.feedbackText.setColor(s[t]||s.white)}shutdown(){this.formElement&&(this.formElement.removeListener("click"),this.formElement.destroy())}}const a=new class{constructor(){this.ws=null,this.connected=!1,this.roomId=null,this.playerRole=null,this.messageHandlers=new Map}connect(){return new Promise((e,t)=>{try{const s=`ws://${window.location.hostname}:3000`;console.log("ðŸ”Œ Conectando a WebSocket:",s),this.ws=new WebSocket(s),this.ws.onopen=()=>{console.log("âœ… WebSocket conectado"),this.connected=!0,e()},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleMessage(t)}catch(e){console.error("âŒ Error parseando mensaje:",e)}},this.ws.onerror=e=>{console.error("âŒ Error en WebSocket:",e),this.connected=!1,t(e)},this.ws.onclose=()=>{console.log("ðŸ”Œ WebSocket desconectado"),this.connected=!1,this.notifyHandler("connectionLost")}}catch(e){t(e)}})}handleMessage(e){console.log("ðŸ“¨ Mensaje recibido:",e.type),this.notifyHandler(e.type,e)}on(e,t){this.messageHandlers.has(e)||this.messageHandlers.set(e,[]),this.messageHandlers.get(e).push(t)}off(e,t){if(this.messageHandlers.has(e)){const s=this.messageHandlers.get(e),i=s.indexOf(t);i>-1&&s.splice(i,1)}}notifyHandler(e,t={}){this.messageHandlers.has(e)&&this.messageHandlers.get(e).forEach(e=>e(t))}send(e){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify(e)):console.error("âŒ WebSocket no estÃ¡ conectado")}joinQueue(){this.send({type:"joinQueue"}),console.log("ðŸ“¥ UniÃ©ndose a la cola...")}leaveQueue(){this.send({type:"leaveQueue"}),console.log("ðŸ“¤ Saliendo de la cola...")}sendPlayerMove(e,t,s,i){this.send({type:"playerMove",x:e,y:t,flipX:s,animKey:i})}sendCrystalCollect(e){this.send({type:"crystalCollect",crystalType:e}),console.log(`ðŸ’Ž Cristal ${e} recogido`)}sendPortalTouch(e){this.send({type:"portalTouch",onPortal:e})}sendGameOver(e="trap"){this.send({type:"gameOver",reason:e})}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.connected=!1,this.roomId=null,this.playerRole=null,this.messageHandlers.clear()}isConnected(){return this.connected&&this.ws&&this.ws.readyState===WebSocket.OPEN}getPlayerRole(){return this.playerRole}setPlayerRole(e){this.playerRole=e,console.log(`ðŸŽ® Rol asignado: ${e}`)}};class n extends e.Scene{constructor(){super("GameScene")}init(e){if(this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=!1,this.solenneHasSunCrystal=!1,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null,this.isHandlingDisconnection=!1,this.lastDisconnectionTime=0,this.disconnectionCooldown=1e3,this.isMultiplayer=e.isMultiplayer||!1,this.playerRole=e.playerRole||null,this.roomId=e.roomId||null,this.localPlayer=null,this.remotePlayer=null,this.lastSyncTime=0,this.syncInterval=50,console.log("ðŸŽ® GameScene iniciado"),this.isMultiplayer&&console.log(`ðŸ‘¤ Rol: ${this.playerRole} | ðŸšª Sala: ${this.roomId}`),this.isMultiplayer){const e=this.add.text(this.cameras.main.width/2,40,"ðŸšª Abandonar",{fontSize:"18px",color:"#ff6666",backgroundColor:"#000000",padding:{x:10,y:5}}).setOrigin(.5).setScrollFactor(0).setInteractive({useHandCursor:!0}).setDepth(100);e.on("pointerover",()=>{e.setStyle({backgroundColor:"#333333",color:"#ff0000"})}),e.on("pointerout",()=>{e.setStyle({backgroundColor:"#000000",color:"#ff6666"})}),e.on("pointerdown",()=>{confirm("Â¿Seguro que quieres abandonar la partida?\n\nEl otro jugador serÃ¡ notificado.")&&(a.sendGameOver("disconnect"),a.disconnect(),this.sound.stopAll(),this.scene.stop(),this.scene.start("MenuScene"))})}}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo","assets/Escenario/Nivel1/fondo_abajo.png"),this.load.image("plataformas","assets/Escenario/Nivel1/plataformas_abajo.png"),this.load.image("puertaClaraNivel1","assets/Escenario/Nivel1/puerta_clara.png"),this.load.image("puertaOscuraNivel1","assets/Escenario/Nivel1/puerta_oscura.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonClaroNivel1","assets/Escenario/Nivel1/boton_claro.png"),this.load.image("botonOscuro1Nivel1","assets/Escenario/Nivel1/boton_oscuro.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal","assets/trampas/puertaFinal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage","assets/trampas/lianas_plataformas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){this.connectionListener=e=>{const t=Date.now();e.connected||!this.scene.isActive("GameScene")||this.isHandlingDisconnection?e.connected&&this.isHandlingDisconnection&&(this.isHandlingDisconnection=!1,console.log("âœ… ReconexiÃ³n detectada")):t-this.lastDisconnectionTime>this.disconnectionCooldown&&(console.log("âŒ ConexiÃ³n perdida durante el juego"),this.isHandlingDisconnection=!0,this.lastDisconnectionTime=t,this.onConnectionLost())},t.addListener(this.connectionListener),this.events.on("resume",()=>{console.log("GameScene reanudada"),this.isPaused=!1,this.physics.resume()}),this.events.on("pause",()=>{console.log("GameScene pausada"),this.physics.pause()});const s=1420,i=800;let n=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.1}),this.physics.add.staticSprite(0,0,"fondo").setOrigin(0,0).setDisplaySize(s,i),this.physics.add.staticSprite(0,0,"plataformas").setOrigin(0,0).setDisplaySize(s,i),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,i,s,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,480,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(575,480,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1e3,550,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(300,150,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,275,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(400,50,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.pared2=this.add.rectangle(900,700,200,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared2,!0),this.exitPortal=this.physics.add.staticSprite(1e3,10,"portal").setScale(1),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(700,400,"puertaOscuraNivel1").setScale(.7),this.lightDoor1=this.physics.add.staticSprite(750,400,"puertaClaraNivel1").setScale(.7),this.darkDoor1Hitbox=this.add.rectangle(250,375,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(920,400,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.trampa=this.physics.add.staticSprite(450,150,"damage").setScale(.5),this.damage=this.add.rectangle(480,100,100,60,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage,!0),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.pared2),this.physics.add.collider(this.solenne,this.pared2),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1100,400,"moondrop_sheet").setBodySize(32,32).setScale(.5),this.sunCrystal=this.crystals.create(100,100,"sundrop_sheet").setBodySize(32,32).setScale(.5),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,s,i),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{n||(n=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{n&&(n.destroy(),n=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{n||(n=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{n&&(n.destroy(),n=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)}),this.physics.add.overlap(this.nivia,this.damage,()=>{this.isMultiplayer&&a.isConnected()?a.sendGameOver("trap"):(this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause())}),this.physics.add.overlap(this.solenne,this.damage,()=>{this.isMultiplayer&&a.isConnected()?a.sendGameOver("trap"):(this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause())}),this.isMultiplayer&&this.setupMultiplayer()}setupMultiplayer(){"nivia"===this.playerRole?(this.localPlayer=this.nivia,this.remotePlayer=this.solenne):"solenne"===this.playerRole&&(this.localPlayer=this.solenne,this.remotePlayer=this.nivia),this.playerMoveHandler=this.handleRemotePlayerMove.bind(this),this.crystalCollectedHandler=this.handleRemoteCrystalCollected.bind(this),this.portalSpawnedHandler=this.handleRemotePortalSpawned.bind(this),this.victoryHandler=this.handleRemoteVictory.bind(this),this.gameOverHandler=this.handleRemoteGameOver.bind(this),this.playerDisconnectedHandler=this.handlePlayerDisconnected.bind(this),a.on("playerMove",this.playerMoveHandler),a.on("crystalCollected",this.crystalCollectedHandler),a.on("portalSpawned",this.portalSpawnedHandler),a.on("victory",this.victoryHandler),a.on("gameOver",this.gameOverHandler),a.on("playerDisconnected",this.playerDisconnectedHandler)}syncLocalPlayerPosition(){const e=Date.now();e-this.lastSyncTime<this.syncInterval||(this.lastSyncTime=e,this.localPlayer&&a.isConnected()&&a.sendPlayerMove(this.localPlayer.x,this.localPlayer.y,this.localPlayer.flipX,this.localPlayer.anims.currentAnim?.key||"idle"))}handleRemotePlayerMove(e){this.remotePlayer&&(this.remotePlayer.setPosition(e.x,e.y),this.remotePlayer.setFlipX(e.flipX),e.animKey&&this.remotePlayer.anims.currentAnim?.key!==e.animKey&&this.remotePlayer.anims.play(e.animKey,!0))}handleRemoteCrystalCollected(e){console.log(`ðŸ’Ž Cristal ${e.crystalType} recogido por el otro jugador`),"moon"===e.crystalType?(this.moonCrystal.disableBody(!0,!0),this.niviaHasMoonCrystal=!0,this.moonHUD.setVisible(!0),e.darkDoorUnlocked&&this.unlockDarkDoor()):"sun"===e.crystalType&&(this.sunCrystal.disableBody(!0,!0),this.solenneHasSunCrystal=!0,this.sunHUD.setVisible(!0),e.lightDoorUnlocked&&this.unlockLightDoor())}handleRemotePortalSpawned(e){console.log("ðŸšª Portal activado por el servidor"),this.exitPortal.visible||(this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}handleRemoteVictory(e){console.log("ðŸŽ‰ Â¡VICTORIA MULTIJUGADOR!"),this.scene.launch("VictoryScene",{originalScene:this.scene.key,isMultiplayer:!0}),this.scene.pause()}handleRemoteGameOver(e){console.log("ðŸ’€ Game Over recibido del servidor:",e.reason),this.physics.pause(),this.scene.launch("GameOverScene",{originalScene:this.scene.key,isMultiplayer:!0,reason:e.reason}),this.scene.pause()}handlePlayerDisconnected(){console.log("âŒ El otro jugador se desconectÃ³"),this.physics.pause(),this.scene.pause();const e=this.cameras.main.width,t=this.cameras.main.height,s=(this.add.rectangle(0,0,e,t,0,.9).setOrigin(0).setScrollFactor(0).setDepth(2e3),this.add.text(e/2,t/2-80,"âš ï¸ PARTIDA TERMINADA",{fontSize:"48px",color:"#ff6666",align:"center",fontStyle:"bold"}).setOrigin(.5).setScrollFactor(0).setDepth(2001),this.add.text(e/2,t/2,"El otro jugador abandonÃ³ la partida",{fontSize:"24px",color:"#ffffff",align:"center"}).setOrigin(.5).setScrollFactor(0).setDepth(2001),this.add.text(e/2,t/2+100,"ðŸ  Volver al MenÃº",{fontSize:"28px",color:"#ffffff",backgroundColor:"#444444",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0}).setScrollFactor(0).setDepth(2001));s.on("pointerover",()=>{s.setStyle({backgroundColor:"#666666"})}),s.on("pointerout",()=>{s.setStyle({backgroundColor:"#444444"})}),s.on("pointerdown",()=>{a.disconnect(),this.sound.stopAll(),this.scene.stop(),this.scene.start("MenuScene")})}onConnectionLost(){this.isPaused=!0,this.connectionListener&&t.removeListener(this.connectionListener),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"}),this.scene.pause()}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(100,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1,this.isHandlingDisconnection=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.isMultiplayer?"nivia"===this.playerRole?(this.handlePlayerMovement(this.nivia,this.niviaControls),this.syncLocalPlayerPosition()):"solenne"===this.playerRole&&(this.handlePlayerMovement(this.solenne,this.solenneControls),this.syncLocalPlayerPosition()):(this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls)),this.handleCameraAndConstraints(),this.exitPortal.visible&&this.checkLevelComplete()}handleCameraAndConstraints(){const t=this.nivia.y,s=this.solenne.y;let i=(t+s)/2;const a=this.cameras.main.height;this.cameras.main.scrollY=e.Math.Linear(this.cameras.main.scrollY,i-a/2,.05);const n=.7*a;if(Math.abs(t-s)>n){const e=t<s?this.nivia:this.solenne,i=t<s?this.solenne:this.nivia;(i.body.blocked.down||i.y>e.y+n)&&(e.body.velocity.y<0&&(e.body.velocity.y=0),console.log("Movimiento vertical restringido por el jugador rezagado."))}}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal=!0,this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDarkDoor(),this.isMultiplayer&&a.isConnected()&&a.sendCrystalCollect("moon")}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal=!0,this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockLightDoor(),this.isMultiplayer&&a.isConnected()&&a.sendCrystalCollect("sun")}unlockDarkDoor(){this.darkDoor1Hitbox.body.enable=!1,this.darkDoor1Hitbox.setVisible(!1),this.darkDoor1.setVisible(!1),console.log("Puerta Oscura desbloqueada"),this.checkPortalSpawn()}unlockLightDoor(){this.lightDoor1Hitbox.body.enable=!1,this.lightDoor1Hitbox.setVisible(!1),this.lightDoor1.setVisible(!1),console.log("Puerta Clara desbloqueada"),this.checkPortalSpawn()}checkPortalSpawn(){this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&(console.log("Ambos cristales recogidos. El portal aparece."),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(){try{if(this.isMultiplayer&&this.exitPortal.visible){const e=this.physics.overlap(this.localPlayer,this.exitPortal);"nivia"===this.playerRole&&e!==this.niviaOnPortal?(this.niviaOnPortal=e,a.sendPortalTouch(e)):"solenne"===this.playerRole&&e!==this.solenneOnPortal&&(this.solenneOnPortal=e,a.sendPortalTouch(e))}this.isMultiplayer||this.niviaOnPortal&&this.solenneOnPortal&&this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&(console.log("Â¡NIVEL COMPLETADO!"),this.scene.launch("VictoryScene",{originalScene:this.scene.key}))}catch(e){console.error("Error en checkLevelComplete:",e)}}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener),this.isMultiplayer&&(a.off("playerMove",this.playerMoveHandler),a.off("crystalCollected",this.crystalCollectedHandler),a.off("portalSpawned",this.portalSpawnedHandler),a.off("victory",this.victoryHandler),a.off("gameOver",this.gameOverHandler),a.off("playerDisconnected",this.playerDisconnectedHandler))}}class o extends e.Scene{constructor(){super("PauseScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("PauseText","assets/texto_pausa.PNG"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("TutorialButton","assets/tutorial.png"),this.load.image("TutorialButtonHover","assets/tutorialHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("RetMenuButton","assets/menu.PNG"),this.load.image("RetMenuButtonHover","assets/menuHover.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1),this.add.image(700,210,"PauseText").setOrigin(.5).setScale(1);const i=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()});const a=this.add.image(700,320,"TutorialButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(700,320,"TutorialButtonHover").setOrigin(.5).setScale(.7).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.launch("TutorialScene",{originalScene:"PauseScene"}),this.scene.pause()});const n=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start(e)});const o=this.add.image(700,515,"RetMenuButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});o.on("pointerover",()=>{s||(s=this.add.image(698,515,"RetMenuButtonHover").setOrigin(.5).setScale(.7).setDepth(o.depth+1))}),o.on("pointerout",()=>{s&&(s.destroy(),s=null)}),o.on("pointerdown",()=>{const e=this.game.scene.keys;for(let t in e)"MenuScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("MenuScene")})}}class r extends e.Scene{constructor(){super("TutorialScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("keys","assets/teclas.png"),this.load.image("solenneIcon","assets/personajeSolenne.png"),this.load.image("niviaIcon","assets/personajeNivia.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("TutorialText","assets/texto_tutorial.PNG")}create(){const e=this.scale.width,t=this.scale.height;this.scene.bringToTop();let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1),this.add.image(700,380,"keys").setOrigin(.5).setScale(1),this.add.image(515,580,"niviaIcon").setOrigin(.5).setScale(.75),this.add.image(885,580,"solenneIcon").setOrigin(.5).setScale(.75);const i=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()}),this.add.image(700,210,"TutorialText").setOrigin(.5).setScale(1)}}class l extends e.Scene{constructor(){super("CreditsScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("CreditsText","assets/texto_creditos.PNG"),this.load.image("MembersText","assets/nombres.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1);const i=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.stop(),this.scene.resume(this.scene.settings.data.originalScene)}),this.add.image(700,210,"CreditsText").setOrigin(.5).setScale(1),this.add.image(710,460,"MembersText").setOrigin(.5).setScale(.65)}}class h extends e.Scene{constructor(){super("SettingsScene")}preload(){this.load.image("settingsBox","assets/caja.png"),this.load.image("PlusVolumeButton","assets/mas.png"),this.load.image("PlusVolumeButtonHover","assets/masHover.png"),this.load.image("MinusVolumeButton","assets/menos.png"),this.load.image("MinusVolumeButtonHover","assets/menosHover.png"),this.load.image("VolumeBarOff","assets/boton_oscuro.png"),this.load.image("VolumeBarOn","assets/boton_claro.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("SettingsText","assets/texto_ajustes.png")}create(){const e=this.scale.width,t=this.scale.height;let s,i,a,n,o,r=100*this.sound.volume,l=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"settingsBox").setOrigin(.5).setScale(1),this.add.image(700,210,"SettingsText").setOrigin(.5).setScale(1),this.add.image(433,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(566,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(700,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(833,500,"VolumeBarOff").setOrigin(.5).setScale(1),this.add.image(966,500,"VolumeBarOff").setOrigin(.5).setScale(1),s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1),s.destroy(),i.destroy(),a.destroy(),n.destroy(),o.destroy(),0==r&&null!=s?s.destroy():r<=20?s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1):r<=40?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=60?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=80?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1)):100==r&&(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1));const h=this.add.image(1069,500,"PlusVolumeButton").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0});h.on("pointerover",()=>{l||(l=this.add.image(1069,500,"PlusVolumeButtonHover").setOrigin(.5).setScale(.4).setDepth(h.depth+1))}),h.on("pointerout",()=>{l&&(l.destroy(),l=null)}),h.on("pointerdown",()=>{r+=20,r>100?r=100:r<0&&(r=0),this.sound.setVolume(r/100),s.destroy(),i.destroy(),a.destroy(),n.destroy(),o.destroy(),0==r&&null!=s?s.destroy():r<=20?s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1):r<=40?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=60?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=80?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1)):100==r&&(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1))});const d=this.add.image(330,500,"MinusVolumeButton").setOrigin(.5).setScale(.4).setInteractive({useHandCursor:!0});d.on("pointerover",()=>{l||(l=this.add.image(335,500,"MinusVolumeButtonHover").setOrigin(.5).setScale(.4))}),d.on("pointerout",()=>{l&&(l.destroy(),l=null)}),d.on("pointerdown",()=>{r-=20,r>100?r=100:r<0&&(r=0),this.sound.setVolume(r/100),s.destroy(),i.destroy(),a.destroy(),n.destroy(),o.destroy(),0==r&&null!=s?s.destroy():r<=20?s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1):r<=40?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=60?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1)):r<=80?(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1)):100==r&&(s=this.add.image(433,500,"VolumeBarOn").setOrigin(.5).setScale(1),i=this.add.image(566,500,"VolumeBarOn").setOrigin(.5).setScale(1),a=this.add.image(700,500,"VolumeBarOn").setOrigin(.5).setScale(1),n=this.add.image(833,500,"VolumeBarOn").setOrigin(.5).setScale(1),o=this.add.image(966,500,"VolumeBarOn").setOrigin(.5).setScale(1))});const c=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});c.on("pointerover",()=>{l||(l=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(c.depth+1))}),c.on("pointerout",()=>{l&&(l.destroy(),l=null)}),c.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()})}}class d extends e.Scene{constructor(){super("LevelSelectScene")}preload(){this.load.image("LevelBox","assets/caja.png"),this.load.image("LevelsText","assets/texto_niveles.png"),this.load.image("Level1Button","assets/nivel1.png"),this.load.image("Level1ButtonHover","assets/nivel1Hover.png"),this.load.image("Level2Button","assets/Nivel2.png"),this.load.image("Level2ButtonHover","assets/Nivel2Hover.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"LevelBox").setOrigin(.5).setScale(1),this.add.image(700,210,"LevelsText").setOrigin(.5).setScale(1);const i=this.add.image(510,500,"Level1Button").setOrigin(.5).setScale(1).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(520,505,"Level1ButtonHover").setOrigin(.5).setScale(1).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.stop("MenuScene"),this.scene.stop(),this.scene.start("GameLocalScene")});const a=this.add.image(880,500,"Level2Button").setOrigin(.5).setScale(1).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(880,500,"Level2ButtonHover").setOrigin(.5).setScale(1.05).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.stop("MenuScene"),this.scene.stop(),this.scene.start("Level2SceneLocal")});const n=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;e&&this.scene.resume(e),this.scene.stop()})}}class c extends e.Scene{constructor(){super("PlaceHolderScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("ExitButton","assets/salir.png"),this.load.image("ExitButtonHover","assets/salirHover.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1);const i=this.add.image(700,670,"ExitButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(700,670,"ExitButtonHover").setOrigin(.5).setScale(.75).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.start("MenuScene")}),this.add.text(700,180,"Nada que ver aqui",{fontSize:"48px",fill:"#d4eaf1ff"}).setOrigin(.5)}}class u extends e.Scene{constructor(){super("VictoryScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("VictoryText","assets/texto_victoria.png"),this.load.image("NextLevelButton","assets/siguienteNivel.png"),this.load.image("NextLevelButtonHover","assets/siguienteNivelHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("RetMenuButton","assets/menu.PNG"),this.load.image("RetMenuButtonHover","assets/menuHover.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1),this.add.image(700,210,"VictoryText").setOrigin(.5).setScale(1);const i=this.add.image(700,320,"NextLevelButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(700,325,"NextLevelButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;console.log("Original scene being removed:",e),this.scene.stop(e),this.scene.stop(),this.scene.start("Level2Scene")});const a=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start(e)});const n=this.add.image(700,515,"RetMenuButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(698,515,"RetMenuButtonHover").setOrigin(.5).setScale(.7).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{const e=this.game.scene.keys;for(let t in e)"MenuScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("MenuScene")})}}class p extends e.Scene{constructor(){super("GameOverScene")}preload(){this.load.image("CreditsBox","assets/caja.png"),this.load.image("GameOverText","assets/texto_derrota.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("RetMenuButton","assets/menu.PNG"),this.load.image("RetMenuButtonHover","assets/menuHover.PNG")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"CreditsBox").setOrigin(.5).setScale(1),this.add.image(700,240,"GameOverText").setOrigin(.5).setScale(1);const i=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.stop(),this.scene.start(e)});const a=this.add.image(700,515,"RetMenuButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(698,515,"RetMenuButtonHover").setOrigin(.5).setScale(.7).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{const e=this.game.scene.keys;for(let t in e)"MenuScene"!==t&&this.scene.stop(t);this.scene.stop(),this.scene.start("MenuScene")})}}class g extends e.Scene{constructor(){super("Level2Scene")}init(){this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=0,this.solenneHasSunCrystal=0,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo1","assets/Escenario/Nivel2/fondo_arriba.png"),this.load.image("plataformas1","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("plataformasNivel2","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal1","assets/Escenario/Nivel2/portal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage1","assets/trampas/trampas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){const t=1420,s=800;let i=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.2}),this.physics.add.staticSprite(0,0,"fondo1").setOrigin(0,0).setDisplaySize(t,s),this.physics.add.staticSprite(0,0,"plataformas1").setOrigin(0,0).setDisplaySize(t,s),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,s,t,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(750,550,160,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1250,425,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(525,325,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,225,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(715,425,80,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.portalSprite=this.physics.add.staticSprite(710,400,"portal1").setScale(.75),this.portalSprite.setVisible(!1),this.exitPortal=this.add.rectangle(200,200,200,200).setScale(.75),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(710,400,"puertaOscura1Nivel2").setScale(.75),this.darkDoor2=this.physics.add.staticSprite(710,400,"puertaOscura2Nivel2").setScale(.75),this.lightDoor1=this.physics.add.staticSprite(710,400,"puertaClara1Nivel2").setScale(.75),this.lightDoor2=this.physics.add.staticSprite(710,400,"puertaClara2Nivel2").setScale(.75),this.lightDoor3=this.physics.add.staticSprite(710,400,"puertaClara3Nivel2").setScale(.75),this.darkDoor1Hitbox=this.add.rectangle(325,700,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.darkDoor2Hitbox=this.add.rectangle(500,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor2Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(700,100,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.lightDoor2Hitbox=this.add.rectangle(750,700,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor2Hitbox,!0),this.lightDoor3Hitbox=this.add.rectangle(925,500,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor3Hitbox),this.lightDoor3Hitbox.body.setImmovable(!0).setAllowGravity(!1),this.lightDoor3Hitbox.setAngle(135),this.doors={darkDoor1:{sprite:this.darkDoor1,hitbox:this.darkDoor1Hitbox},darkDoor2:{sprite:this.darkDoor2,hitbox:this.darkDoor2Hitbox},lightDoor1:{sprite:this.lightDoor1,hitbox:this.lightDoor1Hitbox},lightDoor2:{sprite:this.lightDoor3,hitbox:this.lightDoor2Hitbox},lightDoor3:{sprite:this.lightDoor2,hitbox:this.lightDoor3Hitbox}},this.damageGroup=this.physics.add.staticGroup(),this.trampa=this.physics.add.staticSprite(710,400,"damage1").setScale(.75),this.damage1=this.add.rectangle(1350,100,200,100,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage1,!0),this.damage2=this.add.rectangle(100,530,100,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage2,!0),this.damage3=this.add.rectangle(125,800,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage3,!0),this.damage4=this.add.rectangle(600,300,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage4,!0),this.damageGroup.add(this.damage1),this.damageGroup.add(this.damage2),this.damageGroup.add(this.damage3),this.damageGroup.add(this.damage4),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.nivia,this.lightDoor2Hitbox),this.physics.add.collider(this.nivia,this.lightDoor3Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor2Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1300,300,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor1"),this.moonCrystal2=this.crystals.create(550,200,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor2"),this.sunCrystal=this.crystals.create(550,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor3"),this.sunCrystal2=this.crystals.create(200,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor1"),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.physics.add.overlap(this.nivia,this.moonCrystal2,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal2,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,t,s),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)});const a=()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()};this.physics.add.overlap(this.nivia,this.damageGroup,a),this.physics.add.overlap(this.solenne,this.damageGroup,a)}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(1200,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls),this.exitPortal.visible&&this.checkLevelComplete(this.exitPortal)}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal+=1,2==this.niviaHasMoonCrystal&&this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDoor(t.getData("doorKey"))}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal+=1,2==this.solenneHasSunCrystal&&this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockDoor(t.getData("doorKey"))}unlockDoor(e){const t=this.doors[e];t.hitbox.body.enable=!1,t.hitbox.setVisible(!1),t.sprite.setVisible(!1),this.checkPortalSpawn()}checkPortalSpawn(){2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.portalSprite.setVisible(!0),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(e,t){this.niviaOnPortal&&this.solenneOnPortal&&2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.scene.launch("VictoryScene",{originalScene:this.scene.key}),this.scene.pause())}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}}class m extends e.Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckTimer=null,this.connectionListener=null,this.isChecking=!1}init(e){this.previousScene=e?.previousScene}create(){this.add.rectangle(400,300,800,600,0,.8),this.add.text(400,200,"CONEXIÃ“N PERDIDA",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,loop:!0,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)}}),this.connectionListener=e=>{e.connected&&this.onReconnected()},t.addListener(this.connectionListener),this.reconnectCheckTimer=this.time.addEvent({delay:2e3,loop:!0,callback:this.attemptReconnect,callbackScope:this}),this.attemptReconnect()}async attemptReconnect(){if(!this.isChecking){this.isChecking=!0,this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`);try{await t.checkConnection()}finally{this.isChecking=!1}}}onReconnected(){this.reconnectCheckTimer&&(this.reconnectCheckTimer.remove(),this.reconnectCheckTimer=null),this.connectionListener&&(t.removeListener(this.connectionListener),this.connectionListener=null),this.statusText.setText("Â¡ConexiÃ³n restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{if(this.previousScene){const e=this.scene.get(this.previousScene);e&&e.connectionListener&&t.addListener(e.connectionListener),this.scene.resume(this.previousScene)}this.scene.stop()})}shutdown(){this.reconnectCheckTimer&&this.reconnectCheckTimer.remove(),this.connectionListener&&t.removeListener(this.connectionListener)}}class y extends e.Scene{constructor(){super("GameModeScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("ExitButton","assets/salir.png"),this.load.image("ExitButtonHover","assets/salirHover.png"),this.load.image("LocalButton","assets/jugarLocal.png"),this.load.image("LocalButtonHover","assets/jugarLocalHover.png"),this.load.image("OnlineButton","assets/jugarOnline.png"),this.load.image("OnlineButtonHover","assets/jugarOnlineHover.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1);const i=this.add.image(700,670,"ExitButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(700,670,"ExitButtonHover").setOrigin(.5).setScale(.75).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.start("MenuScene")}),this.add.text(700,180,"Modo de juego",{fontSize:"48px",fill:"#d4eaf1ff"}).setOrigin(.5);const a=this.add.image(305,340,"LocalButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});a.on("pointerover",()=>{s||(s=this.add.image(305,340,"LocalButtonHover").setOrigin(.5).setScale(.75).setDepth(a.depth+1))}),a.on("pointerout",()=>{s&&(s.destroy(),s=null)}),a.on("pointerdown",()=>{this.scene.launch("LevelSelectScene"),this.scene.stop()});const n=this.add.image(1095,340,"OnlineButton").setOrigin(.5).setScale(.75).setInteractive({useHandCursor:!0});n.on("pointerover",()=>{s||(s=this.add.image(1095,340,"OnlineButtonHover").setOrigin(.5).setScale(.75).setDepth(n.depth+1))}),n.on("pointerout",()=>{s&&(s.destroy(),s=null)}),n.on("pointerdown",()=>{this.registry.get("user")?this.scene.start("OnlineLobbyScene"):this.scene.start("AuthScene",{destination:"OnlineLobbyScene"})})}}class v extends e.Scene{constructor(){super("LobbyScene")}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.text(e/2,100,"MULTIJUGADOR ONLINE",{fontSize:"48px",color:"#ffffff",fontStyle:"bold"}).setOrigin(.5),this.add.text(e/2,160,"Fireboy & Watergirl Style",{fontSize:"24px",color:"#888888"}).setOrigin(.5),this.statusText=this.add.text(e/2,t/2-50,"Conectando al servidor...",{fontSize:"28px",color:"#ffff00"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontSize:"22px",color:"#00ff00"}).setOrigin(.5),this.loadingDots="",this.time.addEvent({delay:500,callback:()=>{this.scene.isActive("LobbyScene")&&(this.loadingDots=this.loadingDots.length>=3?"":this.loadingDots+".",this.statusText.text.includes("Esperando")&&this.statusText.setText(`Esperando oponente${this.loadingDots}`))},loop:!0});const s=this.add.text(e/2,t-100,"âŒ Cancelar",{fontSize:"24px",color:"#ff6666",backgroundColor:"#333333",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0});s.on("pointerover",()=>{s.setStyle({backgroundColor:"#555555",color:"#ff0000"})}),s.on("pointerout",()=>{s.setStyle({backgroundColor:"#333333",color:"#ff6666"})}),s.on("pointerdown",()=>{this.leaveQueue()}),this.connectToServer()}async connectToServer(){try{await a.connect(),this.statusText.setText("Esperando oponente"),this.statusText.setColor("#00ff00"),this.queueStatusHandler=this.handleQueueStatus.bind(this),this.gameStartHandler=this.handleGameStart.bind(this),this.connectionLostHandler=this.handleConnectionLost.bind(this),a.on("queueStatus",this.queueStatusHandler),a.on("gameStart",this.gameStartHandler),a.on("connectionLost",this.connectionLostHandler),a.joinQueue()}catch(e){console.error("âŒ Error conectando al servidor:",e),this.statusText.setText("Error de conexiÃ³n"),this.statusText.setColor("#ff0000");const t=this.add.text(this.cameras.main.width/2,this.cameras.main.height/2+100,"ðŸ”„ Reintentar",{fontSize:"24px",color:"#ffffff",backgroundColor:"#4444ff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0});t.on("pointerdown",()=>{t.destroy(),this.connectToServer()})}}handleQueueStatus(e){this.playerCountText.setText(`Jugadores en cola: ${e.position}/2`)}handleGameStart(e){console.log("ðŸŽ® Â¡Partida encontrada!",e),a.setPlayerRole(e.role),this.statusText.setText("Â¡Partida encontrada!"),this.statusText.setColor("#00ff00"),this.playerCountText.setText("Iniciando juego..."),this.time.delayedCall(1e3,()=>{this.scene.start("GameScene",{isMultiplayer:!0,playerRole:e.role,roomId:e.roomId})})}handleConnectionLost(){console.log("âŒ ConexiÃ³n perdida en Lobby"),this.statusText.setText("ConexiÃ³n perdida"),this.statusText.setColor("#ff0000"),this.playerCountText.setText(""),this.time.delayedCall(2e3,()=>{this.leaveQueue()})}leaveQueue(){this.queueStatusHandler&&a.off("queueStatus",this.queueStatusHandler),this.gameStartHandler&&a.off("gameStart",this.gameStartHandler),this.connectionLostHandler&&a.off("connectionLost",this.connectionLostHandler),a.leaveQueue(),a.disconnect(),this.scene.start("MenuScene")}shutdown(){this.leaveQueue()}}class S extends e.Scene{constructor(){super("RankingScene")}preload(){this.load.image("tutorialBox","assets/caja.png"),this.load.image("ExitMinButton","assets/cerrar.png"),this.load.image("ExitMinButtonHover","assets/cerrarHover.png"),this.load.image("RankingText","assets/texto_ranking.png")}create(){const e=this.scale.width,t=this.scale.height;let s=null;this.background=this.add.rectangle(0,0,e,t,460578,.9).setOrigin(0),this.add.image(700,400,"tutorialBox").setOrigin(.5).setScale(1),this.add.image(700,210,"RankingText").setOrigin(.5).setScale(1),this.fetchRanking();const i=this.add.image(1069,170,"ExitMinButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});i.on("pointerover",()=>{s||(s=this.add.image(1068,170,"ExitMinButtonHover").setOrigin(.5).setScale(.7).setDepth(i.depth+1))}),i.on("pointerout",()=>{s&&(s.destroy(),s=null)}),i.on("pointerdown",()=>{this.scene.stop(),this.scene.resume(this.scene.settings.data.originalScene)})}async fetchRanking(){try{const e=await fetch("/api/users/ranking");(await e.json()).forEach((e,t)=>{const s=200+50*t,i=t<3?"#ffff00":"#ffffff";this.add.text(.3*w,s,`${t+1}. ${e.username}`,{fontSize:"32px",fill:i}),this.add.text(.7*w,s,`${e.bestTime}s`,{fontSize:"32px",fill:i}).setOrigin(1,0)})}catch(e){console.error("Error al obtener ranking:",e),this.add.text(this.scale.width/2,300,"Error al conectar con el bosque...",{fontSize:"24px",fill:"#ff0000"}).setOrigin(.5)}}}class f extends e.Scene{constructor(){super("GameLocalScene")}init(){this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=!1,this.solenneHasSunCrystal=!1,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo","assets/Escenario/Nivel1/fondo_abajo.png"),this.load.image("plataformas","assets/Escenario/Nivel1/plataformas_abajo.png"),this.load.image("puertaClaraNivel1","assets/Escenario/Nivel1/puerta_clara.png"),this.load.image("puertaOscuraNivel1","assets/Escenario/Nivel1/puerta_oscura.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonClaroNivel1","assets/Escenario/Nivel1/boton_claro.png"),this.load.image("botonOscuro1Nivel1","assets/Escenario/Nivel1/boton_oscuro.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal","assets/trampas/puertaFinal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage","assets/trampas/lianas_plataformas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){const t=1420,s=800;let i=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.1}),this.physics.add.staticSprite(0,0,"fondo").setOrigin(0,0).setDisplaySize(t,s),this.physics.add.staticSprite(0,0,"plataformas").setOrigin(0,0).setDisplaySize(t,s),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,s,t,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,480,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(575,480,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1e3,550,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(300,150,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,275,150,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(400,50,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.pared2=this.add.rectangle(900,700,200,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared2,!0),this.exitPortal=this.physics.add.staticSprite(1e3,10,"portal").setScale(1),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(700,400,"puertaOscuraNivel1").setScale(.7),this.lightDoor1=this.physics.add.staticSprite(750,400,"puertaClaraNivel1").setScale(.7),this.darkDoor1Hitbox=this.add.rectangle(250,375,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(920,400,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.trampa=this.physics.add.staticSprite(450,150,"damage").setScale(.5),this.damage=this.add.rectangle(480,100,100,60,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage,!0),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.pared2),this.physics.add.collider(this.solenne,this.pared2),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1100,400,"moondrop_sheet").setBodySize(32,32).setScale(.5),this.sunCrystal=this.crystals.create(100,100,"sundrop_sheet").setBodySize(32,32).setScale(.5),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,t,s),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)}),this.physics.add.overlap(this.nivia,this.damage,()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()}),this.physics.add.overlap(this.solenne,this.damage,()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()})}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(100,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls),this.handleCameraAndConstraints(),this.exitPortal.visible&&this.checkLevelComplete(this.exitPortal)}handleCameraAndConstraints(){const t=this.nivia.y,s=this.solenne.y;let i=(t+s)/2;const a=this.cameras.main.height;this.cameras.main.scrollY=e.Math.Linear(this.cameras.main.scrollY,i-a/2,.05);const n=.7*a;if(Math.abs(t-s)>n){const e=t<s?this.nivia:this.solenne,i=t<s?this.solenne:this.nivia;(i.body.blocked.down||i.y>e.y+n)&&(e.body.velocity.y<0&&(e.body.velocity.y=0),console.log("Movimiento vertical restringido por el jugador rezagado."))}}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal=!0,this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDarkDoor()}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal=!0,this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockLightDoor()}unlockDarkDoor(){this.darkDoor1Hitbox.body.enable=!1,this.darkDoor1Hitbox.setVisible(!1),this.darkDoor1.setVisible(!1),console.log("Puerta Oscura desbloqueada"),this.checkPortalSpawn()}unlockLightDoor(){this.lightDoor1Hitbox.body.enable=!1,this.lightDoor1Hitbox.setVisible(!1),this.lightDoor1.setVisible(!1),console.log("Puerta Clara desbloqueada"),this.checkPortalSpawn()}checkPortalSpawn(){this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&(console.log("Ambos cristales recogidos. El portal aparece."),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(e,t){this.niviaOnPortal&&this.solenneOnPortal&&this.niviaHasMoonCrystal&&this.solenneHasSunCrystal&&this.scene.launch("VictoryScene",{originalScene:this.scene.key})}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}}class O extends e.Scene{constructor(){super("Level2SceneLocal")}init(){this.isPaused=!1,this.escWasDown=!1,this.niviaHasMoonCrystal=0,this.solenneHasSunCrystal=0,this.niviaOnPortal=!1,this.solenneOnPortal=!1,this.isNiviaWalking=null,this.isSolenneWalking=null}preload(){this.load.atlas("nivia","assets/nivia/nivia_sheet.png","assets/nivia/nivia_sheet.json"),this.load.atlas("solenne","assets/solenne/solenne_sheet.png","assets/solenne/solenne_sheet.json"),this.load.spritesheet("sundrop_sheet","assets/items/sundrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("moondrop_sheet","assets/items/moondrop.png",{frameWidth:214,frameHeight:206}),this.load.spritesheet("sun_sheet","assets/items/sun.png",{frameWidth:347,frameHeight:329}),this.load.spritesheet("moon_sheet","assets/items/moon.png",{frameWidth:347,frameHeight:329}),this.load.image("fondo1","assets/Escenario/Nivel2/fondo_arriba.png"),this.load.image("plataformas1","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("plataformasNivel2","assets/Escenario/Nivel2/plataformas_arriba.png"),this.load.image("puertaClara1Nivel2","assets/Escenario/Nivel2/puerta_clara1.png"),this.load.image("puertaClara2Nivel2","assets/Escenario/Nivel2/puerta_clara2.png"),this.load.image("puertaClara3Nivel2","assets/Escenario/Nivel2/puerta_clara3.png"),this.load.image("puertaOscura1Nivel2","assets/Escenario/Nivel2/puerta_oscura1.png"),this.load.image("puertaOscura2Nivel2","assets/Escenario/Nivel2/puerta_oscura2.png"),this.load.image("botonNivel2","assets/Escenario/Nivel2/boton.png"),this.load.image("botonClaroNivel2","assets/Escenario/Nivel2/boton_claro.png"),this.load.image("botonOscuro1Nivel2","assets/Escenario/Nivel2/boton_oscuro1.png"),this.load.image("botonOscuro2Nivel2","assets/Escenario/Nivel2/boton_oscuro2.png"),this.load.image("portal1","assets/Escenario/Nivel2/portal.png"),this.load.image("PauseButton","assets/pausa.png"),this.load.image("PauseButtonHover","assets/pausaHover.png"),this.load.image("SettingsButton","assets/ajustes.png"),this.load.image("SettingsButtonHover","assets/ajustesHover.png"),this.load.image("RestartButton","assets/reiniciar.PNG"),this.load.image("RestartButtonHover","assets/reiniciarHover.PNG"),this.load.image("damage1","assets/trampas/trampas.png"),this.load.audio("walkSound","assets/sonido/caminar.mp3"),this.load.audio("collectSunCrystalSound","assets/sonido/cristalClaro.mp3"),this.load.audio("collectMoonCrystalSound","assets/sonido/cristalOscuro.mp3"),this.load.audio("GameMusic","assets/sonido/juego.mp3")}create(){const t=1420,s=800;let i=null;this.sound.stopByKey("MenuMusic"),this.cache.audio.exists("GameMusic")&&this.sound.play("GameMusic",{loop:!0,volume:.2}),this.physics.add.staticSprite(0,0,"fondo1").setOrigin(0,0).setDisplaySize(t,s),this.physics.add.staticSprite(0,0,"plataformas1").setOrigin(0,0).setDisplaySize(t,s),this.physics.world.gravity.y=1500,this.setUpPlayers(),this.ground=this.add.rectangle(0,s,t,10,65280,0).setOrigin(0,0),this.physics.add.existing(this.ground,!0),this.plataforma1=this.add.rectangle(200,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma1,!0),this.plataforma2=this.add.rectangle(750,550,160,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma2,!0),this.plataforma3=this.add.rectangle(1250,425,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma3,!0),this.plataforma4=this.add.rectangle(525,325,400,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma4,!0),this.plataforma5=this.add.rectangle(875,225,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.plataforma5,!0),this.pared1=this.add.rectangle(715,425,80,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.pared1,!0),this.portalSprite=this.physics.add.staticSprite(710,400,"portal1").setScale(.75),this.portalSprite.setVisible(!1),this.exitPortal=this.add.rectangle(200,200,200,200).setScale(.75),this.exitPortal.setVisible(!1),this.physics.add.existing(this.exitPortal,!0),this.exitPortal.body.enable=!1,this.darkDoor1=this.physics.add.staticSprite(710,400,"puertaOscura1Nivel2").setScale(.75),this.darkDoor2=this.physics.add.staticSprite(710,400,"puertaOscura2Nivel2").setScale(.75),this.lightDoor1=this.physics.add.staticSprite(710,400,"puertaClara1Nivel2").setScale(.75),this.lightDoor2=this.physics.add.staticSprite(710,400,"puertaClara2Nivel2").setScale(.75),this.lightDoor3=this.physics.add.staticSprite(710,400,"puertaClara3Nivel2").setScale(.75),this.darkDoor1Hitbox=this.add.rectangle(325,700,20,300,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor1Hitbox,!0),this.darkDoor2Hitbox=this.add.rectangle(500,575,300,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.darkDoor2Hitbox,!0),this.lightDoor1Hitbox=this.add.rectangle(700,100,20,280,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor1Hitbox,!0),this.lightDoor2Hitbox=this.add.rectangle(750,700,20,200,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor2Hitbox,!0),this.lightDoor3Hitbox=this.add.rectangle(925,500,200,20,3287837,0).setOrigin(.5,.5),this.physics.add.existing(this.lightDoor3Hitbox),this.lightDoor3Hitbox.body.setImmovable(!0).setAllowGravity(!1),this.lightDoor3Hitbox.setAngle(135),this.doors={darkDoor1:{sprite:this.darkDoor1,hitbox:this.darkDoor1Hitbox},darkDoor2:{sprite:this.darkDoor2,hitbox:this.darkDoor2Hitbox},lightDoor1:{sprite:this.lightDoor1,hitbox:this.lightDoor1Hitbox},lightDoor2:{sprite:this.lightDoor3,hitbox:this.lightDoor2Hitbox},lightDoor3:{sprite:this.lightDoor2,hitbox:this.lightDoor3Hitbox}},this.damageGroup=this.physics.add.staticGroup(),this.trampa=this.physics.add.staticSprite(710,400,"damage1").setScale(.75),this.damage1=this.add.rectangle(1350,100,200,100,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage1,!0),this.damage2=this.add.rectangle(100,530,100,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage2,!0),this.damage3=this.add.rectangle(125,800,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage3,!0),this.damage4=this.add.rectangle(600,300,60,30,3407616,0).setOrigin(.5,.5),this.physics.add.existing(this.damage4,!0),this.damageGroup.add(this.damage1),this.damageGroup.add(this.damage2),this.damageGroup.add(this.damage3),this.damageGroup.add(this.damage4),this.physics.add.collider(this.nivia,this.ground),this.physics.add.collider(this.solenne,this.ground),this.physics.add.collider(this.nivia,this.plataforma1),this.physics.add.collider(this.solenne,this.plataforma1),this.physics.add.collider(this.nivia,this.plataforma2),this.physics.add.collider(this.solenne,this.plataforma2),this.physics.add.collider(this.nivia,this.plataforma3),this.physics.add.collider(this.solenne,this.plataforma3),this.physics.add.collider(this.nivia,this.plataforma4),this.physics.add.collider(this.solenne,this.plataforma4),this.physics.add.collider(this.nivia,this.plataforma5),this.physics.add.collider(this.solenne,this.plataforma5),this.physics.add.collider(this.nivia,this.pared1),this.physics.add.collider(this.solenne,this.pared1),this.physics.add.collider(this.nivia,this.lightDoor1Hitbox),this.physics.add.collider(this.nivia,this.lightDoor2Hitbox),this.physics.add.collider(this.nivia,this.lightDoor3Hitbox),this.physics.add.collider(this.solenne,this.darkDoor1Hitbox),this.physics.add.collider(this.solenne,this.darkDoor2Hitbox),this.createAnimations("nivia"),this.createAnimations("solenne"),this.nivia.play("nivia_idle"),this.solenne.play("solenne_idle"),this.crystals=this.physics.add.group({allowGravity:!1,immovable:!0}),this.moonCrystal=this.crystals.create(1300,300,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor1"),this.moonCrystal2=this.crystals.create(550,200,"moondrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","darkDoor2"),this.sunCrystal=this.crystals.create(550,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor3"),this.sunCrystal2=this.crystals.create(200,700,"sundrop_sheet").setBodySize(32,32).setScale(.5).setData("doorKey","lightDoor1"),this.anims.create({key:"sundrop_idle",frames:this.anims.generateFrameNumbers("sundrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"moondrop_idle",frames:this.anims.generateFrameNumbers("moondrop_sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.moonCrystal.play("moondrop_idle"),this.sunCrystal.play("sundrop_idle"),this.anims.create({key:"sun_hud_anim",frames:this.anims.generateFrameNumbers("sun_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.anims.create({key:"moon_hud_anim",frames:this.anims.generateFrameNumbers("moon_sheet",{start:0,end:10}),frameRate:8,repeat:-1}),this.moonHUD=this.add.sprite(this.cameras.main.centerX-20,40,"moon_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("moon_hud_anim"),this.sunHUD=this.add.sprite(this.cameras.main.centerX+20,40,"sun_sheet").setScrollFactor(0).setScale(.15).setVisible(!1).setDepth(100).play("sun_hud_anim"),this.physics.add.overlap(this.nivia,this.moonCrystal,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal,this.collectSunCrystal,null,this),this.physics.add.overlap(this.nivia,this.moonCrystal2,this.collectMoonCrystal,null,this),this.physics.add.overlap(this.solenne,this.sunCrystal2,this.collectSunCrystal,null,this),this.cameras.main.setBounds(0,0,t,s),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.physics.add.overlap(this.nivia,this.exitPortal,()=>{this.niviaOnPortal=!0,this.checkLevelComplete()}),this.physics.add.overlap(this.solenne,this.exitPortal,()=>{this.solenneOnPortal=!0,this.checkLevelComplete()}),this.pauseButton=this.add.image(this.cameras.main.width-40,40,"PauseButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.pauseButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-40,40,"PauseButtonHover").setOrigin(.5).setScale(.5).setDepth(this.pauseButton.depth+1))}),this.pauseButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.pauseButton.on("pointerdown",()=>{this.togglePause()}),this.settingsButton=this.add.image(this.cameras.main.width-120,40,"SettingsButton").setScrollFactor(0).setInteractive({useHandCursor:!0}).setScale(.5).setDepth(100),this.settingsButton.on("pointerover",()=>{i||(i=this.add.image(this.cameras.main.width-120,40,"SettingsButtonHover").setOrigin(.5).setScale(.5).setDepth(this.settingsButton.depth+1))}),this.settingsButton.on("pointerout",()=>{i&&(i.destroy(),i=null)}),this.settingsButton.on("pointerdown",()=>{this.scene.launch("SettingsScene")}),this.events.on("update",()=>{this.physics.overlap(this.nivia,this.exitPortal)||(this.niviaOnPortal=!1),this.physics.overlap(this.solenne,this.exitPortal)||(this.solenneOnPortal=!1)});const a=()=>{this.scene.launch("GameOverScene",{originalScene:this.scene.key}),this.scene.pause()};this.physics.add.overlap(this.nivia,this.damageGroup,a),this.physics.add.overlap(this.solenne,this.damageGroup,a)}setUpPlayers(){this.nivia=this.physics.add.sprite(1300,1500,"nivia").setBounce(.2).setCollideWorldBounds(!0),this.solenne=this.physics.add.sprite(1200,1500,"solenne").setBounce(.2).setCollideWorldBounds(!0),this.nivia.setSize(120,240),this.nivia.setOffset(110,50),this.solenne.setSize(120,240),this.solenne.setOffset(110,50),this.nivia.setScale(.5),this.solenne.setScale(.5),this.niviaControls=this.input.keyboard.addKeys({left:"A",right:"D",up:"W",interact:"E"}),this.solenneControls=this.input.keyboard.addKeys({left:"LEFT",right:"RIGHT",up:"UP",interact:"SPACE"})}createAnimations(e){this.anims.create({key:`${e}_run`,frames:this.anims.generateFrameNames(e,{prefix:"run_",start:1,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:`${e}_jump`,frames:this.anims.generateFrameNames(e,{prefix:"jump_",start:1,end:6}),frameRate:10,repeat:0}),this.anims.create({key:`${e}_idle`,frames:this.anims.generateFrameNames(e,{frames:["idle_1"]}),frameRate:1,repeat:0})}setPausedState(e){this.isPaused=e,this.isPaused&&(this.scene.launch("PauseScene",{originalScene:this.scene.key}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){const e=!this.isPaused;this.setPausedState(e)}toggleSettings(){this.scene.launch("SettingsScene")}update(){this.escKey.isDown&&this.togglePause(),this.handlePlayerMovement(this.nivia,this.niviaControls),this.handlePlayerMovement(this.solenne,this.solenneControls),this.exitPortal.visible&&this.checkLevelComplete(this.exitPortal)}handlePlayerMovement(t,s){const i=t.texture.key,a=s.left.isDown||s.right.isDown,n=t.body.blocked.down;let o="";a&&n?"nivia"===i&&null===this.isNiviaWalking?(this.isNiviaWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isNiviaWalking.play()):"solenne"===i&&null===this.isSolenneWalking&&(this.isSolenneWalking=this.sound.add("walkSound",{loop:!0,volume:1}),this.isSolenneWalking.play()):"nivia"===i&&this.isNiviaWalking?(this.isNiviaWalking.stop(),this.isNiviaWalking=null):"solenne"===i&&this.isSolenneWalking&&(this.isSolenneWalking.stop(),this.isSolenneWalking=null),s.left.isDown?(t.setVelocityX(-400),t.setFlipX(!1)):s.right.isDown?(t.setVelocityX(400),t.setFlipX(!0)):t.setVelocityX(0),s.up.isDown&&t.body.blocked.down&&t.setVelocityY(-900),o=t.body.blocked.down?s.left.isDown||s.right.isDown?`${i}_run`:`${i}_idle`:`${i}_jump`,t.anims.currentAnim?.key!==o&&t.anims.play(o),e.Input.Keyboard.JustDown(s.interact)&&console.log("InteracciÃ³n realizada")}collectMoonCrystal(e,t){t.disableBody(!0,!0),this.niviaHasMoonCrystal+=1,2==this.niviaHasMoonCrystal&&this.moonHUD.setVisible(!0),this.sound.play("collectMoonCrystalSound",{volume:.5}),console.log("Nivia ha recogido el Cristal de la Luna"),this.unlockDoor(t.getData("doorKey"))}collectSunCrystal(e,t){t.disableBody(!0,!0),this.solenneHasSunCrystal+=1,2==this.solenneHasSunCrystal&&this.sunHUD.setVisible(!0),this.sound.play("collectSunCrystalSound",{volume:.5}),console.log("Solenne ha recogido el Cristal del Sol"),this.unlockDoor(t.getData("doorKey"))}unlockDoor(e){const t=this.doors[e];t.hitbox.body.enable=!1,t.hitbox.setVisible(!1),t.sprite.setVisible(!1),this.checkPortalSpawn()}checkPortalSpawn(){2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.portalSprite.setVisible(!0),this.exitPortal.setVisible(!0),this.exitPortal.body.enable=!0)}checkLevelComplete(e,t){this.niviaOnPortal&&this.solenneOnPortal&&2==this.niviaHasMoonCrystal&&2==this.solenneHasSunCrystal&&(this.scene.launch("VictoryScene",{originalScene:this.scene.key}),this.scene.pause())}endgame(){console.log("Juego Terminado");let e=null;this.physics.pause(),this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"Â¡Nivel Completado!",{fontSize:"48px",fill:"#FFFFFF"}).setOrigin(.5);const t=this.add.image(705,415,"RestartButton").setOrigin(.5).setScale(.7).setInteractive({useHandCursor:!0});t.on("pointerover",()=>{e||(e=this.add.image(693,425,"RestartButtonHover").setOrigin(.5).setScale(.7).setDepth(t.depth+1))}),t.on("pointerout",()=>{e&&(e.destroy(),e=null)}),t.on("pointerdown",()=>{const e=this.scene.settings.data.originalScene;this.scene.stop(e),this.scene.start("GameScene")})}}const x={type:e.AUTO,width:1420,height:800,parent:"game-container",dom:{createContainer:!0},physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[s,n,f,g,O,r,l,o,h,d,c,u,p,y,i,v,m,S],backgroundColor:"#021410ff"};new e.Game(x)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNkaVgsT0FBTyxJQUlmalksTUFBTyxDQUFHNUIsRUFBV3FJLEVBQVdpUixFQUFnQmhFLEVBQWFpRSxFQUFrQnBGLEVBQWVFLEVBQWNiLEVBQVljLEVBQWVTLEVBQWtCRyxFQUFrQkMsRUFBY0UsRUFBZTRDLEVBQWU5VSxFQUFXZ1YsRUFBWWpCLEVBQXFCZ0MsR0FDblF6VyxnQkFBaUIsYUFHUixJQUFJLE9BQVkrVyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWNsaXBzYS9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvTWVudVNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9BdXRoU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2VydmljZXMvV2ViU29ja2V0U2VydmljZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvR2FtZVNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9QYXVzZVNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9UdXRvcmlhbFNjZW5lLmpzIiwid2VicGFjazovL2VjbGlwc2EvLi9zcmMvY2xpZW50L3NjZW5lcy9DcmVkaXRzU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL1NldHRpbmdzU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL0xldmVsU2VsZWN0U2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL1BsYWNlSG9sZGVyU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL1ZpY3RvcnlTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvR2FtZU92ZXJTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvTGV2ZWwyU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL0Nvbm5lY3Rpb25Mb3N0U2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVNb2RlU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL0xvYmJ5U2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL1JhbmtpbmdTY2VuZS5qcyIsIndlYnBhY2s6Ly9lY2xpcHNhLy4vc3JjL2NsaWVudC9zY2VuZXMvR2FtZUxvY2FsU2NlbmUuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvc2NlbmVzL0xldmVsMlNjZW5lTG9jYWwuanMiLCJ3ZWJwYWNrOi8vZWNsaXBzYS8uL3NyYy9jbGllbnQvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsIi8qKlxyXG4gKiBTZXJ2aWNpbyBwYXJhIGdlc3Rpb25hciBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIE1hbmVqYSBlbCBwb2xsaW5nIGFsIGVuZHBvaW50IC9hcGkvY29ubmVjdGVkIHkgZGV0ZWN0YSBww6lyZGlkYXMgZGUgY29uZXhpw7NuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbk1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSAwO1xyXG4gICAgdGhpcy5jaGVja0ludGVydmFsID0gMjAwMDsgLy8gQ29tcHJvYmFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpO1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmFyIHVuIElEIMO6bmljbyBkZSBzZXNpw7NuIHBhcmEgZXN0ZSBjbGllbnRlXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZW5lcmF0ZVNlc3Npb25JZCgpIHtcclxuICAgIHJldHVybiBgc2Vzc2lvbl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wcm9iYXIgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtjb25uZWN0ZWQ6IG51bWJlciwgc3VjY2VzczogYm9vbGVhbn0+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGNoZWNrQ29ubmVjdGlvbigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY29ubmVjdGVkJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWRcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IGRhdGEuY29ubmVjdGVkO1xyXG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubGFzdENoZWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmaWNhciBhIGxvcyBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogdHJ1ZSwgY291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogdGhpcy5jb25uZWN0ZWRDb3VudCwgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgY29ubmVjdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYW5lamFyIGRlc2NvbmV4acOzblxyXG4gICAqL1xyXG4gIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcclxuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiBmYWxzZSwgY291bnQ6IDAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYXIgdW4gbGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gcXVlIHNlIGxsYW1hcsOhIGN1YW5kbyBjYW1iaWUgZWwgZXN0YWRvXHJcbiAgICovXHJcbiAgYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRWxpbWluYXIgdW4gbGlzdGVuZXJcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIGEgZWxpbWluYXJcclxuICAgKi9cclxuICByZW1vdmVMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOb3RpZmljYXIgYSB0b2RvcyBsb3MgbGlzdGVuZXJzXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBEYXRvcyBkZWwgZXN0YWRvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIG5vdGlmeUxpc3RlbmVycyhkYXRhKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGRhdGEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbCBkZSBjb25leGnDs25cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGdldFN0YXR1cygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmlzQ29ubmVjdGVkLFxyXG4gICAgICBjb25uZWN0ZWRDb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCxcclxuICAgICAgbGFzdENoZWNrVGltZTogdGhpcy5sYXN0Q2hlY2tUaW1lXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIHN0YXJ0UG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgcmV0dXJuOyAvLyBZYSBlc3TDoSBjb3JyaWVuZG9cclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcm9iYXIgaW5tZWRpYXRhbWVudGVcclxuICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcblxyXG4gICAgLy8gTHVlZ28gY29tcHJvYmFyIGNhZGEgWCBzZWd1bmRvc1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfSwgdGhpcy5jaGVja0ludGVydmFsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVuZXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xyXG4gICAqL1xyXG4gIHN0b3BQb2xsaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XHJcbiAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBWZXJpZmljYXIgc2kgaGF5IGNvbmV4acOzbiAow7p0aWwgcGFyYSBvdHJhcyBlc2NlbmFzKVxyXG4gICAqL1xyXG4gIGdldElzQ29ubmVjdGVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNDb25uZWN0ZWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPYnRlbmVyIG7Dum1lcm8gZGUgdXN1YXJpb3MgY29uZWN0YWRvc1xyXG4gICAqL1xyXG4gIGdldENvbm5lY3RlZFVzZXJzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGVkQ291bnQ7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDcmVhciBpbnN0YW5jaWEgc2luZ2xldG9uXHJcbmV4cG9ydCBjb25zdCBjb25uZWN0aW9uTWFuYWdlciA9IG5ldyBDb25uZWN0aW9uTWFuYWdlcigpO1xyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7ICAvL2ltcG9ydGFtb3MgaW5zdGFuY2lhIGRlbCBvYmpldG9cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTWVudVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNZW51U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIE3DunNpY2EgZGUgZm9uZG8gZGVsIG1lbsO6XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdNZW51TXVzaWMnLCAnYXNzZXRzL3Nvbmlkby9pbmljaW8ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIGZvbmRvIGRlbCBtZW7DulxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGFudGFsbGFfZGVfaW5pY2lvJywgJ2Fzc2V0cy9mb25kb19wYW50YWxsYV9pbmljaW8ucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBkZSBqdWVnbyBsb2NhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTG9jYWxQbGF5QnV0dG9uJywgJ2Fzc2V0cy9qdWdhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xvY2FsUGxheUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9qdWdhckhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gZGUgdHV0b3JpYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1R1dG9yaWFsQnV0dG9uJywgJ2Fzc2V0cy90dXRvcmlhbC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1R1dG9yaWFsQnV0dG9uSG92ZXInLCAnYXNzZXRzL3R1dG9yaWFsSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBkZSBjcsOpZGl0b3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NyZWRpdG9zQnV0dG9uJywgJ2Fzc2V0cy9jcmVkaXRvcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0NyZWRpdG9zQnV0dG9uSG92ZXInLCAnYXNzZXRzL2NyZWRpdG9zSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBkZSBzYWxpciBkZSBqdWVnb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdEJ1dHRvbicsICdhc3NldHMvc2FsaXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0QnV0dG9uSG92ZXInLCAnYXNzZXRzL3NhbGlySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBkZSBhanVzdGVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc0J1dHRvbicsICdhc3NldHMvYWp1c3Rlcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzQnV0dG9uSG92ZXInLCAnYXNzZXRzL2FqdXN0ZXNIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIGRlIHJhbmtpbmdcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JhbmtpbmdCdXR0b24nLCAnYXNzZXRzL3JhbmtpbmcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSYW5raW5nQnV0dG9uSG92ZXInLCAnYXNzZXRzL3JhbmtpbmdIb3Zlci5wbmcnKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBcclxuICAgICAgICAvLyBEZXRlbmVyIGxhIG3DunNpY2EgZGVsIGp1ZWdvIHNpIGVzdMOhIHNvbmFuZG9cclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BCeUtleSgnR2FtZU11c2ljJyk7XHJcblxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbcO6c2ljYSBkZWwgbWVuw7pcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ01lbnVNdXNpYycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiB0aGlzLnNvdW5kLnZvbHVtZSB9KTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG8gZGVsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnUGFudGFsbGFfZGVfaW5pY2lvJykuc2V0T3JpZ2luKDApO1xyXG4gICAgICAgIGJnLnNldERpc3BsYXlTaXplKHRoaXMuc2NhbGUud2lkdGgsIHRoaXMuc2NhbGUuaGVpZ2h0KTtcclxuICAgICAgICBiZy5zZXREZXB0aCgtMSk7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgLy8gQm90w7NuIGRlIGp1ZWdvIGxvY2FsXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC5pbWFnZSgzMDUsIDM0MCwgJ0xvY2FsUGxheUJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgbG9jYWxCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDMwNSwgMzQwLCAnTG9jYWxQbGF5QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChsb2NhbEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxvY2FsQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsb2NhbEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdHYW1lTW9kZVNjZW5lJyk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSB0dXRvcmlhbFxyXG4gICAgICAgIGNvbnN0IHR1dG9yaWFsQnRuID0gdGhpcy5hZGQuaW1hZ2UoMzEyLCA0NTAsICdUdXRvcmlhbEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgdHV0b3JpYWxCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDMxMiwgNDUwLCAnVHV0b3JpYWxCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHR1dG9yaWFsQnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdHV0b3JpYWxCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHR1dG9yaWFsQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1R1dG9yaWFsU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIGNyw6lkaXRvc1xyXG4gICAgICAgIGNvbnN0IGNyZWRpdG9zQnRuID0gdGhpcy5hZGQuaW1hZ2UoMzA1LCA1NjAsICdDcmVkaXRvc0J1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY3JlZGl0b3NCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDMxMiwgNTU1LCAnQ3JlZGl0b3NCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKGNyZWRpdG9zQnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY3JlZGl0b3NCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNyZWRpdG9zQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0NyZWRpdHNTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgcGFudGFsbGEgZGUgcmFua2luZ1xyXG4gICAgICAgIGNvbnN0IHJhbmtpbmdCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMjAwLCA3NSwgJ1JhbmtpbmdCdXR0b24nKSBcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpICAgIFxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gdGhpcy5zY2VuZS5sYXVuY2goJ1JhbmtpbmdTY2VuZScpKTtcclxuXHJcbiAgICAgICAgcmFua2luZ0J0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMTIwMCwgNzUsICdSYW5raW5nQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyYW5raW5nQnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmFua2luZ0J0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyIGRlIGp1ZWdvXHJcbiAgICAgICAgY29uc3QgZXhpdEJ0biA9IHRoaXMuYWRkLmltYWdlKDMxMiwgNjcwLCAnRXhpdEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMzEyLCA2NzAsICdFeGl0QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChleGl0QnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIENpZXJyYSBsYSB2ZW50YW5hIGRlbCBuYXZlZ2Fkb3IgbyBwZXN0YcOxYVxyXG4gICAgICAgICAgICB3aW5kb3cuY2xvc2UoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIGFqdXN0ZXNcclxuICAgICAgICBjb25zdCBzZXR0aW5nc0J0biA9IHRoaXMuYWRkLmltYWdlKDEzMzAsIDc1LCAnU2V0dGluZ3NCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgc2V0dGluZ3NCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEzMzUsIDc1LCAnU2V0dGluZ3NCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoc2V0dGluZ3NCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzZXR0aW5nc0J0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2V0dGluZ3NCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnU2V0dGluZ3NTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vIEluZGljYWRvciBkZSBjb25leGnDs24gYWwgc2Vydmlkb3IgIC0tICBjb21wcm9iYWRvIGNvbmV4aW9uIFxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgNTAwLCAnU2Vydmlkb3I6IENvbXByb2JhbmRvLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgcGFkZGluZzogeyB4OiA4LCB5OiA0IH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMCkuc2V0RGVwdGgoMTAwMCk7XHJcblxyXG4gICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzbiAgLS0gIHVzdWFyaW9zIGNvbmVjdGFkb3NcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSkge1xyXG4gICAgICAgIC8vIFNvbG8gYWN0dWFsaXphciBzaSBlbCB0ZXh0byBleGlzdGUgKGxhIGVzY2VuYSBlc3TDoSBjcmVhZGEpXHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3Rpb25UZXh0IHx8ICF0aGlzLnNjZW5lIHx8ICF0aGlzLnNjZW5lLmlzQWN0aXZlKCdNZW51U2NlbmUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRUZXh0KGBTZXJ2aWRvcjogJHtkYXRhLmNvdW50fSB1c3VhcmlvKHMpIGNvbmVjdGFkbyhzKWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRUZXh0KCdTZXJ2aWRvcjogRGVzY29uZWN0YWRvJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbTWVudVNjZW5lXSBFcnJvciB1cGRhdGluZyBjb25uZWN0aW9uIGRpc3BsYXk6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdXRoU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0F1dGhTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIC8vIERlc3RpbmF0aW9uIHNjZW5lIGFmdGVyIHN1Y2Nlc3NmdWwgbG9naW5cclxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZGF0YT8uZGVzdGluYXRpb24gfHwgJ01lbnVTY2VuZSc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyDinIUgQ09SUkVHSURPOiBVc2Ftb3MgdHUgbm9tYnJlIGRlIGFyY2hpdm8gJ2xvZ2luaW5mb3JtLmh0bWwnXHJcbiAgICAgICAgdGhpcy5sb2FkLmh0bWwoJ2Zvcm0nLCAnYXNzZXRzL2h0bWwvbG9naW5pbmZvcm0uaHRtbCcpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFja2dyb3VuZF9hdXRoJywgJ2Fzc2V0cy9mb25kb19wYW50YWxsYV9pbmljaW8ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuXHJcbiAgICAvLyAxLiBGb25kbyBkZWwgTVVORE8gKEVsIGJvc3F1ZSwgcGFudGFsbGEgY29tcGxldGEpXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCBoZWlnaHQgLyAyLCAnYmFja2dyb3VuZF9hdXRoJykuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7IFxyXG4gICAgICAgIC8vIEVTVMOBIEJJRU4gZXN0aXJhciBlc3RlIGZvbmRvIHBvcnF1ZSBlcyBlbCBwYWlzYWplLCBubyBsYSBwaWVkcmEgVUkuXHJcblxyXG4gICAgLy8gMi4gRm9ybXVsYXJpbyBIVE1MIChRdWUgY29udGllbmUgbGEgcGllZHJhIFwiY2FqYS5wbmdcIiB5IGxvcyBib3RvbmVzKVxyXG4gICAgICAgIHRoaXMuZm9ybUVsZW1lbnQgPSB0aGlzLmFkZC5kb20od2lkdGggLyAyLCBoZWlnaHQgLyAyKS5jcmVhdGVGcm9tQ2FjaGUoJ2Zvcm0nKTtcclxuXHJcbiAgICAgICAgLy8gLS0tIEZFRURCQUNLIFRFWFQgLS0tXHJcbiAgICAgICAgdGhpcy5mZWVkYmFja1RleHQgPSB0aGlzLmFkZC50ZXh0KFxyXG4gICAgICAgICAgICB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIGhlaWdodCAvIDIgKyAyNjAsXHJcbiAgICAgICAgICAgICcnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzIycHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA0LFxyXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ0NhZGV4LCBBcmlhbCwgc2Fucy1zZXJpZidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIC0tLSBGT1JNIExPR0lDIC0tLVxyXG4gICAgICAgIHRoaXMuZm9ybUVsZW1lbnQuYWRkTGlzdGVuZXIoJ2NsaWNrJyk7XHJcblxyXG4gICAgICAgIHRoaXMuZm9ybUVsZW1lbnQub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldE5hbWUgPSBldmVudC50YXJnZXQubmFtZTtcclxuICAgICAgICAgICAgaWYgKCF0YXJnZXROYW1lKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvLyAxLiBMw7NnaWNhIGRlbCBib3TDs24gVk9MVkVSIChIVE1MKVxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0TmFtZSA9PT0gJ2JhY2tCdXR0b24nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lTW9kZVNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFBhcmEgTG9naW4geSBSZWdpc3RybyBuZWNlc2l0YW1vcyBsb3MgaW5wdXRzXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdGhpcy5mb3JtRWxlbWVudC5nZXRDaGlsZEJ5TmFtZSgndXNlcm5hbWUnKT8udmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gdGhpcy5mb3JtRWxlbWVudC5nZXRDaGlsZEJ5TmFtZSgncGFzc3dvcmQnKT8udmFsdWU7XHJcblxyXG4gICAgICAgICAgICAvLyAyLiBMw7NnaWNhIGRlIExPR0lOXHJcbiAgICAgICAgICAgIGlmICh0YXJnZXROYW1lID09PSAnbG9naW5CdXR0b24nKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXJuYW1lIHx8ICFwYXNzd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ0ludHJvZHVjZSB1c3VhcmlvIHkgY29udHJhc2XDsWEnLCAncmVkJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9Mb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyAzLiBMw7NnaWNhIGRlIFJFR0lTVFJPXHJcbiAgICAgICAgICAgIGlmICh0YXJnZXROYW1lID09PSAncmVnaXN0ZXJCdXR0b24nKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXJuYW1lIHx8ICFwYXNzd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ0ludHJvZHVjZSB1c3VhcmlvIHkgY29udHJhc2XDsWEnLCAncmVkJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9SZWdpc3Rlcih1c2VybmFtZSwgcGFzc3dvcmQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tIEJBQ0tFTkQgQ09OTkVDVElPTiAtLS1cclxuXHJcbiAgICBhc3luYyBkb0xvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCkge1xyXG4gICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ0NvbmVjdGFuZG8uLi4nLCAneWVsbG93Jyk7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvdXNlcnMvbG9naW4nLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSwgcGFzc3dvcmQgfSlcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IgfHwgJ0NyZWRlbmNpYWxlcyBpbmNvcnJlY3RhcycpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBTYXZlIGxvZ2dlZCB1c2VyIGdsb2JhbGx5XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCd1c2VyJywgZGF0YSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKGDCoUJpZW52ZW5pZG8sICR7ZGF0YS51c2VybmFtZX0hYCwgJ2dyZWVuJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoODAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KHRoaXMuZGVzdGluYXRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZShlcnIubWVzc2FnZSwgJ3JlZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBkb1JlZ2lzdGVyKHVzZXJuYW1lLCBwYXNzd29yZCkge1xyXG4gICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoJ1JlZ2lzdHJhbmRvLi4uJywgJ3llbGxvdycpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3VzZXJzL3JlZ2lzdGVyJywge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUsIHBhc3N3b3JkIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yIHx8ICdFcnJvciBhbCByZWdpc3RyYXInKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZSgnQ3VlbnRhIGNyZWFkYS4gSW5pY2lhbmRvIHNlc2nDs24uLi4nLCAnZ3JlZW4nKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIOKchSBBVVRPLUxPR0lOIGRlc3B1w6lzIGRlbCByZWdpc3Ryb1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoNTAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvTG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoZXJyLm1lc3NhZ2UsICdyZWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd01lc3NhZ2UodGV4dCwgY29sb3IpIHtcclxuICAgICAgICBjb25zdCBjb2xvcnMgPSB7XHJcbiAgICAgICAgICAgIHJlZDogJyNmZjQ0NDQnLFxyXG4gICAgICAgICAgICBncmVlbjogJyM0NGZmNDQnLFxyXG4gICAgICAgICAgICB5ZWxsb3c6ICcjZmZmZjQ0JyxcclxuICAgICAgICAgICAgd2hpdGU6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuZmVlZGJhY2tUZXh0LnNldFRleHQodGV4dCk7XHJcbiAgICAgICAgdGhpcy5mZWVkYmFja1RleHQuc2V0Q29sb3IoY29sb3JzW2NvbG9yXSB8fCBjb2xvcnMud2hpdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmZvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybUVsZW1lbnQucmVtb3ZlTGlzdGVuZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybUVsZW1lbnQuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBXZWJTb2NrZXRTZXJ2aWNlIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMud3MgPSBudWxsO1xyXG4gICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMucm9vbUlkID0gbnVsbDtcclxuICAgIHRoaXMucGxheWVyUm9sZSA9IG51bGw7IC8vICduaXZpYScgbyAnc29sZW5uZSdcclxuICAgIHRoaXMubWVzc2FnZUhhbmRsZXJzID0gbmV3IE1hcCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29uZWN0YXIgYWwgc2Vydmlkb3IgV2ViU29ja2V0XHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XHJcbiAgICovXHJcbiAgY29ubmVjdCgpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3Qgd3NVcmwgPSBgd3M6Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZX06MzAwMGA7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIwgQ29uZWN0YW5kbyBhIFdlYlNvY2tldDonLCB3c1VybCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpO1xyXG5cclxuICAgICAgICB0aGlzLndzLm9ub3BlbiA9ICgpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgV2ViU29ja2V0IGNvbmVjdGFkbycpO1xyXG4gICAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHBhcnNlYW5kbyBtZW5zYWplOicsIGVycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBlbiBXZWJTb2NrZXQ6JywgZXJyb3IpO1xyXG4gICAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflIwgV2ViU29ja2V0IGRlc2NvbmVjdGFkbycpO1xyXG4gICAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgIHRoaXMubm90aWZ5SGFuZGxlcignY29ubmVjdGlvbkxvc3QnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1hbmVqYXIgbWVuc2FqZXMgZGVsIHNlcnZpZG9yXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBEYXRvcyByZWNpYmlkb3NcclxuICAgKi9cclxuICBoYW5kbGVNZXNzYWdlKGRhdGEpIHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5OoIE1lbnNhamUgcmVjaWJpZG86JywgZGF0YS50eXBlKTtcclxuICAgIHRoaXMubm90aWZ5SGFuZGxlcihkYXRhLnR5cGUsIGRhdGEpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0cmFyIHVuIGhhbmRsZXIgcGFyYSB1biB0aXBvIGRlIG1lbnNhamVcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRpcG8gZGUgbWVuc2FqZVxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gYSBsbGFtYXJcclxuICAgKi9cclxuICBvbih0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgaWYgKCF0aGlzLm1lc3NhZ2VIYW5kbGVycy5oYXModHlwZSkpIHtcclxuICAgICAgdGhpcy5tZXNzYWdlSGFuZGxlcnMuc2V0KHR5cGUsIFtdKTtcclxuICAgIH1cclxuICAgIHRoaXMubWVzc2FnZUhhbmRsZXJzLmdldCh0eXBlKS5wdXNoKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZXIgdW4gaGFuZGxlclxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGlwbyBkZSBtZW5zYWplXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBhIHJlbW92ZXJcclxuICAgKi9cclxuICBvZmYodHlwZSwgY2FsbGJhY2spIHtcclxuICAgIGlmICh0aGlzLm1lc3NhZ2VIYW5kbGVycy5oYXModHlwZSkpIHtcclxuICAgICAgY29uc3QgaGFuZGxlcnMgPSB0aGlzLm1lc3NhZ2VIYW5kbGVycy5nZXQodHlwZSk7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gaGFuZGxlcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTm90aWZpY2FyIGEgbG9zIGhhbmRsZXJzIHJlZ2lzdHJhZG9zXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaXBvIGRlIG1lbnNhamVcclxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIERhdG9zIGRlbCBtZW5zYWplXHJcbiAgICovXHJcbiAgbm90aWZ5SGFuZGxlcih0eXBlLCBkYXRhID0ge30pIHtcclxuICAgIGlmICh0aGlzLm1lc3NhZ2VIYW5kbGVycy5oYXModHlwZSkpIHtcclxuICAgICAgdGhpcy5tZXNzYWdlSGFuZGxlcnMuZ2V0KHR5cGUpLmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKGRhdGEpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVudmlhciBtZW5zYWplIGFsIHNlcnZpZG9yXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG1lc3NhZ2UgLSBNZW5zYWplIGEgZW52aWFyXHJcbiAgICovXHJcbiAgc2VuZChtZXNzYWdlKSB7XHJcbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgV2ViU29ja2V0IG5vIGVzdMOhIGNvbmVjdGFkbycpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gPT09PT09PT09PT09PT09PT09PT0gTcOJVE9ET1MgRVNQRUPDjUZJQ09TIERFTCBKVUVHTyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAvKipcclxuICAgKiBVbmlyc2UgYSBsYSBjb2xhIGRlIG1hdGNobWFraW5nXHJcbiAgICovXHJcbiAgam9pblF1ZXVlKCkge1xyXG4gICAgdGhpcy5zZW5kKHsgdHlwZTogJ2pvaW5RdWV1ZScgfSk7XHJcbiAgICBjb25zb2xlLmxvZygn8J+TpSBVbmnDqW5kb3NlIGEgbGEgY29sYS4uLicpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2FsaXIgZGUgbGEgY29sYVxyXG4gICAqL1xyXG4gIGxlYXZlUXVldWUoKSB7XHJcbiAgICB0aGlzLnNlbmQoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSk7XHJcbiAgICBjb25zb2xlLmxvZygn8J+TpCBTYWxpZW5kbyBkZSBsYSBjb2xhLi4uJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbnZpYXIgbW92aW1pZW50byBkZWwganVnYWRvclxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gUG9zaWNpw7NuIFhcclxuICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFBvc2ljacOzbiBZXHJcbiAgICogQHBhcmFtIHtib29sZWFufSBmbGlwWCAtIE9yaWVudGFjacOzbiBkZWwgc3ByaXRlXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFuaW1LZXkgLSBDbGF2ZSBkZSBsYSBhbmltYWNpw7NuIGFjdHVhbFxyXG4gICAqL1xyXG4gIHNlbmRQbGF5ZXJNb3ZlKHgsIHksIGZsaXBYLCBhbmltS2V5KSB7XHJcbiAgICB0aGlzLnNlbmQoe1xyXG4gICAgICB0eXBlOiAncGxheWVyTW92ZScsXHJcbiAgICAgIHgsXHJcbiAgICAgIHksXHJcbiAgICAgIGZsaXBYLFxyXG4gICAgICBhbmltS2V5XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE5vdGlmaWNhciByZWNvbGVjY2nDs24gZGUgY3Jpc3RhbFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjcnlzdGFsVHlwZSAtICdtb29uJyBvICdzdW4nXHJcbiAgICovXHJcbiAgc2VuZENyeXN0YWxDb2xsZWN0KGNyeXN0YWxUeXBlKSB7XHJcbiAgICB0aGlzLnNlbmQoe1xyXG4gICAgICB0eXBlOiAnY3J5c3RhbENvbGxlY3QnLFxyXG4gICAgICBjcnlzdGFsVHlwZVxyXG4gICAgfSk7XHJcbiAgICBjb25zb2xlLmxvZyhg8J+SjiBDcmlzdGFsICR7Y3J5c3RhbFR5cGV9IHJlY29naWRvYCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOb3RpZmljYXIgY29udGFjdG8gY29uIHBvcnRhbFxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gb25Qb3J0YWwgLSBTaSBlc3TDoSB0b2NhbmRvIGVsIHBvcnRhbFxyXG4gICAqL1xyXG4gIHNlbmRQb3J0YWxUb3VjaChvblBvcnRhbCkge1xyXG4gICAgdGhpcy5zZW5kKHtcclxuICAgICAgdHlwZTogJ3BvcnRhbFRvdWNoJyxcclxuICAgICAgb25Qb3J0YWxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTm90aWZpY2FyIGdhbWUgb3ZlciAodHJhbXBhIHRvY2FkYSwgZXRjKVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb24gLSBSYXrDs24gZGVsIGdhbWUgb3ZlclxyXG4gICAqL1xyXG4gIHNlbmRHYW1lT3ZlcihyZWFzb24gPSAndHJhcCcpIHtcclxuICAgIHRoaXMuc2VuZCh7XHJcbiAgICAgIHR5cGU6ICdnYW1lT3ZlcicsXHJcbiAgICAgIHJlYXNvblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXNjb25lY3RhclxyXG4gICAqL1xyXG4gIGRpc2Nvbm5lY3QoKSB7XHJcbiAgICBpZiAodGhpcy53cykge1xyXG4gICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgIHRoaXMud3MgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMucm9vbUlkID0gbnVsbDtcclxuICAgIHRoaXMucGxheWVyUm9sZSA9IG51bGw7XHJcbiAgICB0aGlzLm1lc3NhZ2VIYW5kbGVycy5jbGVhcigpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVmVyaWZpY2FyIHNpIGVzdMOhIGNvbmVjdGFkb1xyXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAqL1xyXG4gIGlzQ29ubmVjdGVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGVkICYmIHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGVuZXIgcm9sIGRlbCBqdWdhZG9yXHJcbiAgICogQHJldHVybnMge3N0cmluZ3xudWxsfVxyXG4gICAqL1xyXG4gIGdldFBsYXllclJvbGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXJSb2xlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXN0YWJsZWNlciByb2wgZGVsIGp1Z2Fkb3JcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gcm9sZSAtICduaXZpYScgbyAnc29sZW5uZSdcclxuICAgKi9cclxuICBzZXRQbGF5ZXJSb2xlKHJvbGUpIHtcclxuICAgIHRoaXMucGxheWVyUm9sZSA9IHJvbGU7XHJcbiAgICBjb25zb2xlLmxvZyhg8J+OriBSb2wgYXNpZ25hZG86ICR7cm9sZX1gKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEV4cG9ydGFyIGluc3RhbmNpYSBzaW5nbGV0b25cclxuZXhwb3J0IGNvbnN0IHdzU2VydmljZSA9IG5ldyBXZWJTb2NrZXRTZXJ2aWNlKCk7IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHdzU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9XZWJTb2NrZXRTZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENvbnRyb2wgZGUgZGVzY29uZXhpw7NuIHBhcmEgZXZpdGFyIGxvb3BzXHJcbiAgICAgICAgdGhpcy5pc0hhbmRsaW5nRGlzY29ubmVjdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubGFzdERpc2Nvbm5lY3Rpb25UaW1lID0gMDtcclxuICAgICAgICB0aGlzLmRpc2Nvbm5lY3Rpb25Db29sZG93biA9IDEwMDA7IC8vIDEgc2VndW5kbyBkZSBlc3BlcmEgZW50cmUgZGV0ZWNjaW9uZXNcclxuICAgIFxyXG4gICAgICAgIC8vIERhdG9zIG11bHRpanVnYWRvclxyXG4gICAgICAgIHRoaXMuaXNNdWx0aXBsYXllciA9IGRhdGEuaXNNdWx0aXBsYXllciB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLnBsYXllclJvbGUgPSBkYXRhLnBsYXllclJvbGUgfHwgbnVsbDtcclxuICAgICAgICB0aGlzLnJvb21JZCA9IGRhdGEucm9vbUlkIHx8IG51bGw7XHJcblxyXG4gICAgICAgIC8vIENvbnRyb2wgZGUgcGVyc29uYWplcyBlbiBtdWx0aWp1Z2Fkb3JcclxuICAgICAgICB0aGlzLmxvY2FsUGxheWVyID0gbnVsbDsgIC8vIEVsIHF1ZSBjb250cm9sYXMgdMO6XHJcbiAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSBudWxsOyAvLyBFbCBxdWUgY29udHJvbGEgZWwgb3RybyBqdWdhZG9yXHJcblxyXG4gICAgICAgIC8vIFNpbmNyb25pemFjacOzbiBkZSByZWRcclxuICAgICAgICB0aGlzLmxhc3RTeW5jVGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5zeW5jSW50ZXJ2YWwgPSA1MDsgLy8gRW52aWFyIHBvc2ljacOzbiBjYWRhIDUwbXNcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYPCfjq4gR2FtZVNjZW5lIGluaWNpYWRvYCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNNdWx0aXBsYXllcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+RpCBSb2w6ICR7dGhpcy5wbGF5ZXJSb2xlfSB8IPCfmqogU2FsYTogJHt0aGlzLnJvb21JZH1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGF5ZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgbGVhdmVCdXR0b24gPSB0aGlzLmFkZC50ZXh0KHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC8gMiwgNDAsICfwn5qqIEFiYW5kb25hcicsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNmZjY2NjYnLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiB7IHg6IDEwLCB5OiA1IH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTtcclxuXHJcbiAgICAgICAgICAgIGxlYXZlQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxlYXZlQnV0dG9uLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzMzMzMzMycsIGNvbG9yOiAnI2ZmMDAwMCcgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbGVhdmVCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZWF2ZUJ1dHRvbi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnLCBjb2xvcjogJyNmZjY2NjYnIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxlYXZlQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIENvbmZpcm1hciBhbnRlcyBkZSBhYmFuZG9uYXJcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1MZWF2ZSA9IGNvbmZpcm0oJ8K/U2VndXJvIHF1ZSBxdWllcmVzIGFiYW5kb25hciBsYSBwYXJ0aWRhP1xcblxcbkVsIG90cm8ganVnYWRvciBzZXLDoSBub3RpZmljYWRvLicpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlybUxlYXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90aWZpY2FyIGFsIHNlcnZpZG9yIHF1ZSBhYmFuZG9uYXNcclxuICAgICAgICAgICAgICAgICAgICB3c1NlcnZpY2Uuc2VuZEdhbWVPdmVyKCdkaXNjb25uZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVzY29uZWN0YXJcclxuICAgICAgICAgICAgICAgICAgICB3c1NlcnZpY2UuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9ICAgXHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubG9hZC5hdGxhcygnbml2aWEnLCAnYXNzZXRzL25pdmlhL25pdmlhX3NoZWV0LnBuZycsICdhc3NldHMvbml2aWEvbml2aWFfc2hlZXQuanNvbicpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdGxhcygnc29sZW5uZScsICdhc3NldHMvc29sZW5uZS9zb2xlbm5lX3NoZWV0LnBuZycsICdhc3NldHMvc29sZW5uZS9zb2xlbm5lX3NoZWV0Lmpzb24nKTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGNyaXN0YWxlc1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnc3VuZHJvcF9zaGVldCcsICdhc3NldHMvaXRlbXMvc3VuZHJvcC5wbmcnLCB7IGZyYW1lV2lkdGg6IDIxNCwgZnJhbWVIZWlnaHQ6IDIwNiB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ21vb25kcm9wX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9tb29uZHJvcC5wbmcnLCB7IGZyYW1lV2lkdGg6IDIxNCwgZnJhbWVIZWlnaHQ6IDIwNiB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdzdW5fc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL3N1bi5wbmcnLCB7IGZyYW1lV2lkdGg6IDM0NywgZnJhbWVIZWlnaHQ6IDMyOSB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ21vb25fc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL21vb24ucG5nJywgeyBmcmFtZVdpZHRoOiAzNDcsIGZyYW1lSGVpZ2h0OiAzMjkgfSk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlbCBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvZm9uZG9fYWJham8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGF0YWZvcm1hcycsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9wbGF0YWZvcm1hc19hYmFqby5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGVsZW1lbnRvcyBkZWwgZXNjZW5hcmlvXHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmFOaXZlbDEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvcHVlcnRhX2NsYXJhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhT3NjdXJhTml2ZWwxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwxL3B1ZXJ0YV9vc2N1cmEucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmExTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhM05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmEzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhT3NjdXJhMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfb3NjdXJhMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX29zY3VyYTIucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25DbGFyb05pdmVsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9ib3Rvbl9jbGFyby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uT3NjdXJvMU5pdmVsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9ib3Rvbl9vc2N1cm8ucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25OaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNsYXJvTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX2NsYXJvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Pc2N1cm8xTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX29zY3VybzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk9zY3VybzJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b25fb3NjdXJvMi5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb3J0YWwnLCAnYXNzZXRzL3RyYW1wYXMvcHVlcnRhRmluYWwucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBib3RvbmVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYXVzZUJ1dHRvbicsICdhc3NldHMvcGF1c2EucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYXVzZUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9wYXVzYUhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzQnV0dG9uJywgJ2Fzc2V0cy9hanVzdGVzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU2V0dGluZ3NCdXR0b25Ib3ZlcicsICdhc3NldHMvYWp1c3Rlc0hvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgcmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uJywgJ2Fzc2V0cy9yZWluaWNpYXIuUE5HJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXN0YXJ0QnV0dG9uSG92ZXInLCAnYXNzZXRzL3JlaW5pY2lhckhvdmVyLlBORycpO1xyXG5cclxuICAgICAgICAvL0Rhw7FvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkYW1hZ2UnLCAnYXNzZXRzL3RyYW1wYXMvbGlhbmFzX3BsYXRhZm9ybWFzLnBuZycpXHJcblxyXG4gICAgICAgIC8vIEVmZWN0b3MgZGUgc29uaWRvIHkgbcO6c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2Fsa1NvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY2FtaW5hci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2NvbGxlY3RTdW5DcnlzdGFsU291bmQnLCAnYXNzZXRzL3Nvbmlkby9jcmlzdGFsQ2xhcm8ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0TW9vbkNyeXN0YWxTb3VuZCcsICdhc3NldHMvc29uaWRvL2NyaXN0YWxPc2N1cm8ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIE3DmlNJQ0EgRVNQRUPDjUZJQ0EgREVMIEpVRUdPXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdHYW1lTXVzaWMnLCAnYXNzZXRzL3Nvbmlkby9qdWVnby5tcDMnKTsgLy8gYWp1c3RhIHJ1dGEgc2kgaGFjZSBmYWx0YVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgLy8gRGV0ZWN0YSBww6lyZGlkYSBkZSBjb25leGnDs25cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEV2aXRhciBtw7psdGlwbGVzIGRpc3Bhcm9zIGRlbCBtaXNtbyBldmVudG9cclxuICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgaWYgKCFkYXRhLmNvbm5lY3RlZCAmJiB0aGlzLnNjZW5lLmlzQWN0aXZlKCdHYW1lU2NlbmUnKSAmJiAhdGhpcy5pc0hhbmRsaW5nRGlzY29ubmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vdyAtIHRoaXMubGFzdERpc2Nvbm5lY3Rpb25UaW1lID4gdGhpcy5kaXNjb25uZWN0aW9uQ29vbGRvd24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIENvbmV4acOzbiBwZXJkaWRhIGR1cmFudGUgZWwganVlZ28nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzSGFuZGxpbmdEaXNjb25uZWN0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3REaXNjb25uZWN0aW9uVGltZSA9IG5vdztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGlvbkxvc3QoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLmNvbm5lY3RlZCAmJiB0aGlzLmlzSGFuZGxpbmdEaXNjb25uZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZWNvbmV4acOzbiBkZXRlY3RhZGFcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNIYW5kbGluZ0Rpc2Nvbm5lY3Rpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgUmVjb25leGnDs24gZGV0ZWN0YWRhJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFdmVudCBsaXN0ZW5lciBwYXJhIGN1YW5kbyBsYSBlc2NlbmEgc2UgcmVhbnVkYVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHYW1lU2NlbmUgcmVhbnVkYWRhJyk7XHJcbiAgICAgICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLnJlc3VtZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEV2ZW50IGxpc3RlbmVyIHBhcmEgY3VhbmRvIGxhIGVzY2VuYSBzZSBwYXVzYVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdwYXVzZScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0dhbWVTY2VuZSBwYXVzYWRhJyk7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBtYXBXaWR0aEluUGl4ZWxzID0gMTQyMDtcclxuICAgICAgICBjb25zdCBtYXBIZWlnaHRJblBpeGVscyA9IDgwMDtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gRGV0ZW5lciBzb2xvIGxhIG3DunNpY2EgZGVsIG1lbsO6IHNpIGVzdMOhIHNvbmFuZG9cclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BCeUtleSgnTWVudU11c2ljJyk7XHJcblxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbGEgbcO6c2ljYSBkZWwganVlZ29cclxuICAgICAgICBpZiAodGhpcy5jYWNoZS5hdWRpby5leGlzdHMoJ0dhbWVNdXNpYycpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnR2FtZU11c2ljJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMX0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWdyZWdhciBmb25kb1xyXG4gICAgICAgIC8vY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8xJykuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIC8vYmcuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xyXG5cclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDAsIDAsICdmb25kbycpLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICBiZy5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBsYXRhZm9ybWEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgwLCAwLCAncGxhdGFmb3JtYXMnKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgcGxhdGFmb3JtYS5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGxhIGbDrXNpY2EgZGVsIG11bmRvXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLmdyYXZpdHkueSA9IDE1MDA7XHJcblxyXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcblxyXG5cclxuICAgICAgICAvLyBURU1QT1JBTDogQ3JlYXIgdW4gc3VlbG8gc2ltcGxlIHBhcmEgcXVlIHB1ZWRhbiBzYWx0YXIgeSBjYWVyXHJcbiAgICAgICAgdGhpcy5ncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgbWFwSGVpZ2h0SW5QaXhlbHMsIG1hcFdpZHRoSW5QaXhlbHMsIDEwLCAweDAwRkYwMCwgMCkuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5ncm91bmQsIHRydWUpOyAvLyB0cnVlID0gZXN0w6F0aWNvXHJcblxyXG4gICAgICAgIC8vQ3JlYWNpw7NuIGRlIGxhcyBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMjAwLCA0ODAsIDMwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNTc1LCA0ODAsIDE1MCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTMgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTAwMCwgNTUwLCA0MDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTMsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDMwMCwgMTUwLCAyMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTQsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE1ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDg3NSwgMjc1LCAxNTAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTUsIHRydWUpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5wYXJlZDEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNDAwLCA1MCwgMjAsIDIwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBhcmVkMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGFyZWQyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDkwMCwgNzAwLCAyMDAsIDMwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBhcmVkMiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbCA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDEwMDAsIDEwLCAncG9ydGFsJykuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5leGl0UG9ydGFsLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gcHVlcnRhc1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoNzAwLCA0MDAsICdwdWVydGFPc2N1cmFOaXZlbDEnKS5zZXRTY2FsZSgwLjcpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yMSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDc1MCwgNDAwLCAncHVlcnRhQ2xhcmFOaXZlbDEnKS5zZXRTY2FsZSgwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLmRhcmtEb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyNTAsIDM3NSwgMjAsIDMwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhcmtEb29yMUhpdGJveCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIHRoaXMubGlnaHREb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg5MjAsIDQwMCwgMjAsIDI4MCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjFIaXRib3gsIHRydWUpO1xyXG5cclxuICAgICAgICAvLyBkYcOxbyBwbGFjZWhvbGRlclxyXG4gICAgICAgIHRoaXMudHJhbXBhID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoNDUwLCAxNTAsICdkYW1hZ2UnKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIHRoaXMuZGFtYWdlID0gdGhpcy5hZGQucmVjdGFuZ2xlKDQ4MCwgMTAwLCAxMDAsIDYwLCAweDMzZmYwMCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFtYWdlLCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgc3VlbG8geSBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5ncm91bmQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmdyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWExKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE0KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE1KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBhcmVkMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGFyZWQxKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGFyZWQyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wYXJlZDIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5saWdodERvb3IxSGl0Ym94KTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmxpZ2h0RG9vcjFIaXRib3gpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmRhcmtEb29yMUhpdGJveCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMuZGFya0Rvb3IxSGl0Ym94KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCduaXZpYScpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygnc29sZW5uZScpO1xyXG5cclxuICAgICAgICAvLyBJbmljaWFyIGxhIGFuaW1hY2nDs24gJ3J1bicgcGFyYSBwcm9iYXIgKHNlIGNvcnJlZ2lyw6EgZW4gdXBkYXRlKVxyXG4gICAgICAgIHRoaXMubml2aWEucGxheSgnbml2aWFfaWRsZScpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZS5wbGF5KCdzb2xlbm5lX2lkbGUnKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYWNpw7NuIGRlIGxvcyBvYmpldG9zXHJcbiAgICAgICAgdGhpcy5jcnlzdGFscyA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoe2FsbG93R3Jhdml0eTogZmFsc2UsIGltbW92YWJsZTogdHJ1ZX0pO1xyXG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSgxMTAwLCA0MDAsICdtb29uZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLnN1bkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSgxMDAsIDEwMCwgJ3N1bmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgLy90aGlzLnN1bkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZShtYXAud2lkdGhJblBpeGVscyAtIDIwMCwgMzAwLCAnc3VuQ3J5c3RhbCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAvL3RoaXMubWV0YVBvcnRhbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMgLyAyLCA1MCwgJ21ldGFQb3J0YWwnKS5zZXRJbW1vdmFibGUodHJ1ZSkuc2V0Qm9keVNpemUoNjQsIDY0KTtcclxuXHJcblxyXG5cclxuICAgICAgICAvLyBBbmltYWNpb25lcyBkZSBsb3Mgb2JqZXRvc1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnc3VuZHJvcF9pZGxlJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdzdW5kcm9wX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiA3IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbW9vbmRyb3BfaWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbW9vbmRyb3Bfc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDcgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tb29uQ3J5c3RhbC5wbGF5KCdtb29uZHJvcF9pZGxlJyk7XHJcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsLnBsYXkoJ3N1bmRyb3BfaWRsZScpO1xyXG5cclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlbCBJY29ubyBkZWwgU29sIChIVUQpXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdzdW5faHVkX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3N1bl9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZWwgSWNvbm8gZGUgbGEgTHVuYSAoSFVEKVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbW9vbl9odWRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbW9vbl9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIEx1bmEgKE5pdmlhKSAtIEl6cXVpZXJkYVxyXG4gICAgICAgIHRoaXMubW9vbkhVRCA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYIC0gMjAsIDQwLCAnbW9vbl9zaGVldCcpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMTUpIC8vIEVzY2FsYSBNVVkgcmVkdWNpZGEsIHlhIHF1ZSBsb3Mgc3ByaXRlc2hlZXRzIHNvbiBncmFuZGVzICgzNDd4MzI5KVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgICAgIC5wbGF5KCdtb29uX2h1ZF9hbmltJyk7IC8vIEluaWNpYSBsYSBhbmltYWNpw7NuXHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBkZSBTb2wgKFNvbGVubmUpIC0gRGVyZWNoYVxyXG4gICAgICAgIHRoaXMuc3VuSFVEID0gdGhpcy5hZGQuc3ByaXRlKHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclggKyAyMCwgNDAsICdzdW5fc2hlZXQnKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjE1KSAvLyBFc2NhbGEgTVVZIHJlZHVjaWRhXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKSBcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMClcclxuICAgICAgICAgICAgLnBsYXkoJ3N1bl9odWRfYW5pbScpOyAvLyBJbmljaWEgbGEgYW5pbWFjacOzblxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGxhIHJlY29sZWNjacOzbiBkZSBjcmlzdGFsZXNcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5tb29uQ3J5c3RhbCwgdGhpcy5jb2xsZWN0TW9vbkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuc3VuQ3J5c3RhbCwgdGhpcy5jb2xsZWN0U3VuQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgZmluIGRlIG5pdmVsIChPdmVybGFwIGRlbCBwb3J0YWwpXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5tZXRhUG9ydGFsLCB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSwgbnVsbCwgdGhpcyk7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLm1ldGFQb3J0YWwsIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlLCBudWxsLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgbml2ZWxcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgZ2VvbWV0cnlMYXllcik7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgZ2VvbWV0cnlMYXllcik7XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGxhIGPDoW1hcmFcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRCb3VuZHMoMCwgMCwgbWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpOyAgXHJcblxyXG4gICAgICAgIC8vIENvbnRyb2wgZGUgcGF1c2FcclxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmV4aXRQb3J0YWwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5leGl0UG9ydGFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHBhdXNhXHJcbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApIFxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTsgXHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5wYXVzZUJ1dHRvbi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7IFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgYWp1c3Rlc1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDEyMCwgNDAsICdTZXR0aW5nc0J1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMCkgXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApOyBcclxuXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAxMjAsIDQwLCAnU2V0dGluZ3NCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5zZXR0aW5nc0J1dHRvbi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdTZXR0aW5nc1NjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCd1cGRhdGUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5waHlzaWNzLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5leGl0UG9ydGFsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBoeXNpY3Mub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZXhpdFBvcnRhbCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZGFtYWdlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGF5ZXIgJiYgd3NTZXJ2aWNlLmlzQ29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIHdzU2VydmljZS5zZW5kR2FtZU92ZXIoJ3RyYXAnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIE1vZG8gbG9jYWxcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdHYW1lT3ZlclNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLmRhbWFnZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc011bHRpcGxheWVyICYmIHdzU2VydmljZS5pc0Nvbm5lY3RlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICB3c1NlcnZpY2Uuc2VuZEdhbWVPdmVyKCd0cmFwJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBNb2RvIGxvY2FsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnR2FtZU92ZXJTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNNdWx0aXBsYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLnNldHVwTXVsdGlwbGF5ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBNdWx0aXBsYXllcigpIHsgICAgXHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ25pdmlhJykge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyID0gdGhpcy5uaXZpYTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSB0aGlzLnNvbGVubmU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdzb2xlbm5lJykge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyID0gdGhpcy5zb2xlbm5lO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllciA9IHRoaXMubml2aWE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFyIGxvcyBoYW5kbGVycyBwYXJhIGV2ZW50b3MgZGUgcmVkXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJNb3ZlSGFuZGxlciA9IHRoaXMuaGFuZGxlUmVtb3RlUGxheWVyTW92ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY3J5c3RhbENvbGxlY3RlZEhhbmRsZXIgPSB0aGlzLmhhbmRsZVJlbW90ZUNyeXN0YWxDb2xsZWN0ZWQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnBvcnRhbFNwYXduZWRIYW5kbGVyID0gdGhpcy5oYW5kbGVSZW1vdGVQb3J0YWxTcGF3bmVkLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy52aWN0b3J5SGFuZGxlciA9IHRoaXMuaGFuZGxlUmVtb3RlVmljdG9yeS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU92ZXJIYW5kbGVyID0gdGhpcy5oYW5kbGVSZW1vdGVHYW1lT3Zlci5iaW5kKHRoaXMpOyAgXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJEaXNjb25uZWN0ZWRIYW5kbGVyID0gdGhpcy5oYW5kbGVQbGF5ZXJEaXNjb25uZWN0ZWQuYmluZCh0aGlzKTtcclxuICAgIFxyXG4gICAgICAgIHdzU2VydmljZS5vbigncGxheWVyTW92ZScsIHRoaXMucGxheWVyTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgIHdzU2VydmljZS5vbignY3J5c3RhbENvbGxlY3RlZCcsIHRoaXMuY3J5c3RhbENvbGxlY3RlZEhhbmRsZXIpO1xyXG4gICAgICAgIHdzU2VydmljZS5vbigncG9ydGFsU3Bhd25lZCcsIHRoaXMucG9ydGFsU3Bhd25lZEhhbmRsZXIpO1xyXG4gICAgICAgIHdzU2VydmljZS5vbigndmljdG9yeScsIHRoaXMudmljdG9yeUhhbmRsZXIpO1xyXG4gICAgICAgIHdzU2VydmljZS5vbignZ2FtZU92ZXInLCB0aGlzLmdhbWVPdmVySGFuZGxlcik7XHJcbiAgICAgICAgd3NTZXJ2aWNlLm9uKCdwbGF5ZXJEaXNjb25uZWN0ZWQnLCB0aGlzLnBsYXllckRpc2Nvbm5lY3RlZEhhbmRsZXIpO1xyXG4gICAgXHJcbiAgICB9XHJcblxyXG4gICAgc3luY0xvY2FsUGxheWVyUG9zaXRpb24oKSB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTb2xvIGVudmlhciBjYWRhIFggbWlsaXNlZ3VuZG9zIHBhcmEgbm8gc2F0dXJhciBsYSByZWRcclxuICAgICAgICBpZiAobm93IC0gdGhpcy5sYXN0U3luY1RpbWUgPCB0aGlzLnN5bmNJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGFzdFN5bmNUaW1lID0gbm93O1xyXG5cclxuICAgICAgICAvLyBFbnZpYXIgcG9zaWNpw7NuIGRlbCBqdWdhZG9yIGxvY2FsXHJcbiAgICAgICAgaWYgKHRoaXMubG9jYWxQbGF5ZXIgJiYgd3NTZXJ2aWNlLmlzQ29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLnNlbmRQbGF5ZXJNb3ZlKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci54LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci55LFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci5mbGlwWCxcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuYW5pbXMuY3VycmVudEFuaW0/LmtleSB8fCAnaWRsZSdcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT0gSEFORExFUlMgREUgUkVEID09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYW5lamFyIG1vdmltaWVudG8gZGVsIGp1Z2Fkb3IgcmVtb3RvXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZVJlbW90ZVBsYXllck1vdmUoZGF0YSkge1xyXG4gICAgICAgIGlmICghdGhpcy5yZW1vdGVQbGF5ZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gQWN0dWFsaXphciBwb3NpY2nDs24gZGVsIG90cm8ganVnYWRvclxyXG4gICAgICAgIHRoaXMucmVtb3RlUGxheWVyLnNldFBvc2l0aW9uKGRhdGEueCwgZGF0YS55KTtcclxuICAgICAgICB0aGlzLnJlbW90ZVBsYXllci5zZXRGbGlwWChkYXRhLmZsaXBYKTtcclxuXHJcbiAgICAgICAgLy8gUmVwcm9kdWNpciBhbmltYWNpw7NuXHJcbiAgICAgICAgaWYgKGRhdGEuYW5pbUtleSAmJiB0aGlzLnJlbW90ZVBsYXllci5hbmltcy5jdXJyZW50QW5pbT8ua2V5ICE9PSBkYXRhLmFuaW1LZXkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIuYW5pbXMucGxheShkYXRhLmFuaW1LZXksIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1hbmVqYXIgcmVjb2xlY2Npw7NuIGRlIGNyaXN0YWwgcG9yIGVsIG90cm8ganVnYWRvclxyXG4gICAgICovXHJcbiAgICBoYW5kbGVSZW1vdGVDcnlzdGFsQ29sbGVjdGVkKGRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+SjiBDcmlzdGFsICR7ZGF0YS5jcnlzdGFsVHlwZX0gcmVjb2dpZG8gcG9yIGVsIG90cm8ganVnYWRvcmApO1xyXG5cclxuICAgICAgICBpZiAoZGF0YS5jcnlzdGFsVHlwZSA9PT0gJ21vb24nKSB7XHJcbiAgICAgICAgICAgIC8vIERlc2FjdGl2YXIgY3Jpc3RhbCBkZSBsdW5hXHJcbiAgICAgICAgICAgIHRoaXMubW9vbkNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubW9vbkhVRC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRGVzYmxvcXVlYXIgcHVlcnRhIG9zY3VyYVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXJrRG9vclVubG9ja2VkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVubG9ja0RhcmtEb29yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuY3J5c3RhbFR5cGUgPT09ICdzdW4nKSB7XHJcbiAgICAgICAgICAgIC8vIERlc2FjdGl2YXIgY3Jpc3RhbCBkZSBzb2xcclxuICAgICAgICAgICAgdGhpcy5zdW5DcnlzdGFsLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zdW5IVUQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIERlc2Jsb3F1ZWFyIHB1ZXJ0YSBjbGFyYVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5saWdodERvb3JVbmxvY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51bmxvY2tMaWdodERvb3IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1hbmVqYXIgYXBhcmljacOzbiBkZWwgcG9ydGFsXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZVJlbW90ZVBvcnRhbFNwYXduZWQoZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5qqIFBvcnRhbCBhY3RpdmFkbyBwb3IgZWwgc2Vydmlkb3InKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIXRoaXMuZXhpdFBvcnRhbC52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1hbmVqYXIgdmljdG9yaWFcclxuICAgICAqL1xyXG4gICAgaGFuZGxlUmVtb3RlVmljdG9yeShkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfjokgwqFWSUNUT1JJQSBNVUxUSUpVR0FET1IhJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTGFuemFyIGVzY2VuYSBkZSB2aWN0b3JpYVxyXG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdWaWN0b3J5U2NlbmUnLCB7IFxyXG4gICAgICAgICAgICBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSxcclxuICAgICAgICAgICAgaXNNdWx0aXBsYXllcjogdHJ1ZSBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYW5lamFyIGdhbWUgb3ZlciBzaW5jcm9uaXphZG9cclxuICAgICAqL1xyXG4gICAgaGFuZGxlUmVtb3RlR2FtZU92ZXIoZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5KAIEdhbWUgT3ZlciByZWNpYmlkbyBkZWwgc2Vydmlkb3I6JywgZGF0YS5yZWFzb24pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFBhdXNhciBmw61zaWNhXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTGFuemFyIGVzY2VuYSBkZSBHYW1lIE92ZXJcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnR2FtZU92ZXJTY2VuZScsIHsgXHJcbiAgICAgICAgICAgIG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5LFxyXG4gICAgICAgICAgICBpc011bHRpcGxheWVyOiB0cnVlLFxyXG4gICAgICAgICAgICByZWFzb246IGRhdGEucmVhc29uXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFuZWphciBkZXNjb25leGnDs24gZGVsIG90cm8ganVnYWRvclxyXG4gICAgICovXHJcbiAgICBoYW5kbGVQbGF5ZXJEaXNjb25uZWN0ZWQoKSB7XHJcbiAgICBjb25zb2xlLmxvZygn4p2MIEVsIG90cm8ganVnYWRvciBzZSBkZXNjb25lY3TDsycpO1xyXG4gICAgXHJcbiAgICAvLyBQYXVzYXIgZsOtc2ljYVxyXG4gICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcbiAgICBcclxuICAgIC8vIFBhdXNhciBlc2NlbmFcclxuICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgIFxyXG4gICAgLy8gTW9zdHJhciBtZW5zYWplIGNvbiBmb25kbyBvc2N1cm9cclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcbiAgICBcclxuICAgIGNvbnN0IGJnID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIDB4MDAwMDAwLCAwLjkpXHJcbiAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAuc2V0RGVwdGgoMjAwMCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiAtIDgwLCBcclxuICAgICAgICAn4pqg77iPIFBBUlRJREEgVEVSTUlOQURBJywge1xyXG4gICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgY29sb3I6ICcjZmY2NjY2JyxcclxuICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgyMDAxKTtcclxuXHJcbiAgICBjb25zdCByZWFzb25UZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIsIFxyXG4gICAgICAgICdFbCBvdHJvIGp1Z2Fkb3IgYWJhbmRvbsOzIGxhIHBhcnRpZGEnLCB7XHJcbiAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIGFsaWduOiAnY2VudGVyJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0U2Nyb2xsRmFjdG9yKDApLnNldERlcHRoKDIwMDEpO1xyXG5cclxuICAgIGNvbnN0IGJhY2tCdG4gPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiArIDEwMCxcclxuICAgICAgICAn8J+PoCBWb2x2ZXIgYWwgTWVuw7onLCB7XHJcbiAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM0NDQ0NDQnLFxyXG4gICAgICAgIHBhZGRpbmc6IHsgeDogMjAsIHk6IDEwIH1cclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KS5zZXRTY3JvbGxGYWN0b3IoMCkuc2V0RGVwdGgoMjAwMSk7XHJcblxyXG4gICAgYmFja0J0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgYmFja0J0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyM2NjY2NjYnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYmFja0J0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICBiYWNrQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzQ0NDQ0NCcgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBiYWNrQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAvLyBEZXNjb25lY3RhciBXZWJTb2NrZXRcclxuICAgICAgICB3c1NlcnZpY2UuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIERldGVuZXIgbcO6c2ljYVxyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbiAgICBvbkNvbm5lY3Rpb25Mb3N0KCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vIFJlbW92ZXIgbGlzdGVuZXIgcGFyYSBldml0YXIgcXVlIHNlIGRpc3BhcmUgbWllbnRyYXMgQ29ubmVjdGlvbkxvc3RTY2VuZSBlc3TDoSBhY3RpdmFcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHtwcmV2aW91c1NjZW5lOiAnR2FtZVNjZW5lJ30pO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbFkgPSAxNTAwO1xyXG5cclxuICAgICAgICAgLy8gQ3JlYWNpw7NuIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLm5pdmlhID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTMwMCwgaW5pdGlhbFksICduaXZpYScpLnNldEJvdW5jZSgwLjIpLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNvbGVubmUgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxMDAsIGluaXRpYWxZLCAnc29sZW5uZScpLnNldEJvdW5jZSgwLjIpLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRTaXplKDEyMCwgMjQwKTtcclxuICAgICAgICB0aGlzLm5pdmlhLnNldE9mZnNldCgxMTAsIDUwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldFNpemUoMTIwLCAyNDApO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRPZmZzZXQoMTEwLCA1MCk7XHJcblxyXG4gICAgICAgIC8vIEVzY2FsYWRvIGRlIGxvcyBwZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRTY2FsZSgwLjUpOyBcclxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0U2NhbGUoMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbGVzIGRlIE5pdmlhIChUZWNsYXMgV0FTRClcclxuICAgICAgICB0aGlzLm5pdmlhQ29udHJvbHMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoe1xyXG4gICAgICAgICAgICBsZWZ0OiAnQScsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAnRCcsXHJcbiAgICAgICAgICAgIHVwOiAnVycsICAgIC8vIHNhbHRvXHJcbiAgICAgICAgICAgIGludGVyYWN0OiAnRSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbGVzIGRlIFNvbGVubmUgKEZsZWNoYXMpXHJcbiAgICAgICAgdGhpcy5zb2xlbm5lQ29udHJvbHMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoe1xyXG4gICAgICAgICAgICBsZWZ0OiAnTEVGVCcsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAnUklHSFQnLFxyXG4gICAgICAgICAgICB1cDogJ1VQJywgICAvLyBzYWx0b1xyXG4gICAgICAgICAgICBpbnRlcmFjdDogJ1NQQUNFJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjcmVhdGVBbmltYXRpb25zKGtleSkge1xyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgY29ycmVyXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1fcnVuYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgcHJlZml4OiAncnVuXycsIHN0YXJ0OiAxLCBlbmQ6IDQgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgc2FsdG9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9qdW1wYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgcHJlZml4OiAnanVtcF8nLCBzdGFydDogMSwgZW5kOiA2IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBpZGxlXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1faWRsZWAsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IGZyYW1lczogWydpZGxlXzEnXSB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxLFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQYXVzZWRTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAodGhpcy5pc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHtvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc0hhbmRsaW5nRGlzY29ubmVjdGlvbiA9IGZhbHNlOyAvLyBSZXNldCBkZWwgZmxhZyBkZSBkZXNjb25leGnDs25cclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVQYXVzZSgpIHtcclxuICAgICAgICBjb25zdCBuZXdQYXVzZWRTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgIHRoaXMuc2V0UGF1c2VkU3RhdGUobmV3UGF1c2VkU3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVNldHRpbmdzKCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdTZXR0aW5nc1NjZW5lJyk7IFxyXG4gICAgICAgIC8vdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGUoKXtcclxuICAgICAgICAvLyBMw7NnaWNhIGRlIHBhdXNhIGNvbiB0ZWNsYSBFU0NcclxuICAgICAgICBpZih0aGlzLmVzY0tleS5pc0Rvd24pe1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc011bHRpcGxheWVyKSB7XHJcbiAgICAgICAgICAgIC8vIFNvbG8gY29udHJvbGFzIFRVIHBlcnNvbmFqZVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAnbml2aWEnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVBsYXllck1vdmVtZW50KHRoaXMubml2aWEsIHRoaXMubml2aWFDb250cm9scyk7XHJcbiAgICAgICAgICAgICAgICAvLyBTaW5jcm9uaXphciBwb3NpY2nDs24gcG9yIHJlZFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zeW5jTG9jYWxQbGF5ZXJQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3NvbGVubmUnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVBsYXllck1vdmVtZW50KHRoaXMuc29sZW5uZSwgdGhpcy5zb2xlbm5lQ29udHJvbHMpO1xyXG4gICAgICAgICAgICAgICAgLy8gU2luY3Jvbml6YXIgcG9zaWNpw7NuIHBvciByZWRcclxuICAgICAgICAgICAgICAgIHRoaXMuc3luY0xvY2FsUGxheWVyUG9zaXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE1PRE8gTE9DQUw6IENvbnRyb2xhcyBhbWJvcyBwZXJzb25hamVzXHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUGxheWVyTW92ZW1lbnQodGhpcy5uaXZpYSwgdGhpcy5uaXZpYUNvbnRyb2xzKTtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVQbGF5ZXJNb3ZlbWVudCh0aGlzLnNvbGVubmUsIHRoaXMuc29sZW5uZUNvbnRyb2xzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlQ2FtZXJhQW5kQ29uc3RyYWludHMoKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5leGl0UG9ydGFsLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQ2FtZXJhQW5kQ29uc3RyYWludHMoKSB7XHJcbiAgICAgICAgY29uc3Qgbml2aWFZID0gdGhpcy5uaXZpYS55O1xyXG4gICAgICAgIGNvbnN0IHNvbGVubmVZID0gdGhpcy5zb2xlbm5lLnk7XHJcblxyXG4gICAgICAgIC8vIENlbnRyYXIgbGEgY8OhbWFyYSBlbnRyZSBhbWJvcyBwZXJzb25hamVzXHJcbiAgICAgICAgY29uc3QgbWlkWSA9IChuaXZpYVkgKyBzb2xlbm5lWSkgLyAyO1xyXG5cclxuICAgICAgICAvLyBDYWxjdWxhciBsYSBwb3NpY2nDs24gbWVkaWEgZW4gWVxyXG4gICAgICAgIGxldCBkZXNpcmVkQ2FtZXJhWSA9IG1pZFk7XHJcblxyXG4gICAgICAgIC8vIERlc3BsYXphciBsYSBjw6FtYXJhIHN1YXZlbWVudGVcclxuICAgICAgICBjb25zdCBsZXJwRmFjdG9yID0gMC4wNTtcclxuICAgICAgICBjb25zdCBjYW1lcmFIZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNjcm9sbFkgPSBQaGFzZXIuTWF0aC5MaW5lYXIoXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNjcm9sbFksIFxyXG4gICAgICAgICAgICBkZXNpcmVkQ2FtZXJhWSAtIGNhbWVyYUhlaWdodCAvIDIsIFxyXG4gICAgICAgICAgICBsZXJwRmFjdG9yXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gVmlld3BvcnQgY29uc3RyYWludFxyXG4gICAgICAgIGNvbnN0IG1heFZlcnRpY2FsR2FwID0gY2FtZXJhSGVpZ2h0ICogMC43OyAvLyBkaXN0YW5jaWEgbcOheGltYSBwZXJtaXRpZGEgZW50cmUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICBjb25zdCBkaXN0YW5jZVkgPSBNYXRoLmFicyhuaXZpYVkgLSBzb2xlbm5lWSk7XHJcblxyXG4gICAgICAgIGlmIChkaXN0YW5jZVkgPiBtYXhWZXJ0aWNhbEdhcCkge1xyXG4gICAgICAgICAgICBjb25zdCBmYXN0ZXJQbGF5ZXIgPSAobml2aWFZIDwgc29sZW5uZVkpID8gdGhpcy5uaXZpYSA6IHRoaXMuc29sZW5uZTtcclxuICAgICAgICAgICAgY29uc3Qgc2xvd2VyUGxheWVyID0gKG5pdmlhWSA8IHNvbGVubmVZKSA/IHRoaXMuc29sZW5uZSA6IHRoaXMubml2aWE7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2xvd2VyUGxheWVyLmJvZHkuYmxvY2tlZC5kb3duIHx8IHNsb3dlclBsYXllci55ID4gZmFzdGVyUGxheWVyLnkgKyBtYXhWZXJ0aWNhbEdhcCkge1xyXG4gICAgICAgICAgICAgICAgLy8gRGV0ZW5lciBlbCBhdmFuY2UgdmVydGljYWwgKGhhY2lhIGFycmliYSkgZGVsIGp1Z2Fkb3IgbcOhcyByw6FwaWRvXHJcbiAgICAgICAgICAgICAgICBpZiAoZmFzdGVyUGxheWVyLmJvZHkudmVsb2NpdHkueSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmYXN0ZXJQbGF5ZXIuYm9keS52ZWxvY2l0eS55ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTW92aW1pZW50byB2ZXJ0aWNhbCByZXN0cmluZ2lkbyBwb3IgZWwganVnYWRvciByZXphZ2Fkby5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlUGxheWVyTW92ZW1lbnQocGxheWVyU3ByaXRlLCBjb250cm9scykge1xyXG4gICAgICAgIC8vIFZlbG9jaWRhZCBkZWwgbW92aW1pZW50b1xyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gNDAwO1xyXG4gICAgICAgIGNvbnN0IGp1bXBWZWxvY2l0eSA9IDkwMDtcclxuICAgICAgICBjb25zdCBrZXkgPSBwbGF5ZXJTcHJpdGUudGV4dHVyZS5rZXk7XHJcbiAgICAgICAgY29uc3QgaXNNb3ZpbmcgPSBjb250cm9scy5sZWZ0LmlzRG93biB8fCBjb250cm9scy5yaWdodC5pc0Rvd247XHJcbiAgICAgICAgY29uc3QgaXNHcm91bmRlZCA9IHBsYXllclNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bjtcclxuICAgICAgICBsZXQgYW5pbWtleSA9ICcnO1xyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIHBhcmEgcmVwcm9kdWNpciBlbCBzb25pZG8gZGUgY2FtaW5hclxyXG4gICAgICAgaWYgKGlzTW92aW5nICYmIGlzR3JvdW5kZWQpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25pdmlhJyAmJiB0aGlzLmlzTml2aWFXYWxraW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gdGhpcy5zb3VuZC5hZGQoJ3dhbGtTb3VuZCcsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAxIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZy5wbGF5KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSB0aGlzLnNvdW5kLmFkZCgnd2Fsa1NvdW5kJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDEgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcucGxheSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRGV0ZW5lciBlbCBzb25pZG8gc2kgbm8gc2UgZXN0w6EgbW92aWVuZG8gbyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbml2aWEnICYmIHRoaXMuaXNOaXZpYVdhbGtpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTW92aW1pZW50byBob3Jpem9udGFsXHJcbiAgICAgICAgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVgoLXNwZWVkKTtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKGZhbHNlKTsgLy8gTWlyYXIgYSBsYSBpenF1aWVyZGFcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKHNwZWVkKTtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKHRydWUpOyAvLyBNaXJhciBhIGxhIGRlcmVjaGFcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2FsdG8gKHNvbG8gc2kgZXN0w6EgdG9jYW5kbyBlbCBzdWVsbylcclxuICAgICAgICBjb25zdCBpc0p1bXBpbmcgPSBjb250cm9scy51cC5pc0Rvd24gJiYgcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xyXG5cclxuICAgICAgICBpZiAoaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVkoLWp1bXBWZWxvY2l0eSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGFuaW1hY2lvbmVzXHJcbiAgICAgICAgaWYgKCFwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd24pIHtcclxuICAgICAgICAgICAgLy8gRW4gZWwgYWlyZVxyXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9qdW1wYDtcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duIHx8IGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xyXG4gICAgICAgICAgICAvLyBDb3JyaWVuZG9cclxuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1fcnVuYDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZGxlXHJcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X2lkbGVgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBSZXByb2R1Y2lyIGxhIGFuaW1hY2nDs24gc29sbyBzaSBlcyBkaWZlcmVudGUgYSBsYSBhY3R1YWxcclxuICAgICAgICBpZiAocGxheWVyU3ByaXRlLmFuaW1zLmN1cnJlbnRBbmltPy5rZXkgIT09IGFuaW1rZXkpIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLmFuaW1zLnBsYXkoYW5pbWtleSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGludGVyYWNjacOzblxyXG4gICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24oY29udHJvbHMuaW50ZXJhY3QpKSB7XHJcbiAgICAgICAgICAgIC8vIEFxdcOtIHZhIGxhIGzDs2dpY2EgZGUgaW50ZXJhY2Npw7NuIChwb3IgZWplbXBsbywgYWJyaXIgcHVlcnRhcywgcmVjb2dlciBvYmpldG9zLCBldGMuKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSW50ZXJhY2Npw7NuIHJlYWxpemFkYScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb2xsZWN0TW9vbkNyeXN0YWwocGxheWVyLCBjcnlzdGFsKSB7XHJcbiAgICAgICAgY3J5c3RhbC5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICB0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubW9vbkhVRC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnY29sbGVjdE1vb25DcnlzdGFsU291bmQnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdOaXZpYSBoYSByZWNvZ2lkbyBlbCBDcmlzdGFsIGRlIGxhIEx1bmEnKTtcclxuICAgICAgICB0aGlzLnVubG9ja0RhcmtEb29yKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGF5ZXIgJiYgd3NTZXJ2aWNlLmlzQ29ubmVjdGVkKCkpIHtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLnNlbmRDcnlzdGFsQ29sbGVjdCgnbW9vbicpO1xyXG4gICAgICAgIH0gICBcclxuICAgIH1cclxuXHJcbiAgICBjb2xsZWN0U3VuQ3J5c3RhbChwbGF5ZXIsIGNyeXN0YWwpIHtcclxuICAgICAgICBjcnlzdGFsLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3VuSFVELnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdjb2xsZWN0U3VuQ3J5c3RhbFNvdW5kJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygnU29sZW5uZSBoYSByZWNvZ2lkbyBlbCBDcmlzdGFsIGRlbCBTb2wnKTtcclxuICAgICAgICB0aGlzLnVubG9ja0xpZ2h0RG9vcigpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc011bHRpcGxheWVyICYmIHdzU2VydmljZS5pc0Nvbm5lY3RlZCgpKSB7XHJcbiAgICAgICAgICAgIHdzU2VydmljZS5zZW5kQ3J5c3RhbENvbGxlY3QoJ3N1bicpO1xyXG4gICAgICAgIH0gICBcclxuICAgIH1cclxuXHJcbiAgICB1bmxvY2tEYXJrRG9vcigpIHtcclxuICAgICAgICAvLyBMw7NnaWNhIHBhcmEgZGVzYmxvcXVlYXIgbGEgcHVlcnRhIG9zY3VyYVxyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxSGl0Ym94LmJvZHkuZW5hYmxlID0gZmFsc2U7ICAgXHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjFIaXRib3guc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjEuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1B1ZXJ0YSBPc2N1cmEgZGVzYmxvcXVlYWRhJyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1BvcnRhbFNwYXduKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdW5sb2NrTGlnaHREb29yKCkge1xyXG4gICAgICAgIC8vIEzDs2dpY2EgcGFyYSBkZXNibG9xdWVhciBsYSBwdWVydGEgY2xhcmFcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjFIaXRib3guYm9keS5lbmFibGUgPSBmYWxzZTsgICBcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjFIaXRib3guc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IxLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdQdWVydGEgQ2xhcmEgZGVzYmxvcXVlYWRhJyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1BvcnRhbFNwYXduKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tQb3J0YWxTcGF3bigpIHtcclxuICAgICAgICBpZiAodGhpcy5uaXZpYUhhc01vb25DcnlzdGFsICYmIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FtYm9zIGNyaXN0YWxlcyByZWNvZ2lkb3MuIEVsIHBvcnRhbCBhcGFyZWNlLicpO1xyXG4gICAgICAgICAgICB0aGlzLmV4aXRQb3J0YWwuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5leGl0UG9ydGFsLmJvZHkuZW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tMZXZlbENvbXBsZXRlKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8g4pyoIEVOVklBUiBFU1RBRE8gREVMIFBPUlRBTCBFTiBNVUxUSUpVR0FET1JcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNNdWx0aXBsYXllciAmJiB0aGlzLmV4aXRQb3J0YWwudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gVmVyaWZpY2FyIHNpIGVsIGp1Z2Fkb3IgbG9jYWwgZXN0w6EgZW4gZWwgcG9ydGFsXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFBsYXllck9uUG9ydGFsID0gdGhpcy5waHlzaWNzLm92ZXJsYXAodGhpcy5sb2NhbFBsYXllciwgdGhpcy5leGl0UG9ydGFsKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gRW52aWFyIGFsIHNlcnZpZG9yIHNvbG8gc2kgY2FtYmnDsyBlbCBlc3RhZG9cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICduaXZpYScgJiYgbG9jYWxQbGF5ZXJPblBvcnRhbCAhPT0gdGhpcy5uaXZpYU9uUG9ydGFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gbG9jYWxQbGF5ZXJPblBvcnRhbDtcclxuICAgICAgICAgICAgICAgICAgICB3c1NlcnZpY2Uuc2VuZFBvcnRhbFRvdWNoKGxvY2FsUGxheWVyT25Qb3J0YWwpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdzb2xlbm5lJyAmJiBsb2NhbFBsYXllck9uUG9ydGFsICE9PSB0aGlzLnNvbGVubmVPblBvcnRhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gbG9jYWxQbGF5ZXJPblBvcnRhbDtcclxuICAgICAgICAgICAgICAgICAgICB3c1NlcnZpY2Uuc2VuZFBvcnRhbFRvdWNoKGxvY2FsUGxheWVyT25Qb3J0YWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBNT0RPIExPQ0FMOiBWZXJpZmljYWNpw7NuIHRyYWRpY2lvbmFsXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc011bHRpcGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5uaXZpYU9uUG9ydGFsICYmIHRoaXMuc29sZW5uZU9uUG9ydGFsICYmIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCAmJiB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ8KhTklWRUwgQ09NUExFVEFETyEnKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnVmljdG9yeVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vIEVuIG11bHRpanVnYWRvciwgZWwgc2Vydmlkb3IgZW52aWFyw6EgZWwgbWVuc2FqZSAndmljdG9yeSdcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbiBjaGVja0xldmVsQ29tcGxldGU6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlbmRnYW1lKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSnVlZ28gVGVybWluYWRvXCIpO1xyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmZXJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclgsIHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclkgLSAxMDAsIFwiwqFOaXZlbCBDb21wbGV0YWRvIVwiLCB7IFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLCBmaWxsOiAnI0ZGRkZGRicgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgICAgICAvLyBSZWluaWNpYXIgbml2ZWxcclxuICAgICAgICBjb25zdCByZXN0YXJ0YnRuID0gdGhpcy5hZGQuaW1hZ2UoNzA1LCA0MTUsICdSZXN0YXJ0QnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDY5MywgNDI1LCAnUmVzdGFydEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChyZXN0YXJ0YnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2NlbmVLZXkgPSB0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzTXVsdGlwbGF5ZXIpIHtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLm9mZigncGxheWVyTW92ZScsIHRoaXMucGxheWVyTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICB3c1NlcnZpY2Uub2ZmKCdjcnlzdGFsQ29sbGVjdGVkJywgdGhpcy5jcnlzdGFsQ29sbGVjdGVkSGFuZGxlcik7XHJcbiAgICAgICAgICAgIHdzU2VydmljZS5vZmYoJ3BvcnRhbFNwYXduZWQnLCB0aGlzLnBvcnRhbFNwYXduZWRIYW5kbGVyKTtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLm9mZigndmljdG9yeScsIHRoaXMudmljdG9yeUhhbmRsZXIpO1xyXG4gICAgICAgICAgICB3c1NlcnZpY2Uub2ZmKCdnYW1lT3ZlcicsIHRoaXMuZ2FtZU92ZXJIYW5kbGVyKTtcclxuICAgICAgICAgICAgd3NTZXJ2aWNlLm9mZigncGxheWVyRGlzY29ubmVjdGVkJywgdGhpcy5wbGF5ZXJEaXNjb25uZWN0ZWRIYW5kbGVyKTsgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQ3JlZGl0c0JveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gUGF1c2FcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhdXNlVGV4dCcsICdhc3NldHMvdGV4dG9fcGF1c2EuUE5HJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b24nLCAnYXNzZXRzL2NlcnJhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b25Ib3ZlcicsICdhc3NldHMvY2VycmFySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSB0dXRvcmlhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVHV0b3JpYWxCdXR0b24nLCAnYXNzZXRzL3R1dG9yaWFsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVHV0b3JpYWxCdXR0b25Ib3ZlcicsICdhc3NldHMvdHV0b3JpYWxIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbicsICdhc3NldHMvcmVpbmljaWFyLlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9yZWluaWNpYXJIb3Zlci5QTkcnKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBCb3TDs24gZGUgdm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmV0TWVudUJ1dHRvbicsICdhc3NldHMvbWVudS5QTkcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JldE1lbnVCdXR0b25Ib3ZlcicsICdhc3NldHMvbWVudUhvdmVyLlBORycpO1xyXG5cclxuICAgIH1cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIGRpbWVuc2lvbmVzIGRlIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XHJcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuc2NhbGUuaGVpZ2h0O1xyXG5cclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZmVyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcclxuXHJcbiAgICAgICAgLy8gUmVjdMOhbmd1bG8gcXVlIGN1YnJlIHRvZGEgbGEgcGFudGFsbGFcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgdywgaCwgMHgwNzA3MjIsIDAuOSkuc2V0T3JpZ2luKDApO1xyXG5cclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICdDcmVkaXRzQm94JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gUGF1c2FcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDIxMCwgJ1BhdXNlVGV4dCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICBjb25zdCBFeGl0QnRuID0gdGhpcy5hZGQuaW1hZ2UoMTA2OSwgMTcwLCAnRXhpdE1pbkJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDY4LCAxNzAsICdFeGl0TWluQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKEV4aXRCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSZWdyZXNhciBhIGxhIGVzY2VuYSBvcmlnaW5hbFxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lO1xyXG4gICAgICAgICAgICBpZiAob3JpZ2luYWwpIHRoaXMuc2NlbmUucmVzdW1lKG9yaWdpbmFsKTsgLy8gcmVhbnVkYSBwcmltZXJvIGxhIGVzY2VuYSBvcmlnaW5hbFxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTsgLy8gbHVlZ28gZGV0aWVuZSBQYXVzZVNjZW5lXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBUdXRvcmlhbCBcclxuICAgICAgICBjb25zdCB0dXRvcmlhbGJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgMzIwLCAnVHV0b3JpYWxCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgdHV0b3JpYWxidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgMzIwLCAnVHV0b3JpYWxCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodHV0b3JpYWxidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0dXRvcmlhbGJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSXIgYSBsYSBlc2NlbmEgZGUgdHV0b3JpYWxcclxuICAgICAgICB0dXRvcmlhbGJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGxhbnphciBUdXRvcmlhbFNjZW5lIHkgcGF1c2FyIFBhdXNlU2NlbmUgcGFyYSBwb2RlciByZWFudWRhcmxhIGRlc3B1w6lzXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdUdXRvcmlhbFNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiAnUGF1c2VTY2VuZScgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgY29uc3QgcmVzdGFydGJ0biA9IHRoaXMuYWRkLmltYWdlKDcwNSwgNDE1LCAnUmVzdGFydEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg2OTMsIDQyNSwgJ1Jlc3RhcnRCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgocmVzdGFydGJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFNjZW5lS2V5ID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChvcmlnaW5hbFNjZW5lS2V5KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydChvcmlnaW5hbFNjZW5lS2V5KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIGNvbnN0IG1lbnVidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUxNSwgJ1JldE1lbnVCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgbWVudWJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjk4LCA1MTUsICdSZXRNZW51QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKG1lbnVidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZW51YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBHZXQgYWxsIHNjZW5lc1xyXG4gICAgICAgICAgICBjb25zdCBzY2VuZXMgPSB0aGlzLmdhbWUuc2NlbmUua2V5cztcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBzY2VuZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICdNZW51U2NlbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFR1dG9yaWFsU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1R1dG9yaWFsU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dG9yaWFsQm94JywgJ2Fzc2V0cy9jYWphLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBJbWFnZW5lcyBkZSB0ZWNsYXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2tleXMnLCAnYXNzZXRzL3RlY2xhcy5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc29sZW5uZUljb24nLCAnYXNzZXRzL3BlcnNvbmFqZVNvbGVubmUucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCduaXZpYUljb24nLCAnYXNzZXRzL3BlcnNvbmFqZU5pdmlhLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uJywgJ2Fzc2V0cy9jZXJyYXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uSG92ZXInLCAnYXNzZXRzL2NlcnJhckhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBkZWwgdHV0b3JpYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1R1dG9yaWFsVGV4dCcsICdhc3NldHMvdGV4dG9fdHV0b3JpYWwuUE5HJyk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvLyBkaW1lbnNpb25lcyBkZSBsYSBwYW50YWxsYVxyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuICAgICAgICAvLyBhc2VndXJhciBxdWUgZXN0YSBlc2NlbmEgc2UgbXVlc3RyZSBwb3IgZW5jaW1hIGFsIGNyZWFybGFcclxuICAgICAgICB0aGlzLnNjZW5lLmJyaW5nVG9Ub3AoKTtcclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZnJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgICAvLyBSZWN0w6FuZ3VsbyBxdWUgY3VicmUgdG9kYSBsYSBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoLCAweDA3MDcyMiwgMC45KS5zZXRPcmlnaW4oMCk7XHJcblxyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDQwMCwgJ3R1dG9yaWFsQm94JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAzODAsICdrZXlzJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNTE1LCA1ODAsICduaXZpYUljb24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg4ODUsIDU4MCwgJ3NvbGVubmVJY29uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIGNvbnN0IEV4aXRCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMDY5LCAxNzAsICdFeGl0TWluQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEwNjgsIDE3MCwgJ0V4aXRNaW5CdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoRXhpdEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFJlZ3Jlc2FyIGEgbGEgZXNjZW5hIG9yaWdpbmFsXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUob3JpZ2luYWwpOyAvLyByZWFudWRhIFBhdXNlU2NlbmUgc2kgZnVlIGxhIG9yaWdpbmFsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7IC8vIGNpZXJyYSBUdXRvcmlhbFNjZW5lXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAyMTAsICdUdXRvcmlhbFRleHQnKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVkaXRzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdHNTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnQ3JlZGl0c0JveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdE1pbkJ1dHRvbicsICdhc3NldHMvY2VycmFyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdE1pbkJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9jZXJyYXJIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gZGUgY3LDqWRpdG9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdDcmVkaXRzVGV4dCcsICdhc3NldHMvdGV4dG9fY3JlZGl0b3MuUE5HJyk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIGRlIG1pZW1icm9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdNZW1iZXJzVGV4dCcsICdhc3NldHMvbm9tYnJlcy5QTkcnKTtcclxuXHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvLyBkaW1lbnNpb25lcyBkZSBsYSBwYW50YWxsYVxyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcclxuXHJcbiAgICAgICAgLy8gUmVjdMOhbmd1bG8gcXVlIGN1YnJlIHRvZGEgbGEgcGFudGFsbGFcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgdywgaCwgMHgwNzA3MjIsIDAuOSkuc2V0T3JpZ2luKDApO1xyXG5cclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICdDcmVkaXRzQm94JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIGNvbnN0IEV4aXRCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMDY5LCAxNzAsICdFeGl0TWluQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEwNjgsIDE3MCwgJ0V4aXRNaW5CdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoRXhpdEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFJlZ3Jlc2FyIGEgbGEgZXNjZW5hIG9yaWdpbmFsXHJcbiAgICAgICAgRXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZSh0aGlzLnNjZW5lLnNldHRpbmdzLmRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCAyMTAsICdDcmVkaXRzVGV4dCcpXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpLlxyXG4gICAgICAgIHNldFNjYWxlKDEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcxMCwgNDYwLCAnTWVtYmVyc1RleHQnKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRTY2FsZSgwLjY1KTtcclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nc1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTZXR0aW5nc1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzZXR0aW5nc0JveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90b24gVm9sdW1lbiAoKy8tKVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGx1c1ZvbHVtZUJ1dHRvbicsICdhc3NldHMvbWFzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGx1c1ZvbHVtZUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9tYXNIb3Zlci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ01pbnVzVm9sdW1lQnV0dG9uJywgJ2Fzc2V0cy9tZW5vcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ01pbnVzVm9sdW1lQnV0dG9uSG92ZXInLCAnYXNzZXRzL21lbm9zSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJhcnJhcyBWb2x1bWVuIChyZWN0YW5ndWxvcyB1bm8gb3NjdXJvL2FwYWdhZG9zIHkgb3RybyBjbGFyby9lbmNlbmRpZG9zKVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVm9sdW1lQmFyT2ZmJywgJ2Fzc2V0cy9ib3Rvbl9vc2N1cm8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdWb2x1bWVCYXJPbicsICdhc3NldHMvYm90b25fY2xhcm8ucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b24nLCAnYXNzZXRzL2NlcnJhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b25Ib3ZlcicsICdhc3NldHMvY2VycmFySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIEFqdXN0ZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzVGV4dCcsICdhc3NldHMvdGV4dG9fYWp1c3Rlcy5wbmcnKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIGRpbWVuc2lvbmVzIGRlIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XHJcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuc2NhbGUuaGVpZ2h0O1xyXG5cclxuICAgICAgICAvLyBWb2x1bWVuXHJcbiAgICAgICAgbGV0IHZvbHVtZSA9IHRoaXMuc291bmQudm9sdW1lICogMTAwOyAvLyBDb252ZXJ0aXIgZGUgMC0xIGEgMC0xMDBcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcclxuICAgICAgICBsZXQgdm9sdW1lQmFyMSwgdm9sdW1lQmFyMiwgdm9sdW1lQmFyMywgdm9sdW1lQmFyNCwgdm9sdW1lQmFyNTtcclxuXHJcbiAgICAgICAgLy8gUmVjdMOhbmd1bG8gcXVlIGN1YnJlIHRvZGEgbGEgcGFudGFsbGFcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgdywgaCwgMHgwNzA3MjIsIDAuOSkuc2V0T3JpZ2luKDApO1xyXG5cclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICdzZXR0aW5nc0JveCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIEFqdXN0ZXNcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDIxMCwgJ1NldHRpbmdzVGV4dCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIEJhcnJhcyBkZSB2b2x1bWVuIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPZmYnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT2ZmJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDUwMCwgJ1ZvbHVtZUJhck9mZicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoODMzLCA1MDAsICdWb2x1bWVCYXJPZmYnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDk2NiwgNTAwLCAnVm9sdW1lQmFyT2ZmJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgLy8gQmFycmFzIGRlIHZvbHVtZW4gYWN0aXZhcyBcclxuICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIHZvbHVtZUJhcjMgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB2b2x1bWVCYXI0ID0gdGhpcy5hZGQuaW1hZ2UoODMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgdm9sdW1lQmFyNSA9IHRoaXMuYWRkLmltYWdlKDk2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgXHJcbiAgICAgICAgLy8gQWN0dWFsaXphciBiYXJyYXMgZGUgdm9sdW1lbiBcclxuICAgICAgICB2b2x1bWVCYXIxLmRlc3Ryb3koKTtcclxuICAgICAgICB2b2x1bWVCYXIyLmRlc3Ryb3koKTtcclxuICAgICAgICB2b2x1bWVCYXIzLmRlc3Ryb3koKTtcclxuICAgICAgICB2b2x1bWVCYXI0LmRlc3Ryb3koKTtcclxuICAgICAgICB2b2x1bWVCYXI1LmRlc3Ryb3koKTtcclxuICAgICAgICBpZih2b2x1bWUgPT0gMCAmJiB2b2x1bWVCYXIxICE9IG51bGwpe1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIxLmRlc3Ryb3koKTtcclxuICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPD0gMjApe1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDQwKXtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDYwKXtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjMgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPD0gODApe1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMyA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXI0ID0gdGhpcy5hZGQuaW1hZ2UoODMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgfWVsc2UgaWYodm9sdW1lID09IDEwMCl7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjQgPSB0aGlzLmFkZC5pbWFnZSg4MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyNSA9IHRoaXMuYWRkLmltYWdlKDk2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBCb3RvbiB2b2x1bWVuIGF1bWVudGFkb1xyXG4gICAgICAgIGNvbnN0IHBsdXNWb2x1bWVCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMDY5LCA1MDAsICdQbHVzVm9sdW1lQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjQpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHBsdXNWb2x1bWVCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEwNjksIDUwMCwgJ1BsdXNWb2x1bWVCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNClcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgocGx1c1ZvbHVtZUJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGx1c1ZvbHVtZUJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBwbHVzVm9sdW1lQnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdm9sdW1lICs9IDIwO1xyXG4gICAgICAgICAgICBpZih2b2x1bWUgPiAxMDApIHZvbHVtZSA9IDEwMDtcclxuICAgICAgICAgICAgZWxzZSBpZih2b2x1bWUgPCAwKSB2b2x1bWUgPSAwO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zb3VuZC5zZXRWb2x1bWUodm9sdW1lIC8gMTAwKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjEuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXIyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXI1LmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgaWYodm9sdW1lID09IDAgJiYgdm9sdW1lQmFyMSAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPD0gMjApe1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHZvbHVtZSA8PSA0MCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxID0gdGhpcy5hZGQuaW1hZ2UoNDMzLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjIgPSB0aGlzLmFkZC5pbWFnZSg1NjYsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPD0gNjApe1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjMgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPD0gODApe1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjMgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyNCA9IHRoaXMuYWRkLmltYWdlKDgzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHZvbHVtZSA9PSAxMDApe1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjMgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyNCA9IHRoaXMuYWRkLmltYWdlKDgzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXI1ID0gdGhpcy5hZGQuaW1hZ2UoOTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3RvbiB2b2x1bWVuIGRpc21pbnVpZG9cclxuICAgICAgICBjb25zdCBtaW51c1ZvbHVtZUJ0biA9IHRoaXMuYWRkLmltYWdlKDMzMCwgNTAwLCAnTWludXNWb2x1bWVCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNClcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBcclxuICAgICAgICBtaW51c1ZvbHVtZUJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMzM1LCA1MDAsICdNaW51c1ZvbHVtZUJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC40KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1pbnVzVm9sdW1lQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtaW51c1ZvbHVtZUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZvbHVtZSAtPSAyMDtcclxuICAgICAgICAgICAgaWYodm9sdW1lID4gMTAwKSB2b2x1bWUgPSAxMDA7XHJcbiAgICAgICAgICAgIGVsc2UgaWYodm9sdW1lIDwgMCkgdm9sdW1lID0gMDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc291bmQuc2V0Vm9sdW1lKHZvbHVtZSAvIDEwMCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2b2x1bWVCYXIxLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyMi5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHZvbHVtZUJhcjMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB2b2x1bWVCYXI0LmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdm9sdW1lQmFyNS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIGlmKHZvbHVtZSA9PSAwICYmIHZvbHVtZUJhcjEgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIxLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDIwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPD0gNDApe1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMSA9IHRoaXMuYWRkLmltYWdlKDQzMywgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIyID0gdGhpcy5hZGQuaW1hZ2UoNTY2LCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDYwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgfWVsc2UgaWYodm9sdW1lIDw9IDgwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjQgPSB0aGlzLmFkZC5pbWFnZSg4MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih2b2x1bWUgPT0gMTAwKXtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjEgPSB0aGlzLmFkZC5pbWFnZSg0MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyMiA9IHRoaXMuYWRkLmltYWdlKDU2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCYXIzID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MDAsICdWb2x1bWVCYXJPbicpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJhcjQgPSB0aGlzLmFkZC5pbWFnZSg4MzMsIDUwMCwgJ1ZvbHVtZUJhck9uJylcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQmFyNSA9IHRoaXMuYWRkLmltYWdlKDk2NiwgNTAwLCAnVm9sdW1lQmFyT24nKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIGNvbnN0IEV4aXRCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMDY5LCAxNzAsICdFeGl0TWluQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDEwNjgsIDE3MCwgJ0V4aXRNaW5CdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoRXhpdEJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lO1xyXG4gICAgICAgICAgICBpZiAob3JpZ2luYWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKG9yaWdpbmFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExldmVsU2VsZWN0U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xldmVsU2VsZWN0U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xldmVsQm94JywgJ2Fzc2V0cy9jYWphLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBOaXZlbGVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMZXZlbHNUZXh0JywgJ2Fzc2V0cy90ZXh0b19uaXZlbGVzLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3RvbiBkZSBuaXZlbGVzXHJcbiAgICAgICAgLy8gbml2ZWwgMVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTGV2ZWwxQnV0dG9uJywgJ2Fzc2V0cy9uaXZlbDEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMZXZlbDFCdXR0b25Ib3ZlcicsICdhc3NldHMvbml2ZWwxSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIG5pdmVsIDJcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xldmVsMkJ1dHRvbicsICdhc3NldHMvTml2ZWwyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnTGV2ZWwyQnV0dG9uSG92ZXInLCAnYXNzZXRzL05pdmVsMkhvdmVyLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uJywgJ2Fzc2V0cy9jZXJyYXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0TWluQnV0dG9uSG92ZXInLCAnYXNzZXRzL2NlcnJhckhvdmVyLnBuZycpO1xyXG5cclxuICAgIH1cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIGRpbWVuc2lvbmVzIGRlIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XHJcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuc2NhbGUuaGVpZ2h0O1xyXG5cclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZnJlbmNpYSBwYXJhIGxhIGltYWdlbiBob3ZlclxyXG5cclxuICAgICAgICAvLyBSZWN0w6FuZ3VsbyBxdWUgY3VicmUgdG9kYSBsYSBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3LCBoLCAweDA3MDcyMiwgMC45KS5zZXRPcmlnaW4oMCk7XHJcblxyXG4gICAgICAgIC8vIENhamEgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDQwMCwgJ0xldmVsQm94JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gTml2ZWxlc1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgMjEwLCAnTGV2ZWxzVGV4dCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIFNlbGVjY2nDs24gZGUgTml2ZWxlc1xyXG4gICAgICAgICAgICAvL05pdmVsIDFcclxuICAgICAgICBjb25zdCBMdmxVbm9CdG4gPSB0aGlzLmFkZC5pbWFnZSg1MTAsIDUwMCwgJ0xldmVsMUJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgTHZsVW5vQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg1MjAsIDUwNSwgJ0xldmVsMUJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgoTHZsVW5vQnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgTHZsVW5vQnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBJbmljaW8gTml2ZWwgMVxyXG4gICAgICAgIEx2bFVub0J0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lTG9jYWxTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1BsYWNlaG9sZGVyXHJcbiAgICAgICAgY29uc3QgTHZsRG9zQnRuID0gdGhpcy5hZGQuaW1hZ2UoODgwLCA1MDAsICdMZXZlbDJCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIEx2bERvc0J0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoODgwLCA1MDAsICdMZXZlbDJCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDEuMDUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKEx2bERvc0J0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEx2bERvc0J0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTHZsMlxyXG4gICAgICAgIEx2bERvc0J0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdMZXZlbDJTY2VuZUxvY2FsJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICBjb25zdCBFeGl0QnRuID0gdGhpcy5hZGQuaW1hZ2UoMTA2OSwgMTcwLCAnRXhpdE1pbkJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDY4LCAxNzAsICdFeGl0TWluQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKEV4aXRCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSZWdyZXNhciBhIGxhIGVzY2VuYSBvcmlnaW5hbFxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lO1xyXG4gICAgICAgICAgICBpZiAob3JpZ2luYWwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKG9yaWdpbmFsKTsgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7IFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxhY2VIb2xkZXJTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGxhY2VIb2xkZXJTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0b3JpYWxCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHNhbGlyICh4KVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRXhpdEJ1dHRvbicsICdhc3NldHMvc2FsaXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0QnV0dG9uSG92ZXInLCAnYXNzZXRzL3NhbGlySG92ZXIucG5nJyk7XHJcbiAgXHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvLyBkaW1lbnNpb25lcyBkZSBsYSBwYW50YWxsYVxyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcclxuXHJcbiAgICAgICAgLy8gUmVjdMOhbmd1bG8gcXVlIGN1YnJlIHRvZGEgbGEgcGFudGFsbGFcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgdywgaCwgMHgwNzA3MjIsIDAuOSkuc2V0T3JpZ2luKDApO1xyXG5cclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICd0dXRvcmlhbEJveCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICBjb25zdCBleGl0QnRuID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA2NzAsICdFeGl0QnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBleGl0QnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDY3MCwgJ0V4aXRCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKGV4aXRCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBleGl0QnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBleGl0QnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gQ2llcnJhIGxhIHZlbnRhbmEgZGVsIG5hdmVnYWRvciBvIHBlc3Rhw7FhXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNzAwLCAxODAsICdOYWRhIHF1ZSB2ZXIgYXF1aScseyBcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JywgZmlsbDogJyNkNGVhZjFmZid9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWN0b3J5U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1ZpY3RvcnlTY2VuZScpO1xyXG4gICAgfVxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdDcmVkaXRzQm94JywgJ2Fzc2V0cy9jYWphLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBWaWN0b3JpYVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnVmljdG9yeVRleHQnLCAnYXNzZXRzL3RleHRvX3ZpY3RvcmlhLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgdHV0b3JpYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ05leHRMZXZlbEJ1dHRvbicsICdhc3NldHMvc2lndWllbnRlTml2ZWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdOZXh0TGV2ZWxCdXR0b25Ib3ZlcicsICdhc3NldHMvc2lndWllbnRlTml2ZWxIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbicsICdhc3NldHMvcmVpbmljaWFyLlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9yZWluaWNpYXJIb3Zlci5QTkcnKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBCb3TDs24gZGUgdm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmV0TWVudUJ1dHRvbicsICdhc3NldHMvbWVudS5QTkcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JldE1lbnVCdXR0b25Ib3ZlcicsICdhc3NldHMvbWVudUhvdmVyLlBORycpO1xyXG5cclxuICAgIH1cclxuICAgIGNyZWF0ZSgpe1xyXG4gICAgICAgIC8vIGRpbWVuc2lvbmVzIGRlIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuc2NhbGUud2lkdGg7XHJcbiAgICAgICAgY29uc3QgaCA9IHRoaXMuc2NhbGUuaGVpZ2h0O1xyXG5cclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZmVyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcclxuXHJcbiAgICAgICAgLy8gUmVjdMOhbmd1bG8gcXVlIGN1YnJlIHRvZGEgbGEgcGFudGFsbGFcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgdywgaCwgMHgwNzA3MjIsIDAuOSkuc2V0T3JpZ2luKDApO1xyXG5cclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MDAsICdDcmVkaXRzQm94JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gVmljdG9yaWFcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDIxMCwgJ1ZpY3RvcnlUZXh0JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcbiAgICAgICAgLy8gU2lndWllbnRlIG5pdmVsXHJcbiAgICAgICAgY29uc3QgbmV4dExldmVsYnRuID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCAzMjAsICdOZXh0TGV2ZWxCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgbmV4dExldmVsYnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDMyNSwgJ05leHRMZXZlbEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChuZXh0TGV2ZWxidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuZXh0TGV2ZWxidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIElyIGFsIHNlZ3VuZG8gbml2ZWxcclxuICAgICAgICBuZXh0TGV2ZWxidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFNjZW5lS2V5ID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT3JpZ2luYWwgc2NlbmUgYmVpbmcgcmVtb3ZlZDpcIiwgb3JpZ2luYWxTY2VuZUtleSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChvcmlnaW5hbFNjZW5lS2V5KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0xldmVsMlNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIGNvbnN0IHJlc3RhcnRidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDUsIDQxNSwgJ1Jlc3RhcnRCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjkzLCA0MjUsICdSZXN0YXJ0QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHJlc3RhcnRidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTY2VuZUtleSA9IHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aob3JpZ2luYWxTY2VuZUtleSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQob3JpZ2luYWxTY2VuZUtleSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWxcclxuICAgICAgICBjb25zdCBtZW51YnRuID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA1MTUsICdSZXRNZW51QnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKDY5OCwgNTE1LCAnUmV0TWVudUJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChtZW51YnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbWVudWJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBtZW51YnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gR2V0IGFsbCBzY2VuZXNcclxuICAgICAgICAgICAgY29uc3Qgc2NlbmVzID0gdGhpcy5nYW1lLnNjZW5lLmtleXM7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gc2NlbmVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnTWVudVNjZW5lJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lT3ZlclNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lT3ZlclNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdDcmVkaXRzQm94JywgJ2Fzc2V0cy9jYWphLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBHYW1lIE92ZXJcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0dhbWVPdmVyVGV4dCcsICdhc3NldHMvdGV4dG9fZGVycm90YS5wbmcnKTtcclxuXHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSByZWluaWNpYXIgbml2ZWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1Jlc3RhcnRCdXR0b24nLCAnYXNzZXRzL3JlaW5pY2lhci5QTkcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1Jlc3RhcnRCdXR0b25Ib3ZlcicsICdhc3NldHMvcmVpbmljaWFySG92ZXIuUE5HJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JldE1lbnVCdXR0b24nLCAnYXNzZXRzL21lbnUuUE5HJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdSZXRNZW51QnV0dG9uSG92ZXInLCAnYXNzZXRzL21lbnVIb3Zlci5QTkcnKTtcclxuXHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKXtcclxuICAgICAgICAvLyBkaW1lbnNpb25lcyBkZSBsYSBwYW50YWxsYVxyXG4gICAgICAgIGNvbnN0IHcgPSB0aGlzLnNjYWxlLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IGggPSB0aGlzLnNjYWxlLmhlaWdodDtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZlcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAnQ3JlZGl0c0JveCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIGdhbWUgb3ZlclxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgMjQwLCAnR2FtZU92ZXJUZXh0JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcblxyXG4gICAgICAgIC8vIFJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIGNvbnN0IHJlc3RhcnRidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDUsIDQxNSwgJ1Jlc3RhcnRCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjkzLCA0MjUsICdSZXN0YXJ0QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHJlc3RhcnRidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTY2VuZUtleSA9IHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aob3JpZ2luYWxTY2VuZUtleSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KG9yaWdpbmFsU2NlbmVLZXkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBWb2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgY29uc3QgbWVudWJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTE1LCAnUmV0TWVudUJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBtZW51YnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg2OTgsIDUxNSwgJ1JldE1lbnVCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgobWVudWJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1lbnVidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbWVudWJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEdldCBhbGwgc2NlbmVzXHJcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lcyA9IHRoaXMuZ2FtZS5zY2VuZS5rZXlzO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHNjZW5lcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ01lbnVTY2VuZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aoa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMZXZlbDJTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTGV2ZWwyU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID0gMDtcclxuICAgICAgICB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID0gMDtcclxuICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLmxvYWQuYXRsYXMoJ25pdmlhJywgJ2Fzc2V0cy9uaXZpYS9uaXZpYV9zaGVldC5wbmcnLCAnYXNzZXRzL25pdmlhL25pdmlhX3NoZWV0Lmpzb24nKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXRsYXMoJ3NvbGVubmUnLCAnYXNzZXRzL3NvbGVubmUvc29sZW5uZV9zaGVldC5wbmcnLCAnYXNzZXRzL3NvbGVubmUvc29sZW5uZV9zaGVldC5qc29uJyk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBjcmlzdGFsZXNcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3N1bmRyb3Bfc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL3N1bmRyb3AucG5nJywgeyBmcmFtZVdpZHRoOiAyMTQsIGZyYW1lSGVpZ2h0OiAyMDYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uZHJvcF9zaGVldCcsICdhc3NldHMvaXRlbXMvbW9vbmRyb3AucG5nJywgeyBmcmFtZVdpZHRoOiAyMTQsIGZyYW1lSGVpZ2h0OiAyMDYgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnc3VuX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9zdW4ucG5nJywgeyBmcmFtZVdpZHRoOiAzNDcsIGZyYW1lSGVpZ2h0OiAzMjkgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9tb29uLnBuZycsIHsgZnJhbWVXaWR0aDogMzQ3LCBmcmFtZUhlaWdodDogMzI5IH0pO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZWwgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9mb25kb19hcnJpYmEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGF0YWZvcm1hczEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcGxhdGFmb3JtYXNfYXJyaWJhLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgZWxlbWVudG9zIGRlbCBlc2NlbmFyaW9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BsYXRhZm9ybWFzTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3BsYXRhZm9ybWFzX2FycmliYS5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTFOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhMk5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmEyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmEzTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFPc2N1cmExTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9vc2N1cmExLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhT3NjdXJhMk5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfb3NjdXJhMi5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uQ2xhcm9OaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b25fY2xhcm8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk9zY3VybzFOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b25fb3NjdXJvMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uT3NjdXJvMk5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9vc2N1cm8yLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvcnRhbDEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcG9ydGFsLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgYm90b25lc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGF1c2VCdXR0b24nLCAnYXNzZXRzL3BhdXNhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGF1c2VCdXR0b25Ib3ZlcicsICdhc3NldHMvcGF1c2FIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc0J1dHRvbicsICdhc3NldHMvYWp1c3Rlcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzQnV0dG9uSG92ZXInLCAnYXNzZXRzL2FqdXN0ZXNIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbicsICdhc3NldHMvcmVpbmljaWFyLlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9yZWluaWNpYXJIb3Zlci5QTkcnKTtcclxuXHJcbiAgICAgICAgLy9EYcOxb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZGFtYWdlMScsICdhc3NldHMvdHJhbXBhcy90cmFtcGFzLnBuZycpXHJcblxyXG4gICAgICAgIC8vIEVmZWN0b3MgZGUgc29uaWRvIHkgbcO6c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnd2Fsa1NvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY2FtaW5hci5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2NvbGxlY3RTdW5DcnlzdGFsU291bmQnLCAnYXNzZXRzL3Nvbmlkby9jcmlzdGFsQ2xhcm8ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0TW9vbkNyeXN0YWxTb3VuZCcsICdhc3NldHMvc29uaWRvL2NyaXN0YWxPc2N1cm8ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIE3DmlNJQ0EgRVNQRUPDjUZJQ0EgREVMIEpVRUdPXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdHYW1lTXVzaWMnLCAnYXNzZXRzL3Nvbmlkby9qdWVnby5tcDMnKTsgLy8gYWp1c3RhIHJ1dGEgc2kgaGFjZSBmYWx0YVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBtYXBXaWR0aEluUGl4ZWxzID0gMTQyMDtcclxuICAgICAgICBjb25zdCBtYXBIZWlnaHRJblBpeGVscyA9IDgwMDtcclxuXHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gRGV0ZW5lciBzb2xvIGxhIG3DunNpY2EgZGVsIG1lbsO6IHNpIGVzdMOhIHNvbmFuZG9cclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BCeUtleSgnTWVudU11c2ljJyk7XHJcblxyXG4gICAgICAgIC8vIFJlcHJvZHVjaXIgbGEgbcO6c2ljYSBkZWwganVlZ29cclxuICAgICAgICBpZiAodGhpcy5jYWNoZS5hdWRpby5leGlzdHMoJ0dhbWVNdXNpYycpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnR2FtZU11c2ljJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDAuMn0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWdyZWdhciBmb25kb1xyXG4gICAgICAgIC8vY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8xJykuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIC8vYmcuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xyXG5cclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDAsIDAsICdmb25kbzEnKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgYmcuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xyXG5cclxuICAgICAgICBjb25zdCBwbGF0YWZvcm1hID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoMCwgMCwgJ3BsYXRhZm9ybWFzMScpLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICBwbGF0YWZvcm1hLnNldERpc3BsYXlTaXplKG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcclxuXHJcbiAgICAgICAgLy8gQ29uZmlndXJhY2nDs24gZGUgbGEgZsOtc2ljYSBkZWwgbXVuZG9cclxuICAgICAgICB0aGlzLnBoeXNpY3Mud29ybGQuZ3Jhdml0eS55ID0gMTUwMDtcclxuXHJcbiAgICAgICAgLy8gQ3JlYWNpw7NuIGRlIGxvcyBwZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcclxuXHJcblxyXG4gICAgICAgIC8vIFRFTVBPUkFMOiBDcmVhciB1biBzdWVsbyBzaW1wbGUgcGFyYSBxdWUgcHVlZGFuIHNhbHRhciB5IGNhZXJcclxuICAgICAgICB0aGlzLmdyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCBtYXBIZWlnaHRJblBpeGVscywgbWFwV2lkdGhJblBpeGVscywgMTAsIDB4MDBGRjAwLCAwKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmdyb3VuZCwgdHJ1ZSk7IC8vIHRydWUgPSBlc3TDoXRpY29cclxuXHJcbiAgICAgICAgLy9DcmVhY2nDs24gZGUgbGFzIHBsYXRhZm9ybWFzXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hMSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyMDAsIDU3NSwgMzAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWExLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hMiA9IHRoaXMuYWRkLnJlY3RhbmdsZSg3NTAsIDU1MCwgMTYwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWEyLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hMyA9IHRoaXMuYWRkLnJlY3RhbmdsZSgxMjUwLCA0MjUsIDQwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMywgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNTI1LCAzMjUsIDQwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hNCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTUgPSB0aGlzLmFkZC5yZWN0YW5nbGUoODc1LCAyMjUsIDMwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hNSwgdHJ1ZSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnBhcmVkMSA9IHRoaXMuYWRkLnJlY3RhbmdsZSg3MTUsIDQyNSwgODAsIDIwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBhcmVkMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5wYXJlZDIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoOTAwLCA3MDAsIDIwMCwgMzAwLCAweDMyMmIxZCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wYXJlZDIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMucG9ydGFsU3ByaXRlID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3BvcnRhbDEnKS5zZXRTY2FsZSgwLjc1KTtcclxuICAgICAgICB0aGlzLnBvcnRhbFNwcml0ZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsID0gdGhpcy5hZGQucmVjdGFuZ2xlKDIwMCwgMjAwLCAyMDAsIDIwMCkuc2V0U2NhbGUoMC43NSk7XHJcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5leGl0UG9ydGFsLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gcHVlcnRhcyAoc3ByaXRlcylcclxuICAgICAgICB0aGlzLmRhcmtEb29yMSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwdWVydGFPc2N1cmExTml2ZWwyJykuc2V0U2NhbGUoMC43NSk7XHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjIgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncHVlcnRhT3NjdXJhMk5pdmVsMicpLnNldFNjYWxlKDAuNzUpO1xyXG5cclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncHVlcnRhQ2xhcmExTml2ZWwyJykuc2V0U2NhbGUoMC43NSk7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IyID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3B1ZXJ0YUNsYXJhMk5pdmVsMicpLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yMyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwdWVydGFDbGFyYTNOaXZlbDInKS5zZXRTY2FsZSgwLjc1KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBwdWVydGFzIGhpdGJveGVzXHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjFIaXRib3ggPSB0aGlzLmFkZC5yZWN0YW5nbGUoMzI1LCA3MDAsIDIwLCAzMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYXJrRG9vcjFIaXRib3gsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IySGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDUwMCwgNTc1LCAzMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFya0Rvb3IySGl0Ym94LCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5saWdodERvb3IxSGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDcwMCwgMTAwLCAyMCwgMjgwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMubGlnaHREb29yMUhpdGJveCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IySGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDc1MCwgNzAwLCAyMCwgMjAwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMubGlnaHREb29yMkhpdGJveCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IzSGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDkyNSwgNTAwLCAyMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMubGlnaHREb29yM0hpdGJveCk7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IzSGl0Ym94LmJvZHkuc2V0SW1tb3ZhYmxlKHRydWUpLnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5saWdodERvb3IzSGl0Ym94LnNldEFuZ2xlKDEzNSk7XHJcblxyXG4gICAgICAgIC8vcHVlcnRhcyAobGlzdGEpXHJcbiAgICAgICAgdGhpcy5kb29ycyA9IHtcclxuICAgICAgICAgICAgZGFya0Rvb3IxOiB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHRoaXMuZGFya0Rvb3IxLFxyXG4gICAgICAgICAgICAgICAgaGl0Ym94OiB0aGlzLmRhcmtEb29yMUhpdGJveFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkYXJrRG9vcjI6IHtcclxuICAgICAgICAgICAgICAgIHNwcml0ZTogdGhpcy5kYXJrRG9vcjIsXHJcbiAgICAgICAgICAgICAgICBoaXRib3g6IHRoaXMuZGFya0Rvb3IySGl0Ym94XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpZ2h0RG9vcjE6IHtcclxuICAgICAgICAgICAgICAgIHNwcml0ZTogdGhpcy5saWdodERvb3IxLFxyXG4gICAgICAgICAgICAgICAgaGl0Ym94OiB0aGlzLmxpZ2h0RG9vcjFIaXRib3hcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGlnaHREb29yMjoge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmxpZ2h0RG9vcjMsXHJcbiAgICAgICAgICAgICAgICBoaXRib3g6IHRoaXMubGlnaHREb29yMkhpdGJveFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaWdodERvb3IzOiB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHRoaXMubGlnaHREb29yMixcclxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5saWdodERvb3IzSGl0Ym94XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBkYcOxbyBoaXRib3hlc1xyXG4gICAgICAgIHRoaXMuZGFtYWdlR3JvdXAgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0dyb3VwKCk7XHJcbiAgICAgICAgdGhpcy50cmFtcGEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAnZGFtYWdlMScpLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZGFtYWdlMSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgxMzUwLCAxMDAsIDIwMCwgMTAwLCAweDMzZmYwMCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFtYWdlMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZGFtYWdlMiA9IHRoaXMuYWRkLnJlY3RhbmdsZSgxMDAsIDUzMCwgMTAwLCAzMCwgMHgzM2ZmMDAsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZTIsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmRhbWFnZTMgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTI1LCA4MDAsIDYwLCAzMCwgMHgzM2ZmMDAsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZTMsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmRhbWFnZTQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNjAwLCAzMDAsIDYwLCAzMCwgMHgzM2ZmMDAsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZTQsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmRhbWFnZUdyb3VwLmFkZCh0aGlzLmRhbWFnZTEpO1xyXG4gICAgICAgIHRoaXMuZGFtYWdlR3JvdXAuYWRkKHRoaXMuZGFtYWdlMik7XHJcbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cC5hZGQodGhpcy5kYW1hZ2UzKTtcclxuICAgICAgICB0aGlzLmRhbWFnZUdyb3VwLmFkZCh0aGlzLmRhbWFnZTQpO1xyXG5cclxuICAgICAgICAvLyBDb2xpc2lvbmVzIGVudHJlIHBlcnNvbmFqZXMgeSBlbCBzdWVsbyB5IHBsYXRhZm9ybWFzXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmdyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMuZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTEpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWExKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWEyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWEzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWE0KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGxhdGFmb3JtYTUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBsYXRhZm9ybWE1KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGFyZWQxKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wYXJlZDEpO1xyXG5cclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wYXJlZDIpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGFyZWQyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMubGlnaHREb29yMUhpdGJveCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmxpZ2h0RG9vcjJIaXRib3gpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5saWdodERvb3IzSGl0Ym94KTtcclxuXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5saWdodERvb3IxSGl0Ym94KTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5kYXJrRG9vcjFIaXRib3gpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmRhcmtEb29yMUhpdGJveCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMuZGFya0Rvb3IySGl0Ym94KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCduaXZpYScpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygnc29sZW5uZScpO1xyXG5cclxuICAgICAgICAvLyBJbmljaWFyIGxhIGFuaW1hY2nDs24gJ3J1bicgcGFyYSBwcm9iYXIgKHNlIGNvcnJlZ2lyw6EgZW4gdXBkYXRlKVxyXG4gICAgICAgIHRoaXMubml2aWEucGxheSgnbml2aWFfaWRsZScpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZS5wbGF5KCdzb2xlbm5lX2lkbGUnKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYWNpw7NuIGRlIGxvcyBvYmpldG9zXHJcbiAgICAgICAgdGhpcy5jcnlzdGFscyA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoe2FsbG93R3Jhdml0eTogZmFsc2UsIGltbW92YWJsZTogdHJ1ZX0pO1xyXG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSgxMzAwLCAzMDAsICdtb29uZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KVxyXG4gICAgICAgIC5zZXREYXRhKCdkb29yS2V5JywgJ2RhcmtEb29yMScpO1xyXG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwyID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoNTUwLCAyMDAsICdtb29uZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KVxyXG4gICAgICAgIC5zZXREYXRhKCdkb29yS2V5JywgJ2RhcmtEb29yMicpO1xyXG5cclxuICAgICAgICB0aGlzLnN1bkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSg1NTAsIDcwMCwgJ3N1bmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAuc2V0RGF0YSgnZG9vcktleScsICdsaWdodERvb3IzJyk7XHJcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsMiA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKDIwMCwgNzAwLCAnc3VuZHJvcF9zaGVldCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0U2NhbGUoMC41KVxyXG4gICAgICAgIC5zZXREYXRhKCdkb29yS2V5JywgJ2xpZ2h0RG9vcjEnKTtcclxuXHJcbiAgICAgICAgLy90aGlzLnN1bkNyeXN0YWwgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZShtYXAud2lkdGhJblBpeGVscyAtIDIwMCwgMzAwLCAnc3VuQ3J5c3RhbCcpLnNldEJvZHlTaXplKDMyLCAzMikuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAvL3RoaXMubWV0YVBvcnRhbCA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMgLyAyLCA1MCwgJ21ldGFQb3J0YWwnKS5zZXRJbW1vdmFibGUodHJ1ZSkuc2V0Qm9keVNpemUoNjQsIDY0KTtcclxuXHJcblxyXG5cclxuICAgICAgICAvLyBBbmltYWNpb25lcyBkZSBsb3Mgb2JqZXRvc1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnc3VuZHJvcF9pZGxlJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdzdW5kcm9wX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiA3IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbW9vbmRyb3BfaWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbW9vbmRyb3Bfc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDcgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tb29uQ3J5c3RhbC5wbGF5KCdtb29uZHJvcF9pZGxlJyk7XHJcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsLnBsYXkoJ3N1bmRyb3BfaWRsZScpO1xyXG5cclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlbCBJY29ubyBkZWwgU29sIChIVUQpXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdzdW5faHVkX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3N1bl9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZWwgSWNvbm8gZGUgbGEgTHVuYSAoSFVEKVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnbW9vbl9odWRfYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnbW9vbl9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIEx1bmEgKE5pdmlhKSAtIEl6cXVpZXJkYVxyXG4gICAgICAgIHRoaXMubW9vbkhVRCA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYIC0gMjAsIDQwLCAnbW9vbl9zaGVldCcpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMTUpIC8vIEVzY2FsYSBNVVkgcmVkdWNpZGEsIHlhIHF1ZSBsb3Mgc3ByaXRlc2hlZXRzIHNvbiBncmFuZGVzICgzNDd4MzI5KVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgICAgIC5wbGF5KCdtb29uX2h1ZF9hbmltJyk7IC8vIEluaWNpYSBsYSBhbmltYWNpw7NuXHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBkZSBTb2wgKFNvbGVubmUpIC0gRGVyZWNoYVxyXG4gICAgICAgIHRoaXMuc3VuSFVEID0gdGhpcy5hZGQuc3ByaXRlKHRoaXMuY2FtZXJhcy5tYWluLmNlbnRlclggKyAyMCwgNDAsICdzdW5fc2hlZXQnKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjE1KSAvLyBFc2NhbGEgTVVZIHJlZHVjaWRhXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKSBcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMClcclxuICAgICAgICAgICAgLnBsYXkoJ3N1bl9odWRfYW5pbScpOyAvLyBJbmljaWEgbGEgYW5pbWFjacOzblxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGxhIHJlY29sZWNjacOzbiBkZSBjcmlzdGFsZXNcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5tb29uQ3J5c3RhbCwgdGhpcy5jb2xsZWN0TW9vbkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuc3VuQ3J5c3RhbCwgdGhpcy5jb2xsZWN0U3VuQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubW9vbkNyeXN0YWwyLCB0aGlzLmNvbGxlY3RNb29uQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5zdW5DcnlzdGFsMiwgdGhpcy5jb2xsZWN0U3VuQ3J5c3RhbCwgbnVsbCwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgZmluIGRlIG5pdmVsIChPdmVybGFwIGRlbCBwb3J0YWwpXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5tZXRhUG9ydGFsLCB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSwgbnVsbCwgdGhpcyk7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLm1ldGFQb3J0YWwsIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlLCBudWxsLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgbml2ZWxcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgZ2VvbWV0cnlMYXllcik7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgZ2VvbWV0cnlMYXllcik7XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGxhIGPDoW1hcmFcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRCb3VuZHMoMCwgMCwgbWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpOyAgXHJcblxyXG4gICAgICAgIC8vIENvbnRyb2wgZGUgcGF1c2FcclxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmV4aXRQb3J0YWwsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5leGl0UG9ydGFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc29sZW5uZU9uUG9ydGFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHBhdXNhXHJcbiAgICAgICAgdGhpcy5wYXVzZUJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApIFxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTsgXHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gNDAsIDQwLCAnUGF1c2VCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5wYXVzZUJ1dHRvbi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7IFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgYWp1c3Rlc1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDEyMCwgNDAsICdTZXR0aW5nc0J1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMCkgXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApOyBcclxuXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0J1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAxMjAsIDQwLCAnU2V0dGluZ3NCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgodGhpcy5zZXR0aW5nc0J1dHRvbi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdTZXR0aW5nc1NjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigndXBkYXRlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMuZXhpdFBvcnRhbCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5waHlzaWNzLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLmV4aXRQb3J0YWwpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgb25EYW1hZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdHYW1lT3ZlclNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmRhbWFnZUdyb3VwLCBvbkRhbWFnZSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5kYW1hZ2VHcm91cCwgb25EYW1hZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgICBjb25zdCBpbml0aWFsWSA9IDE1MDA7XHJcblxyXG4gICAgICAgICAvLyBDcmVhY2nDs24gcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubml2aWEgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxMzAwLCBpbml0aWFsWSwgJ25pdmlhJykuc2V0Qm91bmNlKDAuMikuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZSA9IHRoaXMucGh5c2ljcy5hZGQuc3ByaXRlKDEyMDAsIGluaXRpYWxZLCAnc29sZW5uZScpLnNldEJvdW5jZSgwLjIpLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRTaXplKDEyMCwgMjQwKTtcclxuICAgICAgICB0aGlzLm5pdmlhLnNldE9mZnNldCgxMTAsIDUwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldFNpemUoMTIwLCAyNDApO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRPZmZzZXQoMTEwLCA1MCk7XHJcblxyXG4gICAgICAgIC8vIEVzY2FsYWRvIGRlIGxvcyBwZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRTY2FsZSgwLjUpOyBcclxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0U2NhbGUoMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbGVzIGRlIE5pdmlhIChUZWNsYXMgV0FTRClcclxuICAgICAgICB0aGlzLm5pdmlhQ29udHJvbHMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoe1xyXG4gICAgICAgICAgICBsZWZ0OiAnQScsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAnRCcsXHJcbiAgICAgICAgICAgIHVwOiAnVycsICAgIC8vIHNhbHRvXHJcbiAgICAgICAgICAgIGludGVyYWN0OiAnRSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbGVzIGRlIFNvbGVubmUgKEZsZWNoYXMpXHJcbiAgICAgICAgdGhpcy5zb2xlbm5lQ29udHJvbHMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoe1xyXG4gICAgICAgICAgICBsZWZ0OiAnTEVGVCcsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAnUklHSFQnLFxyXG4gICAgICAgICAgICB1cDogJ1VQJywgICAvLyBzYWx0b1xyXG4gICAgICAgICAgICBpbnRlcmFjdDogJ1NQQUNFJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjcmVhdGVBbmltYXRpb25zKGtleSkge1xyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgY29ycmVyXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1fcnVuYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgcHJlZml4OiAncnVuXycsIHN0YXJ0OiAxLCBlbmQ6IDQgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgc2FsdG9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9qdW1wYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgcHJlZml4OiAnanVtcF8nLCBzdGFydDogMSwgZW5kOiA2IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBpZGxlXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1faWRsZWAsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IGZyYW1lczogWydpZGxlXzEnXSB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxLFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQYXVzZWRTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAodGhpcy5pc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHtvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICAgICAgY29uc3QgbmV3UGF1c2VkU3RhdGUgPSAhdGhpcy5pc1BhdXNlZDtcclxuICAgICAgICB0aGlzLnNldFBhdXNlZFN0YXRlKG5ld1BhdXNlZFN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVTZXR0aW5ncygpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnU2V0dGluZ3NTY2VuZScpOyBcclxuICAgICAgICAvL3RoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlKCl7XHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBwYXVzYSBjb24gdGVjbGEgRVNDXHJcbiAgICAgICAgaWYodGhpcy5lc2NLZXkuaXNEb3duKXtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTW92aW1pZW50byBkZSBOaXZpYVxyXG4gICAgICAgIHRoaXMuaGFuZGxlUGxheWVyTW92ZW1lbnQodGhpcy5uaXZpYSwgdGhpcy5uaXZpYUNvbnRyb2xzKTtcclxuXHJcbiAgICAgICAgLy8gTW92aW1pZW50byBkZSBTb2xlbm5lXHJcbiAgICAgICAgdGhpcy5oYW5kbGVQbGF5ZXJNb3ZlbWVudCh0aGlzLnNvbGVubmUsIHRoaXMuc29sZW5uZUNvbnRyb2xzKTtcclxuICAgICAgICBcclxuICAgICAgICBpZih0aGlzLmV4aXRQb3J0YWwudmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSh0aGlzLmV4aXRQb3J0YWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgaGFuZGxlUGxheWVyTW92ZW1lbnQocGxheWVyU3ByaXRlLCBjb250cm9scykge1xyXG4gICAgICAgIC8vIFZlbG9jaWRhZCBkZWwgbW92aW1pZW50b1xyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gNDAwO1xyXG4gICAgICAgIGNvbnN0IGp1bXBWZWxvY2l0eSA9IDkwMDtcclxuICAgICAgICBjb25zdCBrZXkgPSBwbGF5ZXJTcHJpdGUudGV4dHVyZS5rZXk7XHJcbiAgICAgICAgY29uc3QgaXNNb3ZpbmcgPSBjb250cm9scy5sZWZ0LmlzRG93biB8fCBjb250cm9scy5yaWdodC5pc0Rvd247XHJcbiAgICAgICAgY29uc3QgaXNHcm91bmRlZCA9IHBsYXllclNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bjtcclxuICAgICAgICBsZXQgYW5pbWtleSA9ICcnO1xyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIHBhcmEgcmVwcm9kdWNpciBlbCBzb25pZG8gZGUgY2FtaW5hclxyXG4gICAgICAgaWYgKGlzTW92aW5nICYmIGlzR3JvdW5kZWQpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25pdmlhJyAmJiB0aGlzLmlzTml2aWFXYWxraW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gdGhpcy5zb3VuZC5hZGQoJ3dhbGtTb3VuZCcsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAxIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZy5wbGF5KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSB0aGlzLnNvdW5kLmFkZCgnd2Fsa1NvdW5kJywgeyBsb29wOiB0cnVlLCB2b2x1bWU6IDEgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcucGxheSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRGV0ZW5lciBlbCBzb25pZG8gc2kgbm8gc2UgZXN0w6EgbW92aWVuZG8gbyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbml2aWEnICYmIHRoaXMuaXNOaXZpYVdhbGtpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnc29sZW5uZScgJiYgdGhpcy5pc1NvbGVubmVXYWxraW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTW92aW1pZW50byBob3Jpem9udGFsXHJcbiAgICAgICAgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVgoLXNwZWVkKTtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKGZhbHNlKTsgLy8gTWlyYXIgYSBsYSBpenF1aWVyZGFcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKHNwZWVkKTtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldEZsaXBYKHRydWUpOyAvLyBNaXJhciBhIGxhIGRlcmVjaGFcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU2FsdG8gKHNvbG8gc2kgZXN0w6EgdG9jYW5kbyBlbCBzdWVsbylcclxuICAgICAgICBjb25zdCBpc0p1bXBpbmcgPSBjb250cm9scy51cC5pc0Rvd24gJiYgcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xyXG5cclxuICAgICAgICBpZiAoaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRWZWxvY2l0eVkoLWp1bXBWZWxvY2l0eSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGFuaW1hY2lvbmVzXHJcbiAgICAgICAgaWYgKCFwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd24pIHtcclxuICAgICAgICAgICAgLy8gRW4gZWwgYWlyZVxyXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9qdW1wYDtcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xzLmxlZnQuaXNEb3duIHx8IGNvbnRyb2xzLnJpZ2h0LmlzRG93bikge1xyXG4gICAgICAgICAgICAvLyBDb3JyaWVuZG9cclxuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1fcnVuYDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZGxlXHJcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X2lkbGVgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBSZXByb2R1Y2lyIGxhIGFuaW1hY2nDs24gc29sbyBzaSBlcyBkaWZlcmVudGUgYSBsYSBhY3R1YWxcclxuICAgICAgICBpZiAocGxheWVyU3ByaXRlLmFuaW1zLmN1cnJlbnRBbmltPy5rZXkgIT09IGFuaW1rZXkpIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLmFuaW1zLnBsYXkoYW5pbWtleSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGludGVyYWNjacOzblxyXG4gICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24oY29udHJvbHMuaW50ZXJhY3QpKSB7XHJcbiAgICAgICAgICAgIC8vIEFxdcOtIHZhIGxhIGzDs2dpY2EgZGUgaW50ZXJhY2Npw7NuIChwb3IgZWplbXBsbywgYWJyaXIgcHVlcnRhcywgcmVjb2dlciBvYmpldG9zLCBldGMuKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSW50ZXJhY2Npw7NuIHJlYWxpemFkYScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb2xsZWN0TW9vbkNyeXN0YWwocGxheWVyLCBjcnlzdGFsKSB7XHJcbiAgICAgICAgY3J5c3RhbC5kaXNhYmxlQm9keSh0cnVlLCB0cnVlKTtcclxuICAgICAgICB0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgKz0gMTtcclxuICAgICAgICBpZiAodGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID09IDIpIHRoaXMubW9vbkhVRC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnY29sbGVjdE1vb25DcnlzdGFsU291bmQnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdOaXZpYSBoYSByZWNvZ2lkbyBlbCBDcmlzdGFsIGRlIGxhIEx1bmEnKTtcclxuICAgICAgICB0aGlzLnVubG9ja0Rvb3IoY3J5c3RhbC5nZXREYXRhKCdkb29yS2V5JykpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbGxlY3RTdW5DcnlzdGFsKHBsYXllciwgY3J5c3RhbCkge1xyXG4gICAgICAgIGNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCArPSAxO1xyXG4gICAgICAgIGlmICh0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID09IDIpIHRoaXMuc3VuSFVELnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdjb2xsZWN0U3VuQ3J5c3RhbFNvdW5kJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygnU29sZW5uZSBoYSByZWNvZ2lkbyBlbCBDcmlzdGFsIGRlbCBTb2wnKTtcclxuICAgICAgICB0aGlzLnVubG9ja0Rvb3IoY3J5c3RhbC5nZXREYXRhKCdkb29yS2V5JykpO1xyXG4gICAgfVxyXG5cclxuICAgIHVubG9ja0Rvb3IoZG9vcktleSkge1xyXG4gICAgICAgIGNvbnN0IGRvb3IgPSB0aGlzLmRvb3JzW2Rvb3JLZXldO1xyXG5cclxuICAgICAgICBkb29yLmhpdGJveC5ib2R5LmVuYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIGRvb3IuaGl0Ym94LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIGRvb3Iuc3ByaXRlLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICB0aGlzLmNoZWNrUG9ydGFsU3Bhd24oKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1BvcnRhbFNwYXduKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm5pdmlhSGFzTW9vbkNyeXN0YWwgPT0gMiAmJiB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsID09IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5wb3J0YWxTcHJpdGUuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5leGl0UG9ydGFsLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5ib2R5LmVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrTGV2ZWxDb21wbGV0ZShwbGF5ZXIsIHBvcnRhbCkge1xyXG4gICAgICAgIC8vIExvcyBkb3MgZGViZW4gdG9jYXIgZWwgcG9ydGFsIHkgdGVuZXIgc3VzIHJlc3BlY3Rpdm9zIGNyaXN0YWxlc1xyXG4gICAgICAgIGlmICh0aGlzLm5pdmlhT25Qb3J0YWwgJiYgdGhpcy5zb2xlbm5lT25Qb3J0YWwgJiYgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID09IDIgJiYgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9PSAyKSB7XHJcbiAgICAgICAgICAgIC8vIExhbnphciBlc2NlbmEgZGUgdmljdG9yaWEgeSBwYXVzYXIgZXN0YSBlc2NlbmFcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1ZpY3RvcnlTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZW5kZ2FtZSgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkp1ZWdvIFRlcm1pbmFkb1wiKTtcclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZmVyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYLCB0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJZIC0gMTAwLCBcIsKhTml2ZWwgQ29tcGxldGFkbyFcIiwgeyBcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JywgZmlsbDogJyNGRkZGRkYnIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgICAgICAgICAgLy8gUmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgY29uc3QgcmVzdGFydGJ0biA9IHRoaXMuYWRkLmltYWdlKDcwNSwgNDE1LCAnUmVzdGFydEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg2OTMsIDQyNSwgJ1Jlc3RhcnRCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgocmVzdGFydGJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFNjZW5lS2V5ID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChvcmlnaW5hbFNjZW5lS2V5KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuLyoqXHJcbiAqIEVzY2VuYSBxdWUgc2UgbXVlc3RyYSBjdWFuZG8gc2UgcGllcmRlIGxhIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICogUGF1c2EgZWwgcmVzdG8gZGUgZXNjZW5hcyB5IGNvbXBydWViYSBjb250aW51YW1lbnRlIGhhc3RhIHF1ZSBzZSByZXN0YWJsZXpjYVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25Mb3N0U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnKTtcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrVGltZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzQ2hlY2tpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICAvLyBHdWFyZGFyIGxhIGVzY2VuYSBxdWUgZXN0YWJhIGFjdGl2YSBjdWFuZG8gc2UgcGVyZGnDsyBsYSBjb25leGnDs25cclxuICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmUgPSBkYXRhPy5wcmV2aW91c1NjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBObyBwYXVzYXIgbGEgZXNjZW5hIGFudGVyaW9yIG51ZXZhbWVudGUsIHlhIGVzdMOhIHBhdXNhZGFcclxuICAgICAgICAvLyBTb2xvIG1vc3RyYXIgbGEgZXNjZW5hIGRlIGNvbmV4acOzbiBwZXJkaWRhXHJcblxyXG4gICAgICAgIC8vIEZvbmRvIHNlbWktdHJhbnNwYXJlbnRlXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgMzAwLCA4MDAsIDYwMCwgMHgwMDAwMDAsIDAuOCk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjAwLCAnQ09ORVhJw5NOIFBFUkRJREEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamUgZGUgZXN0YWRvXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCg0MDAsIDMwMCwgJ0ludGVudGFuZG8gcmVjb25lY3Rhci4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBDb250YWRvciBkZSBpbnRlbnRvc1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0ID0gdGhpcy5hZGQudGV4dCg0MDAsIDM1MCwgJ0ludGVudG9zOiAwJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBwYXJwYWRlYW50ZSAoLi4uKVxyXG4gICAgICAgIHRoaXMuZG90Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAwLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG90cyA9ICcuJy5yZXBlYXQodGhpcy5kb3RDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgSW50ZW50YW5kbyByZWNvbmVjdGFyJHtkb3RzfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbmVyIGRlIHJlY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25SZWNvbm5lY3RlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIEludGVudG9zIGRlIHJlY29uZXhpw7NuIFxyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tUaW1lciA9IHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAwLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogdGhpcy5hdHRlbXB0UmVjb25uZWN0LFxyXG4gICAgICAgICAgICBjYWxsYmFja1Njb3BlOiB0aGlzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFByaW1lciBpbnRlbnRvIGlubWVkaWF0b1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF0dGVtcHRSZWNvbm5lY3QoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNDaGVja2luZykgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuaXNDaGVja2luZyA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50Kys7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dC5zZXRUZXh0KGBJbnRlbnRvczogJHt0aGlzLmF0dGVtcHRDb3VudH1gKTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgY29ubmVjdGlvbk1hbmFnZXIuY2hlY2tDb25uZWN0aW9uKCk7XHJcbiAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgdGhpcy5pc0NoZWNraW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uUmVjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgLy8gTGltcGlhciB0aW1lcnNcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja1RpbWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tUaW1lci5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja1RpbWVyID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZXIgbGlzdGVuZXJcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBNZW5zYWplIGRlIMOpeGl0b1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCfCoUNvbmV4acOzbiByZXN0YWJsZWNpZGEhJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcblxyXG4gICAgICAgIC8vIFJlYW51ZGFyIGVzY2VuYSBhbnRlcmlvciB5IGRldGVuZXIgbGEgYWN0dWFsXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJldmlvdXNTY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gT2J0ZW5lciBsYSBlc2NlbmEgYW50ZXJpb3IgeSByZS1hZ3JlZ2FyIHN1IGxpc3RlbmVyXHJcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lU2NlbmUgPSB0aGlzLnNjZW5lLmdldCh0aGlzLnByZXZpb3VzU2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVTY2VuZSAmJiBnYW1lU2NlbmUuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIoZ2FtZVNjZW5lLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZSh0aGlzLnByZXZpb3VzU2NlbmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIExpbXBpZXphIGV4dHJhIHBvciBzZWd1cmlkYWRcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja1RpbWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tUaW1lci5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gZGVzcHVlcyBkZSBoYWNlciBjbGljayBlbiBcIkp1Z2FyXCIgLSBzZWxlY2Npb24gZGUgbW9kbyBsb2NhbCB1IG9ubGluZVxyXG5pbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lTW9kZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lTW9kZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBDYWphIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXRvcmlhbEJveCcsICdhc3NldHMvY2FqYS5wbmcnKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdFeGl0QnV0dG9uJywgJ2Fzc2V0cy9zYWxpci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRCdXR0b25Ib3ZlcicsICdhc3NldHMvc2FsaXJIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIGp1Z2FyIGVuIGxvY2FsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdMb2NhbEJ1dHRvbicsICdhc3NldHMvanVnYXJMb2NhbC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0xvY2FsQnV0dG9uSG92ZXInLCAnYXNzZXRzL2p1Z2FyTG9jYWxIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIGp1Z2FyIGVuIG9ubGluZVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnT25saW5lQnV0dG9uJywgJ2Fzc2V0cy9qdWdhck9ubGluZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ09ubGluZUJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9qdWdhck9ubGluZUhvdmVyLnBuZycpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCl7XHJcbiAgICAgICAgLy8gZGltZW5zaW9uZXMgZGUgbGEgcGFudGFsbGFcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAndHV0b3JpYWxCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gZGUgc2FsaXIgKHgpXHJcbiAgICAgICAgY29uc3QgZXhpdEJ0biA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNjcwLCAnRXhpdEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA2NzAsICdFeGl0QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChleGl0QnRuLmRlcHRoICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXhpdEJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIENpZXJyYSBsYSB2ZW50YW5hIGRlbCBuYXZlZ2Fkb3IgbyBwZXN0YcOxYVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDcwMCwgMTgwLCAnTW9kbyBkZSBqdWVnbycseyBcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JywgZmlsbDogJyNkNGVhZjFmZid9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgLy8gQm90w7NuIGRlIGp1ZWdvIGxvY2FsXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC5pbWFnZSgzMDUsIDM0MCwgJ0xvY2FsQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBsb2NhbEJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMzA1LCAzNDAsICdMb2NhbEJ1dHRvbkhvdmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC43NSlcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgobG9jYWxCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsb2NhbEJ0bi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbG9jYWxCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnTGV2ZWxTZWxlY3RTY2VuZScpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTsgLy8gY2llcnJhIGxhIGVzY2VuYSBkZSBzZWxlY2Npb24gZGUgbW9kbyBkZSBqdWVnb1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBKdWVnbyBPbmxpbmVcclxuICAgICAgICBjb25zdCBvbmxpbmVCdG4gPSB0aGlzLmFkZC5pbWFnZSgxMDk1LCAzNDAsICdPbmxpbmVCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNzUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIG9ubGluZUJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoMTA5NSwgMzQwLCAnT25saW5lQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjc1KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXREZXB0aChvbmxpbmVCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBvbmxpbmVCdG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG9ubGluZUJ0bi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSB0aGlzLnJlZ2lzdHJ5LmdldCgndXNlcicpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdBdXRoU2NlbmUnLCB7IGRlc3RpbmF0aW9uOiAnT25saW5lTG9iYnlTY2VuZScgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdPbmxpbmVMb2JieVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIi8vIHNyYy9jbGllbnQvc2NlbmVzL0xvYmJ5U2NlbmUuanNcclxuaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IHdzU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL1dlYlNvY2tldFNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9iYnlTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcignTG9iYnlTY2VuZScpO1xyXG4gIH1cclxuXHJcbiBcclxuICBjcmVhdGUoKSB7XHJcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuY2FtZXJhcy5tYWluLndpZHRoO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0O1xyXG5cclxuICAgIC8vIEZvbmRvXHJcbiAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgwNzA3MjIsIDAuOSkuc2V0T3JpZ2luKDApO1xyXG5cclxuICAgIC8vIFTDrXR1bG9cclxuICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxMDAsICdNVUxUSUpVR0FET1IgT05MSU5FJywge1xyXG4gICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gU3VidMOtdHVsb1xyXG4gICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDE2MCwgJ0ZpcmVib3kgJiBXYXRlcmdpcmwgU3R5bGUnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnIzg4ODg4OCdcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIEVzdGFkbyBkZSBjb25leGnDs25cclxuICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyIC0gNTAsICdDb25lY3RhbmRvIGFsIHNlcnZpZG9yLi4uJywge1xyXG4gICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBDb250YWRvciBkZSBqdWdhZG9yZXNcclxuICAgIHRoaXMucGxheWVyQ291bnRUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgKyAyMCwgJycsIHtcclxuICAgICAgZm9udFNpemU6ICcyMnB4JyxcclxuICAgICAgY29sb3I6ICcjMDBmZjAwJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gSW5kaWNhZG9yIGRlIGNhcmdhIChwdW50b3MgYW5pbWFkb3MpXHJcbiAgICB0aGlzLmxvYWRpbmdEb3RzID0gJyc7XHJcbiAgICB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICBkZWxheTogNTAwLFxyXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmlzQWN0aXZlKCdMb2JieVNjZW5lJykpIHtcclxuICAgICAgICAgIHRoaXMubG9hZGluZ0RvdHMgPSAodGhpcy5sb2FkaW5nRG90cy5sZW5ndGggPj0gMykgPyAnJyA6IHRoaXMubG9hZGluZ0RvdHMgKyAnLic7XHJcbiAgICAgICAgICBpZiAodGhpcy5zdGF0dXNUZXh0LnRleHQuaW5jbHVkZXMoJ0VzcGVyYW5kbycpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBFc3BlcmFuZG8gb3BvbmVudGUke3RoaXMubG9hZGluZ0RvdHN9YCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBsb29wOiB0cnVlXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBCb3TDs24gZGUgY2FuY2VsYXJcclxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLSAxMDAsICfinYwgQ2FuY2VsYXInLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmNjY2NicsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJyMzMzMzMzMnLFxyXG4gICAgICBwYWRkaW5nOiB7IHg6IDIwLCB5OiAxMCB9XHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgY2FuY2VsQnV0dG9uLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzU1NTU1NScsIGNvbG9yOiAnI2ZmMDAwMCcgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjYW5jZWxCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgIGNhbmNlbEJ1dHRvbi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMzMzMzMzMnLCBjb2xvcjogJyNmZjY2NjYnIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDb25lY3RhciBhbCBzZXJ2aWRvciBXZWJTb2NrZXRcclxuICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBjb25uZWN0VG9TZXJ2ZXIoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDb25lY3RhciBhbCBXZWJTb2NrZXRcclxuICAgICAgYXdhaXQgd3NTZXJ2aWNlLmNvbm5lY3QoKTtcclxuICAgICAgXHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdFc3BlcmFuZG8gb3BvbmVudGUnKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcblxyXG4gICAgICAvLyBSZWdpc3RyYXIgaGFuZGxlcnMgZGUgbWVuc2FqZXNcclxuICAgICAgdGhpcy5xdWV1ZVN0YXR1c0hhbmRsZXIgPSB0aGlzLmhhbmRsZVF1ZXVlU3RhdHVzLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuZ2FtZVN0YXJ0SGFuZGxlciA9IHRoaXMuaGFuZGxlR2FtZVN0YXJ0LmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuY29ubmVjdGlvbkxvc3RIYW5kbGVyID0gdGhpcy5oYW5kbGVDb25uZWN0aW9uTG9zdC5iaW5kKHRoaXMpO1xyXG5cclxuICAgICAgd3NTZXJ2aWNlLm9uKCdxdWV1ZVN0YXR1cycsIHRoaXMucXVldWVTdGF0dXNIYW5kbGVyKTtcclxuICAgICAgd3NTZXJ2aWNlLm9uKCdnYW1lU3RhcnQnLCB0aGlzLmdhbWVTdGFydEhhbmRsZXIpO1xyXG4gICAgICB3c1NlcnZpY2Uub24oJ2Nvbm5lY3Rpb25Mb3N0JywgdGhpcy5jb25uZWN0aW9uTG9zdEhhbmRsZXIpO1xyXG5cclxuICAgICAgLy8gVW5pcnNlIGEgbGEgY29sYVxyXG4gICAgICB3c1NlcnZpY2Uuam9pblF1ZXVlKCk7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNvbmVjdGFuZG8gYWwgc2Vydmlkb3I6JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRXJyb3IgZGUgY29uZXhpw7NuJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICBcclxuICAgICAgLy8gQm90w7NuIGRlIHJlaW50ZW50YXJcclxuICAgICAgY29uc3QgcmV0cnlCdXR0b24gPSB0aGlzLmFkZC50ZXh0KHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC8gMiwgdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0IC8gMiArIDEwMCwgXHJcbiAgICAgICAgJ/CflIQgUmVpbnRlbnRhcicsIHtcclxuICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzQ0NDRmZicsXHJcbiAgICAgICAgcGFkZGluZzogeyB4OiAyMCwgeTogMTAgfVxyXG4gICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICByZXRyeUJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgcmV0cnlCdXR0b24uZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlUXVldWVTdGF0dXMoZGF0YSkge1xyXG4gICAgdGhpcy5wbGF5ZXJDb3VudFRleHQuc2V0VGV4dChgSnVnYWRvcmVzIGVuIGNvbGE6ICR7ZGF0YS5wb3NpdGlvbn0vMmApO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlR2FtZVN0YXJ0KGRhdGEpIHtcclxuICAgIGNvbnNvbGUubG9nKCfwn46uIMKhUGFydGlkYSBlbmNvbnRyYWRhIScsIGRhdGEpO1xyXG4gICAgXHJcbiAgICAvLyBHdWFyZGFyIGVsIHJvbCBkZWwganVnYWRvclxyXG4gICAgd3NTZXJ2aWNlLnNldFBsYXllclJvbGUoZGF0YS5yb2xlKTtcclxuICAgIFxyXG4gICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ8KhUGFydGlkYSBlbmNvbnRyYWRhIScpO1xyXG4gICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dC5zZXRUZXh0KCdJbmljaWFuZG8ganVlZ28uLi4nKTtcclxuXHJcbiAgICAvLyBUcmFuc2ljacOzbiBhIGxhIGVzY2VuYSBkZSBqdWVnbyBkZXNwdcOpcyBkZSAxIHNlZ3VuZG9cclxuICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwLCAoKSA9PiB7XHJcbiAgICAgIC8vIFBhc2FyIGVsIHJvbCBhbCBHYW1lU2NlbmVcclxuICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJywgeyBcclxuICAgICAgICBpc011bHRpcGxheWVyOiB0cnVlLFxyXG4gICAgICAgIHBsYXllclJvbGU6IGRhdGEucm9sZSxcclxuICAgICAgICByb29tSWQ6IGRhdGEucm9vbUlkXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVDb25uZWN0aW9uTG9zdCgpIHtcclxuICAgIGNvbnNvbGUubG9nKCfinYwgQ29uZXhpw7NuIHBlcmRpZGEgZW4gTG9iYnknKTtcclxuICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25leGnDs24gcGVyZGlkYScpO1xyXG4gICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dC5zZXRUZXh0KCcnKTtcclxuXHJcbiAgICAvLyBWb2x2ZXIgYWwgbWVuw7ogZGVzcHXDqXMgZGUgMiBzZWd1bmRvc1xyXG4gICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGxlYXZlUXVldWUoKSB7XHJcbiAgICAvLyBMaW1waWFyIGhhbmRsZXJzXHJcbiAgICBpZiAodGhpcy5xdWV1ZVN0YXR1c0hhbmRsZXIpIHtcclxuICAgICAgd3NTZXJ2aWNlLm9mZigncXVldWVTdGF0dXMnLCB0aGlzLnF1ZXVlU3RhdHVzSGFuZGxlcik7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5nYW1lU3RhcnRIYW5kbGVyKSB7XHJcbiAgICAgIHdzU2VydmljZS5vZmYoJ2dhbWVTdGFydCcsIHRoaXMuZ2FtZVN0YXJ0SGFuZGxlcik7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5jb25uZWN0aW9uTG9zdEhhbmRsZXIpIHtcclxuICAgICAgd3NTZXJ2aWNlLm9mZignY29ubmVjdGlvbkxvc3QnLCB0aGlzLmNvbm5lY3Rpb25Mb3N0SGFuZGxlcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2FsaXIgZGUgbGEgY29sYSB5IGRlc2NvbmVjdGFyXHJcbiAgICB3c1NlcnZpY2UubGVhdmVRdWV1ZSgpO1xyXG4gICAgd3NTZXJ2aWNlLmRpc2Nvbm5lY3QoKTtcclxuXHJcbiAgICAvLyBWb2x2ZXIgYWwgbWVuw7pcclxuICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gIH1cclxuXHJcbiAgc2h1dGRvd24oKSB7XHJcbiAgICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBSYW5raW5nU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1JhbmtpbmdTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0b3JpYWxCb3gnLCAnYXNzZXRzL2NhamEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b24nLCAnYXNzZXRzL2NlcnJhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0V4aXRNaW5CdXR0b25Ib3ZlcicsICdhc3NldHMvY2VycmFySG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIGRlIHJhbmtpbmdcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1JhbmtpbmdUZXh0JywgJ2Fzc2V0cy90ZXh0b19yYW5raW5nLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB3ID0gdGhpcy5zY2FsZS53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gdGhpcy5zY2FsZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7ICAgIC8vcmVmcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIC8vIFJlY3TDoW5ndWxvIHF1ZSBjdWJyZSB0b2RhIGxhIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHcsIGgsIDB4MDcwNzIyLCAwLjkpLnNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgLy8gQ2FqYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDcwMCwgNDAwLCAndHV0b3JpYWxCb3gnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvIGVzdGlsaXphZG8gc2Vnw7puIGVsIEdERCAodGlwb2dyYWbDrWEgcsO6bmljYS9jbGFyYSlcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg3MDAsIDIxMCwgJ1JhbmtpbmdUZXh0JylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKTtcclxuXHJcblxyXG4gICAgICAgIC8vIENvbnRlbmVkb3IgcGFyYSBsYSBsaXN0YVxyXG4gICAgICAgIHRoaXMuZmV0Y2hSYW5raW5nKCk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBzYWxpciAoeClcclxuICAgICAgICBjb25zdCBFeGl0QnRuID0gdGhpcy5hZGQuaW1hZ2UoMTA2OSwgMTcwLCAnRXhpdE1pbkJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSgxMDY4LCAxNzAsICdFeGl0TWluQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKEV4aXRCdG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBFeGl0QnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSZWdyZXNhciBhIGxhIGVzY2VuYSBvcmlnaW5hbFxyXG4gICAgICAgIEV4aXRCdG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGZldGNoUmFua2luZygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBMbGFtYWRhIGFsIGVuZHBvaW50IHF1ZSBjcmVhcmVtb3MgZW4gdXNlclJvdXRlcy5qc1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3VzZXJzL3JhbmtpbmcnKTtcclxuICAgICAgICAgICAgY29uc3QgcGxheWVycyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgICAgICAgIHBsYXllcnMuZm9yRWFjaCgocGxheWVyLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeVBvcyA9IDIwMCArIChpbmRleCAqIDUwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gaW5kZXggPCAzID8gJyNmZmZmMDAnIDogJyNmZmZmZmYnOyAvLyBUb3AgMyBlbiBkb3JhZG9cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudGV4dCh3ICogMC4zLCB5UG9zLCBgJHtpbmRleCArIDF9LiAke3BsYXllci51c2VybmFtZX1gLCB7IFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsIGZpbGw6IGNvbG9yIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIEZvcm1hdGVhciBlbCB0aWVtcG8gKHN1cG9uaWVuZG8gcXVlIGd1YXJkYXMgbWlsaXNlZ3VuZG9zIG8gc2VndW5kb3MpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC50ZXh0KHcgKiAwLjcsIHlQb3MsIGAke3BsYXllci5iZXN0VGltZX1zYCwgeyBcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLCBmaWxsOiBjb2xvciBcclxuICAgICAgICAgICAgICAgIH0pLnNldE9yaWdpbigxLCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIG9idGVuZXIgcmFua2luZzpcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyLCAzMDAsICdFcnJvciBhbCBjb25lY3RhciBjb24gZWwgYm9zcXVlLi4uJywgeyBcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsIGZpbGw6ICcjZmYwMDAwJyBcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZUxvY2FsU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVMb2NhbFNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzU29sZW5uZVdhbGtpbmcgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLmxvYWQuYXRsYXMoJ25pdmlhJywgJ2Fzc2V0cy9uaXZpYS9uaXZpYV9zaGVldC5wbmcnLCAnYXNzZXRzL25pdmlhL25pdmlhX3NoZWV0Lmpzb24nKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXRsYXMoJ3NvbGVubmUnLCAnYXNzZXRzL3NvbGVubmUvc29sZW5uZV9zaGVldC5wbmcnLCAnYXNzZXRzL3NvbGVubmUvc29sZW5uZV9zaGVldC5qc29uJyk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBjcmlzdGFsZXNcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3N1bmRyb3Bfc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL3N1bmRyb3AucG5nJywgeyBmcmFtZVdpZHRoOiAyMTQsIGZyYW1lSGVpZ2h0OiAyMDYgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uZHJvcF9zaGVldCcsICdhc3NldHMvaXRlbXMvbW9vbmRyb3AucG5nJywgeyBmcmFtZVdpZHRoOiAyMTQsIGZyYW1lSGVpZ2h0OiAyMDYgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnc3VuX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9zdW4ucG5nJywgeyBmcmFtZVdpZHRoOiAzNDcsIGZyYW1lSGVpZ2h0OiAzMjkgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdtb29uX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9tb29uLnBuZycsIHsgZnJhbWVXaWR0aDogMzQ3LCBmcmFtZUhlaWdodDogMzI5IH0pO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZWwgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwxL2ZvbmRvX2FiYWpvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhdGFmb3JtYXMnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvcGxhdGFmb3JtYXNfYWJham8ucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBlbGVtZW50b3MgZGVsIGVzY2VuYXJpb1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhTml2ZWwxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwxL3B1ZXJ0YV9jbGFyYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYU5pdmVsMScsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMS9wdWVydGFfb3NjdXJhLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmExLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmEyTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTNOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYTFOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX29zY3VyYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFPc2N1cmEyTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9vc2N1cmEyLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uQ2xhcm9OaXZlbDEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvYm90b25fY2xhcm8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk9zY3VybzFOaXZlbDEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDEvYm90b25fb3NjdXJvLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25DbGFyb05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9jbGFyby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uT3NjdXJvMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9ib3Rvbl9vc2N1cm8xLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Pc2N1cm8yTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX29zY3VybzIucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9ydGFsJywgJ2Fzc2V0cy90cmFtcGFzL3B1ZXJ0YUZpbmFsLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgYm90b25lc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGF1c2VCdXR0b24nLCAnYXNzZXRzL3BhdXNhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGF1c2VCdXR0b25Ib3ZlcicsICdhc3NldHMvcGF1c2FIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc0J1dHRvbicsICdhc3NldHMvYWp1c3Rlcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1NldHRpbmdzQnV0dG9uSG92ZXInLCAnYXNzZXRzL2FqdXN0ZXNIb3Zlci5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIHJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbicsICdhc3NldHMvcmVpbmljaWFyLlBORycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUmVzdGFydEJ1dHRvbkhvdmVyJywgJ2Fzc2V0cy9yZWluaWNpYXJIb3Zlci5QTkcnKTtcclxuXHJcbiAgICAgICAgLy9EYcOxb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZGFtYWdlJywgJ2Fzc2V0cy90cmFtcGFzL2xpYW5hc19wbGF0YWZvcm1hcy5wbmcnKVxyXG5cclxuICAgICAgICAvLyBFZmVjdG9zIGRlIHNvbmlkbyB5IG3DunNpY2EgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3dhbGtTb3VuZCcsICdhc3NldHMvc29uaWRvL2NhbWluYXIubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0U3VuQ3J5c3RhbFNvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY3Jpc3RhbENsYXJvLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnY29sbGVjdE1vb25DcnlzdGFsU291bmQnLCAnYXNzZXRzL3Nvbmlkby9jcmlzdGFsT3NjdXJvLm1wMycpO1xyXG5cclxuICAgICAgICAvLyBNw5pTSUNBIEVTUEVDw41GSUNBIERFTCBKVUVHT1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnR2FtZU11c2ljJywgJ2Fzc2V0cy9zb25pZG8vanVlZ28ubXAzJyk7IC8vIGFqdXN0YSBydXRhIHNpIGhhY2UgZmFsdGFcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgbWFwV2lkdGhJblBpeGVscyA9IDE0MjA7XHJcbiAgICAgICAgY29uc3QgbWFwSGVpZ2h0SW5QaXhlbHMgPSA4MDA7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIERldGVuZXIgc29sbyBsYSBtw7pzaWNhIGRlbCBtZW7DuiBzaSBlc3TDoSBzb25hbmRvXHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ01lbnVNdXNpYycpO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIGxhIG3DunNpY2EgZGVsIGp1ZWdvXHJcbiAgICAgICAgaWYgKHRoaXMuY2FjaGUuYXVkaW8uZXhpc3RzKCdHYW1lTXVzaWMnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ0dhbWVNdXNpYycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjF9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFncmVnYXIgZm9uZG9cclxuICAgICAgICAvL2NvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvMScpLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICAvL2JnLnNldERpc3BsYXlTaXplKG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgwLCAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgYmcuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xyXG5cclxuICAgICAgICBjb25zdCBwbGF0YWZvcm1hID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUoMCwgMCwgJ3BsYXRhZm9ybWFzJykuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHBsYXRhZm9ybWEuc2V0RGlzcGxheVNpemUobWFwV2lkdGhJblBpeGVscywgbWFwSGVpZ2h0SW5QaXhlbHMpO1xyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFjacOzbiBkZSBsYSBmw61zaWNhIGRlbCBtdW5kb1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy53b3JsZC5ncmF2aXR5LnkgPSAxNTAwO1xyXG5cclxuICAgICAgICAvLyBDcmVhY2nDs24gZGUgbG9zIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gVEVNUE9SQUw6IENyZWFyIHVuIHN1ZWxvIHNpbXBsZSBwYXJhIHF1ZSBwdWVkYW4gc2FsdGFyIHkgY2FlclxyXG4gICAgICAgIHRoaXMuZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIG1hcEhlaWdodEluUGl4ZWxzLCBtYXBXaWR0aEluUGl4ZWxzLCAxMCwgMHgwMEZGMDAsIDApLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZ3JvdW5kLCB0cnVlKTsgLy8gdHJ1ZSA9IGVzdMOhdGljb1xyXG5cclxuICAgICAgICAvL0NyZWFjacOzbiBkZSBsYXMgcGxhdGFmb3JtYXNcclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWExID0gdGhpcy5hZGQucmVjdGFuZ2xlKDIwMCwgNDgwLCAzMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTEsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWEyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDU3NSwgNDgwLCAxNTAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTIsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWEzID0gdGhpcy5hZGQucmVjdGFuZ2xlKDEwMDAsIDU1MCwgNDAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWEzLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hNCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgzMDAsIDE1MCwgMjAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWE0LCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF0YWZvcm1hNSA9IHRoaXMuYWRkLnJlY3RhbmdsZSg4NzUsIDI3NSwgMTUwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnBsYXRhZm9ybWE1LCB0cnVlKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMucGFyZWQxID0gdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgNTAsIDIwLCAyMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wYXJlZDEsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBhcmVkMiA9IHRoaXMuYWRkLnJlY3RhbmdsZSg5MDAsIDcwMCwgMjAwLCAzMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wYXJlZDIsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmV4aXRQb3J0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgxMDAwLCAxMCwgJ3BvcnRhbCcpLnNldFNjYWxlKDEpO1xyXG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZXhpdFBvcnRhbCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsLmJvZHkuZW5hYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHB1ZXJ0YXNcclxuICAgICAgICB0aGlzLmRhcmtEb29yMSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDcwMCwgNDAwLCAncHVlcnRhT3NjdXJhTml2ZWwxJykuc2V0U2NhbGUoMC43KTtcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSg3NTAsIDQwMCwgJ3B1ZXJ0YUNsYXJhTml2ZWwxJykuc2V0U2NhbGUoMC43KTtcclxuXHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjFIaXRib3ggPSB0aGlzLmFkZC5yZWN0YW5nbGUoMjUwLCAzNzUsIDIwLCAzMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYXJrRG9vcjFIaXRib3gsIHRydWUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjFIaXRib3ggPSB0aGlzLmFkZC5yZWN0YW5nbGUoOTIwLCA0MDAsIDIwLCAyODAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5saWdodERvb3IxSGl0Ym94LCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gZGHDsW8gcGxhY2Vob2xkZXJcclxuICAgICAgICB0aGlzLnRyYW1wYSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDQ1MCwgMTUwLCAnZGFtYWdlJykuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB0aGlzLmRhbWFnZSA9IHRoaXMuYWRkLnJlY3RhbmdsZSg0ODAsIDEwMCwgMTAwLCA2MCwgMHgzM2ZmMDAsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIENvbGlzaW9uZXMgZW50cmUgcGVyc29uYWplcyB5IGVsIHN1ZWxvIHkgcGxhdGFmb3JtYXNcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMuZ3JvdW5kKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5ncm91bmQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTEpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hMyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hNCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wbGF0YWZvcm1hNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGxhdGFmb3JtYTUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5wYXJlZDEpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBhcmVkMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBhcmVkMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGFyZWQyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMubGlnaHREb29yMUhpdGJveCk7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5saWdodERvb3IxSGl0Ym94KTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5kYXJrRG9vcjFIaXRib3gpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmRhcmtEb29yMUhpdGJveCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygnbml2aWEnKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUFuaW1hdGlvbnMoJ3NvbGVubmUnKTtcclxuXHJcbiAgICAgICAgLy8gSW5pY2lhciBsYSBhbmltYWNpw7NuICdydW4nIHBhcmEgcHJvYmFyIChzZSBjb3JyZWdpcsOhIGVuIHVwZGF0ZSlcclxuICAgICAgICB0aGlzLm5pdmlhLnBsYXkoJ25pdmlhX2lkbGUnKTtcclxuICAgICAgICB0aGlzLnNvbGVubmUucGxheSgnc29sZW5uZV9pZGxlJyk7XHJcblxyXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3Mgb2JqZXRvc1xyXG4gICAgICAgIHRoaXMuY3J5c3RhbHMgPSB0aGlzLnBoeXNpY3MuYWRkLmdyb3VwKHthbGxvd0dyYXZpdHk6IGZhbHNlLCBpbW1vdmFibGU6IHRydWV9KTtcclxuICAgICAgICB0aGlzLm1vb25DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoMTEwMCwgNDAwLCAnbW9vbmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSk7XHJcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoMTAwLCAxMDAsICdzdW5kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgIC8vdGhpcy5zdW5DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUobWFwLndpZHRoSW5QaXhlbHMgLSAyMDAsIDMwMCwgJ3N1bkNyeXN0YWwnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgLy90aGlzLm1ldGFQb3J0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZShtYXBXaWR0aEluUGl4ZWxzIC8gMiwgNTAsICdtZXRhUG9ydGFsJykuc2V0SW1tb3ZhYmxlKHRydWUpLnNldEJvZHlTaXplKDY0LCA2NCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gQW5pbWFjaW9uZXMgZGUgbG9zIG9iamV0b3NcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3N1bmRyb3BfaWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnc3VuZHJvcF9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogNyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ21vb25kcm9wX2lkbGUnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ21vb25kcm9wX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiA3IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwucGxheSgnbW9vbmRyb3BfaWRsZScpO1xyXG4gICAgICAgIHRoaXMuc3VuQ3J5c3RhbC5wbGF5KCdzdW5kcm9wX2lkbGUnKTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZWwgSWNvbm8gZGVsIFNvbCAoSFVEKVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnc3VuX2h1ZF9hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdzdW5fc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGVsIEljb25vIGRlIGxhIEx1bmEgKEhVRClcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ21vb25faHVkX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ21vb25fc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBkZSBMdW5hIChOaXZpYSkgLSBJenF1aWVyZGFcclxuICAgICAgICB0aGlzLm1vb25IVUQgPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCAtIDIwLCA0MCwgJ21vb25fc2hlZXQnKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjE1KSAvLyBFc2NhbGEgTVVZIHJlZHVjaWRhLCB5YSBxdWUgbG9zIHNwcml0ZXNoZWV0cyBzb24gZ3JhbmRlcyAoMzQ3eDMyOSlcclxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKVxyXG4gICAgICAgICAgICAucGxheSgnbW9vbl9odWRfYW5pbScpOyAvLyBJbmljaWEgbGEgYW5pbWFjacOzblxyXG5cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgZGUgU29sIChTb2xlbm5lKSAtIERlcmVjaGFcclxuICAgICAgICB0aGlzLnN1bkhVRCA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYICsgMjAsIDQwLCAnc3VuX3NoZWV0JylcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4xNSkgLy8gRXNjYWxhIE1VWSByZWR1Y2lkYVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgICAgIC5wbGF5KCdzdW5faHVkX2FuaW0nKTsgLy8gSW5pY2lhIGxhIGFuaW1hY2nDs25cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBsYSByZWNvbGVjY2nDs24gZGUgY3Jpc3RhbGVzXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubW9vbkNyeXN0YWwsIHRoaXMuY29sbGVjdE1vb25DcnlzdGFsLCBudWxsLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLnN1bkNyeXN0YWwsIHRoaXMuY29sbGVjdFN1bkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGZpbiBkZSBuaXZlbCAoT3ZlcmxhcCBkZWwgcG9ydGFsKVxyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubWV0YVBvcnRhbCwgdGhpcy5jaGVja0xldmVsQ29tcGxldGUsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5tZXRhUG9ydGFsLCB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSwgbnVsbCwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIENvbGlzaW9uZXMgZW50cmUgcGVyc29uYWplcyB5IGVsIG5pdmVsXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIGdlb21ldHJ5TGF5ZXIpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIGdlb21ldHJ5TGF5ZXIpO1xyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFjacOzbiBkZSBsYSBjw6FtYXJhXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0Qm91bmRzKDAsIDAsIG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTsgIFxyXG5cclxuICAgICAgICAvLyBDb250cm9sIGRlIHBhdXNhXHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5leGl0UG9ydGFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZXhpdFBvcnRhbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBwYXVzYVxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDQwLCA0MCwgJ1BhdXNlQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKSBcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC41KSBcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMCk7IFxyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDQwLCA0MCwgJ1BhdXNlQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMucGF1c2VCdXR0b24uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpOyBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIGFqdXN0ZXNcclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAxMjAsIDQwLCAnU2V0dGluZ3NCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApIFxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTsgXHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gMTIwLCA0MCwgJ1NldHRpbmdzQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMuc2V0dGluZ3NCdXR0b24uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnU2V0dGluZ3NTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3VwZGF0ZScsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBoeXNpY3Mub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmV4aXRQb3J0YWwpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5leGl0UG9ydGFsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmRhbWFnZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnR2FtZU92ZXJTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLmRhbWFnZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnR2FtZU92ZXJTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbFkgPSAxNTAwO1xyXG5cclxuICAgICAgICAgLy8gQ3JlYWNpw7NuIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLm5pdmlhID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTMwMCwgaW5pdGlhbFksICduaXZpYScpLnNldEJvdW5jZSgwLjIpLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNvbGVubmUgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxMDAsIGluaXRpYWxZLCAnc29sZW5uZScpLnNldEJvdW5jZSgwLjIpLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRTaXplKDEyMCwgMjQwKTtcclxuICAgICAgICB0aGlzLm5pdmlhLnNldE9mZnNldCgxMTAsIDUwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldFNpemUoMTIwLCAyNDApO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRPZmZzZXQoMTEwLCA1MCk7XHJcblxyXG4gICAgICAgIC8vIEVzY2FsYWRvIGRlIGxvcyBwZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRTY2FsZSgwLjUpOyBcclxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0U2NhbGUoMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbGVzIGRlIE5pdmlhIChUZWNsYXMgV0FTRClcclxuICAgICAgICB0aGlzLm5pdmlhQ29udHJvbHMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoe1xyXG4gICAgICAgICAgICBsZWZ0OiAnQScsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAnRCcsXHJcbiAgICAgICAgICAgIHVwOiAnVycsICAgIC8vIHNhbHRvXHJcbiAgICAgICAgICAgIGludGVyYWN0OiAnRSdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbGVzIGRlIFNvbGVubmUgKEZsZWNoYXMpXHJcbiAgICAgICAgdGhpcy5zb2xlbm5lQ29udHJvbHMgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleXMoe1xyXG4gICAgICAgICAgICBsZWZ0OiAnTEVGVCcsXHJcbiAgICAgICAgICAgIHJpZ2h0OiAnUklHSFQnLFxyXG4gICAgICAgICAgICB1cDogJ1VQJywgICAvLyBzYWx0b1xyXG4gICAgICAgICAgICBpbnRlcmFjdDogJ1NQQUNFJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjcmVhdGVBbmltYXRpb25zKGtleSkge1xyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgY29ycmVyXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1fcnVuYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgcHJlZml4OiAncnVuXycsIHN0YXJ0OiAxLCBlbmQ6IDQgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTAsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgc2FsdG9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogYCR7a2V5fV9qdW1wYCxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOYW1lcyhrZXksIHsgcHJlZml4OiAnanVtcF8nLCBzdGFydDogMSwgZW5kOiA2IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZSBpZGxlXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1faWRsZWAsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IGZyYW1lczogWydpZGxlXzEnXSB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxLFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQYXVzZWRTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAodGhpcy5pc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHtvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICAgICAgY29uc3QgbmV3UGF1c2VkU3RhdGUgPSAhdGhpcy5pc1BhdXNlZDtcclxuICAgICAgICB0aGlzLnNldFBhdXNlZFN0YXRlKG5ld1BhdXNlZFN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVTZXR0aW5ncygpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnU2V0dGluZ3NTY2VuZScpOyBcclxuICAgICAgICAvL3RoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlKCl7XHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBwYXVzYSBjb24gdGVjbGEgRVNDXHJcbiAgICAgICAgaWYodGhpcy5lc2NLZXkuaXNEb3duKXtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTW92aW1pZW50byBkZSBOaXZpYVxyXG4gICAgICAgIHRoaXMuaGFuZGxlUGxheWVyTW92ZW1lbnQodGhpcy5uaXZpYSwgdGhpcy5uaXZpYUNvbnRyb2xzKTtcclxuXHJcbiAgICAgICAgLy8gTW92aW1pZW50byBkZSBTb2xlbm5lXHJcbiAgICAgICAgdGhpcy5oYW5kbGVQbGF5ZXJNb3ZlbWVudCh0aGlzLnNvbGVubmUsIHRoaXMuc29sZW5uZUNvbnRyb2xzKTtcclxuXHJcbiAgICAgICAgdGhpcy5oYW5kbGVDYW1lcmFBbmRDb25zdHJhaW50cygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMuZXhpdFBvcnRhbC52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKHRoaXMuZXhpdFBvcnRhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUNhbWVyYUFuZENvbnN0cmFpbnRzKCkge1xyXG4gICAgICAgIGNvbnN0IG5pdmlhWSA9IHRoaXMubml2aWEueTtcclxuICAgICAgICBjb25zdCBzb2xlbm5lWSA9IHRoaXMuc29sZW5uZS55O1xyXG5cclxuICAgICAgICAvLyBDZW50cmFyIGxhIGPDoW1hcmEgZW50cmUgYW1ib3MgcGVyc29uYWplc1xyXG4gICAgICAgIGNvbnN0IG1pZFkgPSAobml2aWFZICsgc29sZW5uZVkpIC8gMjtcclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYXIgbGEgcG9zaWNpw7NuIG1lZGlhIGVuIFlcclxuICAgICAgICBsZXQgZGVzaXJlZENhbWVyYVkgPSBtaWRZO1xyXG5cclxuICAgICAgICAvLyBEZXNwbGF6YXIgbGEgY8OhbWFyYSBzdWF2ZW1lbnRlXHJcbiAgICAgICAgY29uc3QgbGVycEZhY3RvciA9IDAuMDU7XHJcbiAgICAgICAgY29uc3QgY2FtZXJhSGVpZ2h0ID0gdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0O1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zY3JvbGxZID0gUGhhc2VyLk1hdGguTGluZWFyKFxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zY3JvbGxZLCBcclxuICAgICAgICAgICAgZGVzaXJlZENhbWVyYVkgLSBjYW1lcmFIZWlnaHQgLyAyLCBcclxuICAgICAgICAgICAgbGVycEZhY3RvclxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIFZpZXdwb3J0IGNvbnN0cmFpbnRcclxuICAgICAgICBjb25zdCBtYXhWZXJ0aWNhbEdhcCA9IGNhbWVyYUhlaWdodCAqIDAuNzsgLy8gZGlzdGFuY2lhIG3DoXhpbWEgcGVybWl0aWRhIGVudHJlIGxvcyBwZXJzb25hamVzXHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2VZID0gTWF0aC5hYnMobml2aWFZIC0gc29sZW5uZVkpO1xyXG5cclxuICAgICAgICBpZiAoZGlzdGFuY2VZID4gbWF4VmVydGljYWxHYXApIHtcclxuICAgICAgICAgICAgY29uc3QgZmFzdGVyUGxheWVyID0gKG5pdmlhWSA8IHNvbGVubmVZKSA/IHRoaXMubml2aWEgOiB0aGlzLnNvbGVubmU7XHJcbiAgICAgICAgICAgIGNvbnN0IHNsb3dlclBsYXllciA9IChuaXZpYVkgPCBzb2xlbm5lWSkgPyB0aGlzLnNvbGVubmUgOiB0aGlzLm5pdmlhO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNsb3dlclBsYXllci5ib2R5LmJsb2NrZWQuZG93biB8fCBzbG93ZXJQbGF5ZXIueSA+IGZhc3RlclBsYXllci55ICsgbWF4VmVydGljYWxHYXApIHtcclxuICAgICAgICAgICAgICAgIC8vIERldGVuZXIgZWwgYXZhbmNlIHZlcnRpY2FsIChoYWNpYSBhcnJpYmEpIGRlbCBqdWdhZG9yIG3DoXMgcsOhcGlkb1xyXG4gICAgICAgICAgICAgICAgaWYgKGZhc3RlclBsYXllci5ib2R5LnZlbG9jaXR5LnkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmFzdGVyUGxheWVyLmJvZHkudmVsb2NpdHkueSA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk1vdmltaWVudG8gdmVydGljYWwgcmVzdHJpbmdpZG8gcG9yIGVsIGp1Z2Fkb3IgcmV6YWdhZG8uXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVBsYXllck1vdmVtZW50KHBsYXllclNwcml0ZSwgY29udHJvbHMpIHtcclxuICAgICAgICAvLyBWZWxvY2lkYWQgZGVsIG1vdmltaWVudG9cclxuICAgICAgICBjb25zdCBzcGVlZCA9IDQwMDtcclxuICAgICAgICBjb25zdCBqdW1wVmVsb2NpdHkgPSA5MDA7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gcGxheWVyU3ByaXRlLnRleHR1cmUua2V5O1xyXG4gICAgICAgIGNvbnN0IGlzTW92aW5nID0gY29udHJvbHMubGVmdC5pc0Rvd24gfHwgY29udHJvbHMucmlnaHQuaXNEb3duO1xyXG4gICAgICAgIGNvbnN0IGlzR3JvdW5kZWQgPSBwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd247XHJcbiAgICAgICAgbGV0IGFuaW1rZXkgPSAnJztcclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBwYXJhIHJlcHJvZHVjaXIgZWwgc29uaWRvIGRlIGNhbWluYXJcclxuICAgICAgIGlmIChpc01vdmluZyAmJiBpc0dyb3VuZGVkKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICduaXZpYScgJiYgdGhpcy5pc05pdmlhV2Fsa2luZyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IHRoaXMuc291bmQuYWRkKCd3YWxrU291bmQnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcucGxheSgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NvbGVubmUnICYmIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gdGhpcy5zb3VuZC5hZGQoJ3dhbGtTb3VuZCcsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAxIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIERldGVuZXIgZWwgc29uaWRvIHNpIG5vIHNlIGVzdMOhIG1vdmllbmRvIG8gZXN0w6Egc2FsdGFuZG9cclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25pdmlhJyAmJiB0aGlzLmlzTml2aWFXYWxraW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NvbGVubmUnICYmIHRoaXMuaXNTb2xlbm5lV2Fsa2luZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1vdmltaWVudG8gaG9yaXpvbnRhbFxyXG4gICAgICAgIGlmIChjb250cm9scy5sZWZ0LmlzRG93bikge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKC1zcGVlZCk7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRGbGlwWChmYWxzZSk7IC8vIE1pcmFyIGEgbGEgaXpxdWllcmRhXHJcbiAgICAgICAgfSBlbHNlIGlmIChjb250cm9scy5yaWdodC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WChzcGVlZCk7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRGbGlwWCh0cnVlKTsgLy8gTWlyYXIgYSBsYSBkZXJlY2hhXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNhbHRvIChzb2xvIHNpIGVzdMOhIHRvY2FuZG8gZWwgc3VlbG8pXHJcbiAgICAgICAgY29uc3QgaXNKdW1waW5nID0gY29udHJvbHMudXAuaXNEb3duICYmIHBsYXllclNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bjtcclxuXHJcbiAgICAgICAgaWYgKGlzSnVtcGluZykge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlZKC1qdW1wVmVsb2NpdHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBhbmltYWNpb25lc1xyXG4gICAgICAgIGlmICghcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duKSB7XHJcbiAgICAgICAgICAgIC8vIEVuIGVsIGFpcmVcclxuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1fanVtcGA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb250cm9scy5sZWZ0LmlzRG93biB8fCBjb250cm9scy5yaWdodC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgLy8gQ29ycmllbmRvXHJcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X3J1bmA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSWRsZVxyXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9pZGxlYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVwcm9kdWNpciBsYSBhbmltYWNpw7NuIHNvbG8gc2kgZXMgZGlmZXJlbnRlIGEgbGEgYWN0dWFsXHJcbiAgICAgICAgaWYgKHBsYXllclNwcml0ZS5hbmltcy5jdXJyZW50QW5pbT8ua2V5ICE9PSBhbmlta2V5KSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5hbmltcy5wbGF5KGFuaW1rZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBpbnRlcmFjY2nDs25cclxuICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKGNvbnRyb2xzLmludGVyYWN0KSkge1xyXG4gICAgICAgICAgICAvLyBBcXXDrSB2YSBsYSBsw7NnaWNhIGRlIGludGVyYWNjacOzbiAocG9yIGVqZW1wbG8sIGFicmlyIHB1ZXJ0YXMsIHJlY29nZXIgb2JqZXRvcywgZXRjLilcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ludGVyYWNjacOzbiByZWFsaXphZGEnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29sbGVjdE1vb25DcnlzdGFsKHBsYXllciwgY3J5c3RhbCkge1xyXG4gICAgICAgIGNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1vb25IVUQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2NvbGxlY3RNb29uQ3J5c3RhbFNvdW5kJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygnTml2aWEgaGEgcmVjb2dpZG8gZWwgQ3Jpc3RhbCBkZSBsYSBMdW5hJyk7XHJcbiAgICAgICAgdGhpcy51bmxvY2tEYXJrRG9vcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbGxlY3RTdW5DcnlzdGFsKHBsYXllciwgY3J5c3RhbCkge1xyXG4gICAgICAgIGNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zdW5IVUQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2NvbGxlY3RTdW5DcnlzdGFsU291bmQnLCB7IHZvbHVtZTogMC41IH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTb2xlbm5lIGhhIHJlY29naWRvIGVsIENyaXN0YWwgZGVsIFNvbCcpO1xyXG4gICAgICAgIHRoaXMudW5sb2NrTGlnaHREb29yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdW5sb2NrRGFya0Rvb3IoKSB7XHJcbiAgICAgICAgLy8gTMOzZ2ljYSBwYXJhIGRlc2Jsb3F1ZWFyIGxhIHB1ZXJ0YSBvc2N1cmFcclxuICAgICAgICB0aGlzLmRhcmtEb29yMUhpdGJveC5ib2R5LmVuYWJsZSA9IGZhbHNlOyAgIFxyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxSGl0Ym94LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdQdWVydGEgT3NjdXJhIGRlc2Jsb3F1ZWFkYScpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tQb3J0YWxTcGF3bigpO1xyXG4gICAgfVxyXG5cclxuICAgIHVubG9ja0xpZ2h0RG9vcigpIHtcclxuICAgICAgICAvLyBMw7NnaWNhIHBhcmEgZGVzYmxvcXVlYXIgbGEgcHVlcnRhIGNsYXJhXHJcbiAgICAgICAgdGhpcy5saWdodERvb3IxSGl0Ym94LmJvZHkuZW5hYmxlID0gZmFsc2U7ICAgXHJcbiAgICAgICAgdGhpcy5saWdodERvb3IxSGl0Ym94LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yMS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnUHVlcnRhIENsYXJhIGRlc2Jsb3F1ZWFkYScpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tQb3J0YWxTcGF3bigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrUG9ydGFsU3Bhd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCAmJiB0aGlzLnNvbGVubmVIYXNTdW5DcnlzdGFsKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBbWJvcyBjcmlzdGFsZXMgcmVjb2dpZG9zLiBFbCBwb3J0YWwgYXBhcmVjZS4nKTtcclxuICAgICAgICAgICAgdGhpcy5leGl0UG9ydGFsLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5ib2R5LmVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrTGV2ZWxDb21wbGV0ZShwbGF5ZXIsIHBvcnRhbCkge1xyXG4gICAgICAgIC8vIExvcyBkb3MgZGViZW4gdG9jYXIgZWwgcG9ydGFsIHkgdGVuZXIgc3VzIHJlc3BlY3Rpdm9zIGNyaXN0YWxlc1xyXG4gICAgICAgIGlmICh0aGlzLm5pdmlhT25Qb3J0YWwgJiYgdGhpcy5zb2xlbm5lT25Qb3J0YWwgJiYgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsICYmIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwpIHtcclxuICAgICAgICAgICAgLy8gTGFuemFyIGVzY2VuYSBkZSB2aWN0b3JpYSB5IHBhdXNhciBlc3RhIGVzY2VuYVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnVmljdG9yeVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiB0aGlzLnNjZW5lLmtleSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZW5kZ2FtZSgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkp1ZWdvIFRlcm1pbmFkb1wiKTtcclxuICAgICAgICBsZXQgaG92ZXJJbWcgPSBudWxsOyAgICAvL3JlZmVyZW5jaWEgcGFyYSBsYSBpbWFnZW4gaG92ZXJcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYLCB0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJZIC0gMTAwLCBcIsKhTml2ZWwgQ29tcGxldGFkbyFcIiwgeyBcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JywgZmlsbDogJyNGRkZGRkYnIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgICAgICAgICAgLy8gUmVpbmljaWFyIG5pdmVsXHJcbiAgICAgICAgY29uc3QgcmVzdGFydGJ0biA9IHRoaXMuYWRkLmltYWdlKDcwNSwgNDE1LCAnUmVzdGFydEJ1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSg2OTMsIDQyNSwgJ1Jlc3RhcnRCdXR0b25Ib3ZlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0RGVwdGgocmVzdGFydGJ0bi5kZXB0aCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRidG4ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFNjZW5lS2V5ID0gdGhpcy5zY2VuZS5zZXR0aW5ncy5kYXRhLm9yaWdpbmFsU2NlbmU7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChvcmlnaW5hbFNjZW5lS2V5KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMZXZlbDJTY2VuZUxvY2FsIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMZXZlbDJTY2VuZUxvY2FsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9IDA7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9IDA7XHJcbiAgICAgICAgdGhpcy5uaXZpYU9uUG9ydGFsID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIENhcmdhIGRlIGxvcyBwZXJzb25hamVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmF0bGFzKCduaXZpYScsICdhc3NldHMvbml2aWEvbml2aWFfc2hlZXQucG5nJywgJ2Fzc2V0cy9uaXZpYS9uaXZpYV9zaGVldC5qc29uJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF0bGFzKCdzb2xlbm5lJywgJ2Fzc2V0cy9zb2xlbm5lL3NvbGVubmVfc2hlZXQucG5nJywgJ2Fzc2V0cy9zb2xlbm5lL3NvbGVubmVfc2hlZXQuanNvbicpO1xyXG5cclxuICAgICAgICAvLyBDYXJnYSBkZSBsb3MgY3Jpc3RhbGVzXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdzdW5kcm9wX3NoZWV0JywgJ2Fzc2V0cy9pdGVtcy9zdW5kcm9wLnBuZycsIHsgZnJhbWVXaWR0aDogMjE0LCBmcmFtZUhlaWdodDogMjA2IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnbW9vbmRyb3Bfc2hlZXQnLCAnYXNzZXRzL2l0ZW1zL21vb25kcm9wLnBuZycsIHsgZnJhbWVXaWR0aDogMjE0LCBmcmFtZUhlaWdodDogMjA2IH0pO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3N1bl9zaGVldCcsICdhc3NldHMvaXRlbXMvc3VuLnBuZycsIHsgZnJhbWVXaWR0aDogMzQ3LCBmcmFtZUhlaWdodDogMzI5IH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnbW9vbl9zaGVldCcsICdhc3NldHMvaXRlbXMvbW9vbi5wbmcnLCB7IGZyYW1lV2lkdGg6IDM0NywgZnJhbWVIZWlnaHQ6IDMyOSB9KTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGVsIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbzEnLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvZm9uZG9fYXJyaWJhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxhdGFmb3JtYXMxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3BsYXRhZm9ybWFzX2FycmliYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGVsZW1lbnRvcyBkZWwgZXNjZW5hcmlvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGF0YWZvcm1hc05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wbGF0YWZvcm1hc19hcnJpYmEucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhQ2xhcmExTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3B1ZXJ0YV9jbGFyYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwdWVydGFDbGFyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX2NsYXJhMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YUNsYXJhM05pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfY2xhcmEzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncHVlcnRhT3NjdXJhMU5pdmVsMicsICdhc3NldHMvRXNjZW5hcmlvL05pdmVsMi9wdWVydGFfb3NjdXJhMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3B1ZXJ0YU9zY3VyYTJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvcHVlcnRhX29zY3VyYTIucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25OaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkNsYXJvTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX2NsYXJvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Pc2N1cm8xTml2ZWwyJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL2JvdG9uX29zY3VybzEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3Rvbk9zY3VybzJOaXZlbDInLCAnYXNzZXRzL0VzY2VuYXJpby9OaXZlbDIvYm90b25fb3NjdXJvMi5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb3J0YWwxJywgJ2Fzc2V0cy9Fc2NlbmFyaW8vTml2ZWwyL3BvcnRhbC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQ2FyZ2EgZGUgbG9zIGJvdG9uZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhdXNlQnV0dG9uJywgJ2Fzc2V0cy9wYXVzYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhdXNlQnV0dG9uSG92ZXInLCAnYXNzZXRzL3BhdXNhSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnU2V0dGluZ3NCdXR0b24nLCAnYXNzZXRzL2FqdXN0ZXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdTZXR0aW5nc0J1dHRvbkhvdmVyJywgJ2Fzc2V0cy9hanVzdGVzSG92ZXIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSByZWluaWNpYXIgbml2ZWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1Jlc3RhcnRCdXR0b24nLCAnYXNzZXRzL3JlaW5pY2lhci5QTkcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1Jlc3RhcnRCdXR0b25Ib3ZlcicsICdhc3NldHMvcmVpbmljaWFySG92ZXIuUE5HJyk7XHJcblxyXG4gICAgICAgIC8vRGHDsW9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2RhbWFnZTEnLCAnYXNzZXRzL3RyYW1wYXMvdHJhbXBhcy5wbmcnKVxyXG5cclxuICAgICAgICAvLyBFZmVjdG9zIGRlIHNvbmlkbyB5IG3DunNpY2EgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3dhbGtTb3VuZCcsICdhc3NldHMvc29uaWRvL2NhbWluYXIubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdjb2xsZWN0U3VuQ3J5c3RhbFNvdW5kJywgJ2Fzc2V0cy9zb25pZG8vY3Jpc3RhbENsYXJvLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnY29sbGVjdE1vb25DcnlzdGFsU291bmQnLCAnYXNzZXRzL3Nvbmlkby9jcmlzdGFsT3NjdXJvLm1wMycpO1xyXG5cclxuICAgICAgICAvLyBNw5pTSUNBIEVTUEVDw41GSUNBIERFTCBKVUVHT1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnR2FtZU11c2ljJywgJ2Fzc2V0cy9zb25pZG8vanVlZ28ubXAzJyk7IC8vIGFqdXN0YSBydXRhIHNpIGhhY2UgZmFsdGFcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgbWFwV2lkdGhJblBpeGVscyA9IDE0MjA7XHJcbiAgICAgICAgY29uc3QgbWFwSGVpZ2h0SW5QaXhlbHMgPSA4MDA7XHJcblxyXG4gICAgICAgIGxldCBob3ZlckltZyA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIERldGVuZXIgc29sbyBsYSBtw7pzaWNhIGRlbCBtZW7DuiBzaSBlc3TDoSBzb25hbmRvXHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQnlLZXkoJ01lbnVNdXNpYycpO1xyXG5cclxuICAgICAgICAvLyBSZXByb2R1Y2lyIGxhIG3DunNpY2EgZGVsIGp1ZWdvXHJcbiAgICAgICAgaWYgKHRoaXMuY2FjaGUuYXVkaW8uZXhpc3RzKCdHYW1lTXVzaWMnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ0dhbWVNdXNpYycsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAwLjJ9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFncmVnYXIgZm9uZG9cclxuICAgICAgICAvL2NvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvMScpLnNldE9yaWdpbigwLCAwKTtcclxuICAgICAgICAvL2JnLnNldERpc3BsYXlTaXplKG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcclxuXHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSgwLCAwLCAnZm9uZG8xJykuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIGJnLnNldERpc3BsYXlTaXplKG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGxhdGFmb3JtYSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKDAsIDAsICdwbGF0YWZvcm1hczEnKS5zZXRPcmlnaW4oMCwgMCk7XHJcbiAgICAgICAgcGxhdGFmb3JtYS5zZXREaXNwbGF5U2l6ZShtYXBXaWR0aEluUGl4ZWxzLCBtYXBIZWlnaHRJblBpeGVscyk7XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIGxhIGbDrXNpY2EgZGVsIG11bmRvXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLmdyYXZpdHkueSA9IDE1MDA7XHJcblxyXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcblxyXG5cclxuICAgICAgICAvLyBURU1QT1JBTDogQ3JlYXIgdW4gc3VlbG8gc2ltcGxlIHBhcmEgcXVlIHB1ZWRhbiBzYWx0YXIgeSBjYWVyXHJcbiAgICAgICAgdGhpcy5ncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgbWFwSGVpZ2h0SW5QaXhlbHMsIG1hcFdpZHRoSW5QaXhlbHMsIDEwLCAweDAwRkYwMCwgMCkuc2V0T3JpZ2luKDAsIDApO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5ncm91bmQsIHRydWUpOyAvLyB0cnVlID0gZXN0w6F0aWNvXHJcblxyXG4gICAgICAgIC8vQ3JlYWNpw7NuIGRlIGxhcyBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMjAwLCA1NzUsIDMwMCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNzUwLCA1NTAsIDE2MCwgMjAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wbGF0YWZvcm1hMiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGFmb3JtYTMgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTI1MCwgNDI1LCA0MDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTMsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDUyNSwgMzI1LCA0MDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTQsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRhZm9ybWE1ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDg3NSwgMjI1LCAzMDAsIDIwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGxhdGFmb3JtYTUsIHRydWUpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5wYXJlZDEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoNzE1LCA0MjUsIDgwLCAyMDAsIDB4MzIyYjFkLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5wYXJlZDEsIHRydWUpO1xyXG5cclxuICAgICAgICAvL3RoaXMucGFyZWQyID0gdGhpcy5hZGQucmVjdGFuZ2xlKDkwMCwgNzAwLCAyMDAsIDMwMCwgMHgzMjJiMWQpLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMucGFyZWQyLCB0cnVlKTtcclxuICAgICAgICB0aGlzLnBvcnRhbFNwcml0ZSA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwb3J0YWwxJykuc2V0U2NhbGUoMC43NSk7XHJcbiAgICAgICAgdGhpcy5wb3J0YWxTcHJpdGUuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgyMDAsIDIwMCwgMjAwLCAyMDApLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZXhpdFBvcnRhbCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5leGl0UG9ydGFsLmJvZHkuZW5hYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHB1ZXJ0YXMgKHNwcml0ZXMpXHJcbiAgICAgICAgdGhpcy5kYXJrRG9vcjEgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncHVlcnRhT3NjdXJhMU5pdmVsMicpLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IyID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3B1ZXJ0YU9zY3VyYTJOaXZlbDInKS5zZXRTY2FsZSgwLjc1KTtcclxuXHJcbiAgICAgICAgdGhpcy5saWdodERvb3IxID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ3B1ZXJ0YUNsYXJhMU5pdmVsMicpLnNldFNjYWxlKDAuNzUpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yMiA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKG1hcFdpZHRoSW5QaXhlbHMqMC41LCBtYXBIZWlnaHRJblBpeGVscyowLjUsICdwdWVydGFDbGFyYTJOaXZlbDInKS5zZXRTY2FsZSgwLjc1KTtcclxuICAgICAgICB0aGlzLmxpZ2h0RG9vcjMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZShtYXBXaWR0aEluUGl4ZWxzKjAuNSwgbWFwSGVpZ2h0SW5QaXhlbHMqMC41LCAncHVlcnRhQ2xhcmEzTml2ZWwyJykuc2V0U2NhbGUoMC43NSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcHVlcnRhcyBoaXRib3hlc1xyXG4gICAgICAgIHRoaXMuZGFya0Rvb3IxSGl0Ym94ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDMyNSwgNzAwLCAyMCwgMzAwLCAweDMyMmIxZCwgMCkuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZGFya0Rvb3IxSGl0Ym94LCB0cnVlKTtcclxuICAgICAgICB0aGlzLmRhcmtEb29yMkhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg1MDAsIDU3NSwgMzAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhcmtEb29yMkhpdGJveCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMubGlnaHREb29yMUhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg3MDAsIDEwMCwgMjAsIDI4MCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjFIaXRib3gsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yMkhpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg3NTAsIDcwMCwgMjAsIDIwMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjJIaXRib3gsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yM0hpdGJveCA9IHRoaXMuYWRkLnJlY3RhbmdsZSg5MjUsIDUwMCwgMjAwLCAyMCwgMHgzMjJiMWQsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmxpZ2h0RG9vcjNIaXRib3gpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yM0hpdGJveC5ib2R5LnNldEltbW92YWJsZSh0cnVlKS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMubGlnaHREb29yM0hpdGJveC5zZXRBbmdsZSgxMzUpO1xyXG5cclxuICAgICAgICAvL3B1ZXJ0YXMgKGxpc3RhKVxyXG4gICAgICAgIHRoaXMuZG9vcnMgPSB7XHJcbiAgICAgICAgICAgIGRhcmtEb29yMToge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmRhcmtEb29yMSxcclxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5kYXJrRG9vcjFIaXRib3hcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGFya0Rvb3IyOiB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHRoaXMuZGFya0Rvb3IyLFxyXG4gICAgICAgICAgICAgICAgaGl0Ym94OiB0aGlzLmRhcmtEb29yMkhpdGJveFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaWdodERvb3IxOiB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHRoaXMubGlnaHREb29yMSxcclxuICAgICAgICAgICAgICAgIGhpdGJveDogdGhpcy5saWdodERvb3IxSGl0Ym94XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpZ2h0RG9vcjI6IHtcclxuICAgICAgICAgICAgICAgIHNwcml0ZTogdGhpcy5saWdodERvb3IzLFxyXG4gICAgICAgICAgICAgICAgaGl0Ym94OiB0aGlzLmxpZ2h0RG9vcjJIaXRib3hcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGlnaHREb29yMzoge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlOiB0aGlzLmxpZ2h0RG9vcjIsXHJcbiAgICAgICAgICAgICAgICBoaXRib3g6IHRoaXMubGlnaHREb29yM0hpdGJveFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gZGHDsW8gaGl0Ym94ZXNcclxuICAgICAgICB0aGlzLmRhbWFnZUdyb3VwID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cCgpO1xyXG4gICAgICAgIHRoaXMudHJhbXBhID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUobWFwV2lkdGhJblBpeGVscyowLjUsIG1hcEhlaWdodEluUGl4ZWxzKjAuNSwgJ2RhbWFnZTEnKS5zZXRTY2FsZSgwLjc1KTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmRhbWFnZTEgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTM1MCwgMTAwLCAyMDAsIDEwMCwgMHgzM2ZmMDAsIDApLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmRhbWFnZTEsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmRhbWFnZTIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMTAwLCA1MzAsIDEwMCwgMzAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYW1hZ2UyLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYW1hZ2UzID0gdGhpcy5hZGQucmVjdGFuZ2xlKDEyNSwgODAwLCA2MCwgMzAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYW1hZ2UzLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYW1hZ2U0ID0gdGhpcy5hZGQucmVjdGFuZ2xlKDYwMCwgMzAwLCA2MCwgMzAsIDB4MzNmZjAwLCAwKS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5kYW1hZ2U0LCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cC5hZGQodGhpcy5kYW1hZ2UxKTtcclxuICAgICAgICB0aGlzLmRhbWFnZUdyb3VwLmFkZCh0aGlzLmRhbWFnZTIpO1xyXG4gICAgICAgIHRoaXMuZGFtYWdlR3JvdXAuYWRkKHRoaXMuZGFtYWdlMyk7XHJcbiAgICAgICAgdGhpcy5kYW1hZ2VHcm91cC5hZGQodGhpcy5kYW1hZ2U0KTtcclxuXHJcbiAgICAgICAgLy8gQ29saXNpb25lcyBlbnRyZSBwZXJzb25hamVzIHkgZWwgc3VlbG8geSBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5ncm91bmQpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmdyb3VuZCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWExKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWEzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hMyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE0KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBsYXRhZm9ybWE1KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5wbGF0YWZvcm1hNSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLnBhcmVkMSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMucGFyZWQxKTtcclxuXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMucGFyZWQyKTtcclxuICAgICAgICAvL3RoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLnBhcmVkMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLm5pdmlhLCB0aGlzLmxpZ2h0RG9vcjFIaXRib3gpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5uaXZpYSwgdGhpcy5saWdodERvb3IySGl0Ym94KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMubGlnaHREb29yM0hpdGJveCk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIHRoaXMubGlnaHREb29yMUhpdGJveCk7XHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIHRoaXMuZGFya0Rvb3IxSGl0Ym94KTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuc29sZW5uZSwgdGhpcy5kYXJrRG9vcjFIaXRib3gpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5zb2xlbm5lLCB0aGlzLmRhcmtEb29yMkhpdGJveCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlQW5pbWF0aW9ucygnbml2aWEnKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUFuaW1hdGlvbnMoJ3NvbGVubmUnKTtcclxuXHJcbiAgICAgICAgLy8gSW5pY2lhciBsYSBhbmltYWNpw7NuICdydW4nIHBhcmEgcHJvYmFyIChzZSBjb3JyZWdpcsOhIGVuIHVwZGF0ZSlcclxuICAgICAgICB0aGlzLm5pdmlhLnBsYXkoJ25pdmlhX2lkbGUnKTtcclxuICAgICAgICB0aGlzLnNvbGVubmUucGxheSgnc29sZW5uZV9pZGxlJyk7XHJcblxyXG4gICAgICAgIC8vIENyZWFjacOzbiBkZSBsb3Mgb2JqZXRvc1xyXG4gICAgICAgIHRoaXMuY3J5c3RhbHMgPSB0aGlzLnBoeXNpY3MuYWRkLmdyb3VwKHthbGxvd0dyYXZpdHk6IGZhbHNlLCBpbW1vdmFibGU6IHRydWV9KTtcclxuICAgICAgICB0aGlzLm1vb25DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoMTMwMCwgMzAwLCAnbW9vbmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAuc2V0RGF0YSgnZG9vcktleScsICdkYXJrRG9vcjEnKTtcclxuICAgICAgICB0aGlzLm1vb25DcnlzdGFsMiA9IHRoaXMuY3J5c3RhbHMuY3JlYXRlKDU1MCwgMjAwLCAnbW9vbmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAuc2V0RGF0YSgnZG9vcktleScsICdkYXJrRG9vcjInKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdW5DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUoNTUwLCA3MDAsICdzdW5kcm9wX3NoZWV0Jykuc2V0Qm9keVNpemUoMzIsIDMyKS5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgLnNldERhdGEoJ2Rvb3JLZXknLCAnbGlnaHREb29yMycpO1xyXG4gICAgICAgIHRoaXMuc3VuQ3J5c3RhbDIgPSB0aGlzLmNyeXN0YWxzLmNyZWF0ZSgyMDAsIDcwMCwgJ3N1bmRyb3Bfc2hlZXQnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAuc2V0RGF0YSgnZG9vcktleScsICdsaWdodERvb3IxJyk7XHJcblxyXG4gICAgICAgIC8vdGhpcy5zdW5DcnlzdGFsID0gdGhpcy5jcnlzdGFscy5jcmVhdGUobWFwLndpZHRoSW5QaXhlbHMgLSAyMDAsIDMwMCwgJ3N1bkNyeXN0YWwnKS5zZXRCb2R5U2l6ZSgzMiwgMzIpLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgLy90aGlzLm1ldGFQb3J0YWwgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZShtYXBXaWR0aEluUGl4ZWxzIC8gMiwgNTAsICdtZXRhUG9ydGFsJykuc2V0SW1tb3ZhYmxlKHRydWUpLnNldEJvZHlTaXplKDY0LCA2NCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gQW5pbWFjaW9uZXMgZGUgbG9zIG9iamV0b3NcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3N1bmRyb3BfaWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnc3VuZHJvcF9zaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogNyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ21vb25kcm9wX2lkbGUnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ21vb25kcm9wX3NoZWV0JywgeyBzdGFydDogMCwgZW5kOiA3IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubW9vbkNyeXN0YWwucGxheSgnbW9vbmRyb3BfaWRsZScpO1xyXG4gICAgICAgIHRoaXMuc3VuQ3J5c3RhbC5wbGF5KCdzdW5kcm9wX2lkbGUnKTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBkZWwgSWNvbm8gZGVsIFNvbCAoSFVEKVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnc3VuX2h1ZF9hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdzdW5fc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGVsIEljb25vIGRlIGxhIEx1bmEgKEhVRClcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ21vb25faHVkX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ21vb25fc2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBkZSBMdW5hIChOaXZpYSkgLSBJenF1aWVyZGFcclxuICAgICAgICB0aGlzLm1vb25IVUQgPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCAtIDIwLCA0MCwgJ21vb25fc2hlZXQnKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjE1KSAvLyBFc2NhbGEgTVVZIHJlZHVjaWRhLCB5YSBxdWUgbG9zIHNwcml0ZXNoZWV0cyBzb24gZ3JhbmRlcyAoMzQ3eDMyOSlcclxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKVxyXG4gICAgICAgICAgICAucGxheSgnbW9vbl9odWRfYW5pbScpOyAvLyBJbmljaWEgbGEgYW5pbWFjacOzblxyXG5cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgZGUgU29sIChTb2xlbm5lKSAtIERlcmVjaGFcclxuICAgICAgICB0aGlzLnN1bkhVRCA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmNhbWVyYXMubWFpbi5jZW50ZXJYICsgMjAsIDQwLCAnc3VuX3NoZWV0JylcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4xNSkgLy8gRXNjYWxhIE1VWSByZWR1Y2lkYVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSkgXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMDApXHJcbiAgICAgICAgICAgIC5wbGF5KCdzdW5faHVkX2FuaW0nKTsgLy8gSW5pY2lhIGxhIGFuaW1hY2nDs25cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBsYSByZWNvbGVjY2nDs24gZGUgY3Jpc3RhbGVzXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubW9vbkNyeXN0YWwsIHRoaXMuY29sbGVjdE1vb25DcnlzdGFsLCBudWxsLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5zb2xlbm5lLCB0aGlzLnN1bkNyeXN0YWwsIHRoaXMuY29sbGVjdFN1bkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLm1vb25DcnlzdGFsMiwgdGhpcy5jb2xsZWN0TW9vbkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuc3VuQ3J5c3RhbDIsIHRoaXMuY29sbGVjdFN1bkNyeXN0YWwsIG51bGwsIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBMw7NnaWNhIGRlIGZpbiBkZSBuaXZlbCAoT3ZlcmxhcCBkZWwgcG9ydGFsKVxyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubml2aWEsIHRoaXMubWV0YVBvcnRhbCwgdGhpcy5jaGVja0xldmVsQ29tcGxldGUsIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5tZXRhUG9ydGFsLCB0aGlzLmNoZWNrTGV2ZWxDb21wbGV0ZSwgbnVsbCwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIENvbGlzaW9uZXMgZW50cmUgcGVyc29uYWplcyB5IGVsIG5pdmVsXHJcbiAgICAgICAgLy90aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMubml2aWEsIGdlb21ldHJ5TGF5ZXIpO1xyXG4gICAgICAgIC8vdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnNvbGVubmUsIGdlb21ldHJ5TGF5ZXIpO1xyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFjacOzbiBkZSBsYSBjw6FtYXJhXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0Qm91bmRzKDAsIDAsIG1hcFdpZHRoSW5QaXhlbHMsIG1hcEhlaWdodEluUGl4ZWxzKTsgIFxyXG5cclxuICAgICAgICAvLyBDb250cm9sIGRlIHBhdXNhXHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5leGl0UG9ydGFsLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubml2aWFPblBvcnRhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZXhpdFBvcnRhbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvbGVubmVPblBvcnRhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tMZXZlbENvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBkZSBwYXVzYVxyXG4gICAgICAgIHRoaXMucGF1c2VCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDQwLCA0MCwgJ1BhdXNlQnV0dG9uJylcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKSBcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC41KSBcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMCk7IFxyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFob3ZlckltZykge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJJbWcgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLmNhbWVyYXMubWFpbi53aWR0aCAtIDQwLCA0MCwgJ1BhdXNlQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMucGF1c2VCdXR0b24uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBhdXNlQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpOyBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIGRlIGFqdXN0ZXNcclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5jYW1lcmFzLm1haW4ud2lkdGggLSAxMjAsIDQwLCAnU2V0dGluZ3NCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApIFxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpIFxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTAwKTsgXHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWhvdmVySW1nKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckltZyA9IHRoaXMuYWRkLmltYWdlKHRoaXMuY2FtZXJhcy5tYWluLndpZHRoIC0gMTIwLCA0MCwgJ1NldHRpbmdzQnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHRoaXMuc2V0dGluZ3NCdXR0b24uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnU2V0dGluZ3NTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3VwZGF0ZScsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBoeXNpY3Mub3ZlcmxhcCh0aGlzLm5pdmlhLCB0aGlzLmV4aXRQb3J0YWwpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5pdmlhT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXRoaXMucGh5c2ljcy5vdmVybGFwKHRoaXMuc29sZW5uZSwgdGhpcy5leGl0UG9ydGFsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2xlbm5lT25Qb3J0YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IG9uRGFtYWdlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnR2FtZU92ZXJTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXkgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5uaXZpYSwgdGhpcy5kYW1hZ2VHcm91cCwgb25EYW1hZ2UpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnNvbGVubmUsIHRoaXMuZGFtYWdlR3JvdXAsIG9uRGFtYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbFkgPSAxNTAwO1xyXG5cclxuICAgICAgICAgLy8gQ3JlYWNpw7NuIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLm5pdmlhID0gdGhpcy5waHlzaWNzLmFkZC5zcHJpdGUoMTMwMCwgaW5pdGlhbFksICduaXZpYScpLnNldEJvdW5jZSgwLjIpLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNvbGVubmUgPSB0aGlzLnBoeXNpY3MuYWRkLnNwcml0ZSgxMjAwLCBpbml0aWFsWSwgJ3NvbGVubmUnKS5zZXRCb3VuY2UoMC4yKS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMubml2aWEuc2V0U2l6ZSgxMjAsIDI0MCk7XHJcbiAgICAgICAgdGhpcy5uaXZpYS5zZXRPZmZzZXQoMTEwLCA1MCk7XHJcblxyXG4gICAgICAgIHRoaXMuc29sZW5uZS5zZXRTaXplKDEyMCwgMjQwKTtcclxuICAgICAgICB0aGlzLnNvbGVubmUuc2V0T2Zmc2V0KDExMCwgNTApO1xyXG5cclxuICAgICAgICAvLyBFc2NhbGFkbyBkZSBsb3MgcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubml2aWEuc2V0U2NhbGUoMC41KTsgXHJcbiAgICAgICAgdGhpcy5zb2xlbm5lLnNldFNjYWxlKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENvbnRyb2xlcyBkZSBOaXZpYSAoVGVjbGFzIFdBU0QpXHJcbiAgICAgICAgdGhpcy5uaXZpYUNvbnRyb2xzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHtcclxuICAgICAgICAgICAgbGVmdDogJ0EnLFxyXG4gICAgICAgICAgICByaWdodDogJ0QnLFxyXG4gICAgICAgICAgICB1cDogJ1cnLCAgICAvLyBzYWx0b1xyXG4gICAgICAgICAgICBpbnRlcmFjdDogJ0UnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENvbnRyb2xlcyBkZSBTb2xlbm5lIChGbGVjaGFzKVxyXG4gICAgICAgIHRoaXMuc29sZW5uZUNvbnRyb2xzID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXlzKHtcclxuICAgICAgICAgICAgbGVmdDogJ0xFRlQnLFxyXG4gICAgICAgICAgICByaWdodDogJ1JJR0hUJyxcclxuICAgICAgICAgICAgdXA6ICdVUCcsICAgLy8gc2FsdG9cclxuICAgICAgICAgICAgaW50ZXJhY3Q6ICdTUEFDRSdcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY3JlYXRlQW5pbWF0aW9ucyhrZXkpIHtcclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlIGNvcnJlclxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBgJHtrZXl9X3J1bmAsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IHByZWZpeDogJ3J1bl8nLCBzdGFydDogMSwgZW5kOiA0IH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEwLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBBbmltYWNpw7NuIGRlIHNhbHRvXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IGAke2tleX1fanVtcGAsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTmFtZXMoa2V5LCB7IHByZWZpeDogJ2p1bXBfJywgc3RhcnQ6IDEsIGVuZDogNiB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxMCxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gZGUgaWRsZVxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBgJHtrZXl9X2lkbGVgLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU5hbWVzKGtleSwgeyBmcmFtZXM6IFsnaWRsZV8xJ10gfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMSxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGF1c2VkU3RhdGUoaXNQYXVzZWQpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7b3JpZ2luYWxTY2VuZTogdGhpcy5zY2VuZS5rZXl9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVBhdXNlKCkge1xyXG4gICAgICAgIGNvbnN0IG5ld1BhdXNlZFN0YXRlID0gIXRoaXMuaXNQYXVzZWQ7XHJcbiAgICAgICAgdGhpcy5zZXRQYXVzZWRTdGF0ZShuZXdQYXVzZWRTdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1NldHRpbmdzU2NlbmUnKTsgXHJcbiAgICAgICAgLy90aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZSgpe1xyXG4gICAgICAgIC8vIEzDs2dpY2EgZGUgcGF1c2EgY29uIHRlY2xhIEVTQ1xyXG4gICAgICAgIGlmKHRoaXMuZXNjS2V5LmlzRG93bil7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1vdmltaWVudG8gZGUgTml2aWFcclxuICAgICAgICB0aGlzLmhhbmRsZVBsYXllck1vdmVtZW50KHRoaXMubml2aWEsIHRoaXMubml2aWFDb250cm9scyk7XHJcblxyXG4gICAgICAgIC8vIE1vdmltaWVudG8gZGUgU29sZW5uZVxyXG4gICAgICAgIHRoaXMuaGFuZGxlUGxheWVyTW92ZW1lbnQodGhpcy5zb2xlbm5lLCB0aGlzLnNvbGVubmVDb250cm9scyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5leGl0UG9ydGFsLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0xldmVsQ29tcGxldGUodGhpcy5leGl0UG9ydGFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhhbmRsZVBsYXllck1vdmVtZW50KHBsYXllclNwcml0ZSwgY29udHJvbHMpIHtcclxuICAgICAgICAvLyBWZWxvY2lkYWQgZGVsIG1vdmltaWVudG9cclxuICAgICAgICBjb25zdCBzcGVlZCA9IDQwMDtcclxuICAgICAgICBjb25zdCBqdW1wVmVsb2NpdHkgPSA5MDA7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gcGxheWVyU3ByaXRlLnRleHR1cmUua2V5O1xyXG4gICAgICAgIGNvbnN0IGlzTW92aW5nID0gY29udHJvbHMubGVmdC5pc0Rvd24gfHwgY29udHJvbHMucmlnaHQuaXNEb3duO1xyXG4gICAgICAgIGNvbnN0IGlzR3JvdW5kZWQgPSBwbGF5ZXJTcHJpdGUuYm9keS5ibG9ja2VkLmRvd247XHJcbiAgICAgICAgbGV0IGFuaW1rZXkgPSAnJztcclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBwYXJhIHJlcHJvZHVjaXIgZWwgc29uaWRvIGRlIGNhbWluYXJcclxuICAgICAgIGlmIChpc01vdmluZyAmJiBpc0dyb3VuZGVkKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICduaXZpYScgJiYgdGhpcy5pc05pdmlhV2Fsa2luZyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc05pdmlhV2Fsa2luZyA9IHRoaXMuc291bmQuYWRkKCd3YWxrU291bmQnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogMSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcucGxheSgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NvbGVubmUnICYmIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nID0gdGhpcy5zb3VuZC5hZGQoJ3dhbGtTb3VuZCcsIHsgbG9vcDogdHJ1ZSwgdm9sdW1lOiAxIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nLnBsYXkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIERldGVuZXIgZWwgc29uaWRvIHNpIG5vIHNlIGVzdMOhIG1vdmllbmRvIG8gZXN0w6Egc2FsdGFuZG9cclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ25pdmlhJyAmJiB0aGlzLmlzTml2aWFXYWxraW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTml2aWFXYWxraW5nLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNOaXZpYVdhbGtpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NvbGVubmUnICYmIHRoaXMuaXNTb2xlbm5lV2Fsa2luZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NvbGVubmVXYWxraW5nLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNTb2xlbm5lV2Fsa2luZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1vdmltaWVudG8gaG9yaXpvbnRhbFxyXG4gICAgICAgIGlmIChjb250cm9scy5sZWZ0LmlzRG93bikge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlYKC1zcGVlZCk7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRGbGlwWChmYWxzZSk7IC8vIE1pcmFyIGEgbGEgaXpxdWllcmRhXHJcbiAgICAgICAgfSBlbHNlIGlmIChjb250cm9scy5yaWdodC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WChzcGVlZCk7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5zZXRGbGlwWCh0cnVlKTsgLy8gTWlyYXIgYSBsYSBkZXJlY2hhXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGxheWVyU3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNhbHRvIChzb2xvIHNpIGVzdMOhIHRvY2FuZG8gZWwgc3VlbG8pXHJcbiAgICAgICAgY29uc3QgaXNKdW1waW5nID0gY29udHJvbHMudXAuaXNEb3duICYmIHBsYXllclNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bjtcclxuXHJcbiAgICAgICAgaWYgKGlzSnVtcGluZykge1xyXG4gICAgICAgICAgICBwbGF5ZXJTcHJpdGUuc2V0VmVsb2NpdHlZKC1qdW1wVmVsb2NpdHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBhbmltYWNpb25lc1xyXG4gICAgICAgIGlmICghcGxheWVyU3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duKSB7XHJcbiAgICAgICAgICAgIC8vIEVuIGVsIGFpcmVcclxuICAgICAgICAgICAgYW5pbWtleSA9IGAke2tleX1fanVtcGA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb250cm9scy5sZWZ0LmlzRG93biB8fCBjb250cm9scy5yaWdodC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgLy8gQ29ycmllbmRvXHJcbiAgICAgICAgICAgIGFuaW1rZXkgPSBgJHtrZXl9X3J1bmA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSWRsZVxyXG4gICAgICAgICAgICBhbmlta2V5ID0gYCR7a2V5fV9pZGxlYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVwcm9kdWNpciBsYSBhbmltYWNpw7NuIHNvbG8gc2kgZXMgZGlmZXJlbnRlIGEgbGEgYWN0dWFsXHJcbiAgICAgICAgaWYgKHBsYXllclNwcml0ZS5hbmltcy5jdXJyZW50QW5pbT8ua2V5ICE9PSBhbmlta2V5KSB7XHJcbiAgICAgICAgICAgIHBsYXllclNwcml0ZS5hbmltcy5wbGF5KGFuaW1rZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTMOzZ2ljYSBkZSBpbnRlcmFjY2nDs25cclxuICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKGNvbnRyb2xzLmludGVyYWN0KSkge1xyXG4gICAgICAgICAgICAvLyBBcXXDrSB2YSBsYSBsw7NnaWNhIGRlIGludGVyYWNjacOzbiAocG9yIGVqZW1wbG8sIGFicmlyIHB1ZXJ0YXMsIHJlY29nZXIgb2JqZXRvcywgZXRjLilcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ludGVyYWNjacOzbiByZWFsaXphZGEnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29sbGVjdE1vb25DcnlzdGFsKHBsYXllciwgY3J5c3RhbCkge1xyXG4gICAgICAgIGNyeXN0YWwuZGlzYWJsZUJvZHkodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5uaXZpYUhhc01vb25DcnlzdGFsICs9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9PSAyKSB0aGlzLm1vb25IVUQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ2NvbGxlY3RNb29uQ3J5c3RhbFNvdW5kJywgeyB2b2x1bWU6IDAuNSB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygnTml2aWEgaGEgcmVjb2dpZG8gZWwgQ3Jpc3RhbCBkZSBsYSBMdW5hJyk7XHJcbiAgICAgICAgdGhpcy51bmxvY2tEb29yKGNyeXN0YWwuZ2V0RGF0YSgnZG9vcktleScpKTtcclxuICAgIH1cclxuXHJcbiAgICBjb2xsZWN0U3VuQ3J5c3RhbChwbGF5ZXIsIGNyeXN0YWwpIHtcclxuICAgICAgICBjcnlzdGFsLmRpc2FibGVCb2R5KHRydWUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgKz0gMTtcclxuICAgICAgICBpZiAodGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9PSAyKSB0aGlzLnN1bkhVRC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgnY29sbGVjdFN1bkNyeXN0YWxTb3VuZCcsIHsgdm9sdW1lOiAwLjUgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NvbGVubmUgaGEgcmVjb2dpZG8gZWwgQ3Jpc3RhbCBkZWwgU29sJyk7XHJcbiAgICAgICAgdGhpcy51bmxvY2tEb29yKGNyeXN0YWwuZ2V0RGF0YSgnZG9vcktleScpKTtcclxuICAgIH1cclxuXHJcbiAgICB1bmxvY2tEb29yKGRvb3JLZXkpIHtcclxuICAgICAgICBjb25zdCBkb29yID0gdGhpcy5kb29yc1tkb29yS2V5XTtcclxuXHJcbiAgICAgICAgZG9vci5oaXRib3guYm9keS5lbmFibGUgPSBmYWxzZTtcclxuICAgICAgICBkb29yLmhpdGJveC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBkb29yLnNwcml0ZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGVja1BvcnRhbFNwYXduKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tQb3J0YWxTcGF3bigpIHtcclxuICAgICAgICBpZiAodGhpcy5uaXZpYUhhc01vb25DcnlzdGFsID09IDIgJiYgdGhpcy5zb2xlbm5lSGFzU3VuQ3J5c3RhbCA9PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9ydGFsU3ByaXRlLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXhpdFBvcnRhbC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmV4aXRQb3J0YWwuYm9keS5lbmFibGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGVja0xldmVsQ29tcGxldGUocGxheWVyLCBwb3J0YWwpIHtcclxuICAgICAgICAvLyBMb3MgZG9zIGRlYmVuIHRvY2FyIGVsIHBvcnRhbCB5IHRlbmVyIHN1cyByZXNwZWN0aXZvcyBjcmlzdGFsZXNcclxuICAgICAgICBpZiAodGhpcy5uaXZpYU9uUG9ydGFsICYmIHRoaXMuc29sZW5uZU9uUG9ydGFsICYmIHRoaXMubml2aWFIYXNNb29uQ3J5c3RhbCA9PSAyICYmIHRoaXMuc29sZW5uZUhhc1N1bkNyeXN0YWwgPT0gMikge1xyXG4gICAgICAgICAgICAvLyBMYW56YXIgZXNjZW5hIGRlIHZpY3RvcmlhIHkgcGF1c2FyIGVzdGEgZXNjZW5hXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdWaWN0b3J5U2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IHRoaXMuc2NlbmUua2V5IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVuZGdhbWUoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJKdWVnbyBUZXJtaW5hZG9cIik7XHJcbiAgICAgICAgbGV0IGhvdmVySW1nID0gbnVsbDsgICAgLy9yZWZlcmVuY2lhIHBhcmEgbGEgaW1hZ2VuIGhvdmVyXHJcblxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQodGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWCwgdGhpcy5jYW1lcmFzLm1haW4uY2VudGVyWSAtIDEwMCwgXCLCoU5pdmVsIENvbXBsZXRhZG8hXCIsIHsgXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsIGZpbGw6ICcjRkZGRkZGJyB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgICAgIC8vIFJlaW5pY2lhciBuaXZlbFxyXG4gICAgICAgIGNvbnN0IHJlc3RhcnRidG4gPSB0aGlzLmFkZC5pbWFnZSg3MDUsIDQxNSwgJ1Jlc3RhcnRCdXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydGJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gdGhpcy5hZGQuaW1hZ2UoNjkzLCA0MjUsICdSZXN0YXJ0QnV0dG9uSG92ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldERlcHRoKHJlc3RhcnRidG4uZGVwdGggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaG92ZXJJbWcpIHtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGhvdmVySW1nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0YnRuLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTY2VuZUtleSA9IHRoaXMuc2NlbmUuc2V0dGluZ3MuZGF0YS5vcmlnaW5hbFNjZW5lO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3Aob3JpZ2luYWxTY2VuZUtleSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5pbXBvcnQgeyBNZW51U2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvTWVudVNjZW5lLmpzXCI7XHJcbmltcG9ydCB7QXV0aFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0F1dGhTY2VuZS5qc1wiXHJcbmltcG9ydCB7IEdhbWVTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9HYW1lU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgUGF1c2VTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9QYXVzZVNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFR1dG9yaWFsU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvVHV0b3JpYWxTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBDcmVkaXRzU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvQ3JlZGl0c1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvU2V0dGluZ3NTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBMZXZlbFNlbGVjdFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0xldmVsU2VsZWN0U2NlbmUuanNcIjtcclxuaW1wb3J0IHsgUGxhY2VIb2xkZXJTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9QbGFjZUhvbGRlclNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFZpY3RvcnlTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9WaWN0b3J5U2NlbmUuanNcIjtcclxuaW1wb3J0IHsgR2FtZU92ZXJTY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9HYW1lT3ZlclNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IExldmVsMlNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0xldmVsMlNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IENvbm5lY3Rpb25Mb3N0U2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBHYW1lTW9kZVNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0dhbWVNb2RlU2NlbmUuanNcIjtcclxuaW1wb3J0ICBMb2JieVNjZW5lICBmcm9tIFwiLi9zY2VuZXMvTG9iYnlTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBSYW5raW5nU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvUmFua2luZ1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEdhbWVMb2NhbFNjZW5lIH0gZnJvbSBcIi4vc2NlbmVzL0dhbWVMb2NhbFNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IExldmVsMlNjZW5lTG9jYWwgfSBmcm9tIFwiLi9zY2VuZXMvTGV2ZWwyU2NlbmVMb2NhbC5qc1wiO1xyXG5cclxuaW1wb3J0ICcuL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzJztcclxuaW1wb3J0ICcuL3NlcnZpY2VzL1dlYlNvY2tldFNlcnZpY2UuanMnO1xyXG5cclxuY29uc3QgY29uZmlnID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICB3aWR0aDogMTQyMCxcclxuICAgIGhlaWdodDogODAwLFxyXG4gICAgcGFyZW50OiAnZ2FtZS1jb250YWluZXInLFxyXG4gICAgZG9tOiB7XHJcbiAgICAgICAgY3JlYXRlQ29udGFpbmVyOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgcGh5c2ljczoge1xyXG4gICAgICAgIGRlZmF1bHQ6ICdhcmNhZGUnLFxyXG4gICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICBncmF2aXR5OiB7IHk6IDAgfSxcclxuICAgICAgICAgICAgZGVidWc6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBzY2VuZTogWyAgTWVudVNjZW5lLCBHYW1lU2NlbmUsIEdhbWVMb2NhbFNjZW5lLCBMZXZlbDJTY2VuZSwgTGV2ZWwyU2NlbmVMb2NhbCwgVHV0b3JpYWxTY2VuZSwgQ3JlZGl0c1NjZW5lLCBQYXVzZVNjZW5lLCBTZXR0aW5nc1NjZW5lLCBMZXZlbFNlbGVjdFNjZW5lLCBQbGFjZUhvbGRlclNjZW5lLCBWaWN0b3J5U2NlbmUsIEdhbWVPdmVyU2NlbmUsIEdhbWVNb2RlU2NlbmUsIEF1dGhTY2VuZSwgTG9iYnlTY2VuZSwgQ29ubmVjdGlvbkxvc3RTY2VuZSwgUmFua2luZ1NjZW5lXSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyMwMjE0MTBmZicsXHJcbn0gICAgXHJcblxyXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7Il0sIm5hbWVzIjpbIlBoYXNlciIsImNvbm5lY3Rpb25NYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiY29ubmVjdGVkQ291bnQiLCJpc0Nvbm5lY3RlZCIsImxhc3RDaGVja1RpbWUiLCJjaGVja0ludGVydmFsIiwibGlzdGVuZXJzIiwic2Vzc2lvbklkIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJpbnRlcnZhbElkIiwic3RhcnRQb2xsaW5nIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNoZWNrQ29ubmVjdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImRhdGEiLCJqc29uIiwiY29ubmVjdGVkIiwibm90aWZ5TGlzdGVuZXJzIiwiY291bnQiLCJzdWNjZXNzIiwiaGFuZGxlRGlzY29ubmVjdGlvbiIsImVycm9yIiwiY29uc29sZSIsImFkZExpc3RlbmVyIiwiY2FsbGJhY2siLCJwdXNoIiwicmVtb3ZlTGlzdGVuZXIiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJnZXRTdGF0dXMiLCJzZXRJbnRlcnZhbCIsInN0b3BQb2xsaW5nIiwiY2xlYXJJbnRlcnZhbCIsImdldElzQ29ubmVjdGVkIiwiZ2V0Q29ubmVjdGVkVXNlcnMiLCJNZW51U2NlbmUiLCJzdXBlciIsInByZWxvYWQiLCJsb2FkIiwiYXVkaW8iLCJpbWFnZSIsImNyZWF0ZSIsInNvdW5kIiwic3RvcEJ5S2V5IiwicGxheSIsImxvb3AiLCJ2b2x1bWUiLCJiZyIsImFkZCIsInNldE9yaWdpbiIsInNldERpc3BsYXlTaXplIiwic2NhbGUiLCJ3aWR0aCIsImhlaWdodCIsInNldERlcHRoIiwiaG92ZXJJbWciLCJsb2NhbEJ0biIsInNldFNjYWxlIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJkZXB0aCIsImRlc3Ryb3kiLCJzY2VuZSIsImxhdW5jaCIsInR1dG9yaWFsQnRuIiwiY3JlZGl0b3NCdG4iLCJyYW5raW5nQnRuIiwiZXhpdEJ0biIsIndpbmRvdyIsImNsb3NlIiwic2V0dGluZ3NCdG4iLCJjb25uZWN0aW9uVGV4dCIsInRleHQiLCJmb250U2l6ZSIsImNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsIngiLCJ5IiwiY29ubmVjdGlvbkxpc3RlbmVyIiwidXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkiLCJpc0FjdGl2ZSIsInNldFRleHQiLCJzZXRDb2xvciIsInNodXRkb3duIiwiQXV0aFNjZW5lIiwiaW5pdCIsImRlc3RpbmF0aW9uIiwiaHRtbCIsImZvcm1FbGVtZW50IiwiZG9tIiwiY3JlYXRlRnJvbUNhY2hlIiwiZmVlZGJhY2tUZXh0Iiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwiZm9udEZhbWlseSIsImV2ZW50IiwidGFyZ2V0TmFtZSIsInRhcmdldCIsIm5hbWUiLCJzdGFydCIsInVzZXJuYW1lIiwiZ2V0Q2hpbGRCeU5hbWUiLCJ2YWx1ZSIsInBhc3N3b3JkIiwiZG9Mb2dpbiIsInNob3dNZXNzYWdlIiwiZG9SZWdpc3RlciIsIkVycm9yIiwicmVnaXN0cnkiLCJzZXQiLCJ0aW1lIiwiZGVsYXllZENhbGwiLCJlcnIiLCJtZXNzYWdlIiwiY29sb3JzIiwicmVkIiwiZ3JlZW4iLCJ5ZWxsb3ciLCJ3aGl0ZSIsIndzU2VydmljZSIsIndzIiwicm9vbUlkIiwicGxheWVyUm9sZSIsIm1lc3NhZ2VIYW5kbGVycyIsIk1hcCIsImNvbm5lY3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIndzVXJsIiwibG9jYXRpb24iLCJob3N0bmFtZSIsImxvZyIsIldlYlNvY2tldCIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsInBhcnNlIiwiaGFuZGxlTWVzc2FnZSIsIm9uZXJyb3IiLCJvbmNsb3NlIiwibm90aWZ5SGFuZGxlciIsInR5cGUiLCJoYXMiLCJnZXQiLCJvZmYiLCJoYW5kbGVycyIsImhhbmRsZXIiLCJzZW5kIiwicmVhZHlTdGF0ZSIsIk9QRU4iLCJqb2luUXVldWUiLCJsZWF2ZVF1ZXVlIiwic2VuZFBsYXllck1vdmUiLCJmbGlwWCIsImFuaW1LZXkiLCJzZW5kQ3J5c3RhbENvbGxlY3QiLCJjcnlzdGFsVHlwZSIsInNlbmRQb3J0YWxUb3VjaCIsIm9uUG9ydGFsIiwic2VuZEdhbWVPdmVyIiwicmVhc29uIiwiZGlzY29ubmVjdCIsImNsZWFyIiwiZ2V0UGxheWVyUm9sZSIsInNldFBsYXllclJvbGUiLCJyb2xlIiwiR2FtZVNjZW5lIiwiaXNQYXVzZWQiLCJlc2NXYXNEb3duIiwibml2aWFIYXNNb29uQ3J5c3RhbCIsInNvbGVubmVIYXNTdW5DcnlzdGFsIiwibml2aWFPblBvcnRhbCIsInNvbGVubmVPblBvcnRhbCIsImlzTml2aWFXYWxraW5nIiwiaXNTb2xlbm5lV2Fsa2luZyIsImlzSGFuZGxpbmdEaXNjb25uZWN0aW9uIiwibGFzdERpc2Nvbm5lY3Rpb25UaW1lIiwiZGlzY29ubmVjdGlvbkNvb2xkb3duIiwiaXNNdWx0aXBsYXllciIsImxvY2FsUGxheWVyIiwicmVtb3RlUGxheWVyIiwibGFzdFN5bmNUaW1lIiwic3luY0ludGVydmFsIiwibGVhdmVCdXR0b24iLCJjYW1lcmFzIiwibWFpbiIsInNldFNjcm9sbEZhY3RvciIsInNldFN0eWxlIiwiY29uZmlybSIsInN0b3BBbGwiLCJzdG9wIiwiYXRsYXMiLCJzcHJpdGVzaGVldCIsImZyYW1lV2lkdGgiLCJmcmFtZUhlaWdodCIsIm9uQ29ubmVjdGlvbkxvc3QiLCJldmVudHMiLCJwaHlzaWNzIiwicmVzdW1lIiwicGF1c2UiLCJtYXBXaWR0aEluUGl4ZWxzIiwibWFwSGVpZ2h0SW5QaXhlbHMiLCJjYWNoZSIsImV4aXN0cyIsInN0YXRpY1Nwcml0ZSIsIndvcmxkIiwiZ3Jhdml0eSIsInNldFVwUGxheWVycyIsImdyb3VuZCIsInJlY3RhbmdsZSIsImV4aXN0aW5nIiwicGxhdGFmb3JtYTEiLCJwbGF0YWZvcm1hMiIsInBsYXRhZm9ybWEzIiwicGxhdGFmb3JtYTQiLCJwbGF0YWZvcm1hNSIsInBhcmVkMSIsInBhcmVkMiIsImV4aXRQb3J0YWwiLCJzZXRWaXNpYmxlIiwiZW5hYmxlIiwiZGFya0Rvb3IxIiwibGlnaHREb29yMSIsImRhcmtEb29yMUhpdGJveCIsImxpZ2h0RG9vcjFIaXRib3giLCJ0cmFtcGEiLCJkYW1hZ2UiLCJjb2xsaWRlciIsIm5pdmlhIiwic29sZW5uZSIsImNyZWF0ZUFuaW1hdGlvbnMiLCJjcnlzdGFscyIsImdyb3VwIiwiYWxsb3dHcmF2aXR5IiwiaW1tb3ZhYmxlIiwibW9vbkNyeXN0YWwiLCJzZXRCb2R5U2l6ZSIsInN1bkNyeXN0YWwiLCJhbmltcyIsImtleSIsImZyYW1lcyIsImdlbmVyYXRlRnJhbWVOdW1iZXJzIiwiZW5kIiwiZnJhbWVSYXRlIiwicmVwZWF0IiwibW9vbkhVRCIsInNwcml0ZSIsImNlbnRlclgiLCJzdW5IVUQiLCJvdmVybGFwIiwiY29sbGVjdE1vb25DcnlzdGFsIiwiY29sbGVjdFN1bkNyeXN0YWwiLCJzZXRCb3VuZHMiLCJlc2NLZXkiLCJpbnB1dCIsImtleWJvYXJkIiwiYWRkS2V5IiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsIkVTQyIsImNoZWNrTGV2ZWxDb21wbGV0ZSIsInBhdXNlQnV0dG9uIiwidG9nZ2xlUGF1c2UiLCJzZXR0aW5nc0J1dHRvbiIsIm9yaWdpbmFsU2NlbmUiLCJzZXR1cE11bHRpcGxheWVyIiwicGxheWVyTW92ZUhhbmRsZXIiLCJoYW5kbGVSZW1vdGVQbGF5ZXJNb3ZlIiwiYmluZCIsImNyeXN0YWxDb2xsZWN0ZWRIYW5kbGVyIiwiaGFuZGxlUmVtb3RlQ3J5c3RhbENvbGxlY3RlZCIsInBvcnRhbFNwYXduZWRIYW5kbGVyIiwiaGFuZGxlUmVtb3RlUG9ydGFsU3Bhd25lZCIsInZpY3RvcnlIYW5kbGVyIiwiaGFuZGxlUmVtb3RlVmljdG9yeSIsImdhbWVPdmVySGFuZGxlciIsImhhbmRsZVJlbW90ZUdhbWVPdmVyIiwicGxheWVyRGlzY29ubmVjdGVkSGFuZGxlciIsImhhbmRsZVBsYXllckRpc2Nvbm5lY3RlZCIsInN5bmNMb2NhbFBsYXllclBvc2l0aW9uIiwiY3VycmVudEFuaW0iLCJzZXRQb3NpdGlvbiIsInNldEZsaXBYIiwiZGlzYWJsZUJvZHkiLCJkYXJrRG9vclVubG9ja2VkIiwidW5sb2NrRGFya0Rvb3IiLCJsaWdodERvb3JVbmxvY2tlZCIsInVubG9ja0xpZ2h0RG9vciIsInZpc2libGUiLCJiYWNrQnRuIiwiYWxpZ24iLCJmb250U3R5bGUiLCJwcmV2aW91c1NjZW5lIiwic2V0Qm91bmNlIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwic2V0U2l6ZSIsInNldE9mZnNldCIsIm5pdmlhQ29udHJvbHMiLCJhZGRLZXlzIiwibGVmdCIsInJpZ2h0IiwidXAiLCJpbnRlcmFjdCIsInNvbGVubmVDb250cm9scyIsImdlbmVyYXRlRnJhbWVOYW1lcyIsInByZWZpeCIsInNldFBhdXNlZFN0YXRlIiwibmV3UGF1c2VkU3RhdGUiLCJ0b2dnbGVTZXR0aW5ncyIsInVwZGF0ZSIsImlzRG93biIsImhhbmRsZVBsYXllck1vdmVtZW50IiwiaGFuZGxlQ2FtZXJhQW5kQ29uc3RyYWludHMiLCJuaXZpYVkiLCJzb2xlbm5lWSIsImRlc2lyZWRDYW1lcmFZIiwiY2FtZXJhSGVpZ2h0Iiwic2Nyb2xsWSIsIkxpbmVhciIsIm1heFZlcnRpY2FsR2FwIiwiYWJzIiwiZmFzdGVyUGxheWVyIiwic2xvd2VyUGxheWVyIiwiYmxvY2tlZCIsImRvd24iLCJ2ZWxvY2l0eSIsInBsYXllclNwcml0ZSIsImNvbnRyb2xzIiwidGV4dHVyZSIsImlzTW92aW5nIiwiaXNHcm91bmRlZCIsImFuaW1rZXkiLCJzZXRWZWxvY2l0eVgiLCJzZXRWZWxvY2l0eVkiLCJKdXN0RG93biIsInBsYXllciIsImNyeXN0YWwiLCJjaGVja1BvcnRhbFNwYXduIiwibG9jYWxQbGF5ZXJPblBvcnRhbCIsImVuZGdhbWUiLCJjZW50ZXJZIiwiZmlsbCIsInJlc3RhcnRidG4iLCJvcmlnaW5hbFNjZW5lS2V5Iiwic2V0dGluZ3MiLCJQYXVzZVNjZW5lIiwidyIsImgiLCJiYWNrZ3JvdW5kIiwiRXhpdEJ0biIsIm9yaWdpbmFsIiwidHV0b3JpYWxidG4iLCJtZW51YnRuIiwic2NlbmVzIiwiZ2FtZSIsImtleXMiLCJUdXRvcmlhbFNjZW5lIiwiYnJpbmdUb1RvcCIsIkNyZWRpdHNTY2VuZSIsIlNldHRpbmdzU2NlbmUiLCJ2b2x1bWVCYXIxIiwidm9sdW1lQmFyMiIsInZvbHVtZUJhcjMiLCJ2b2x1bWVCYXI0Iiwidm9sdW1lQmFyNSIsInBsdXNWb2x1bWVCdG4iLCJzZXRWb2x1bWUiLCJtaW51c1ZvbHVtZUJ0biIsIkxldmVsU2VsZWN0U2NlbmUiLCJMdmxVbm9CdG4iLCJMdmxEb3NCdG4iLCJQbGFjZUhvbGRlclNjZW5lIiwiVmljdG9yeVNjZW5lIiwibmV4dExldmVsYnRuIiwiR2FtZU92ZXJTY2VuZSIsIkxldmVsMlNjZW5lIiwicG9ydGFsU3ByaXRlIiwiZGFya0Rvb3IyIiwibGlnaHREb29yMiIsImxpZ2h0RG9vcjMiLCJkYXJrRG9vcjJIaXRib3giLCJsaWdodERvb3IySGl0Ym94IiwibGlnaHREb29yM0hpdGJveCIsInNldEltbW92YWJsZSIsInNldEFsbG93R3Jhdml0eSIsInNldEFuZ2xlIiwiZG9vcnMiLCJoaXRib3giLCJkYW1hZ2VHcm91cCIsInN0YXRpY0dyb3VwIiwiZGFtYWdlMSIsImRhbWFnZTIiLCJkYW1hZ2UzIiwiZGFtYWdlNCIsInNldERhdGEiLCJtb29uQ3J5c3RhbDIiLCJzdW5DcnlzdGFsMiIsIm9uRGFtYWdlIiwidW5sb2NrRG9vciIsImdldERhdGEiLCJkb29yS2V5IiwiZG9vciIsInBvcnRhbCIsIkNvbm5lY3Rpb25Mb3N0U2NlbmUiLCJyZWNvbm5lY3RDaGVja1RpbWVyIiwiaXNDaGVja2luZyIsInN0YXR1c1RleHQiLCJhdHRlbXB0Q291bnQiLCJhdHRlbXB0VGV4dCIsImRvdENvdW50IiwiYWRkRXZlbnQiLCJkZWxheSIsImRvdHMiLCJvblJlY29ubmVjdGVkIiwiYXR0ZW1wdFJlY29ubmVjdCIsImNhbGxiYWNrU2NvcGUiLCJyZW1vdmUiLCJnYW1lU2NlbmUiLCJHYW1lTW9kZVNjZW5lIiwib25saW5lQnRuIiwiTG9iYnlTY2VuZSIsInBsYXllckNvdW50VGV4dCIsImxvYWRpbmdEb3RzIiwibGVuZ3RoIiwiaW5jbHVkZXMiLCJjYW5jZWxCdXR0b24iLCJjb25uZWN0VG9TZXJ2ZXIiLCJxdWV1ZVN0YXR1c0hhbmRsZXIiLCJoYW5kbGVRdWV1ZVN0YXR1cyIsImdhbWVTdGFydEhhbmRsZXIiLCJoYW5kbGVHYW1lU3RhcnQiLCJjb25uZWN0aW9uTG9zdEhhbmRsZXIiLCJoYW5kbGVDb25uZWN0aW9uTG9zdCIsInJldHJ5QnV0dG9uIiwicG9zaXRpb24iLCJSYW5raW5nU2NlbmUiLCJmZXRjaFJhbmtpbmciLCJ5UG9zIiwiYmVzdFRpbWUiLCJHYW1lTG9jYWxTY2VuZSIsIkxldmVsMlNjZW5lTG9jYWwiLCJjb25maWciLCJwYXJlbnQiLCJjcmVhdGVDb250YWluZXIiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZGVidWciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==